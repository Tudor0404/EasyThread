{"version":3,"file":"static/js/main.f6a8cff5.js","mappings":"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G,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,IAAI,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,IAAI,GAAG,IAAI,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,IAAI,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,IAAI,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,IAAI,GAAG,IAAI,EAAE,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,KAAK,GAAG,GAAG,KAAK,KAAK,IAAI,KAAK,IAAI,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,GAAG,IAAI,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,KAAK,EAAE,KAAK,GAAG,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,GAAG,EAAE,GAAG,EAAE,EAAE,IAAI,KAAK,IAAI,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,KAAK,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,KAAK,GAAG,IAAI,GAAG,GAAG,EAAE,GAAG,EAAE,IAAI,GAAG,GAAG,GAAG,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,GAAG,GAAG,EAAE,EAAE,KAAK,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,KAAK,MAAM,GAAG,KAAK,EAAE,IAAI,EAAE,KAAK,GAAG,KAAK,KAAK,IAAI,KAAK,MAG55CC,EAAwB,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,GAAG,GAAG,EAAE,IAAI,EAAE,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE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","sources":["../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","../node_modules/@babel/runtime/regenerator/index.js","../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/@popperjs/core/lib/dom-utils/getWindow.js","../node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","../node_modules/@popperjs/core/lib/utils/math.js","../node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","../node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","../node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","../node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","../node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","../node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","../node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","../node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","../node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","../node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","../node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","../node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","../node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","../node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","../node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","../node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","../node_modules/@popperjs/core/lib/enums.js","../node_modules/@popperjs/core/lib/utils/orderModifiers.js","../node_modules/@popperjs/core/lib/utils/debounce.js","../node_modules/@popperjs/core/lib/createPopper.js","../node_modules/@popperjs/core/lib/utils/mergeByName.js","../node_modules/@popperjs/core/lib/modifiers/eventListeners.js","../node_modules/@popperjs/core/lib/utils/getBasePlacement.js","../node_modules/@popperjs/core/lib/utils/getVariation.js","../node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","../node_modules/@popperjs/core/lib/utils/computeOffsets.js","../node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","../node_modules/@popperjs/core/lib/modifiers/computeStyles.js","../node_modules/@popperjs/core/lib/modifiers/applyStyles.js","../node_modules/@popperjs/core/lib/modifiers/offset.js","../node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","../node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","../node_modules/@popperjs/core/lib/dom-utils/contains.js","../node_modules/@popperjs/core/lib/utils/rectToClientRect.js","../node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","../node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","../node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","../node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","../node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","../node_modules/@popperjs/core/lib/utils/expandToHashMap.js","../node_modules/@popperjs/core/lib/utils/detectOverflow.js","../node_modules/@popperjs/core/lib/modifiers/flip.js","../node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","../node_modules/@popperjs/core/lib/utils/within.js","../node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","../node_modules/@popperjs/core/lib/utils/getAltAxis.js","../node_modules/@popperjs/core/lib/modifiers/arrow.js","../node_modules/@popperjs/core/lib/modifiers/hide.js","../node_modules/@popperjs/core/lib/popper.js","../node_modules/react-popper/lib/esm/utils.js","../node_modules/react-popper/lib/esm/usePopper.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/tooltip/Tooltip.tsx","components/button/Button.tsx","../node_modules/@heroicons/react/outline/esm/ArrowLeftIcon.js","../node_modules/@heroicons/react/outline/esm/ArrowRightIcon.js","../node_modules/@heroicons/react/outline/esm/ArrowsExpandIcon.js","../node_modules/@heroicons/react/outline/esm/ChevronLeftIcon.js","../node_modules/@heroicons/react/outline/esm/ChevronRightIcon.js","../node_modules/@heroicons/react/outline/esm/CogIcon.js","../node_modules/@heroicons/react/outline/esm/CubeTransparentIcon.js","../node_modules/@heroicons/react/outline/esm/DocumentAddIcon.js","../node_modules/@heroicons/react/outline/esm/DocumentDownloadIcon.js","../node_modules/@heroicons/react/outline/esm/ZoomInIcon.js","../node_modules/@heroicons/react/outline/esm/ZoomOutIcon.js","../node_modules/@headlessui/react/src/utils/render.ts","../node_modules/@headlessui/react/src/components/keyboard.ts","components/input/TextInput.tsx","components/seperator/Seperator.tsx","../node_modules/@headlessui/react/src/utils/match.ts","../node_modules/@headlessui/react/src/hooks/use-sync-refs.ts","../node_modules/@headlessui/react/src/utils/bugs.ts","../node_modules/@headlessui/react/src/hooks/use-iso-morphic-effect.ts","../node_modules/@headlessui/react/src/hooks/use-server-handoff-complete.ts","../node_modules/@headlessui/react/src/hooks/use-id.ts","../node_modules/@headlessui/react/src/components/description/description.tsx","../node_modules/@headlessui/react/src/hooks/use-resolve-button-type.ts","../node_modules/@headlessui/react/src/components/label/label.tsx","../node_modules/@headlessui/react/src/components/switch/switch.tsx","components/input/Switch.tsx","../node_modules/@headlessui/react/src/utils/focus-management.ts","../node_modules/@headlessui/react/src/hooks/use-window-event.ts","../node_modules/@headlessui/react/src/internal/open-closed.tsx","../node_modules/@headlessui/react/src/utils/calculate-active-index.ts","../node_modules/@headlessui/react/src/components/menu/menu.tsx","../node_modules/@headlessui/react/src/utils/disposables.ts","../node_modules/@headlessui/react/src/hooks/use-disposables.ts","../node_modules/@headlessui/react/src/components/transitions/utils/transition.ts","../node_modules/@headlessui/react/src/hooks/use-tree-walker.ts","../node_modules/@headlessui/react/src/hooks/use-is-mounted.ts","../node_modules/@headlessui/react/src/utils/once.ts","../node_modules/@headlessui/react/src/components/transitions/transition.tsx","../node_modules/@headlessui/react/src/hooks/use-is-initial-render.ts","components/dropdown/Dropdown.tsx","components/input/NumberInput.tsx","components/toolbar/OptionsDropdown.tsx","components/dropdown/DropdownItem.tsx","lib/eventBus.ts","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","lib/canvas/UndoRedoTool.ts","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","lib/svg/copyStyling.ts","lib/svg/getLeafItems.ts","lib/svg/itemToPathItem.ts","lib/svg/removeOverlap.ts","../node_modules/@headlessui/react/src/hooks/use-focus-trap.ts","../node_modules/@headlessui/react/src/hooks/use-inert-others.ts","../node_modules/@headlessui/react/src/internal/portal-force-root.tsx","../node_modules/@headlessui/react/src/components/portal/portal.tsx","../node_modules/@headlessui/react/src/internal/stack-context.tsx","../node_modules/@headlessui/react/src/components/dialog/dialog.tsx","components/modal/Modal.tsx","components/toolbar/Toolbar.tsx","../node_modules/use-resize-observer/dist/bundle.esm.js","components/sidebar/ColourBox.tsx","lib/svg/normaliseColours.ts","components/sidebar/Sidebar.tsx","../node_modules/@daybrush/utils/src/consts.ts","../node_modules/@daybrush/utils/src/utils.ts","../node_modules/@scena/react-ruler/src/react-ruler/Ruler.tsx","../node_modules/framework-utils/src/index.ts","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","lib/stitch/Block.ts","types/embroideryTypes.d.ts","lib/stitch/convert/runningPath.ts","lib/stitch/convert/straightSubdivision.ts","lib/stitch/convert/satinPath.ts","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","lib/stitch/convert/rowGutter.ts","lib/stitch/Graph.ts","lib/stitch/convert/fillPath.ts","lib/stitch/Container.ts","components/canvas/Canvas.tsx","App.tsx","reportWebVitals.ts","index.tsx","../node_modules/acorn/dist/acorn.js","../node_modules/element-to-path/dist/element-to-path.umd.js","../node_modules/file-saver/src/FileSaver.js","../node_modules/object-assign/index.js","../node_modules/paper/dist/paper-core.js","../node_modules/paper/dist/paper-full.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/react-dom/index.js","../node_modules/react-fast-compare/index.js","../../src/common.ts","../../src/index.ts","../../src/reducer.ts","../../src/state.ts","../node_modules/react-usestateref/dist/index.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/cjs/react.production.min.js","../node_modules/react/index.js","../node_modules/react/jsx-runtime.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/scheduler/index.js","../node_modules/svgson/dist/svgson.umd.js","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/global","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/load script","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/jsonp chunk loading","../webpack/startup"],"sourcesContent":["function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","module.exports = require(\"regenerator-runtime\");\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}","import getWindow from \"./getWindow.js\";\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };","export var max = Math.max;\nexport var min = Math.min;\nexport var round = Math.round;","import { isHTMLElement } from \"./instanceOf.js\";\nimport { round } from \"../utils/math.js\";\nexport default function getBoundingClientRect(element, includeScale) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  var rect = element.getBoundingClientRect();\n  var scaleX = 1;\n  var scaleY = 1;\n\n  if (isHTMLElement(element) && includeScale) {\n    var offsetHeight = element.offsetHeight;\n    var offsetWidth = element.offsetWidth; // Do not attempt to divide by 0, otherwise we get `Infinity` as scale\n    // Fallback to 1 in case both values are `0`\n\n    if (offsetWidth > 0) {\n      scaleX = round(rect.width) / offsetWidth || 1;\n    }\n\n    if (offsetHeight > 0) {\n      scaleY = round(rect.height) / offsetHeight || 1;\n    }\n  }\n\n  return {\n    width: rect.width / scaleX,\n    height: rect.height / scaleY,\n    top: rect.top / scaleY,\n    right: rect.right / scaleX,\n    bottom: rect.bottom / scaleY,\n    left: rect.left / scaleX,\n    x: rect.left / scaleX,\n    y: rect.top / scaleY\n  };\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport { round } from \"../utils/math.js\";\n\nfunction isElementScaled(element) {\n  var rect = element.getBoundingClientRect();\n  var scaleX = round(rect.width) / element.offsetWidth || 1;\n  var scaleY = round(rect.height) / element.offsetHeight || 1;\n  return scaleX !== 1 || scaleY !== 1;\n} // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nexport default function getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport { isShadowRoot } from \"./instanceOf.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') !== -1;\n  var isIE = navigator.userAgent.indexOf('Trident') !== -1;\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = getComputedStyle(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = getParentNode(element);\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport getComputedStyle from \"./dom-utils/getComputedStyle.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport validateModifiers from \"./utils/validateModifiers.js\";\nimport uniqueBy from \"./utils/uniqueBy.js\";\nimport getBasePlacement from \"./utils/getBasePlacement.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nimport { auto } from \"./enums.js\";\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(setOptionsAction) {\n        var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (process.env.NODE_ENV !== \"production\") {\n          var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) {\n            var name = _ref.name;\n            return name;\n          });\n          validateModifiers(modifiers);\n\n          if (getBasePlacement(state.options.placement) === auto) {\n            var flipModifier = state.orderedModifiers.find(function (_ref2) {\n              var name = _ref2.name;\n              return name === 'flip';\n            });\n\n            if (!flipModifier) {\n              console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', 'present and enabled to work.'].join(' '));\n            }\n          }\n\n          var _getComputedStyle = getComputedStyle(popper),\n              marginTop = _getComputedStyle.marginTop,\n              marginRight = _getComputedStyle.marginRight,\n              marginBottom = _getComputedStyle.marginBottom,\n              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can\n          // cause bugs with positioning, so we'll warn the consumer\n\n\n          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {\n            return parseFloat(margin);\n          })) {\n            console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));\n          }\n        }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update – it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(INVALID_ELEMENT_ERROR);\n          }\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (process.env.NODE_ENV !== \"production\") {\n            __debug_loops__ += 1;\n\n            if (__debug_loops__ > 100) {\n              console.error(INFINITE_LOOP_ERROR);\n              break;\n            }\n          }\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update – it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(INVALID_ELEMENT_ERROR);\n      }\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","import { top, left, right, bottom, end } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(x * dpr) / dpr || 0,\n    y: round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      variation = _ref2.variation,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets,\n      isFixed = _ref2.isFixed;\n  var _offsets$x = offsets.x,\n      x = _offsets$x === void 0 ? 0 : _offsets$x,\n      _offsets$y = offsets.y,\n      y = _offsets$y === void 0 ? 0 : _offsets$y;\n\n  var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref3.x;\n  y = _ref3.y;\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (getComputedStyle(offsetParent).position !== 'static' && position === 'absolute') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === top || (placement === left || placement === right) && variation === end) {\n      sideY = bottom;\n      var offsetY = isFixed && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]\n      offsetParent[heightProp];\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left || (placement === top || placement === bottom) && variation === end) {\n      sideX = right;\n      var offsetX = isFixed && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]\n      offsetParent[widthProp];\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref4.x;\n  y = _ref4.y;\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref5) {\n  var state = _ref5.state,\n      options = _ref5.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || '';\n\n    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {\n      return transitionProperty.indexOf(property) >= 0;\n    })) {\n      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', '\\n\\n', 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\\n\\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));\n    }\n  }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    variation: getVariation(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration,\n    isFixed: state.options.strategy === 'fixed'\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","import { isShadowRoot } from \"./instanceOf.js\";\nexport default function contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\nimport { max, min } from \"../utils/math.js\";\n\nfunction getInnerBoundingClientRect(element) {\n  var rect = getBoundingClientRect(element);\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nexport default function getViewportRect(element) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0; // NB: This isn't supported on iOS <= 12. If the keyboard is open, the popper\n  // can be obscured underneath it.\n  // Also, `html.clientHeight` adds the bottom bar height in Safari iOS, even\n  // if it isn't open, so if this isn't available, the popper will be detected\n  // to overflow the bottom of the screen too early.\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height; // Uses Layout Viewport (like Chrome; Safari does not currently)\n    // In Chrome, it returns a value very close to 0 (+/-) but contains rounding\n    // errors due to floating point numbers, so we need to check precision.\n    // Safari returns a number <= 0, usually < -1 when pinch-zoomed\n    // Feature detection fails in mobile emulation mode in Chrome.\n    // Math.abs(win.innerWidth / visualViewport.scale - visualViewport.width) <\n    // 0.001\n    // Fallback here: \"Not Safari\" userAgent\n\n    if (!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}","import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","import getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary);\n  var referenceClientRect = getBoundingClientRect(state.elements.reference);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases – research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: The `allowedAutoPlacements` option did not allow any', 'placements. Ensure the `placement` option matches the variation', 'of the allowed placements.', 'For example, \"auto\" cannot be used to allow \"bottom-start\".', 'Use \"auto-start\" instead.'].join(' '));\n    }\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","import { max as mathMax, min as mathMin } from \"./math.js\";\nexport function within(min, value, max) {\n  return mathMax(min, mathMin(value, max));\n}\nexport function withinMaxClamp(min, value, max) {\n  var v = within(min, value, max);\n  return v > max ? max : v;\n}","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport { within, withinMaxClamp } from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\nimport { min as mathMin, max as mathMax } from \"../utils/math.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {\n    mainAxis: tetherOffsetValue,\n    altAxis: tetherOffsetValue\n  } : Object.assign({\n    mainAxis: 0,\n    altAxis: 0\n  }, tetherOffsetValue);\n  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var _offsetModifierState$;\n\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = offset + overflow[mainSide];\n    var max = offset - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\n    var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = offset + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _offsetModifierState$2;\n\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _len = altAxis === 'y' ? 'height' : 'width';\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n\n    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\n\n    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\n\n    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\n\n    var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport { within } from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isHTMLElement(arrowElement)) {\n      console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', 'element.'].join(' '));\n    }\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";","import * as React from 'react';\n\n/**\n * Takes an argument and if it's an array, returns the first item in the array,\n * otherwise returns the argument. Used for Preact compatibility.\n */\nexport var unwrapArray = function unwrapArray(arg) {\n  return Array.isArray(arg) ? arg[0] : arg;\n};\n/**\n * Takes a maybe-undefined function and arbitrary args and invokes the function\n * only if it is defined.\n */\n\nexport var safeInvoke = function safeInvoke(fn) {\n  if (typeof fn === 'function') {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return fn.apply(void 0, args);\n  }\n};\n/**\n * Sets a ref using either a ref callback or a ref object\n */\n\nexport var setRef = function setRef(ref, node) {\n  // if its a function call it\n  if (typeof ref === 'function') {\n    return safeInvoke(ref, node);\n  } // otherwise we should treat it as a ref object\n  else if (ref != null) {\n      ref.current = node;\n    }\n};\n/**\n * Simple ponyfill for Object.fromEntries\n */\n\nexport var fromEntries = function fromEntries(entries) {\n  return entries.reduce(function (acc, _ref) {\n    var key = _ref[0],\n        value = _ref[1];\n    acc[key] = value;\n    return acc;\n  }, {});\n};\n/**\n * Small wrapper around `useLayoutEffect` to get rid of the warning on SSR envs\n */\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' && window.document && window.document.createElement ? React.useLayoutEffect : React.useEffect;","import * as React from 'react';\nimport { createPopper as defaultCreatePopper } from '@popperjs/core';\nimport isEqual from 'react-fast-compare';\nimport { fromEntries, useIsomorphicLayoutEffect } from './utils';\nvar EMPTY_MODIFIERS = [];\nexport var usePopper = function usePopper(referenceElement, popperElement, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var prevOptions = React.useRef(null);\n  var optionsWithDefaults = {\n    onFirstUpdate: options.onFirstUpdate,\n    placement: options.placement || 'bottom',\n    strategy: options.strategy || 'absolute',\n    modifiers: options.modifiers || EMPTY_MODIFIERS\n  };\n\n  var _React$useState = React.useState({\n    styles: {\n      popper: {\n        position: optionsWithDefaults.strategy,\n        left: '0',\n        top: '0'\n      },\n      arrow: {\n        position: 'absolute'\n      }\n    },\n    attributes: {}\n  }),\n      state = _React$useState[0],\n      setState = _React$useState[1];\n\n  var updateStateModifier = React.useMemo(function () {\n    return {\n      name: 'updateState',\n      enabled: true,\n      phase: 'write',\n      fn: function fn(_ref) {\n        var state = _ref.state;\n        var elements = Object.keys(state.elements);\n        setState({\n          styles: fromEntries(elements.map(function (element) {\n            return [element, state.styles[element] || {}];\n          })),\n          attributes: fromEntries(elements.map(function (element) {\n            return [element, state.attributes[element]];\n          }))\n        });\n      },\n      requires: ['computeStyles']\n    };\n  }, []);\n  var popperOptions = React.useMemo(function () {\n    var newOptions = {\n      onFirstUpdate: optionsWithDefaults.onFirstUpdate,\n      placement: optionsWithDefaults.placement,\n      strategy: optionsWithDefaults.strategy,\n      modifiers: [].concat(optionsWithDefaults.modifiers, [updateStateModifier, {\n        name: 'applyStyles',\n        enabled: false\n      }])\n    };\n\n    if (isEqual(prevOptions.current, newOptions)) {\n      return prevOptions.current || newOptions;\n    } else {\n      prevOptions.current = newOptions;\n      return newOptions;\n    }\n  }, [optionsWithDefaults.onFirstUpdate, optionsWithDefaults.placement, optionsWithDefaults.strategy, optionsWithDefaults.modifiers, updateStateModifier]);\n  var popperInstanceRef = React.useRef();\n  useIsomorphicLayoutEffect(function () {\n    if (popperInstanceRef.current) {\n      popperInstanceRef.current.setOptions(popperOptions);\n    }\n  }, [popperOptions]);\n  useIsomorphicLayoutEffect(function () {\n    if (referenceElement == null || popperElement == null) {\n      return;\n    }\n\n    var createPopper = options.createPopper || defaultCreatePopper;\n    var popperInstance = createPopper(referenceElement, popperElement, popperOptions);\n    popperInstanceRef.current = popperInstance;\n    return function () {\n      popperInstance.destroy();\n      popperInstanceRef.current = null;\n    };\n  }, [referenceElement, popperElement, options.createPopper]);\n  return {\n    state: popperInstanceRef.current ? popperInstanceRef.current.state : null,\n    styles: state.styles,\n    attributes: state.attributes,\n    update: popperInstanceRef.current ? popperInstanceRef.current.update : null,\n    forceUpdate: popperInstanceRef.current ? popperInstanceRef.current.forceUpdate : null\n  };\n};","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","import React, { useEffect, useState } from \"react\";\r\n\r\ninterface Props {\r\n\tisHover: boolean;\r\n\tsetHover: React.Dispatch<React.SetStateAction<boolean>>;\r\n\thoverRef: any;\r\n\tlabel: string;\r\n\tsetPopperElement: React.Dispatch<React.SetStateAction<null>>;\r\n\tpopperAttributes:\r\n\t\t| {\r\n\t\t\t\t[key: string]: string;\r\n\t\t  }\r\n\t\t| undefined;\r\n\tpopperStyles: React.CSSProperties;\r\n}\r\n\r\nconst Tooltip: React.FC<Props> = (props) => {\r\n\tconst [isShown, setShown] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetShown(false);\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (props.hoverRef.current) setShown(true);\r\n\t\t\telse setShown(false);\r\n\t\t}, 1000);\r\n\t}, [props.isHover]);\r\n\r\n\treturn isShown ? (\r\n\t\t<div\r\n\t\t\tclassName=\"mt-2 rounded-md bg-gray-600 p-1 text-sm text-white\"\r\n\t\t\t/*@ts-ignore*/\r\n\t\t\tref={props.setPopperElement}\r\n\t\t\tstyle={props.popperStyles}\r\n\t\t\t{...props.popperAttributes}\r\n\t\t>\r\n\t\t\t{props.label}\r\n\t\t</div>\r\n\t) : null;\r\n};\r\n\r\nexport default Tooltip;\r\n","import React from \"react\";\r\nimport { usePopper } from \"react-popper\";\r\nimport useState from \"react-usestateref\";\r\nimport Tooltip from \"../tooltip/Tooltip\";\r\n\r\ninterface Props {\r\n\tchildren?: any;\r\n\tonClick?: any;\r\n\tfilled?: boolean;\r\n\tclassName?: string;\r\n\ttoggled?: boolean;\r\n\ttooltip?: string;\r\n\tdisabled?: boolean;\r\n}\r\n\r\nconst Button: React.FC<Props> = (props) => {\r\n\tconst [referenceElement, setReferenceElement] = useState(null);\r\n\tconst [popperElement, setPopperElement] = useState(null);\r\n\tconst [isHover, setHover, hoverRef] = useState<boolean>(false);\r\n\tconst { styles, attributes } = usePopper(referenceElement, popperElement);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<button\r\n\t\t\t\tonClick={props.onClick}\r\n\t\t\t\t//@ts-ignore\r\n\t\t\t\tref={setReferenceElement}\r\n\t\t\t\tdisabled={props.disabled}\r\n\t\t\t\tclassName={`\r\n\t\t\t${\r\n\t\t\t\tprops.filled\r\n\t\t\t\t\t? `bg-primary mx-2 bg-opacity-100 py-1 text-white hover:bg-opacity-90 ${\r\n\t\t\t\t\t\t\tprops.toggled ? \"bg-opacity-90\" : \"\"\r\n\t\t\t\t\t  }`\r\n\t\t\t\t\t: `bg-black bg-opacity-0 text-black hover:bg-opacity-10 ${\r\n\t\t\t\t\t\t\tprops.toggled ? \"bg-opacity-10\" : \"\"\r\n\t\t\t\t\t  }`\r\n\t\t\t}\r\n\t\t\trounded-md\r\n\t\t\tpx-1.5\r\n\t\t\ttext-center\r\n\t\t\ttransition-all\r\n\t\t\tduration-200\r\n\t\t\tease-in-out disabled:!bg-opacity-0 \r\n\t\t\tdisabled:!stroke-gray-400\r\n\t\t\tdisabled:text-gray-600\r\n\t\t\tdisabled:hover:!bg-opacity-0\r\n\t\t\t${props.className}\r\n\t\t`}\r\n\t\t\t\tonMouseEnter={() => {\r\n\t\t\t\t\tsetHover(true);\r\n\t\t\t\t}}\r\n\t\t\t\tonMouseLeave={() => {\r\n\t\t\t\t\tsetHover(false);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<p className=\"m-0 p-0\">{props.children}</p>\r\n\t\t\t</button>\r\n\t\t\t{props.tooltip && (\r\n\t\t\t\t<Tooltip\r\n\t\t\t\t\tisHover={isHover}\r\n\t\t\t\t\thoverRef={hoverRef}\r\n\t\t\t\t\tlabel={props.tooltip}\r\n\t\t\t\t\tpopperAttributes={attributes.popper}\r\n\t\t\t\t\tpopperStyles={styles.popper}\r\n\t\t\t\t\tsetHover={setHover}\r\n\t\t\t\t\tsetPopperElement={setPopperElement}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Button;\r\n","import * as React from \"react\";\n\nfunction ArrowLeftIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M10 19l-7-7m0 0l7-7m-7 7h18\"\n  }));\n}\n\nexport default ArrowLeftIcon;","import * as React from \"react\";\n\nfunction ArrowRightIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M14 5l7 7m0 0l-7 7m7-7H3\"\n  }));\n}\n\nexport default ArrowRightIcon;","import * as React from \"react\";\n\nfunction ArrowsExpandIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4\"\n  }));\n}\n\nexport default ArrowsExpandIcon;","import * as React from \"react\";\n\nfunction ChevronLeftIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M15 19l-7-7 7-7\"\n  }));\n}\n\nexport default ChevronLeftIcon;","import * as React from \"react\";\n\nfunction ChevronRightIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M9 5l7 7-7 7\"\n  }));\n}\n\nexport default ChevronRightIcon;","import * as React from \"react\";\n\nfunction CogIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n  }));\n}\n\nexport default CogIcon;","import * as React from \"react\";\n\nfunction CubeTransparentIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2-1M4 7l2 1M4 7v2.5M12 21l-2-1m2 1l2-1m-2 1v-2.5M6 18l-2-1v-2.5M18 18l2-1v-2.5\"\n  }));\n}\n\nexport default CubeTransparentIcon;","import * as React from \"react\";\n\nfunction DocumentAddIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n  }));\n}\n\nexport default DocumentAddIcon;","import * as React from \"react\";\n\nfunction DocumentDownloadIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n  }));\n}\n\nexport default DocumentDownloadIcon;","import * as React from \"react\";\n\nfunction ZoomInIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7\"\n  }));\n}\n\nexport default ZoomInIcon;","import * as React from \"react\";\n\nfunction ZoomOutIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7\"\n  }));\n}\n\nexport default ZoomOutIcon;","import {\n  Fragment,\n  cloneElement,\n  createElement,\n  forwardRef,\n  isValidElement,\n\n  // Types\n  ElementType,\n  ReactElement,\n} from 'react'\nimport { Props, XOR, __, Expand } from '../types'\nimport { match } from './match'\n\nexport enum Features {\n  /** No features at all */\n  None = 0,\n\n  /**\n   * When used, this will allow us to use one of the render strategies.\n   *\n   * **The render strategies are:**\n   *    - **Unmount**   _(Will unmount the component.)_\n   *    - **Hidden**    _(Will hide the component using the [hidden] attribute.)_\n   */\n  RenderStrategy = 1,\n\n  /**\n   * When used, this will allow the user of our component to be in control. This can be used when\n   * you want to transition based on some state.\n   */\n  Static = 2,\n}\n\nexport enum RenderStrategy {\n  Unmount,\n  Hidden,\n}\n\ntype PropsForFeature<TPassedInFeatures extends Features, TForFeature extends Features, TProps> = {\n  [P in TPassedInFeatures]: P extends TForFeature ? TProps : __\n}[TPassedInFeatures]\n\nexport type PropsForFeatures<T extends Features> = XOR<\n  PropsForFeature<T, Features.Static, { static?: boolean }>,\n  PropsForFeature<T, Features.RenderStrategy, { unmount?: boolean }>\n>\n\nexport function render<TFeature extends Features, TTag extends ElementType, TSlot>({\n  props,\n  slot,\n  defaultTag,\n  features,\n  visible = true,\n  name,\n}: {\n  props: Expand<Props<TTag, TSlot, any> & PropsForFeatures<TFeature>>\n  slot?: TSlot\n  defaultTag: ElementType\n  features?: TFeature\n  visible?: boolean\n  name: string\n}) {\n  // Visible always render\n  if (visible) return _render(props, slot, defaultTag, name)\n\n  let featureFlags = features ?? Features.None\n\n  if (featureFlags & Features.Static) {\n    let { static: isStatic = false, ...rest } = props as PropsForFeatures<Features.Static>\n\n    // When the `static` prop is passed as `true`, then the user is in control, thus we don't care about anything else\n    if (isStatic) return _render(rest, slot, defaultTag, name)\n  }\n\n  if (featureFlags & Features.RenderStrategy) {\n    let { unmount = true, ...rest } = props as PropsForFeatures<Features.RenderStrategy>\n    let strategy = unmount ? RenderStrategy.Unmount : RenderStrategy.Hidden\n\n    return match(strategy, {\n      [RenderStrategy.Unmount]() {\n        return null\n      },\n      [RenderStrategy.Hidden]() {\n        return _render(\n          { ...rest, ...{ hidden: true, style: { display: 'none' } } },\n          slot,\n          defaultTag,\n          name\n        )\n      },\n    })\n  }\n\n  // No features enabled, just render\n  return _render(props, slot, defaultTag, name)\n}\n\nfunction _render<TTag extends ElementType, TSlot>(\n  props: Props<TTag, TSlot> & { ref?: unknown },\n  slot: TSlot = {} as TSlot,\n  tag: ElementType,\n  name: string\n) {\n  let { as: Component = tag, children, refName = 'ref', ...passThroughProps } = omit(props, [\n    'unmount',\n    'static',\n  ])\n\n  // This allows us to use `<HeadlessUIComponent as={MyComponent} refName=\"innerRef\" />`\n  let refRelatedProps = props.ref !== undefined ? { [refName]: props.ref } : {}\n\n  let resolvedChildren = (typeof children === 'function' ? children(slot) : children) as\n    | ReactElement\n    | ReactElement[]\n\n  // Allow for className to be a function with the slot as the contents\n  if (passThroughProps.className && typeof passThroughProps.className === 'function') {\n    ;(passThroughProps as any).className = passThroughProps.className(slot)\n  }\n\n  if (Component === Fragment) {\n    if (Object.keys(passThroughProps).length > 0) {\n      if (\n        !isValidElement(resolvedChildren) ||\n        (Array.isArray(resolvedChildren) && resolvedChildren.length > 1)\n      ) {\n        throw new Error(\n          [\n            'Passing props on \"Fragment\"!',\n            '',\n            `The current component <${name} /> is rendering a \"Fragment\".`,\n            `However we need to passthrough the following props:`,\n            Object.keys(passThroughProps)\n              .map(line => `  - ${line}`)\n              .join('\\n'),\n            '',\n            'You can apply a few solutions:',\n            [\n              'Add an `as=\"...\"` prop, to ensure that we render an actual element instead of a \"Fragment\".',\n              'Render a single element as the child so that we can forward the props onto that element.',\n            ]\n              .map(line => `  - ${line}`)\n              .join('\\n'),\n          ].join('\\n')\n        )\n      }\n\n      return cloneElement(\n        resolvedChildren,\n        Object.assign(\n          {},\n          // Filter out undefined values so that they don't override the existing values\n          mergeEventFunctions(compact(omit(passThroughProps, ['ref'])), resolvedChildren.props, [\n            'onClick',\n          ]),\n          refRelatedProps\n        )\n      )\n    }\n  }\n\n  return createElement(\n    Component,\n    Object.assign({}, omit(passThroughProps, ['ref']), Component !== Fragment && refRelatedProps),\n    resolvedChildren\n  )\n}\n\n/**\n * We can use this function for the following useCase:\n *\n * <Menu.Item> <button onClick={console.log} /> </Menu.Item>\n *\n * Our `Menu.Item` will have an internal `onClick`, if you passthrough an `onClick` to the actual\n * `Menu.Item` component we will call it correctly. However, when we have an `onClick` on the actual\n * first child, that one should _also_ be called (but before this implementation, it was just\n * overriding the `onClick`). But it is only when we *render* that we have access to the existing\n * props of this component.\n *\n * It's a bit hacky, and not that clean, but it is something internal and we have tests to rely on\n * so that we can refactor this later (if needed).\n */\nfunction mergeEventFunctions(\n  passThroughProps: Record<string, any>,\n  existingProps: Record<string, any>,\n  functionsToMerge: string[]\n) {\n  let clone = Object.assign({}, passThroughProps)\n  for (let func of functionsToMerge) {\n    if (passThroughProps[func] !== undefined && existingProps[func] !== undefined) {\n      Object.assign(clone, {\n        [func](event: { defaultPrevented: boolean }) {\n          // Props we control\n          if (!event.defaultPrevented) passThroughProps[func](event)\n\n          // Existing props on the component\n          if (!event.defaultPrevented) existingProps[func](event)\n        },\n      })\n    }\n  }\n\n  return clone\n}\n\n/**\n * This is a hack, but basically we want to keep the full 'API' of the component, but we do want to\n * wrap it in a forwardRef so that we _can_ passthrough the ref\n */\nexport function forwardRefWithAs<T extends { name: string; displayName?: string }>(\n  component: T\n): T & { displayName: string } {\n  return Object.assign(forwardRef((component as unknown) as any) as any, {\n    displayName: component.displayName ?? component.name,\n  })\n}\n\nfunction compact<T extends Record<any, any>>(object: T) {\n  let clone = Object.assign({}, object)\n  for (let key in clone) {\n    if (clone[key] === undefined) delete clone[key]\n  }\n  return clone\n}\n\nfunction omit<T extends Record<any, any>>(object: T, keysToOmit: string[] = []) {\n  let clone = Object.assign({}, object)\n  for (let key of keysToOmit) {\n    if (key in clone) delete clone[key]\n  }\n  return clone\n}\n","// TODO: This must already exist somewhere, right? 🤔\n// Ref: https://www.w3.org/TR/uievents-key/#named-key-attribute-values\nexport enum Keys {\n  Space = ' ',\n  Enter = 'Enter',\n  Escape = 'Escape',\n  Backspace = 'Backspace',\n\n  ArrowLeft = 'ArrowLeft',\n  ArrowUp = 'ArrowUp',\n  ArrowRight = 'ArrowRight',\n  ArrowDown = 'ArrowDown',\n\n  Home = 'Home',\n  End = 'End',\n\n  PageUp = 'PageUp',\n  PageDown = 'PageDown',\n\n  Tab = 'Tab',\n}\n","import React, { useState } from \"react\";\r\n\r\ninterface Props {\r\n\tvalue: string;\r\n\tsetValue: React.Dispatch<React.SetStateAction<string>>;\r\n\tplaceholder?: string;\r\n\tclassName?: string;\r\n\tdisabled?: boolean;\r\n\ttype?: string;\r\n}\r\n\r\nconst TextInput: React.FC<Props> = (props) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<input\r\n\t\t\t\tdisabled={props.disabled}\r\n\t\t\t\tvalue={props.value}\r\n\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\tprops.setValue(e.target.value);\r\n\t\t\t\t}}\r\n\t\t\t\tplaceholder={props.placeholder}\r\n\t\t\t\tclassName={` focus:border-b-primary box-border w-auto border-b-2 border-slate-300 border-opacity-0 p-1 pb-0 outline-none transition-all duration-200 hover:border-opacity-100 focus:border-opacity-100 focus:outline-none disabled:bg-slate-200 disabled:text-slate-400 ${props.className}`}\r\n\t\t\t\ttype={props.type}\r\n\t\t\t></input>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TextInput;\r\n","import React from \"react\";\r\n\r\nconst Seperator: React.FC = () => {\r\n\treturn (\r\n\t\t<div className=\"mx-1 inline-block h-[20px] border-l-[1px] border-gray-400 p-0\"></div>\r\n\t);\r\n};\r\n\r\nexport default Seperator;\r\n","export function match<TValue extends string | number = string, TReturnValue = unknown>(\n  value: TValue,\n  lookup: Record<TValue, TReturnValue | ((...args: any[]) => TReturnValue)>,\n  ...args: any[]\n): TReturnValue {\n  if (value in lookup) {\n    let returnValue = lookup[value]\n    return typeof returnValue === 'function' ? returnValue(...args) : returnValue\n  }\n\n  let error = new Error(\n    `Tried to handle \"${value}\" but there is no handler defined. Only defined handlers are: ${Object.keys(\n      lookup\n    )\n      .map(key => `\"${key}\"`)\n      .join(', ')}.`\n  )\n  if (Error.captureStackTrace) Error.captureStackTrace(error, match)\n  throw error\n}\n","import { useRef, useEffect, useCallback } from 'react'\n\nexport function useSyncRefs<TType>(\n  ...refs: (React.MutableRefObject<TType | null> | ((instance: TType) => void) | null)[]\n) {\n  let cache = useRef(refs)\n\n  useEffect(() => {\n    cache.current = refs\n  }, [refs])\n\n  return useCallback(\n    (value: TType) => {\n      for (let ref of cache.current) {\n        if (ref == null) continue\n        if (typeof ref === 'function') ref(value)\n        else ref.current = value\n      }\n    },\n    [cache]\n  )\n}\n","// See: https://github.com/facebook/react/issues/7711\n// See: https://github.com/facebook/react/pull/20612\n// See: https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#concept-fe-disabled (2.)\nexport function isDisabledReactIssue7711(element: Element): boolean {\n  let parent = element.parentElement\n  let legend = null\n\n  while (parent && !(parent instanceof HTMLFieldSetElement)) {\n    if (parent instanceof HTMLLegendElement) legend = parent\n    parent = parent.parentElement\n  }\n\n  let isParentDisabled = parent?.getAttribute('disabled') === '' ?? false\n  if (isParentDisabled && isFirstLegend(legend)) return false\n\n  return isParentDisabled\n}\n\nfunction isFirstLegend(element: HTMLLegendElement | null): boolean {\n  if (!element) return false\n\n  let previous = element.previousElementSibling\n\n  while (previous !== null) {\n    if (previous instanceof HTMLLegendElement) return false\n    previous = previous.previousElementSibling\n  }\n\n  return true\n}\n","import { useLayoutEffect, useEffect } from 'react'\n\nexport const useIsoMorphicEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect\n","import { useState, useEffect } from 'react'\n\nlet state = { serverHandoffComplete: false }\n\nexport function useServerHandoffComplete() {\n  let [serverHandoffComplete, setServerHandoffComplete] = useState(state.serverHandoffComplete)\n\n  useEffect(() => {\n    if (serverHandoffComplete === true) return\n\n    setServerHandoffComplete(true)\n  }, [serverHandoffComplete])\n\n  useEffect(() => {\n    if (state.serverHandoffComplete === false) state.serverHandoffComplete = true\n  }, [])\n\n  return serverHandoffComplete\n}\n","import { useState } from 'react'\nimport { useIsoMorphicEffect } from './use-iso-morphic-effect'\nimport { useServerHandoffComplete } from './use-server-handoff-complete'\n\n// We used a \"simple\" approach first which worked for SSR and rehydration on the client. However we\n// didn't take care of the Suspense case. To fix this we used the approach the @reach-ui/auto-id\n// uses.\n//\n// Credits: https://github.com/reach/reach-ui/blob/develop/packages/auto-id/src/index.tsx\n\nlet id = 0\nfunction generateId() {\n  return ++id\n}\n\nexport function useId() {\n  let ready = useServerHandoffComplete()\n  let [id, setId] = useState(ready ? generateId : null)\n\n  useIsoMorphicEffect(() => {\n    if (id === null) setId(generateId())\n  }, [id])\n\n  return id != null ? '' + id : undefined\n}\n","import React, {\n  createContext,\n  useCallback,\n  useContext,\n  useMemo,\n  useState,\n\n  // Types\n  ElementType,\n  ReactNode,\n} from 'react'\n\nimport { Props } from '../../types'\nimport { useId } from '../../hooks/use-id'\nimport { render } from '../../utils/render'\nimport { useIsoMorphicEffect } from '../../hooks/use-iso-morphic-effect'\n\n// ---\n\ninterface SharedData {\n  slot?: {}\n  name?: string\n  props?: {}\n}\n\nlet DescriptionContext = createContext<\n  ({ register(value: string): () => void } & SharedData) | null\n>(null)\n\nfunction useDescriptionContext() {\n  let context = useContext(DescriptionContext)\n  if (context === null) {\n    let err = new Error(\n      'You used a <Description /> component, but it is not inside a relevant parent.'\n    )\n    if (Error.captureStackTrace) Error.captureStackTrace(err, useDescriptionContext)\n    throw err\n  }\n  return context\n}\n\ninterface DescriptionProviderProps extends SharedData {\n  children: ReactNode\n}\n\nexport function useDescriptions(): [\n  string | undefined,\n  (props: DescriptionProviderProps) => JSX.Element\n] {\n  let [descriptionIds, setDescriptionIds] = useState<string[]>([])\n\n  return [\n    // The actual id's as string or undefined\n    descriptionIds.length > 0 ? descriptionIds.join(' ') : undefined,\n\n    // The provider component\n    useMemo(() => {\n      return function DescriptionProvider(props: DescriptionProviderProps) {\n        let register = useCallback((value: string) => {\n          setDescriptionIds(existing => [...existing, value])\n\n          return () =>\n            setDescriptionIds(existing => {\n              let clone = existing.slice()\n              let idx = clone.indexOf(value)\n              if (idx !== -1) clone.splice(idx, 1)\n              return clone\n            })\n        }, [])\n\n        let contextBag = useMemo(\n          () => ({ register, slot: props.slot, name: props.name, props: props.props }),\n          [register, props.slot, props.name, props.props]\n        )\n\n        return (\n          <DescriptionContext.Provider value={contextBag}>\n            {props.children}\n          </DescriptionContext.Provider>\n        )\n      }\n    }, [setDescriptionIds]),\n  ]\n}\n\n// ---\n\nlet DEFAULT_DESCRIPTION_TAG = 'p' as const\ninterface DescriptionRenderPropArg {}\ntype DescriptionPropsWeControl = 'id'\n\nexport function Description<TTag extends ElementType = typeof DEFAULT_DESCRIPTION_TAG>(\n  props: Props<TTag, DescriptionRenderPropArg, DescriptionPropsWeControl>\n) {\n  let context = useDescriptionContext()\n  let id = `headlessui-description-${useId()}`\n\n  useIsoMorphicEffect(() => context.register(id), [id, context.register])\n\n  let passThroughProps = props\n  let propsWeControl = { ...context.props, id }\n\n  return render({\n    props: { ...passThroughProps, ...propsWeControl },\n    slot: context.slot || {},\n    defaultTag: DEFAULT_DESCRIPTION_TAG,\n    name: context.name || 'Description',\n  })\n}\n","import { useState, MutableRefObject } from 'react'\n\nimport { useIsoMorphicEffect } from './use-iso-morphic-effect'\n\nfunction resolveType<TTag>(props: { type?: string; as?: TTag }) {\n  if (props.type) return props.type\n\n  let tag = props.as ?? 'button'\n  if (typeof tag === 'string' && tag.toLowerCase() === 'button') return 'button'\n\n  return undefined\n}\n\nexport function useResolveButtonType<TTag>(\n  props: { type?: string; as?: TTag },\n  ref: MutableRefObject<HTMLElement | null>\n) {\n  let [type, setType] = useState(() => resolveType(props))\n\n  useIsoMorphicEffect(() => {\n    setType(resolveType(props))\n  }, [props.type, props.as])\n\n  useIsoMorphicEffect(() => {\n    if (type) return\n    if (!ref.current) return\n\n    if (ref.current instanceof HTMLButtonElement && !ref.current.hasAttribute('type')) {\n      setType('button')\n    }\n  }, [type, ref])\n\n  return type\n}\n","import React, {\n  createContext,\n  useCallback,\n  useContext,\n  useMemo,\n  useState,\n\n  // Types\n  ElementType,\n  ReactNode,\n} from 'react'\n\nimport { Props } from '../../types'\nimport { useId } from '../../hooks/use-id'\nimport { render } from '../../utils/render'\nimport { useIsoMorphicEffect } from '../../hooks/use-iso-morphic-effect'\n\n// ---\n\ninterface SharedData {\n  slot?: {}\n  name?: string\n  props?: {}\n}\n\nlet LabelContext = createContext<({ register(value: string): () => void } & SharedData) | null>(\n  null\n)\n\nfunction useLabelContext() {\n  let context = useContext(LabelContext)\n  if (context === null) {\n    let err = new Error('You used a <Label /> component, but it is not inside a relevant parent.')\n    if (Error.captureStackTrace) Error.captureStackTrace(err, useLabelContext)\n    throw err\n  }\n  return context\n}\n\ninterface LabelProviderProps extends SharedData {\n  children: ReactNode\n}\n\nexport function useLabels(): [string | undefined, (props: LabelProviderProps) => JSX.Element] {\n  let [labelIds, setLabelIds] = useState<string[]>([])\n\n  return [\n    // The actual id's as string or undefined.\n    labelIds.length > 0 ? labelIds.join(' ') : undefined,\n\n    // The provider component\n    useMemo(() => {\n      return function LabelProvider(props: LabelProviderProps) {\n        let register = useCallback((value: string) => {\n          setLabelIds(existing => [...existing, value])\n\n          return () =>\n            setLabelIds(existing => {\n              let clone = existing.slice()\n              let idx = clone.indexOf(value)\n              if (idx !== -1) clone.splice(idx, 1)\n              return clone\n            })\n        }, [])\n\n        let contextBag = useMemo(\n          () => ({ register, slot: props.slot, name: props.name, props: props.props }),\n          [register, props.slot, props.name, props.props]\n        )\n\n        return <LabelContext.Provider value={contextBag}>{props.children}</LabelContext.Provider>\n      }\n    }, [setLabelIds]),\n  ]\n}\n\n// ---\n\nlet DEFAULT_LABEL_TAG = 'label' as const\ninterface LabelRenderPropArg {}\ntype LabelPropsWeControl = 'id'\n\nexport function Label<TTag extends ElementType = typeof DEFAULT_LABEL_TAG>(\n  props: Props<TTag, LabelRenderPropArg, LabelPropsWeControl> & {\n    passive?: boolean\n  }\n) {\n  let { passive = false, ...passThroughProps } = props\n  let context = useLabelContext()\n  let id = `headlessui-label-${useId()}`\n\n  useIsoMorphicEffect(() => context.register(id), [id, context.register])\n\n  let propsWeControl = { ...context.props, id }\n\n  let allProps = { ...passThroughProps, ...propsWeControl }\n  // @ts-expect-error props are dynamic via context, some components will\n  //                  provide an onClick then we can delete it.\n  if (passive) delete allProps['onClick']\n\n  return render({\n    props: allProps,\n    slot: context.slot || {},\n    defaultTag: DEFAULT_LABEL_TAG,\n    name: context.name || 'Label',\n  })\n}\n","import React, {\n  Fragment,\n  createContext,\n  useCallback,\n  useContext,\n  useMemo,\n  useState,\n\n  // Types\n  ElementType,\n  KeyboardEvent as ReactKeyboardEvent,\n  MouseEvent as ReactMouseEvent,\n  useRef,\n} from 'react'\n\nimport { Props } from '../../types'\nimport { render } from '../../utils/render'\nimport { useId } from '../../hooks/use-id'\nimport { Keys } from '../keyboard'\nimport { isDisabledReactIssue7711 } from '../../utils/bugs'\nimport { Label, useLabels } from '../label/label'\nimport { Description, useDescriptions } from '../description/description'\nimport { useResolveButtonType } from '../../hooks/use-resolve-button-type'\nimport { useSyncRefs } from '../../hooks/use-sync-refs'\n\ninterface StateDefinition {\n  switch: HTMLButtonElement | null\n  setSwitch(element: HTMLButtonElement): void\n  labelledby: string | undefined\n  describedby: string | undefined\n}\n\nlet GroupContext = createContext<StateDefinition | null>(null)\nGroupContext.displayName = 'GroupContext'\n\n// ---\n\nlet DEFAULT_GROUP_TAG = Fragment\n\nfunction Group<TTag extends ElementType = typeof DEFAULT_GROUP_TAG>(props: Props<TTag>) {\n  let [switchElement, setSwitchElement] = useState<HTMLButtonElement | null>(null)\n  let [labelledby, LabelProvider] = useLabels()\n  let [describedby, DescriptionProvider] = useDescriptions()\n\n  let context = useMemo<StateDefinition>(\n    () => ({ switch: switchElement, setSwitch: setSwitchElement, labelledby, describedby }),\n    [switchElement, setSwitchElement, labelledby, describedby]\n  )\n\n  return (\n    <DescriptionProvider name=\"Switch.Description\">\n      <LabelProvider\n        name=\"Switch.Label\"\n        props={{\n          onClick() {\n            if (!switchElement) return\n            switchElement.click()\n            switchElement.focus({ preventScroll: true })\n          },\n        }}\n      >\n        <GroupContext.Provider value={context}>\n          {render({ props, defaultTag: DEFAULT_GROUP_TAG, name: 'Switch.Group' })}\n        </GroupContext.Provider>\n      </LabelProvider>\n    </DescriptionProvider>\n  )\n}\n\n// ---\n\nlet DEFAULT_SWITCH_TAG = 'button' as const\ninterface SwitchRenderPropArg {\n  checked: boolean\n}\ntype SwitchPropsWeControl =\n  | 'id'\n  | 'role'\n  | 'tabIndex'\n  | 'aria-checked'\n  | 'aria-labelledby'\n  | 'aria-describedby'\n  | 'onClick'\n  | 'onKeyUp'\n  | 'onKeyPress'\n\nexport function Switch<TTag extends ElementType = typeof DEFAULT_SWITCH_TAG>(\n  props: Props<TTag, SwitchRenderPropArg, SwitchPropsWeControl | 'checked' | 'onChange'> & {\n    checked: boolean\n    onChange(checked: boolean): void\n  }\n) {\n  let { checked, onChange, ...passThroughProps } = props\n  let id = `headlessui-switch-${useId()}`\n  let groupContext = useContext(GroupContext)\n  let internalSwitchRef = useRef<HTMLButtonElement | null>(null)\n  let switchRef = useSyncRefs(\n    internalSwitchRef,\n    groupContext === null ? null : groupContext.setSwitch\n  )\n\n  let toggle = useCallback(() => onChange(!checked), [onChange, checked])\n  let handleClick = useCallback(\n    (event: ReactMouseEvent) => {\n      if (isDisabledReactIssue7711(event.currentTarget)) return event.preventDefault()\n      event.preventDefault()\n      toggle()\n    },\n    [toggle]\n  )\n  let handleKeyUp = useCallback(\n    (event: ReactKeyboardEvent<HTMLElement>) => {\n      if (event.key !== Keys.Tab) event.preventDefault()\n      if (event.key === Keys.Space) toggle()\n    },\n    [toggle]\n  )\n\n  // This is needed so that we can \"cancel\" the click event when we use the `Enter` key on a button.\n  let handleKeyPress = useCallback(\n    (event: ReactKeyboardEvent<HTMLElement>) => event.preventDefault(),\n    []\n  )\n\n  let slot = useMemo<SwitchRenderPropArg>(() => ({ checked }), [checked])\n  let propsWeControl = {\n    id,\n    ref: switchRef,\n    role: 'switch',\n    type: useResolveButtonType(props, internalSwitchRef),\n    tabIndex: 0,\n    'aria-checked': checked,\n    'aria-labelledby': groupContext?.labelledby,\n    'aria-describedby': groupContext?.describedby,\n    onClick: handleClick,\n    onKeyUp: handleKeyUp,\n    onKeyPress: handleKeyPress,\n  }\n\n  return render({\n    props: { ...passThroughProps, ...propsWeControl },\n    slot,\n    defaultTag: DEFAULT_SWITCH_TAG,\n    name: 'Switch',\n  })\n}\n\n// ---\n\nSwitch.Group = Group\nSwitch.Label = Label\nSwitch.Description = Description\n","import React from \"react\";\r\nimport { Switch as HeadlessSwitch } from \"@headlessui/react\";\r\n\r\ninterface Props {\r\n\tactive: boolean;\r\n\tsetActive: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nconst Switch: React.FC<Props> = (props) => {\r\n\treturn (\r\n\t\t<HeadlessSwitch\r\n\t\t\tchecked={props.active}\r\n\t\t\tonChange={props.setActive}\r\n\t\t\tclassName={`${props.active ? \"bg-primary\" : \"bg-gray-400\"}\r\n          relative mx-1 inline-flex h-[18px] w-[34px] flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 `}\r\n\t\t>\r\n\t\t\t<span\r\n\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\tclassName={`${props.active ? \"translate-x-4\" : \"translate-x-0\"}\r\n            pointer-events-none inline-block h-[14px] w-[14px] transform rounded-full bg-white shadow-lg ring-0 transition duration-200 ease-in-out`}\r\n\t\t\t/>\r\n\t\t</HeadlessSwitch>\r\n\t);\r\n};\r\n\r\nexport default Switch;\r\n","import { match } from './match'\n\n// Credit:\n//  - https://stackoverflow.com/a/30753870\nlet focusableSelector = [\n  '[contentEditable=true]',\n  '[tabindex]',\n  'a[href]',\n  'area[href]',\n  'button:not([disabled])',\n  'iframe',\n  'input:not([disabled])',\n  'select:not([disabled])',\n  'textarea:not([disabled])',\n]\n  .map(\n    process.env.NODE_ENV === 'test'\n      ? // TODO: Remove this once JSDOM fixes the issue where an element that is\n        // \"hidden\" can be the document.activeElement, because this is not possible\n        // in real browsers.\n        selector => `${selector}:not([tabindex='-1']):not([style*='display: none'])`\n      : selector => `${selector}:not([tabindex='-1'])`\n  )\n  .join(',')\n\nexport enum Focus {\n  /** Focus the first non-disabled element */\n  First = 1 << 0,\n\n  /** Focus the previous non-disabled element */\n  Previous = 1 << 1,\n\n  /** Focus the next non-disabled element */\n  Next = 1 << 2,\n\n  /** Focus the last non-disabled element */\n  Last = 1 << 3,\n\n  /** Wrap tab around */\n  WrapAround = 1 << 4,\n\n  /** Prevent scrolling the focusable elements into view */\n  NoScroll = 1 << 5,\n}\n\nexport enum FocusResult {\n  /** Something went wrong while trying to focus. */\n  Error,\n\n  /** When `Focus.WrapAround` is enabled, going from position `N` to `N+1` where `N` is the last index in the array, then we overflow. */\n  Overflow,\n\n  /** Focus was successful. */\n  Success,\n\n  /** When `Focus.WrapAround` is enabled, going from position `N` to `N-1` where `N` is the first index in the array, then we underflow. */\n  Underflow,\n}\n\nenum Direction {\n  Previous = -1,\n  Next = 1,\n}\n\nexport function getFocusableElements(container: HTMLElement | null = document.body) {\n  if (container == null) return []\n  return Array.from(container.querySelectorAll<HTMLElement>(focusableSelector))\n}\n\nexport enum FocusableMode {\n  /** The element itself must be focusable. */\n  Strict,\n\n  /** The element should be inside of a focusable element. */\n  Loose,\n}\n\nexport function isFocusableElement(\n  element: HTMLElement,\n  mode: FocusableMode = FocusableMode.Strict\n) {\n  if (element === document.body) return false\n\n  return match(mode, {\n    [FocusableMode.Strict]() {\n      return element.matches(focusableSelector)\n    },\n    [FocusableMode.Loose]() {\n      let next: HTMLElement | null = element\n\n      while (next !== null) {\n        if (next.matches(focusableSelector)) return true\n        next = next.parentElement\n      }\n\n      return false\n    },\n  })\n}\n\nexport function focusElement(element: HTMLElement | null) {\n  element?.focus({ preventScroll: true })\n}\n\nexport function focusIn(container: HTMLElement | HTMLElement[], focus: Focus) {\n  let elements = Array.isArray(container)\n    ? container.slice().sort((a, b) => {\n        let position = a.compareDocumentPosition(b)\n\n        if (position & Node.DOCUMENT_POSITION_FOLLOWING) return -1\n        if (position & Node.DOCUMENT_POSITION_PRECEDING) return 1\n        return 0\n      })\n    : getFocusableElements(container)\n  let active = document.activeElement as HTMLElement\n\n  let direction = (() => {\n    if (focus & (Focus.First | Focus.Next)) return Direction.Next\n    if (focus & (Focus.Previous | Focus.Last)) return Direction.Previous\n\n    throw new Error('Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last')\n  })()\n\n  let startIndex = (() => {\n    if (focus & Focus.First) return 0\n    if (focus & Focus.Previous) return Math.max(0, elements.indexOf(active)) - 1\n    if (focus & Focus.Next) return Math.max(0, elements.indexOf(active)) + 1\n    if (focus & Focus.Last) return elements.length - 1\n\n    throw new Error('Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last')\n  })()\n\n  let focusOptions = focus & Focus.NoScroll ? { preventScroll: true } : {}\n\n  let offset = 0\n  let total = elements.length\n  let next = undefined\n  do {\n    // Guard against infinite loops\n    if (offset >= total || offset + total <= 0) return FocusResult.Error\n\n    let nextIdx = startIndex + offset\n\n    if (focus & Focus.WrapAround) {\n      nextIdx = (nextIdx + total) % total\n    } else {\n      if (nextIdx < 0) return FocusResult.Underflow\n      if (nextIdx >= total) return FocusResult.Overflow\n    }\n\n    next = elements[nextIdx]\n\n    // Try the focus the next element, might not work if it is \"hidden\" to the user.\n    next?.focus(focusOptions)\n\n    // Try the next one in line\n    offset += direction\n  } while (next !== document.activeElement)\n\n  // This is a little weird, but let me try and explain: There are a few scenario's\n  // in chrome for example where a focused `<a>` tag does not get the default focus\n  // styles and sometimes they do. This highly depends on whether you started by\n  // clicking or by using your keyboard. When you programmatically add focus `anchor.focus()`\n  // then the active element (document.activeElement) is this anchor, which is expected.\n  // However in that case the default focus styles are not applied *unless* you\n  // also add this tabindex.\n  if (!next.hasAttribute('tabindex')) next.setAttribute('tabindex', '0')\n\n  return FocusResult.Success\n}\n","import { useEffect, useRef } from 'react'\n\nexport function useWindowEvent<TType extends keyof WindowEventMap>(\n  type: TType,\n  listener: (this: Window, ev: WindowEventMap[TType]) => any,\n  options?: boolean | AddEventListenerOptions\n) {\n  let listenerRef = useRef(listener)\n  listenerRef.current = listener\n\n  useEffect(() => {\n    function handler(event: WindowEventMap[TType]) {\n      listenerRef.current.call(window, event)\n    }\n\n    window.addEventListener(type, handler, options)\n    return () => window.removeEventListener(type, handler, options)\n  }, [type, options])\n}\n","import React, {\n  createContext,\n  useContext,\n\n  // Types\n  ReactNode,\n  ReactElement,\n} from 'react'\n\nlet Context = createContext<State | null>(null)\nContext.displayName = 'OpenClosedContext'\n\nexport enum State {\n  Open,\n  Closed,\n}\n\nexport function useOpenClosed() {\n  return useContext(Context)\n}\n\ninterface Props {\n  value: State\n  children: ReactNode\n}\n\nexport function OpenClosedProvider({ value, children }: Props): ReactElement {\n  return <Context.Provider value={value}>{children}</Context.Provider>\n}\n","function assertNever(x: never): never {\n  throw new Error('Unexpected object: ' + x)\n}\n\nexport enum Focus {\n  /** Focus the first non-disabled item. */\n  First,\n\n  /** Focus the previous non-disabled item. */\n  Previous,\n\n  /** Focus the next non-disabled item. */\n  Next,\n\n  /** Focus the last non-disabled item. */\n  Last,\n\n  /** Focus a specific item based on the `id` of the item. */\n  Specific,\n\n  /** Focus no items at all. */\n  Nothing,\n}\n\nexport function calculateActiveIndex<TItem>(\n  action: { focus: Focus.Specific; id: string } | { focus: Exclude<Focus, Focus.Specific> },\n  resolvers: {\n    resolveItems(): TItem[]\n    resolveActiveIndex(): number | null\n    resolveId(item: TItem): string\n    resolveDisabled(item: TItem): boolean\n  }\n) {\n  let items = resolvers.resolveItems()\n  if (items.length <= 0) return null\n\n  let currentActiveIndex = resolvers.resolveActiveIndex()\n  let activeIndex = currentActiveIndex ?? -1\n\n  let nextActiveIndex = (() => {\n    switch (action.focus) {\n      case Focus.First:\n        return items.findIndex(item => !resolvers.resolveDisabled(item))\n\n      case Focus.Previous: {\n        let idx = items\n          .slice()\n          .reverse()\n          .findIndex((item, idx, all) => {\n            if (activeIndex !== -1 && all.length - idx - 1 >= activeIndex) return false\n            return !resolvers.resolveDisabled(item)\n          })\n        if (idx === -1) return idx\n        return items.length - 1 - idx\n      }\n\n      case Focus.Next:\n        return items.findIndex((item, idx) => {\n          if (idx <= activeIndex) return false\n          return !resolvers.resolveDisabled(item)\n        })\n\n      case Focus.Last: {\n        let idx = items\n          .slice()\n          .reverse()\n          .findIndex(item => !resolvers.resolveDisabled(item))\n        if (idx === -1) return idx\n        return items.length - 1 - idx\n      }\n\n      case Focus.Specific:\n        return items.findIndex(item => resolvers.resolveId(item) === action.id)\n\n      case Focus.Nothing:\n        return null\n\n      default:\n        assertNever(action)\n    }\n  })()\n\n  return nextActiveIndex === -1 ? currentActiveIndex : nextActiveIndex\n}\n","// WAI-ARIA: https://www.w3.org/TR/wai-aria-practices-1.2/#menubutton\nimport React, {\n  Fragment,\n  createContext,\n  createRef,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useReducer,\n  useRef,\n\n  // Types\n  Dispatch,\n  ElementType,\n  KeyboardEvent as ReactKeyboardEvent,\n  MouseEvent as ReactMouseEvent,\n  MutableRefObject,\n  Ref,\n} from 'react'\n\nimport { Props } from '../../types'\nimport { match } from '../../utils/match'\nimport { forwardRefWithAs, render, Features, PropsForFeatures } from '../../utils/render'\nimport { disposables } from '../../utils/disposables'\nimport { useDisposables } from '../../hooks/use-disposables'\nimport { useIsoMorphicEffect } from '../../hooks/use-iso-morphic-effect'\nimport { useSyncRefs } from '../../hooks/use-sync-refs'\nimport { useId } from '../../hooks/use-id'\nimport { Keys } from '../keyboard'\nimport { Focus, calculateActiveIndex } from '../../utils/calculate-active-index'\nimport { isDisabledReactIssue7711 } from '../../utils/bugs'\nimport { isFocusableElement, FocusableMode } from '../../utils/focus-management'\nimport { useWindowEvent } from '../../hooks/use-window-event'\nimport { useTreeWalker } from '../../hooks/use-tree-walker'\nimport { useOpenClosed, State, OpenClosedProvider } from '../../internal/open-closed'\nimport { useResolveButtonType } from '../../hooks/use-resolve-button-type'\n\nenum MenuStates {\n  Open,\n  Closed,\n}\n\ntype MenuItemDataRef = MutableRefObject<{ textValue?: string; disabled: boolean }>\n\ninterface StateDefinition {\n  menuState: MenuStates\n  buttonRef: MutableRefObject<HTMLButtonElement | null>\n  itemsRef: MutableRefObject<HTMLDivElement | null>\n  items: { id: string; dataRef: MenuItemDataRef }[]\n  searchQuery: string\n  activeItemIndex: number | null\n}\n\nenum ActionTypes {\n  OpenMenu,\n  CloseMenu,\n\n  GoToItem,\n  Search,\n  ClearSearch,\n  RegisterItem,\n  UnregisterItem,\n}\n\ntype Actions =\n  | { type: ActionTypes.CloseMenu }\n  | { type: ActionTypes.OpenMenu }\n  | { type: ActionTypes.GoToItem; focus: Focus.Specific; id: string }\n  | { type: ActionTypes.GoToItem; focus: Exclude<Focus, Focus.Specific> }\n  | { type: ActionTypes.Search; value: string }\n  | { type: ActionTypes.ClearSearch }\n  | { type: ActionTypes.RegisterItem; id: string; dataRef: MenuItemDataRef }\n  | { type: ActionTypes.UnregisterItem; id: string }\n\nlet reducers: {\n  [P in ActionTypes]: (\n    state: StateDefinition,\n    action: Extract<Actions, { type: P }>\n  ) => StateDefinition\n} = {\n  [ActionTypes.CloseMenu](state) {\n    if (state.menuState === MenuStates.Closed) return state\n    return { ...state, activeItemIndex: null, menuState: MenuStates.Closed }\n  },\n  [ActionTypes.OpenMenu](state) {\n    if (state.menuState === MenuStates.Open) return state\n    return { ...state, menuState: MenuStates.Open }\n  },\n  [ActionTypes.GoToItem]: (state, action) => {\n    let activeItemIndex = calculateActiveIndex(action, {\n      resolveItems: () => state.items,\n      resolveActiveIndex: () => state.activeItemIndex,\n      resolveId: item => item.id,\n      resolveDisabled: item => item.dataRef.current.disabled,\n    })\n\n    if (state.searchQuery === '' && state.activeItemIndex === activeItemIndex) return state\n    return { ...state, searchQuery: '', activeItemIndex }\n  },\n  [ActionTypes.Search]: (state, action) => {\n    let searchQuery = state.searchQuery + action.value.toLowerCase()\n    let match = state.items.findIndex(\n      item =>\n        item.dataRef.current.textValue?.startsWith(searchQuery) && !item.dataRef.current.disabled\n    )\n\n    if (match === -1 || match === state.activeItemIndex) return { ...state, searchQuery }\n    return { ...state, searchQuery, activeItemIndex: match }\n  },\n  [ActionTypes.ClearSearch](state) {\n    if (state.searchQuery === '') return state\n    return { ...state, searchQuery: '' }\n  },\n  [ActionTypes.RegisterItem]: (state, action) => ({\n    ...state,\n    items: [...state.items, { id: action.id, dataRef: action.dataRef }],\n  }),\n  [ActionTypes.UnregisterItem]: (state, action) => {\n    let nextItems = state.items.slice()\n    let currentActiveItem = state.activeItemIndex !== null ? nextItems[state.activeItemIndex] : null\n\n    let idx = nextItems.findIndex(a => a.id === action.id)\n\n    if (idx !== -1) nextItems.splice(idx, 1)\n\n    return {\n      ...state,\n      items: nextItems,\n      activeItemIndex: (() => {\n        if (idx === state.activeItemIndex) return null\n        if (currentActiveItem === null) return null\n\n        // If we removed the item before the actual active index, then it would be out of sync. To\n        // fix this, we will find the correct (new) index position.\n        return nextItems.indexOf(currentActiveItem)\n      })(),\n    }\n  },\n}\n\nlet MenuContext = createContext<[StateDefinition, Dispatch<Actions>] | null>(null)\nMenuContext.displayName = 'MenuContext'\n\nfunction useMenuContext(component: string) {\n  let context = useContext(MenuContext)\n  if (context === null) {\n    let err = new Error(`<${component} /> is missing a parent <${Menu.name} /> component.`)\n    if (Error.captureStackTrace) Error.captureStackTrace(err, useMenuContext)\n    throw err\n  }\n  return context\n}\n\nfunction stateReducer(state: StateDefinition, action: Actions) {\n  return match(action.type, reducers, state, action)\n}\n\n// ---\n\nlet DEFAULT_MENU_TAG = Fragment\ninterface MenuRenderPropArg {\n  open: boolean\n}\n\nexport function Menu<TTag extends ElementType = typeof DEFAULT_MENU_TAG>(\n  props: Props<TTag, MenuRenderPropArg>\n) {\n  let reducerBag = useReducer(stateReducer, {\n    menuState: MenuStates.Closed,\n    buttonRef: createRef(),\n    itemsRef: createRef(),\n    items: [],\n    searchQuery: '',\n    activeItemIndex: null,\n  } as StateDefinition)\n  let [{ menuState, itemsRef, buttonRef }, dispatch] = reducerBag\n\n  // Handle outside click\n  useWindowEvent('mousedown', event => {\n    let target = event.target as HTMLElement\n\n    if (menuState !== MenuStates.Open) return\n\n    if (buttonRef.current?.contains(target)) return\n    if (itemsRef.current?.contains(target)) return\n\n    dispatch({ type: ActionTypes.CloseMenu })\n\n    if (!isFocusableElement(target, FocusableMode.Loose)) {\n      event.preventDefault()\n      buttonRef.current?.focus()\n    }\n  })\n\n  let slot = useMemo<MenuRenderPropArg>(() => ({ open: menuState === MenuStates.Open }), [\n    menuState,\n  ])\n\n  return (\n    <MenuContext.Provider value={reducerBag}>\n      <OpenClosedProvider\n        value={match(menuState, {\n          [MenuStates.Open]: State.Open,\n          [MenuStates.Closed]: State.Closed,\n        })}\n      >\n        {render({ props, slot, defaultTag: DEFAULT_MENU_TAG, name: 'Menu' })}\n      </OpenClosedProvider>\n    </MenuContext.Provider>\n  )\n}\n\n// ---\n\nlet DEFAULT_BUTTON_TAG = 'button' as const\ninterface ButtonRenderPropArg {\n  open: boolean\n}\ntype ButtonPropsWeControl =\n  | 'id'\n  | 'type'\n  | 'aria-haspopup'\n  | 'aria-controls'\n  | 'aria-expanded'\n  | 'onKeyDown'\n  | 'onClick'\n\nlet Button = forwardRefWithAs(function Button<TTag extends ElementType = typeof DEFAULT_BUTTON_TAG>(\n  props: Props<TTag, ButtonRenderPropArg, ButtonPropsWeControl>,\n  ref: Ref<HTMLButtonElement>\n) {\n  let [state, dispatch] = useMenuContext([Menu.name, Button.name].join('.'))\n  let buttonRef = useSyncRefs(state.buttonRef, ref)\n\n  let id = `headlessui-menu-button-${useId()}`\n  let d = useDisposables()\n\n  let handleKeyDown = useCallback(\n    (event: ReactKeyboardEvent<HTMLButtonElement>) => {\n      switch (event.key) {\n        // Ref: https://www.w3.org/TR/wai-aria-practices-1.2/#keyboard-interaction-13\n\n        case Keys.Space:\n        case Keys.Enter:\n        case Keys.ArrowDown:\n          event.preventDefault()\n          event.stopPropagation()\n          dispatch({ type: ActionTypes.OpenMenu })\n          d.nextFrame(() => dispatch({ type: ActionTypes.GoToItem, focus: Focus.First }))\n          break\n\n        case Keys.ArrowUp:\n          event.preventDefault()\n          event.stopPropagation()\n          dispatch({ type: ActionTypes.OpenMenu })\n          d.nextFrame(() => dispatch({ type: ActionTypes.GoToItem, focus: Focus.Last }))\n          break\n      }\n    },\n    [dispatch, d]\n  )\n\n  let handleKeyUp = useCallback((event: ReactKeyboardEvent<HTMLButtonElement>) => {\n    switch (event.key) {\n      case Keys.Space:\n        // Required for firefox, event.preventDefault() in handleKeyDown for\n        // the Space key doesn't cancel the handleKeyUp, which in turn\n        // triggers a *click*.\n        event.preventDefault()\n        break\n    }\n  }, [])\n\n  let handleClick = useCallback(\n    (event: ReactMouseEvent) => {\n      if (isDisabledReactIssue7711(event.currentTarget)) return event.preventDefault()\n      if (props.disabled) return\n      if (state.menuState === MenuStates.Open) {\n        dispatch({ type: ActionTypes.CloseMenu })\n        d.nextFrame(() => state.buttonRef.current?.focus({ preventScroll: true }))\n      } else {\n        event.preventDefault()\n        event.stopPropagation()\n        dispatch({ type: ActionTypes.OpenMenu })\n      }\n    },\n    [dispatch, d, state, props.disabled]\n  )\n\n  let slot = useMemo<ButtonRenderPropArg>(() => ({ open: state.menuState === MenuStates.Open }), [\n    state,\n  ])\n  let passthroughProps = props\n  let propsWeControl = {\n    ref: buttonRef,\n    id,\n    type: useResolveButtonType(props, state.buttonRef),\n    'aria-haspopup': true,\n    'aria-controls': state.itemsRef.current?.id,\n    'aria-expanded': props.disabled ? undefined : state.menuState === MenuStates.Open,\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp,\n    onClick: handleClick,\n  }\n\n  return render({\n    props: { ...passthroughProps, ...propsWeControl },\n    slot,\n    defaultTag: DEFAULT_BUTTON_TAG,\n    name: 'Menu.Button',\n  })\n})\n\n// ---\n\nlet DEFAULT_ITEMS_TAG = 'div' as const\ninterface ItemsRenderPropArg {\n  open: boolean\n}\ntype ItemsPropsWeControl =\n  | 'aria-activedescendant'\n  | 'aria-labelledby'\n  | 'id'\n  | 'onKeyDown'\n  | 'role'\n  | 'tabIndex'\n\nlet ItemsRenderFeatures = Features.RenderStrategy | Features.Static\n\nlet Items = forwardRefWithAs(function Items<TTag extends ElementType = typeof DEFAULT_ITEMS_TAG>(\n  props: Props<TTag, ItemsRenderPropArg, ItemsPropsWeControl> &\n    PropsForFeatures<typeof ItemsRenderFeatures>,\n  ref: Ref<HTMLDivElement>\n) {\n  let [state, dispatch] = useMenuContext([Menu.name, Items.name].join('.'))\n  let itemsRef = useSyncRefs(state.itemsRef, ref)\n\n  let id = `headlessui-menu-items-${useId()}`\n  let searchDisposables = useDisposables()\n\n  let usesOpenClosedState = useOpenClosed()\n  let visible = (() => {\n    if (usesOpenClosedState !== null) {\n      return usesOpenClosedState === State.Open\n    }\n\n    return state.menuState === MenuStates.Open\n  })()\n\n  useEffect(() => {\n    let container = state.itemsRef.current\n    if (!container) return\n    if (state.menuState !== MenuStates.Open) return\n    if (container === document.activeElement) return\n\n    container.focus({ preventScroll: true })\n  }, [state.menuState, state.itemsRef])\n\n  useTreeWalker({\n    container: state.itemsRef.current,\n    enabled: state.menuState === MenuStates.Open,\n    accept(node) {\n      if (node.getAttribute('role') === 'menuitem') return NodeFilter.FILTER_REJECT\n      if (node.hasAttribute('role')) return NodeFilter.FILTER_SKIP\n      return NodeFilter.FILTER_ACCEPT\n    },\n    walk(node) {\n      node.setAttribute('role', 'none')\n    },\n  })\n\n  let handleKeyDown = useCallback(\n    (event: ReactKeyboardEvent<HTMLDivElement>) => {\n      searchDisposables.dispose()\n\n      switch (event.key) {\n        // Ref: https://www.w3.org/TR/wai-aria-practices-1.2/#keyboard-interaction-12\n\n        // @ts-expect-error Fallthrough is expected here\n        case Keys.Space:\n          if (state.searchQuery !== '') {\n            event.preventDefault()\n            event.stopPropagation()\n            return dispatch({ type: ActionTypes.Search, value: event.key })\n          }\n        // When in type ahead mode, fallthrough\n        case Keys.Enter:\n          event.preventDefault()\n          event.stopPropagation()\n          dispatch({ type: ActionTypes.CloseMenu })\n          if (state.activeItemIndex !== null) {\n            let { id } = state.items[state.activeItemIndex]\n            document.getElementById(id)?.click()\n          }\n          disposables().nextFrame(() => state.buttonRef.current?.focus({ preventScroll: true }))\n          break\n\n        case Keys.ArrowDown:\n          event.preventDefault()\n          event.stopPropagation()\n          return dispatch({ type: ActionTypes.GoToItem, focus: Focus.Next })\n\n        case Keys.ArrowUp:\n          event.preventDefault()\n          event.stopPropagation()\n          return dispatch({ type: ActionTypes.GoToItem, focus: Focus.Previous })\n\n        case Keys.Home:\n        case Keys.PageUp:\n          event.preventDefault()\n          event.stopPropagation()\n          return dispatch({ type: ActionTypes.GoToItem, focus: Focus.First })\n\n        case Keys.End:\n        case Keys.PageDown:\n          event.preventDefault()\n          event.stopPropagation()\n          return dispatch({ type: ActionTypes.GoToItem, focus: Focus.Last })\n\n        case Keys.Escape:\n          event.preventDefault()\n          event.stopPropagation()\n          dispatch({ type: ActionTypes.CloseMenu })\n          disposables().nextFrame(() => state.buttonRef.current?.focus({ preventScroll: true }))\n          break\n\n        case Keys.Tab:\n          event.preventDefault()\n          event.stopPropagation()\n          break\n\n        default:\n          if (event.key.length === 1) {\n            dispatch({ type: ActionTypes.Search, value: event.key })\n            searchDisposables.setTimeout(() => dispatch({ type: ActionTypes.ClearSearch }), 350)\n          }\n          break\n      }\n    },\n    [dispatch, searchDisposables, state]\n  )\n\n  let handleKeyUp = useCallback((event: ReactKeyboardEvent<HTMLButtonElement>) => {\n    switch (event.key) {\n      case Keys.Space:\n        // Required for firefox, event.preventDefault() in handleKeyDown for\n        // the Space key doesn't cancel the handleKeyUp, which in turn\n        // triggers a *click*.\n        event.preventDefault()\n        break\n    }\n  }, [])\n\n  let slot = useMemo<ItemsRenderPropArg>(() => ({ open: state.menuState === MenuStates.Open }), [\n    state,\n  ])\n  let propsWeControl = {\n    'aria-activedescendant':\n      state.activeItemIndex === null ? undefined : state.items[state.activeItemIndex]?.id,\n    'aria-labelledby': state.buttonRef.current?.id,\n    id,\n    onKeyDown: handleKeyDown,\n    onKeyUp: handleKeyUp,\n    role: 'menu',\n    tabIndex: 0,\n    ref: itemsRef,\n  }\n  let passthroughProps = props\n\n  return render({\n    props: { ...passthroughProps, ...propsWeControl },\n    slot,\n    defaultTag: DEFAULT_ITEMS_TAG,\n    features: ItemsRenderFeatures,\n    visible,\n    name: 'Menu.Items',\n  })\n})\n\n// ---\n\nlet DEFAULT_ITEM_TAG = Fragment\ninterface ItemRenderPropArg {\n  active: boolean\n  disabled: boolean\n}\ntype MenuItemPropsWeControl =\n  | 'id'\n  | 'role'\n  | 'tabIndex'\n  | 'aria-disabled'\n  | 'onPointerLeave'\n  | 'onPointerMove'\n  | 'onMouseLeave'\n  | 'onMouseMove'\n  | 'onFocus'\n\nfunction Item<TTag extends ElementType = typeof DEFAULT_ITEM_TAG>(\n  props: Props<TTag, ItemRenderPropArg, MenuItemPropsWeControl> & {\n    disabled?: boolean\n    onClick?: (event: { preventDefault: Function }) => void\n  }\n) {\n  let { disabled = false, onClick, ...passthroughProps } = props\n  let [state, dispatch] = useMenuContext([Menu.name, Item.name].join('.'))\n  let id = `headlessui-menu-item-${useId()}`\n  let active = state.activeItemIndex !== null ? state.items[state.activeItemIndex].id === id : false\n\n  useIsoMorphicEffect(() => {\n    if (state.menuState !== MenuStates.Open) return\n    if (!active) return\n    let d = disposables()\n    d.nextFrame(() => document.getElementById(id)?.scrollIntoView?.({ block: 'nearest' }))\n    return d.dispose\n  }, [id, active, state.menuState])\n\n  let bag = useRef<MenuItemDataRef['current']>({ disabled })\n\n  useIsoMorphicEffect(() => {\n    bag.current.disabled = disabled\n  }, [bag, disabled])\n\n  useIsoMorphicEffect(() => {\n    bag.current.textValue = document.getElementById(id)?.textContent?.toLowerCase()\n  }, [bag, id])\n\n  useIsoMorphicEffect(() => {\n    dispatch({ type: ActionTypes.RegisterItem, id, dataRef: bag })\n    return () => dispatch({ type: ActionTypes.UnregisterItem, id })\n  }, [bag, id])\n\n  let handleClick = useCallback(\n    (event: MouseEvent) => {\n      if (disabled) return event.preventDefault()\n      dispatch({ type: ActionTypes.CloseMenu })\n      disposables().nextFrame(() => state.buttonRef.current?.focus({ preventScroll: true }))\n      if (onClick) return onClick(event)\n    },\n    [dispatch, state.buttonRef, disabled, onClick]\n  )\n\n  let handleFocus = useCallback(() => {\n    if (disabled) return dispatch({ type: ActionTypes.GoToItem, focus: Focus.Nothing })\n    dispatch({ type: ActionTypes.GoToItem, focus: Focus.Specific, id })\n  }, [disabled, id, dispatch])\n\n  let handleMove = useCallback(() => {\n    if (disabled) return\n    if (active) return\n    dispatch({ type: ActionTypes.GoToItem, focus: Focus.Specific, id })\n  }, [disabled, active, id, dispatch])\n\n  let handleLeave = useCallback(() => {\n    if (disabled) return\n    if (!active) return\n    dispatch({ type: ActionTypes.GoToItem, focus: Focus.Nothing })\n  }, [disabled, active, dispatch])\n\n  let slot = useMemo<ItemRenderPropArg>(() => ({ active, disabled }), [active, disabled])\n  let propsWeControl = {\n    id,\n    role: 'menuitem',\n    tabIndex: disabled === true ? undefined : -1,\n    'aria-disabled': disabled === true ? true : undefined,\n    disabled: undefined, // Never forward the `disabled` prop\n    onClick: handleClick,\n    onFocus: handleFocus,\n    onPointerMove: handleMove,\n    onMouseMove: handleMove,\n    onPointerLeave: handleLeave,\n    onMouseLeave: handleLeave,\n  }\n\n  return render({\n    props: { ...passthroughProps, ...propsWeControl },\n    slot,\n    defaultTag: DEFAULT_ITEM_TAG,\n    name: 'Menu.Item',\n  })\n}\n\n// ---\n\nMenu.Button = Button\nMenu.Items = Items\nMenu.Item = Item\n","export function disposables() {\n  let disposables: Function[] = []\n\n  let api = {\n    requestAnimationFrame(...args: Parameters<typeof requestAnimationFrame>) {\n      let raf = requestAnimationFrame(...args)\n      api.add(() => cancelAnimationFrame(raf))\n    },\n\n    nextFrame(...args: Parameters<typeof requestAnimationFrame>) {\n      api.requestAnimationFrame(() => {\n        api.requestAnimationFrame(...args)\n      })\n    },\n\n    setTimeout(...args: Parameters<typeof setTimeout>) {\n      let timer = setTimeout(...args)\n      api.add(() => clearTimeout(timer))\n    },\n\n    add(cb: () => void) {\n      disposables.push(cb)\n    },\n\n    dispose() {\n      for (let dispose of disposables.splice(0)) {\n        dispose()\n      }\n    },\n  }\n\n  return api\n}\n","import { useState, useEffect } from 'react'\n\nimport { disposables } from '../utils/disposables'\n\nexport function useDisposables() {\n  // Using useState instead of useRef so that we can use the initializer function.\n  let [d] = useState(disposables)\n  useEffect(() => () => d.dispose(), [d])\n  return d\n}\n","import { once } from '../../../utils/once'\nimport { disposables } from '../../../utils/disposables'\n\nfunction addClasses(node: HTMLElement, ...classes: string[]) {\n  node && classes.length > 0 && node.classList.add(...classes)\n}\n\nfunction removeClasses(node: HTMLElement, ...classes: string[]) {\n  node && classes.length > 0 && node.classList.remove(...classes)\n}\n\nexport enum Reason {\n  Finished = 'finished',\n  Cancelled = 'cancelled',\n}\n\nfunction waitForTransition(node: HTMLElement, done: (reason: Reason) => void) {\n  let d = disposables()\n\n  if (!node) return d.dispose\n\n  // Safari returns a comma separated list of values, so let's sort them and take the highest value.\n  let { transitionDuration, transitionDelay } = getComputedStyle(node)\n\n  let [durationMs, delaysMs] = [transitionDuration, transitionDelay].map(value => {\n    let [resolvedValue = 0] = value\n      .split(',')\n      // Remove falsy we can't work with\n      .filter(Boolean)\n      // Values are returned as `0.3s` or `75ms`\n      .map(v => (v.includes('ms') ? parseFloat(v) : parseFloat(v) * 1000))\n      .sort((a, z) => z - a)\n\n    return resolvedValue\n  })\n\n  // Waiting for the transition to end. We could use the `transitionend` event, however when no\n  // actual transition/duration is defined then the `transitionend` event is not fired.\n  //\n  // TODO: Downside is, when you slow down transitions via devtools this timeout is still using the\n  // full 100% speed instead of the 25% or 10%.\n  if (durationMs !== 0) {\n    d.setTimeout(() => {\n      done(Reason.Finished)\n    }, durationMs + delaysMs)\n  } else {\n    // No transition is happening, so we should cleanup already. Otherwise we have to wait until we\n    // get disposed.\n    done(Reason.Finished)\n  }\n\n  // If we get disposed before the timeout runs we should cleanup anyway\n  d.add(() => done(Reason.Cancelled))\n\n  return d.dispose\n}\n\nexport function transition(\n  node: HTMLElement,\n  base: string[],\n  from: string[],\n  to: string[],\n  entered: string[],\n  done?: (reason: Reason) => void\n) {\n  let d = disposables()\n  let _done = done !== undefined ? once(done) : () => {}\n\n  removeClasses(node, ...entered)\n  addClasses(node, ...base, ...from)\n\n  d.nextFrame(() => {\n    removeClasses(node, ...from)\n    addClasses(node, ...to)\n\n    d.add(\n      waitForTransition(node, reason => {\n        removeClasses(node, ...to, ...base)\n        addClasses(node, ...entered)\n        return _done(reason)\n      })\n    )\n  })\n\n  // Once we get disposed, we should ensure that we cleanup after ourselves. In case of an unmount,\n  // the node itself will be nullified and will be a no-op. In case of a full transition the classes\n  // are already removed which is also a no-op. However if you go from enter -> leave mid-transition\n  // then we have some leftovers that should be cleaned.\n  d.add(() => removeClasses(node, ...base, ...from, ...to, ...entered))\n\n  // When we get disposed early, than we should also call the done method but switch the reason.\n  d.add(() => _done(Reason.Cancelled))\n\n  return d.dispose\n}\n","import { useRef, useEffect } from 'react'\nimport { useIsoMorphicEffect } from './use-iso-morphic-effect'\n\ntype AcceptNode = (\n  node: HTMLElement\n) =>\n  | typeof NodeFilter.FILTER_ACCEPT\n  | typeof NodeFilter.FILTER_SKIP\n  | typeof NodeFilter.FILTER_REJECT\n\nexport function useTreeWalker({\n  container,\n  accept,\n  walk,\n  enabled = true,\n}: {\n  container: HTMLElement | null\n  accept: AcceptNode\n  walk(node: HTMLElement): void\n  enabled?: boolean\n}) {\n  let acceptRef = useRef(accept)\n  let walkRef = useRef(walk)\n\n  useEffect(() => {\n    acceptRef.current = accept\n    walkRef.current = walk\n  }, [accept, walk])\n\n  useIsoMorphicEffect(() => {\n    if (!container) return\n    if (!enabled) return\n\n    let accept = acceptRef.current\n    let walk = walkRef.current\n\n    let acceptNode = Object.assign((node: HTMLElement) => accept(node), { acceptNode: accept })\n    let walker = document.createTreeWalker(container, NodeFilter.SHOW_ELEMENT, acceptNode, false)\n\n    while (walker.nextNode()) walk(walker.currentNode as HTMLElement)\n  }, [container, enabled, acceptRef, walkRef])\n}\n","import { useRef, useEffect } from 'react'\n\nexport function useIsMounted() {\n  let mounted = useRef(false)\n\n  useEffect(() => {\n    mounted.current = true\n\n    return () => {\n      mounted.current = false\n    }\n  }, [])\n\n  return mounted\n}\n","export function once<T>(cb: (...args: T[]) => void) {\n  let state = { called: false }\n\n  return (...args: T[]) => {\n    if (state.called) return\n    state.called = true\n    return cb(...args)\n  }\n}\n","import React, {\n  Fragment,\n  createContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n\n  // Types\n  ElementType,\n  MutableRefObject,\n} from 'react'\nimport { Props } from '../../types'\n\nimport { useId } from '../../hooks/use-id'\nimport { useIsInitialRender } from '../../hooks/use-is-initial-render'\nimport { match } from '../../utils/match'\nimport { useIsMounted } from '../../hooks/use-is-mounted'\nimport { useIsoMorphicEffect } from '../../hooks/use-iso-morphic-effect'\n\nimport { Features, PropsForFeatures, render, RenderStrategy } from '../../utils/render'\nimport { Reason, transition } from './utils/transition'\nimport { OpenClosedProvider, State, useOpenClosed } from '../../internal/open-closed'\nimport { useServerHandoffComplete } from '../../hooks/use-server-handoff-complete'\n\ntype ID = ReturnType<typeof useId>\n\nfunction useSplitClasses(classes: string = '') {\n  return useMemo(() => classes.split(' ').filter(className => className.trim().length > 1), [\n    classes,\n  ])\n}\n\ninterface TransitionContextValues {\n  show: boolean\n  appear: boolean\n  initial: boolean\n}\nlet TransitionContext = createContext<TransitionContextValues | null>(null)\nTransitionContext.displayName = 'TransitionContext'\n\nenum TreeStates {\n  Visible = 'visible',\n  Hidden = 'hidden',\n}\n\nexport interface TransitionClasses {\n  enter?: string\n  enterFrom?: string\n  enterTo?: string\n  entered?: string\n  leave?: string\n  leaveFrom?: string\n  leaveTo?: string\n}\n\nexport interface TransitionEvents {\n  beforeEnter?: () => void\n  afterEnter?: () => void\n  beforeLeave?: () => void\n  afterLeave?: () => void\n}\n\ntype TransitionChildProps<TTag> = Props<TTag, TransitionChildRenderPropArg> &\n  PropsForFeatures<typeof TransitionChildRenderFeatures> &\n  TransitionClasses &\n  TransitionEvents & { appear?: boolean }\n\nfunction useTransitionContext() {\n  let context = useContext(TransitionContext)\n\n  if (context === null) {\n    throw new Error(\n      'A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.'\n    )\n  }\n\n  return context\n}\n\nfunction useParentNesting() {\n  let context = useContext(NestingContext)\n\n  if (context === null) {\n    throw new Error(\n      'A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.'\n    )\n  }\n\n  return context\n}\n\ninterface NestingContextValues {\n  children: MutableRefObject<{ id: ID; state: TreeStates }[]>\n  register: (id: ID) => () => void\n  unregister: (id: ID, strategy?: RenderStrategy) => void\n}\n\nlet NestingContext = createContext<NestingContextValues | null>(null)\nNestingContext.displayName = 'NestingContext'\n\nfunction hasChildren(\n  bag: NestingContextValues['children'] | { children: NestingContextValues['children'] }\n): boolean {\n  if ('children' in bag) return hasChildren(bag.children)\n  return bag.current.filter(({ state }) => state === TreeStates.Visible).length > 0\n}\n\nfunction useNesting(done?: () => void) {\n  let doneRef = useRef(done)\n  let transitionableChildren = useRef<NestingContextValues['children']['current']>([])\n  let mounted = useIsMounted()\n\n  useEffect(() => {\n    doneRef.current = done\n  }, [done])\n\n  let unregister = useCallback(\n    (childId: ID, strategy = RenderStrategy.Hidden) => {\n      let idx = transitionableChildren.current.findIndex(({ id }) => id === childId)\n      if (idx === -1) return\n\n      match(strategy, {\n        [RenderStrategy.Unmount]() {\n          transitionableChildren.current.splice(idx, 1)\n        },\n        [RenderStrategy.Hidden]() {\n          transitionableChildren.current[idx].state = TreeStates.Hidden\n        },\n      })\n\n      if (!hasChildren(transitionableChildren) && mounted.current) {\n        doneRef.current?.()\n      }\n    },\n    [doneRef, mounted, transitionableChildren]\n  )\n\n  let register = useCallback(\n    (childId: ID) => {\n      let child = transitionableChildren.current.find(({ id }) => id === childId)\n      if (!child) {\n        transitionableChildren.current.push({ id: childId, state: TreeStates.Visible })\n      } else if (child.state !== TreeStates.Visible) {\n        child.state = TreeStates.Visible\n      }\n\n      return () => unregister(childId, RenderStrategy.Unmount)\n    },\n    [transitionableChildren, unregister]\n  )\n\n  return useMemo(\n    () => ({\n      children: transitionableChildren,\n      register,\n      unregister,\n    }),\n    [register, unregister, transitionableChildren]\n  )\n}\n\nfunction noop() {}\nlet eventNames = ['beforeEnter', 'afterEnter', 'beforeLeave', 'afterLeave'] as const\nfunction ensureEventHooksExist(events: TransitionEvents) {\n  let result = {} as Record<keyof typeof events, () => void>\n  for (let name of eventNames) {\n    result[name] = events[name] ?? noop\n  }\n  return result\n}\n\nfunction useEvents(events: TransitionEvents) {\n  let eventsRef = useRef(ensureEventHooksExist(events))\n\n  useEffect(() => {\n    eventsRef.current = ensureEventHooksExist(events)\n  }, [events])\n\n  return eventsRef\n}\n\n// ---\n\nlet DEFAULT_TRANSITION_CHILD_TAG = 'div' as const\ntype TransitionChildRenderPropArg = MutableRefObject<HTMLDivElement>\nlet TransitionChildRenderFeatures = Features.RenderStrategy\n\nfunction TransitionChild<TTag extends ElementType = typeof DEFAULT_TRANSITION_CHILD_TAG>(\n  props: TransitionChildProps<TTag>\n) {\n  let {\n    // Event \"handlers\"\n    beforeEnter,\n    afterEnter,\n    beforeLeave,\n    afterLeave,\n\n    // Class names\n    enter,\n    enterFrom,\n    enterTo,\n    entered,\n    leave,\n    leaveFrom,\n    leaveTo,\n\n    // @ts-expect-error\n    ...rest\n  } = props as typeof props\n  let container = useRef<HTMLElement | null>(null)\n  let [state, setState] = useState(TreeStates.Visible)\n  let strategy = rest.unmount ? RenderStrategy.Unmount : RenderStrategy.Hidden\n\n  let { show, appear, initial } = useTransitionContext()\n  let { register, unregister } = useParentNesting()\n\n  let id = useId()\n\n  let isTransitioning = useRef(false)\n\n  let nesting = useNesting(() => {\n    // When all children have been unmounted we can only hide ourselves if and only if we are not\n    // transitioning ourselves. Otherwise we would unmount before the transitions are finished.\n    if (!isTransitioning.current) {\n      setState(TreeStates.Hidden)\n      unregister(id)\n      events.current.afterLeave()\n    }\n  })\n\n  useIsoMorphicEffect(() => {\n    if (!id) return\n    return register(id)\n  }, [register, id])\n\n  useIsoMorphicEffect(() => {\n    // If we are in another mode than the Hidden mode then ignore\n    if (strategy !== RenderStrategy.Hidden) return\n    if (!id) return\n\n    // Make sure that we are visible\n    if (show && state !== TreeStates.Visible) {\n      setState(TreeStates.Visible)\n      return\n    }\n\n    match(state, {\n      [TreeStates.Hidden]: () => unregister(id),\n      [TreeStates.Visible]: () => register(id),\n    })\n  }, [state, id, register, unregister, show, strategy])\n\n  let enterClasses = useSplitClasses(enter)\n  let enterFromClasses = useSplitClasses(enterFrom)\n  let enterToClasses = useSplitClasses(enterTo)\n\n  let enteredClasses = useSplitClasses(entered)\n\n  let leaveClasses = useSplitClasses(leave)\n  let leaveFromClasses = useSplitClasses(leaveFrom)\n  let leaveToClasses = useSplitClasses(leaveTo)\n\n  let events = useEvents({ beforeEnter, afterEnter, beforeLeave, afterLeave })\n\n  let ready = useServerHandoffComplete()\n\n  useEffect(() => {\n    if (ready && state === TreeStates.Visible && container.current === null) {\n      throw new Error('Did you forget to passthrough the `ref` to the actual DOM node?')\n    }\n  }, [container, state, ready])\n\n  // Skipping initial transition\n  let skip = initial && !appear\n\n  useIsoMorphicEffect(() => {\n    let node = container.current\n    if (!node) return\n    if (skip) return\n\n    isTransitioning.current = true\n\n    if (show) events.current.beforeEnter()\n    if (!show) events.current.beforeLeave()\n\n    return show\n      ? transition(node, enterClasses, enterFromClasses, enterToClasses, enteredClasses, reason => {\n          isTransitioning.current = false\n          if (reason === Reason.Finished) events.current.afterEnter()\n        })\n      : transition(node, leaveClasses, leaveFromClasses, leaveToClasses, enteredClasses, reason => {\n          isTransitioning.current = false\n\n          if (reason !== Reason.Finished) return\n\n          // When we don't have children anymore we can safely unregister from the parent and hide\n          // ourselves.\n          if (!hasChildren(nesting)) {\n            setState(TreeStates.Hidden)\n            unregister(id)\n            events.current.afterLeave()\n          }\n        })\n  }, [\n    events,\n    id,\n    isTransitioning,\n    unregister,\n    nesting,\n    container,\n    skip,\n    show,\n    enterClasses,\n    enterFromClasses,\n    enterToClasses,\n    leaveClasses,\n    leaveFromClasses,\n    leaveToClasses,\n  ])\n\n  let propsWeControl = { ref: container }\n  let passthroughProps = rest\n\n  return (\n    <NestingContext.Provider value={nesting}>\n      <OpenClosedProvider\n        value={match(state, {\n          [TreeStates.Visible]: State.Open,\n          [TreeStates.Hidden]: State.Closed,\n        })}\n      >\n        {render({\n          props: { ...passthroughProps, ...propsWeControl },\n          defaultTag: DEFAULT_TRANSITION_CHILD_TAG,\n          features: TransitionChildRenderFeatures,\n          visible: state === TreeStates.Visible,\n          name: 'Transition.Child',\n        })}\n      </OpenClosedProvider>\n    </NestingContext.Provider>\n  )\n}\n\nexport function Transition<TTag extends ElementType = typeof DEFAULT_TRANSITION_CHILD_TAG>(\n  props: TransitionChildProps<TTag> & { show?: boolean; appear?: boolean }\n) {\n  // @ts-expect-error\n  let { show, appear = false, unmount, ...passthroughProps } = props as typeof props\n\n  let usesOpenClosedState = useOpenClosed()\n\n  if (show === undefined && usesOpenClosedState !== null) {\n    show = match(usesOpenClosedState, {\n      [State.Open]: true,\n      [State.Closed]: false,\n    })\n  }\n\n  if (![true, false].includes((show as unknown) as boolean)) {\n    throw new Error('A <Transition /> is used but it is missing a `show={true | false}` prop.')\n  }\n\n  let [state, setState] = useState(show ? TreeStates.Visible : TreeStates.Hidden)\n\n  let nestingBag = useNesting(() => {\n    setState(TreeStates.Hidden)\n  })\n\n  let initial = useIsInitialRender()\n  let transitionBag = useMemo<TransitionContextValues>(\n    () => ({ show: show as boolean, appear: appear || !initial, initial }),\n    [show, appear, initial]\n  )\n\n  useEffect(() => {\n    if (show) {\n      setState(TreeStates.Visible)\n    } else if (!hasChildren(nestingBag)) {\n      setState(TreeStates.Hidden)\n    }\n  }, [show, nestingBag])\n\n  let sharedProps = { unmount }\n\n  return (\n    <NestingContext.Provider value={nestingBag}>\n      <TransitionContext.Provider value={transitionBag}>\n        {render({\n          props: {\n            ...sharedProps,\n            as: Fragment,\n            children: <TransitionChild {...sharedProps} {...passthroughProps} />,\n          },\n          defaultTag: Fragment,\n          features: TransitionChildRenderFeatures,\n          visible: state === TreeStates.Visible,\n          name: 'Transition',\n        })}\n      </TransitionContext.Provider>\n    </NestingContext.Provider>\n  )\n}\n\nTransition.Child = function Child<TTag extends ElementType = typeof DEFAULT_TRANSITION_CHILD_TAG>(\n  props: TransitionChildProps<TTag>\n) {\n  let hasTransitionContext = useContext(TransitionContext) !== null\n  let hasOpenClosedContext = useOpenClosed() !== null\n\n  return !hasTransitionContext && hasOpenClosedContext ? (\n    <Transition {...props} />\n  ) : (\n    <TransitionChild {...props} />\n  )\n}\nTransition.Root = Transition\n","import { useRef, useEffect } from 'react'\n\nexport function useIsInitialRender() {\n  let initial = useRef(true)\n\n  useEffect(() => {\n    initial.current = false\n  }, [])\n\n  return initial.current\n}\n","import React, { Fragment } from \"react\";\r\nimport { usePopper } from \"react-popper\";\r\nimport { Menu, Transition } from \"@headlessui/react\";\r\nimport Tooltip from \"../tooltip/Tooltip\";\r\nimport useState from \"react-usestateref\";\r\n\r\ninterface Props {\r\n\ttooltip?: string;\r\n\tchildren: any;\r\n\tbutton: React.ReactElement<any, any> | string;\r\n\tbuttonStyle?: string;\r\n\tcontentStyle?: string;\r\n\talign: \"left\" | \"right\";\r\n}\r\n\r\nconst Dropdown: React.FC<Props> = (props) => {\r\n\tconst [isHover, setHover, hoverRef] = useState(false);\r\n\tconst [referenceElement, setReferenceElement] = useState(null);\r\n\tconst [popperElement, setPopperElement] = useState(null);\r\n\tconst { styles, attributes } = usePopper(referenceElement, popperElement);\r\n\r\n\treturn (\r\n\t\t<div className=\"relative h-full\">\r\n\t\t\t<Menu as=\"div\" className=\" text-left outline-none\">\r\n\t\t\t\t{({ open }) => (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonMouseEnter={() => {\r\n\t\t\t\t\t\t\t\tsetHover(true);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonMouseLeave={() => {\r\n\t\t\t\t\t\t\t\tsetHover(false);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t//@ts-ignore\r\n\t\t\t\t\t\t\tref={setReferenceElement}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Menu.Button\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\tprops.buttonStyle\r\n\t\t\t\t\t\t\t\t\t\t? props.buttonStyle\r\n\t\t\t\t\t\t\t\t\t\t: `outline-no mx-0.5 flex items-center justify-center rounded-md border-0 bg-black bg-opacity-0 p-1 text-center text-black transition-all duration-200 ease-in-out hover:bg-opacity-10 focus:outline-none disabled:text-gray-600`\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{props.button}\r\n\t\t\t\t\t\t\t</Menu.Button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{!open && props.tooltip && (\r\n\t\t\t\t\t\t\t<Tooltip\r\n\t\t\t\t\t\t\t\tisHover={isHover}\r\n\t\t\t\t\t\t\t\thoverRef={hoverRef}\r\n\t\t\t\t\t\t\t\tlabel={props.tooltip || \"\"}\r\n\t\t\t\t\t\t\t\tpopperAttributes={attributes.popper}\r\n\t\t\t\t\t\t\t\tpopperStyles={styles.popper}\r\n\t\t\t\t\t\t\t\tsetHover={setHover}\r\n\t\t\t\t\t\t\t\tsetPopperElement={setPopperElement}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<Transition\r\n\t\t\t\t\t\t\tas={Fragment}\r\n\t\t\t\t\t\t\tenter=\"transition ease-out duration-100\"\r\n\t\t\t\t\t\t\tenterFrom=\"transform opacity-0 scale-95\"\r\n\t\t\t\t\t\t\tenterTo=\"transform opacity-100 scale-100\"\r\n\t\t\t\t\t\t\tleave=\"transition ease-in duration-75\"\r\n\t\t\t\t\t\t\tleaveFrom=\"transform opacity-100 scale-100\"\r\n\t\t\t\t\t\t\tleaveTo=\"transform opacity-0 scale-95\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Menu.Items\r\n\t\t\t\t\t\t\t\tclassName={`absolute ${\r\n\t\t\t\t\t\t\t\t\tprops.align === \"right\"\r\n\t\t\t\t\t\t\t\t\t\t? \"right-0 origin-top-right\"\r\n\t\t\t\t\t\t\t\t\t\t: \"left-0 origin-top-left\"\r\n\t\t\t\t\t\t\t\t} mt-2  items-start justify-start rounded-md bg-white shadow-lg ring-2 ring-black/5 ${\r\n\t\t\t\t\t\t\t\t\tprops.contentStyle\r\n\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{props.children}\r\n\t\t\t\t\t\t\t</Menu.Items>\r\n\t\t\t\t\t\t</Transition>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</Menu>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Dropdown;\r\n","import React from \"react\";\r\n\r\ninterface Props {\r\n\tvalue: string;\r\n\tsetValue: any;\r\n\tplaceholder?: string;\r\n\tclassName?: string;\r\n\tdisabled?: boolean;\r\n\tonKeyUp?: any;\r\n}\r\n\r\nconst NumberInput: React.FC<Props> = (props) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<input\r\n\t\t\t\tdisabled={props.disabled}\r\n\t\t\t\tvalue={props.value}\r\n\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\tprops.setValue(e.target.value);\r\n\t\t\t\t}}\r\n\t\t\t\tplaceholder={props.placeholder}\r\n\t\t\t\tclassName={` focus:border-primary box-border w-auto border-2 border-slate-300 border-opacity-100 px-0.5 py-0 font-mono outline-none transition-all duration-200 hover:border-opacity-100 focus:border-opacity-100 focus:outline-none disabled:bg-slate-200 disabled:text-slate-400 ${props.className}`}\r\n\t\t\t\tonKeyPress={(e) => {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t// regex to only allow digits, one decimal point, no negative sign\r\n\t\t\t\t\t\t(/[0-9]*\\.[0-9]*/.test(props.value) && e.key === \".\") ||\r\n\t\t\t\t\t\t!/[0-9]|\\./.test(e.key)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tonKeyUp={props.onKeyUp}\r\n\t\t\t></input>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NumberInput;\r\n","import React, { useEffect } from \"react\";\r\nimport { CogIcon } from \"@heroicons/react/outline\";\r\n\r\nimport Switch from \"../input/Switch\";\r\nimport Dropdown from \"../dropdown/Dropdown\";\r\nimport NumberInput from \"../input/NumberInput\";\r\nimport { useStorageState } from \"react-storage-hooks\";\r\n\r\ninterface Props {\r\n\tisConvertToEmbroidery: boolean;\r\n\tsetConvertToEmbroidery: React.Dispatch<React.SetStateAction<boolean>>;\r\n\tisRemoveOverlap: boolean;\r\n\tsetRemoveOverlap: React.Dispatch<React.SetStateAction<boolean>>;\r\n\tisAverageOutColours: boolean;\r\n\tsetAverageOutColours: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nconst OptionsDropdown: React.FC<Props> = (props) => {\r\n\tconst [stitchLength, setStitchLength] = useStorageState<string>(\r\n\t\tlocalStorage,\r\n\t\t\"stitchLength\",\r\n\t\t\"2.7\"\r\n\t);\r\n\tconst [spaceBetweenNormals, setSpaceBetweenNormals] =\r\n\t\tuseStorageState<string>(localStorage, \"spaceBetweenNormals\", \"1\");\r\n\tconst [satinStitchLength, setSatinStitchLength] = useStorageState<string>(\r\n\t\tlocalStorage,\r\n\t\t\"satinStitchLength\",\r\n\t\t\"10\"\r\n\t);\r\n\tconst [fillGutterSpacing, setFillGutterSpacing] = useStorageState<string>(\r\n\t\tlocalStorage,\r\n\t\t\"fillGutterSpacing\",\r\n\t\t\"1\"\r\n\t);\r\n\r\n\t// save hook data directly to local storage, allows for non-React.FC to access them\r\n\tuseEffect(() => {\r\n\t\twindow.localStorage.setItem(\"stitchLength\", stitchLength);\r\n\t}, [stitchLength]);\r\n\tuseEffect(() => {\r\n\t\twindow.localStorage.setItem(\"spaceBetweenNormals\", spaceBetweenNormals);\r\n\t}, [spaceBetweenNormals]);\r\n\tuseEffect(() => {\r\n\t\twindow.localStorage.setItem(\"satinStitchLength\", satinStitchLength);\r\n\t}, [satinStitchLength]);\r\n\r\n\treturn (\r\n\t\t<Dropdown\r\n\t\t\tbutton={<CogIcon className=\"h-5 w-5 \" stroke=\"inherit\" />}\r\n\t\t\talign=\"right\"\r\n\t\t\ttooltip=\"conversion settings\"\r\n\t\t>\r\n\t\t\t<div className=\"flex flex-col items-start justify-start\">\r\n\t\t\t\t<div className=\"flex w-[250px] flex-row items-center py-1\">\r\n\t\t\t\t\t<Switch\r\n\t\t\t\t\t\tactive={props.isConvertToEmbroidery}\r\n\t\t\t\t\t\tsetActive={props.setConvertToEmbroidery}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<p\r\n\t\t\t\t\t\tclassName=\"col-span-4 mt-0.5 select-none flex-nowrap\"\r\n\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\tprops.setConvertToEmbroidery(\r\n\t\t\t\t\t\t\t\t!props.isConvertToEmbroidery\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tConvert SVG to embroidery\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"flex w-[250px] flex-row items-center py-1\">\r\n\t\t\t\t\t<Switch\r\n\t\t\t\t\t\tactive={props.isRemoveOverlap}\r\n\t\t\t\t\t\tsetActive={props.setRemoveOverlap}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<p\r\n\t\t\t\t\t\tclassName=\"col-span-4 mt-0.5 select-none flex-nowrap\"\r\n\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\tprops.setRemoveOverlap(!props.isRemoveOverlap)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tRemove overlapping paths\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"flex w-[250px] flex-row items-center py-1\">\r\n\t\t\t\t\t<Switch\r\n\t\t\t\t\t\tactive={props.isAverageOutColours}\r\n\t\t\t\t\t\tsetActive={props.setAverageOutColours}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<p\r\n\t\t\t\t\t\tclassName=\"col-span-4 mt-0.5 select-none flex-nowrap\"\r\n\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\tprops.setAverageOutColours(\r\n\t\t\t\t\t\t\t\t!props.isAverageOutColours\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tAverage colours to DMC\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"flex w-[250px] flex-row items-center justify-start p-1\">\r\n\t\t\t\t\t<p className=\"mr-2\">Stitch length</p>\r\n\t\t\t\t\t<NumberInput\r\n\t\t\t\t\t\tclassName=\"mx-0.5 max-w-[70px] !px-0.5 !py-0\"\r\n\t\t\t\t\t\tsetValue={setStitchLength}\r\n\t\t\t\t\t\tvalue={stitchLength}\r\n\t\t\t\t\t></NumberInput>\r\n\t\t\t\t\t<p>mm</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"flex w-[250px] flex-row items-center justify-start p-1\">\r\n\t\t\t\t\t<p className=\"mr-2\">Satin spacing</p>\r\n\t\t\t\t\t<NumberInput\r\n\t\t\t\t\t\tclassName=\"mx-0.5 max-w-[70px] !px-0.5 !py-0\"\r\n\t\t\t\t\t\tsetValue={setSpaceBetweenNormals}\r\n\t\t\t\t\t\tvalue={spaceBetweenNormals}\r\n\t\t\t\t\t></NumberInput>\r\n\t\t\t\t\t<p>mm</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"flex w-[250px] flex-row items-center justify-start p-1\">\r\n\t\t\t\t\t<p className=\"mr-2\">Satin stitch length</p>\r\n\t\t\t\t\t<NumberInput\r\n\t\t\t\t\t\tclassName=\"mx-0.5 max-w-[70px] !px-0.5 !py-0\"\r\n\t\t\t\t\t\tsetValue={setSatinStitchLength}\r\n\t\t\t\t\t\tvalue={satinStitchLength}\r\n\t\t\t\t\t></NumberInput>\r\n\t\t\t\t\t<p>mm</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"flex w-[250px] flex-row items-center justify-start p-1\">\r\n\t\t\t\t\t<p className=\"mr-2\">Fill gutter spacing</p>\r\n\t\t\t\t\t<NumberInput\r\n\t\t\t\t\t\tclassName=\"mx-0.5 max-w-[70px] !px-0.5 !py-0\"\r\n\t\t\t\t\t\tsetValue={setFillGutterSpacing}\r\n\t\t\t\t\t\tvalue={fillGutterSpacing}\r\n\t\t\t\t\t></NumberInput>\r\n\t\t\t\t\t<p>mm</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Dropdown>\r\n\t);\r\n};\r\n\r\nexport default OptionsDropdown;\r\n","import React from \"react\";\r\nimport { Menu } from \"@headlessui/react\";\r\n\r\ninterface Props {\r\n\tlabel: string;\r\n\ticon?: React.ComponentProps<\"svg\">;\r\n\tonClick?: React.MouseEventHandler<HTMLButtonElement>;\r\n\tdisabled?: boolean;\r\n}\r\n\r\nconst DropdownItem: React.FC<Props> = (props) => {\r\n\treturn (\r\n\t\t<Menu.Item>\r\n\t\t\t{({ active }) => (\r\n\t\t\t\t<button\r\n\t\t\t\t\tdisabled={props.disabled}\r\n\t\t\t\t\tclassName={`${\r\n\t\t\t\t\t\tactive ? \"bg-black/20\" : \"\"\r\n\t\t\t\t\t} group flex w-full items-center rounded-md px-2 py-1 text-gray-900 disabled:text-gray-500 disabled:hover:bg-transparent`}\r\n\t\t\t\t\tonClick={props.onClick}\r\n\t\t\t\t>\r\n\t\t\t\t\t{props.icon || null}\r\n\t\t\t\t\t{props.label}\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t</Menu.Item>\r\n\t);\r\n};\r\n\r\nexport default DropdownItem;\r\n","const eventBus = {\r\n\ton(event: any, callback: any) {\r\n\t\tdocument.addEventListener(event, (e) => callback(e.detail));\r\n\t},\r\n\r\n\tdispatch(event: any, data: any) {\r\n\t\tdocument.dispatchEvent(new CustomEvent(event, { detail: data }));\r\n\t},\r\n\r\n\tremove(event: any, callback: any) {\r\n\t\tdocument.removeEventListener(event, callback);\r\n\t},\r\n};\r\n\r\nexport default eventBus;\r\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","import Paper from \"paper\";\r\nimport eventBus from \"../eventBus\";\r\nimport options from \"../../data/options.json\";\r\nimport Container from \"../stitch/Container\";\r\n\r\nclass UndoRedoTool {\r\n\tprivate static undoStack: paper.Layer[] = [];\r\n\tprivate static redoStack: paper.Layer[] = [];\r\n\r\n\tpublic static addStateDefault() {\r\n\t\tif (Paper.project.layers.length === 0) return;\r\n\r\n\t\tUndoRedoTool.undoStack.push(\r\n\t\t\tPaper.project.layers[0].clone({ insert: false })\r\n\t\t);\r\n\r\n\t\t// since state changed, must clean redo stack\r\n\t\tUndoRedoTool.redoStack = [];\r\n\r\n\t\tUndoRedoTool.checkSize();\r\n\r\n\t\tUndoRedoTool.dispatchAvailability();\r\n\t}\r\n\r\n\tpublic static undo() {\r\n\t\tif (UndoRedoTool.undoStack.length > 0) {\r\n\t\t\tUndoRedoTool.redoStack.push(\r\n\t\t\t\tPaper.project.layers[0].clone({ insert: false })\r\n\t\t\t);\r\n\t\t\teventBus.dispatch(\"setCanvasLayer\", UndoRedoTool.undoStack.pop());\r\n\t\t}\r\n\r\n\t\tUndoRedoTool.checkSize();\r\n\r\n\t\tUndoRedoTool.dispatchAvailability();\r\n\t}\r\n\r\n\tpublic static redo() {\r\n\t\tif (UndoRedoTool.redoStack.length > 0) {\r\n\t\t\tUndoRedoTool.undoStack.push(\r\n\t\t\t\tPaper.project.layers[0].clone({ insert: false })\r\n\t\t\t);\r\n\t\t\teventBus.dispatch(\"setCanvasLayer\", UndoRedoTool.redoStack.pop());\r\n\t\t}\r\n\r\n\t\tUndoRedoTool.checkSize();\r\n\t\tUndoRedoTool.dispatchAvailability();\r\n\t}\r\n\r\n\tprivate static dispatchAvailability() {\r\n\t\teventBus.dispatch(\"undoAvailable\", UndoRedoTool.undoStack.length > 0);\r\n\t\teventBus.dispatch(\"redoAvailable\", UndoRedoTool.redoStack.length > 0);\r\n\t}\r\n\r\n\tprivate static checkSize() {\r\n\t\tif (UndoRedoTool.undoStack.length > options.maxUndo)\r\n\t\t\tUndoRedoTool.undoStack.slice(\r\n\t\t\t\tUndoRedoTool.undoStack.length - options.maxUndo\r\n\t\t\t);\r\n\t\tif (UndoRedoTool.redoStack.length > options.maxRedo)\r\n\t\t\tUndoRedoTool.redoStack.slice(\r\n\t\t\t\tUndoRedoTool.redoStack.length - options.maxRedo\r\n\t\t\t);\r\n\t}\r\n}\r\n\r\nexport default UndoRedoTool;\r\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","/**\r\n * @description copies the styling of one item to another, or from its parent. Returns the item\r\n * @param reciever item that will recieve the styling\r\n * @param giver item that will give the styling, if left out, will get the first parent that has valid styling\r\n * @returns {paper.Item}\r\n */\r\nfunction copyStyling(reciever: paper.Item, giver: paper.Item | null = null) {\r\n\tif (reciever.hasFill() || reciever.hasStroke()) {\r\n\t\treturn reciever;\r\n\t} else if (giver === null && hasParent(reciever)) {\r\n\t\tgiver = reciever.parent;\r\n\t\twhile (!(giver.hasFill() || giver.hasStroke())) {\r\n\t\t\tif (hasParent(giver)) giver = giver.parent;\r\n\t\t\telse return;\r\n\t\t}\r\n\t\tcopyStyles(reciever, giver);\r\n\t} else if (giver !== null) {\r\n\t\tcopyStyles(reciever, giver);\r\n\t}\r\n\r\n\treturn reciever;\r\n}\r\n\r\nfunction copyStyles(reciever: paper.Item, giver: paper.Item) {\r\n\treciever.strokeCap = giver.strokeCap;\r\n\treciever.strokeColor = giver.strokeColor;\r\n\treciever.strokeJoin = giver.strokeJoin;\r\n\treciever.strokeScaling = giver.strokeScaling;\r\n\treciever.strokeWidth = giver.strokeWidth;\r\n\treciever.fillColor = giver.fillColor;\r\n\treciever.fillRule = giver.fillRule;\r\n}\r\n\r\nfunction hasParent(item: paper.Item) {\r\n\treturn item.parent !== null;\r\n}\r\n\r\nexport default copyStyling;\r\n","import Paper from \"paper\";\r\nimport copyStyling from \"./copyStyling\";\r\n\r\n/**\r\n * @description get all items which have no children, and have at least a stroke or fill (this prevents selecting empty groups)\r\n * @param layer layer to get all of the items out of, if left empty, uses the project window\r\n * @returns {paper.Item[]} list fo leaf items\r\n */\r\nfunction getLeafItems(layer: paper.Layer | null = null): paper.Item[] {\r\n\ttry {\r\n\t\tif (layer === null) layer = Paper.project.layers[0];\r\n\r\n\t\tlet items = layer\r\n\t\t\t.getItems({})\r\n\t\t\t.filter((item) => {\r\n\t\t\t\t// remove all items with children apart from compound paths\r\n\t\t\t\tif (\r\n\t\t\t\t\t(item.hasChildren() &&\r\n\t\t\t\t\t\titem.constructor.name !== \"CompoundPath\") ||\r\n\t\t\t\t\t(!item.hasStroke() && !item.hasFill())\r\n\t\t\t\t)\r\n\t\t\t\t\treturn false;\r\n\t\t\t\treturn true;\r\n\t\t\t})\r\n\t\t\t.map((item: paper.Item) => {\r\n\t\t\t\t// reapply styling if it has no styling\r\n\t\t\t\tcopyStyling(item);\r\n\t\t\t\treturn item;\r\n\t\t\t});\r\n\r\n\t\t// remove items that have their parents still in the array (paths of compound paths)\r\n\t\titems = items.filter((item) => {\r\n\t\t\tif (items.includes(item.parent)) return false;\r\n\t\t\treturn true;\r\n\t\t});\r\n\r\n\t\treturn items;\r\n\t} catch {\r\n\t\treturn [];\r\n\t}\r\n}\r\n\r\nexport default getLeafItems;\r\n","import Paper from \"paper\";\r\nimport { parse } from \"svgson\";\r\n\r\nimport copyStyling from \"./copyStyling\";\r\nconst toPath = require(\"element-to-path\");\r\n\r\n/**\r\n * @description converts any item into a pathItem if it can be\r\n * @param item item to convert\r\n * @returns {Promise<paper.Path | paper.PathItem | paper.CompoundPath | undefined>}\r\n */\r\nasync function itemToPathItem(\r\n\titem: paper.Item\r\n): Promise<paper.Path | paper.PathItem | paper.CompoundPath | undefined> {\r\n\tif (!isValidShape) return undefined;\r\n\r\n\t// copies styling to add it back after conversion\r\n\tconst temp = copyStyling(item, item);\r\n\r\n\t//@ts-ignore\r\n\tlet svg: SVGPathElement = item.exportSVG();\r\n\r\n\t// parse any type of svg shape to path, normalises it\r\n\tconst json = await parse(\"<svg>\" + svg.outerHTML + \"</svg>\");\r\n\r\n\tlet path = toPath(json.children[0]);\r\n\r\n\tif (!path) return undefined;\r\n\r\n\tlet pItem = Paper.PathItem.create(path);\r\n\r\n\tpItem.position = item.position;\r\n\r\n\tcopyStyling(pItem, temp);\r\n\r\n\treturn pItem;\r\n}\r\n\r\n/**\r\n * @description checks if the Item given can be visually described in SVG (this excludes groups and the such)\r\n * @param item item to check\r\n * @returns {boolean}\r\n */\r\nfunction isValidShape(item: paper.Item): boolean {\r\n\t//@ts-ignore\r\n\tlet svg: SVGPathElement = item.exportSVG();\r\n\r\n\tif (\r\n\t\t![\r\n\t\t\t\"rect\",\r\n\t\t\t\"circle\",\r\n\t\t\t\"ellipse\",\r\n\t\t\t\"line\",\r\n\t\t\t\"polyline\",\r\n\t\t\t\"polygon\",\r\n\t\t\t\"path\",\r\n\t\t].includes(svg.tagName)\r\n\t)\r\n\t\treturn false;\r\n\treturn true;\r\n}\r\n\r\nexport default itemToPathItem;\r\n","import Paper from \"paper\";\r\n\r\nimport UndoRedoTool from \"../canvas/UndoRedoTool\";\r\nimport eventBus from \"../eventBus\";\r\nimport getLeafItems from \"./getLeafItems\";\r\nimport itemToPathItem from \"./itemToPathItem\";\r\n\r\n/**\r\n * @description removes overlapping sections which are not displayed, this prevents stitches being too thick\r\n * @returns {Promise<paper.Layer>}\r\n */\r\nasync function removeOverlaps(): Promise<paper.Layer> {\r\n\tUndoRedoTool.addStateDefault();\r\n\r\n\tlet array: (paper.Item | paper.PathItem)[] = getLeafItems();\r\n\tlet newArray: paper.PathItem[] = [];\r\n\r\n\t// goes through all items, from bottom to top, and subtracts all the items above it. All the items are first converted to PathItems to allow for svg boolean algebra\r\n\tfor (let i = 0; i < array.length; i++) {\r\n\t\tlet parent = await itemToPathItem(array[i]);\r\n\r\n\t\tif (parent === undefined) continue;\r\n\r\n\t\tfor (let j = i + 1; j < array.length; j++) {\r\n\t\t\t// we do not want to remove paths without fills, since they could part of the design\r\n\t\t\tif (!array[j].hasFill()) continue;\r\n\r\n\t\t\t// if paths do not intersect and are not inside eachother, continue\r\n\t\t\tif (\r\n\t\t\t\t!(\r\n\t\t\t\t\tarray[j].isInside(array[i].bounds) ||\r\n\t\t\t\t\tarray[j].intersects(array[i])\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tlet child = await itemToPathItem(array[j]);\r\n\r\n\t\t\tif (child === undefined) continue;\r\n\r\n\t\t\tparent = parent.subtract(child, { insert: false });\r\n\t\t}\r\n\r\n\t\tnewArray.push(parent);\r\n\t}\r\n\r\n\t// add all new elements to a layer and dispatch it to be added to the project\r\n\tlet l = new Paper.Layer();\r\n\r\n\tl.addChildren(newArray);\r\n\r\n\teventBus.dispatch(\"setCanvasLayer\", l);\r\n\r\n\treturn l;\r\n}\r\n\r\nexport default removeOverlaps;\r\n","import {\n  useRef,\n  // Types\n  MutableRefObject,\n  useEffect,\n} from 'react'\n\nimport { Keys } from '../components/keyboard'\nimport { focusElement, focusIn, Focus, FocusResult } from '../utils/focus-management'\nimport { useWindowEvent } from './use-window-event'\nimport { useIsMounted } from './use-is-mounted'\n\nexport enum Features {\n  /** No features enabled for the `useFocusTrap` hook. */\n  None = 1 << 0,\n\n  /** Ensure that we move focus initially into the container. */\n  InitialFocus = 1 << 1,\n\n  /** Ensure that pressing `Tab` and `Shift+Tab` is trapped within the container. */\n  TabLock = 1 << 2,\n\n  /** Ensure that programmatically moving focus outside of the container is disallowed. */\n  FocusLock = 1 << 3,\n\n  /** Ensure that we restore the focus when unmounting the component that uses this `useFocusTrap` hook. */\n  RestoreFocus = 1 << 4,\n\n  /** Enable all features. */\n  All = InitialFocus | TabLock | FocusLock | RestoreFocus,\n}\n\nexport function useFocusTrap(\n  container: MutableRefObject<HTMLElement | null>,\n  features: Features = Features.All,\n  {\n    initialFocus,\n    containers,\n  }: {\n    initialFocus?: MutableRefObject<HTMLElement | null>\n    containers?: MutableRefObject<Set<MutableRefObject<HTMLElement | null>>>\n  } = {}\n) {\n  let restoreElement = useRef<HTMLElement | null>(\n    typeof window !== 'undefined' ? (document.activeElement as HTMLElement) : null\n  )\n  let previousActiveElement = useRef<HTMLElement | null>(null)\n  let mounted = useIsMounted()\n\n  let featuresRestoreFocus = Boolean(features & Features.RestoreFocus)\n  let featuresInitialFocus = Boolean(features & Features.InitialFocus)\n\n  // Capture the currently focused element, before we enable the focus trap.\n  useEffect(() => {\n    if (!featuresRestoreFocus) return\n\n    restoreElement.current = document.activeElement as HTMLElement\n  }, [featuresRestoreFocus])\n\n  // Restore the focus when we unmount the component.\n  useEffect(() => {\n    if (!featuresRestoreFocus) return\n\n    return () => {\n      focusElement(restoreElement.current)\n      restoreElement.current = null\n    }\n  }, [featuresRestoreFocus])\n\n  // Handle initial focus\n  useEffect(() => {\n    if (!featuresInitialFocus) return\n    if (!container.current) return\n\n    let activeElement = document.activeElement as HTMLElement\n\n    if (initialFocus?.current) {\n      if (initialFocus?.current === activeElement) {\n        previousActiveElement.current = activeElement\n        return // Initial focus ref is already the active element\n      }\n    } else if (container.current.contains(activeElement)) {\n      previousActiveElement.current = activeElement\n      return // Already focused within Dialog\n    }\n\n    // Try to focus the initialFocus ref\n    if (initialFocus?.current) {\n      focusElement(initialFocus.current)\n    } else {\n      if (focusIn(container.current, Focus.First) === FocusResult.Error) {\n        console.warn('There are no focusable elements inside the <FocusTrap />')\n      }\n    }\n\n    previousActiveElement.current = document.activeElement as HTMLElement\n  }, [container, initialFocus, featuresInitialFocus])\n\n  // Handle `Tab` & `Shift+Tab` keyboard events\n  useWindowEvent('keydown', event => {\n    if (!(features & Features.TabLock)) return\n\n    if (!container.current) return\n    if (event.key !== Keys.Tab) return\n\n    event.preventDefault()\n\n    if (\n      focusIn(\n        container.current,\n        (event.shiftKey ? Focus.Previous : Focus.Next) | Focus.WrapAround\n      ) === FocusResult.Success\n    ) {\n      previousActiveElement.current = document.activeElement as HTMLElement\n    }\n  })\n\n  // Prevent programmatically escaping the container\n  useWindowEvent(\n    'focus',\n    event => {\n      if (!(features & Features.FocusLock)) return\n\n      let allContainers = new Set(containers?.current)\n      allContainers.add(container)\n\n      if (!allContainers.size) return\n\n      let previous = previousActiveElement.current\n      if (!previous) return\n      if (!mounted.current) return\n\n      let toElement = event.target as HTMLElement | null\n\n      if (toElement && toElement instanceof HTMLElement) {\n        if (!contains(allContainers, toElement)) {\n          event.preventDefault()\n          event.stopPropagation()\n          focusElement(previous)\n        } else {\n          previousActiveElement.current = toElement\n          focusElement(toElement)\n        }\n      } else {\n        focusElement(previousActiveElement.current)\n      }\n    },\n    true\n  )\n}\n\nfunction contains(containers: Set<MutableRefObject<HTMLElement | null>>, element: HTMLElement) {\n  for (let container of containers) {\n    if (container.current?.contains(element)) return true\n  }\n\n  return false\n}\n","import { MutableRefObject } from 'react'\nimport { useIsoMorphicEffect } from './use-iso-morphic-effect'\n\nlet interactables = new Set<HTMLElement>()\nlet originals = new Map<HTMLElement, { 'aria-hidden': string | null; inert: boolean }>()\n\nfunction inert(element: HTMLElement) {\n  element.setAttribute('aria-hidden', 'true')\n  // @ts-expect-error `inert` does not exist on HTMLElement (yet!)\n  element.inert = true\n}\n\nfunction restore(element: HTMLElement) {\n  let original = originals.get(element)\n  if (!original) return\n\n  if (original['aria-hidden'] === null) element.removeAttribute('aria-hidden')\n  else element.setAttribute('aria-hidden', original['aria-hidden'])\n  // @ts-expect-error `inert` does not exist on HTMLElement (yet!)\n  element.inert = original.inert\n}\n\nexport function useInertOthers<TElement extends HTMLElement>(\n  container: MutableRefObject<TElement | null>,\n  enabled: boolean = true\n) {\n  useIsoMorphicEffect(() => {\n    if (!enabled) return\n    if (!container.current) return\n\n    let element = container.current\n\n    // Mark myself as an interactable element\n    interactables.add(element)\n\n    // Restore elements that now contain an interactable child\n    for (let original of originals.keys()) {\n      if (original.contains(element)) {\n        restore(original)\n        originals.delete(original)\n      }\n    }\n\n    // Collect direct children of the body\n    document.querySelectorAll('body > *').forEach(child => {\n      if (!(child instanceof HTMLElement)) return // Skip non-HTMLElements\n\n      // Skip the interactables, and the parents of the interactables\n      for (let interactable of interactables) {\n        if (child.contains(interactable)) return\n      }\n\n      // Keep track of the elements\n      if (interactables.size === 1) {\n        originals.set(child, {\n          'aria-hidden': child.getAttribute('aria-hidden'),\n          // @ts-expect-error `inert` does not exist on HTMLElement (yet!)\n          inert: child.inert,\n        })\n\n        // Mutate the element\n        inert(child)\n      }\n    })\n\n    return () => {\n      // Inert is disabled on the current element\n      interactables.delete(element)\n\n      // We still have interactable elements, therefore this one and its parent\n      // will become inert as well.\n      if (interactables.size > 0) {\n        // Collect direct children of the body\n        document.querySelectorAll('body > *').forEach(child => {\n          if (!(child instanceof HTMLElement)) return // Skip non-HTMLElements\n\n          // Skip already inert parents\n          if (originals.has(child)) return\n\n          // Skip the interactables, and the parents of the interactables\n          for (let interactable of interactables) {\n            if (child.contains(interactable)) return\n          }\n\n          originals.set(child, {\n            'aria-hidden': child.getAttribute('aria-hidden'),\n            // @ts-expect-error `inert` does not exist on HTMLElement (yet!)\n            inert: child.inert,\n          })\n\n          // Mutate the element\n          inert(child)\n        })\n      } else {\n        for (let element of originals.keys()) {\n          // Restore\n          restore(element)\n\n          // Cleanup\n          originals.delete(element)\n        }\n      }\n    }\n  }, [enabled])\n}\n","import React, {\n  createContext,\n  useContext,\n\n  // Types\n  ReactNode,\n} from 'react'\n\nlet ForcePortalRootContext = createContext(false)\n\nexport function usePortalRoot() {\n  return useContext(ForcePortalRootContext)\n}\n\ninterface ForcePortalRootProps {\n  force: boolean\n  children: ReactNode\n}\n\nexport function ForcePortalRoot(props: ForcePortalRootProps) {\n  return (\n    <ForcePortalRootContext.Provider value={props.force}>\n      {props.children}\n    </ForcePortalRootContext.Provider>\n  )\n}\n","import React, {\n  Fragment,\n  createContext,\n  useContext,\n  useEffect,\n  useState,\n\n  // Types\n  ElementType,\n  MutableRefObject,\n} from 'react'\nimport { createPortal } from 'react-dom'\n\nimport { Props } from '../../types'\nimport { render } from '../../utils/render'\nimport { useIsoMorphicEffect } from '../../hooks/use-iso-morphic-effect'\nimport { usePortalRoot } from '../../internal/portal-force-root'\nimport { useServerHandoffComplete } from '../../hooks/use-server-handoff-complete'\n\nfunction usePortalTarget(): HTMLElement | null {\n  let forceInRoot = usePortalRoot()\n  let groupTarget = useContext(PortalGroupContext)\n  let [target, setTarget] = useState(() => {\n    // Group context is used, but still null\n    if (!forceInRoot && groupTarget !== null) return null\n\n    // No group context is used, let's create a default portal root\n    if (typeof window === 'undefined') return null\n    let existingRoot = document.getElementById('headlessui-portal-root')\n    if (existingRoot) return existingRoot\n\n    let root = document.createElement('div')\n    root.setAttribute('id', 'headlessui-portal-root')\n    return document.body.appendChild(root)\n  })\n\n  // Ensure the portal root is always in the DOM\n  useEffect(() => {\n    if (target === null) return\n\n    if (!document.body.contains(target)) {\n      document.body.appendChild(target)\n    }\n  }, [target])\n\n  useEffect(() => {\n    if (forceInRoot) return\n    if (groupTarget === null) return\n    setTarget(groupTarget.current)\n  }, [groupTarget, setTarget, forceInRoot])\n\n  return target\n}\n\n// ---\n\nlet DEFAULT_PORTAL_TAG = Fragment\ninterface PortalRenderPropArg {}\n\nexport function Portal<TTag extends ElementType = typeof DEFAULT_PORTAL_TAG>(\n  props: Props<TTag, PortalRenderPropArg>\n) {\n  let passthroughProps = props\n  let target = usePortalTarget()\n  let [element] = useState<HTMLDivElement | null>(() =>\n    typeof window === 'undefined' ? null : document.createElement('div')\n  )\n\n  let ready = useServerHandoffComplete()\n\n  useIsoMorphicEffect(() => {\n    if (!target) return\n    if (!element) return\n\n    target.appendChild(element)\n\n    return () => {\n      if (!target) return\n      if (!element) return\n\n      target.removeChild(element)\n\n      if (target.childNodes.length <= 0) {\n        target.parentElement?.removeChild(target)\n      }\n    }\n  }, [target, element])\n\n  if (!ready) return null\n\n  return !target || !element\n    ? null\n    : createPortal(\n        render({ props: passthroughProps, defaultTag: DEFAULT_PORTAL_TAG, name: 'Portal' }),\n        element\n      )\n}\n\n// ---\n\nlet DEFAULT_GROUP_TAG = Fragment\ninterface GroupRenderPropArg {}\n\nlet PortalGroupContext = createContext<MutableRefObject<HTMLElement | null> | null>(null)\n\nfunction Group<TTag extends ElementType = typeof DEFAULT_GROUP_TAG>(\n  props: Props<TTag, GroupRenderPropArg> & {\n    target: MutableRefObject<HTMLElement | null>\n  }\n) {\n  let { target, ...passthroughProps } = props\n\n  return (\n    <PortalGroupContext.Provider value={target}>\n      {render({\n        props: passthroughProps,\n        defaultTag: DEFAULT_GROUP_TAG,\n        name: 'Popover.Group',\n      })}\n    </PortalGroupContext.Provider>\n  )\n}\n\n// ---\n\nPortal.Group = Group\n","import React, {\n  createContext,\n  useCallback,\n  useContext,\n\n  // Types\n  MutableRefObject,\n  ReactNode,\n} from 'react'\nimport { useIsoMorphicEffect } from '../hooks/use-iso-morphic-effect'\n\ntype OnUpdate = (\n  message: StackMessage,\n  type: string,\n  element: MutableRefObject<HTMLElement | null>\n) => void\n\nlet StackContext = createContext<OnUpdate>(() => {})\nStackContext.displayName = 'StackContext'\n\nexport enum StackMessage {\n  Add,\n  Remove,\n}\n\nexport function useStackContext() {\n  return useContext(StackContext)\n}\n\nexport function StackProvider({\n  children,\n  onUpdate,\n  type,\n  element,\n}: {\n  children: ReactNode\n  onUpdate?: OnUpdate\n  type: string\n  element: MutableRefObject<HTMLElement | null>\n}) {\n  let parentUpdate = useStackContext()\n\n  let notify = useCallback(\n    (...args: Parameters<OnUpdate>) => {\n      // Notify our layer\n      onUpdate?.(...args)\n\n      // Notify the parent\n      parentUpdate(...args)\n    },\n    [parentUpdate, onUpdate]\n  )\n\n  useIsoMorphicEffect(() => {\n    notify(StackMessage.Add, type, element)\n    return () => notify(StackMessage.Remove, type, element)\n  }, [notify, type, element])\n\n  return <StackContext.Provider value={notify}>{children}</StackContext.Provider>\n}\n","// WAI-ARIA: https://www.w3.org/TR/wai-aria-practices-1.2/#dialog_modal\nimport React, {\n  createContext,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useReducer,\n  useRef,\n  useState,\n\n  // Types\n  ContextType,\n  ElementType,\n  MouseEvent as ReactMouseEvent,\n  MutableRefObject,\n  Ref,\n} from 'react'\n\nimport { Props } from '../../types'\nimport { match } from '../../utils/match'\nimport { forwardRefWithAs, render, Features, PropsForFeatures } from '../../utils/render'\nimport { useSyncRefs } from '../../hooks/use-sync-refs'\nimport { Keys } from '../keyboard'\nimport { isDisabledReactIssue7711 } from '../../utils/bugs'\nimport { useId } from '../../hooks/use-id'\nimport { useFocusTrap, Features as FocusTrapFeatures } from '../../hooks/use-focus-trap'\nimport { useInertOthers } from '../../hooks/use-inert-others'\nimport { Portal } from '../../components/portal/portal'\nimport { ForcePortalRoot } from '../../internal/portal-force-root'\nimport { Description, useDescriptions } from '../description/description'\nimport { useWindowEvent } from '../../hooks/use-window-event'\nimport { useOpenClosed, State } from '../../internal/open-closed'\nimport { useServerHandoffComplete } from '../../hooks/use-server-handoff-complete'\nimport { StackProvider, StackMessage } from '../../internal/stack-context'\n\nenum DialogStates {\n  Open,\n  Closed,\n}\n\ninterface StateDefinition {\n  titleId: string | null\n}\n\nenum ActionTypes {\n  SetTitleId,\n}\n\ntype Actions = { type: ActionTypes.SetTitleId; id: string | null }\n\nlet reducers: {\n  [P in ActionTypes]: (\n    state: StateDefinition,\n    action: Extract<Actions, { type: P }>\n  ) => StateDefinition\n} = {\n  [ActionTypes.SetTitleId](state, action) {\n    if (state.titleId === action.id) return state\n    return { ...state, titleId: action.id }\n  },\n}\n\nlet DialogContext = createContext<\n  | [\n      {\n        dialogState: DialogStates\n        close(): void\n        setTitleId(id: string | null): void\n      },\n      StateDefinition\n    ]\n  | null\n>(null)\nDialogContext.displayName = 'DialogContext'\n\nfunction useDialogContext(component: string) {\n  let context = useContext(DialogContext)\n  if (context === null) {\n    let err = new Error(`<${component} /> is missing a parent <${Dialog.displayName} /> component.`)\n    if (Error.captureStackTrace) Error.captureStackTrace(err, useDialogContext)\n    throw err\n  }\n  return context\n}\n\nfunction stateReducer(state: StateDefinition, action: Actions) {\n  return match(action.type, reducers, state, action)\n}\n\n// ---\n\nlet DEFAULT_DIALOG_TAG = 'div' as const\ninterface DialogRenderPropArg {\n  open: boolean\n}\ntype DialogPropsWeControl =\n  | 'id'\n  | 'role'\n  | 'aria-modal'\n  | 'aria-describedby'\n  | 'aria-labelledby'\n  | 'onClick'\n\nlet DialogRenderFeatures = Features.RenderStrategy | Features.Static\n\nlet DialogRoot = forwardRefWithAs(function Dialog<\n  TTag extends ElementType = typeof DEFAULT_DIALOG_TAG\n>(\n  props: Props<TTag, DialogRenderPropArg, DialogPropsWeControl> &\n    PropsForFeatures<typeof DialogRenderFeatures> & {\n      open?: boolean\n      onClose(value: boolean): void\n      initialFocus?: MutableRefObject<HTMLElement | null>\n    },\n  ref: Ref<HTMLDivElement>\n) {\n  let { open, onClose, initialFocus, ...rest } = props\n  let [nestedDialogCount, setNestedDialogCount] = useState(0)\n\n  let usesOpenClosedState = useOpenClosed()\n  if (open === undefined && usesOpenClosedState !== null) {\n    // Update the `open` prop based on the open closed state\n    open = match(usesOpenClosedState, {\n      [State.Open]: true,\n      [State.Closed]: false,\n    })\n  }\n\n  let containers = useRef<Set<MutableRefObject<HTMLElement | null>>>(new Set())\n  let internalDialogRef = useRef<HTMLDivElement | null>(null)\n  let dialogRef = useSyncRefs(internalDialogRef, ref)\n\n  // Validations\n  let hasOpen = props.hasOwnProperty('open') || usesOpenClosedState !== null\n  let hasOnClose = props.hasOwnProperty('onClose')\n  if (!hasOpen && !hasOnClose) {\n    throw new Error(\n      `You have to provide an \\`open\\` and an \\`onClose\\` prop to the \\`Dialog\\` component.`\n    )\n  }\n\n  if (!hasOpen) {\n    throw new Error(\n      `You provided an \\`onClose\\` prop to the \\`Dialog\\`, but forgot an \\`open\\` prop.`\n    )\n  }\n\n  if (!hasOnClose) {\n    throw new Error(\n      `You provided an \\`open\\` prop to the \\`Dialog\\`, but forgot an \\`onClose\\` prop.`\n    )\n  }\n\n  if (typeof open !== 'boolean') {\n    throw new Error(\n      `You provided an \\`open\\` prop to the \\`Dialog\\`, but the value is not a boolean. Received: ${open}`\n    )\n  }\n\n  if (typeof onClose !== 'function') {\n    throw new Error(\n      `You provided an \\`onClose\\` prop to the \\`Dialog\\`, but the value is not a function. Received: ${onClose}`\n    )\n  }\n  let dialogState = open ? DialogStates.Open : DialogStates.Closed\n  let visible = (() => {\n    if (usesOpenClosedState !== null) {\n      return usesOpenClosedState === State.Open\n    }\n\n    return dialogState === DialogStates.Open\n  })()\n\n  let [state, dispatch] = useReducer(stateReducer, {\n    titleId: null,\n    descriptionId: null,\n  } as StateDefinition)\n\n  let close = useCallback(() => onClose(false), [onClose])\n\n  let setTitleId = useCallback(\n    (id: string | null) => dispatch({ type: ActionTypes.SetTitleId, id }),\n    [dispatch]\n  )\n\n  let ready = useServerHandoffComplete()\n  let enabled = ready && dialogState === DialogStates.Open\n  let hasNestedDialogs = nestedDialogCount > 1 // 1 is the current dialog\n  let hasParentDialog = useContext(DialogContext) !== null\n\n  // If there are multiple dialogs, then you can be the root, the leaf or one\n  // in between. We only care abou whether you are the top most one or not.\n  let position = !hasNestedDialogs ? 'leaf' : 'parent'\n\n  useFocusTrap(\n    internalDialogRef,\n    enabled\n      ? match(position, {\n          parent: FocusTrapFeatures.RestoreFocus,\n          leaf: FocusTrapFeatures.All,\n        })\n      : FocusTrapFeatures.None,\n    { initialFocus, containers }\n  )\n  useInertOthers(internalDialogRef, hasNestedDialogs ? enabled : false)\n\n  // Handle outside click\n  useWindowEvent('mousedown', event => {\n    let target = event.target as HTMLElement\n\n    if (dialogState !== DialogStates.Open) return\n    if (hasNestedDialogs) return\n    if (internalDialogRef.current?.contains(target)) return\n\n    close()\n  })\n\n  // Handle `Escape` to close\n  useWindowEvent('keydown', event => {\n    if (event.key !== Keys.Escape) return\n    if (dialogState !== DialogStates.Open) return\n    if (hasNestedDialogs) return\n    event.preventDefault()\n    event.stopPropagation()\n    close()\n  })\n\n  // Scroll lock\n  useEffect(() => {\n    if (dialogState !== DialogStates.Open) return\n    if (hasParentDialog) return\n\n    let overflow = document.documentElement.style.overflow\n    let paddingRight = document.documentElement.style.paddingRight\n\n    let scrollbarWidth = window.innerWidth - document.documentElement.clientWidth\n\n    document.documentElement.style.overflow = 'hidden'\n    document.documentElement.style.paddingRight = `${scrollbarWidth}px`\n\n    return () => {\n      document.documentElement.style.overflow = overflow\n      document.documentElement.style.paddingRight = paddingRight\n    }\n  }, [dialogState, hasParentDialog])\n\n  // Trigger close when the FocusTrap gets hidden\n  useEffect(() => {\n    if (dialogState !== DialogStates.Open) return\n    if (!internalDialogRef.current) return\n\n    let observer = new IntersectionObserver(entries => {\n      for (let entry of entries) {\n        if (\n          entry.boundingClientRect.x === 0 &&\n          entry.boundingClientRect.y === 0 &&\n          entry.boundingClientRect.width === 0 &&\n          entry.boundingClientRect.height === 0\n        ) {\n          close()\n        }\n      }\n    })\n\n    observer.observe(internalDialogRef.current)\n\n    return () => observer.disconnect()\n  }, [dialogState, internalDialogRef, close])\n\n  let [describedby, DescriptionProvider] = useDescriptions()\n\n  let id = `headlessui-dialog-${useId()}`\n\n  let contextBag = useMemo<ContextType<typeof DialogContext>>(\n    () => [{ dialogState, close, setTitleId }, state],\n    [dialogState, state, close, setTitleId]\n  )\n\n  let slot = useMemo<DialogRenderPropArg>(() => ({ open: dialogState === DialogStates.Open }), [\n    dialogState,\n  ])\n\n  let propsWeControl = {\n    ref: dialogRef,\n    id,\n    role: 'dialog',\n    'aria-modal': dialogState === DialogStates.Open ? true : undefined,\n    'aria-labelledby': state.titleId,\n    'aria-describedby': describedby,\n    onClick(event: ReactMouseEvent) {\n      event.stopPropagation()\n    },\n  }\n  let passthroughProps = rest\n\n  return (\n    <StackProvider\n      type=\"Dialog\"\n      element={internalDialogRef}\n      onUpdate={useCallback((message, type, element) => {\n        if (type !== 'Dialog') return\n\n        match(message, {\n          [StackMessage.Add]() {\n            containers.current.add(element)\n            setNestedDialogCount(count => count + 1)\n          },\n          [StackMessage.Remove]() {\n            containers.current.add(element)\n            setNestedDialogCount(count => count - 1)\n          },\n        })\n      }, [])}\n    >\n      <ForcePortalRoot force={true}>\n        <Portal>\n          <DialogContext.Provider value={contextBag}>\n            <Portal.Group target={internalDialogRef}>\n              <ForcePortalRoot force={false}>\n                <DescriptionProvider slot={slot} name=\"Dialog.Description\">\n                  {render({\n                    props: { ...passthroughProps, ...propsWeControl },\n                    slot,\n                    defaultTag: DEFAULT_DIALOG_TAG,\n                    features: DialogRenderFeatures,\n                    visible,\n                    name: 'Dialog',\n                  })}\n                </DescriptionProvider>\n              </ForcePortalRoot>\n            </Portal.Group>\n          </DialogContext.Provider>\n        </Portal>\n      </ForcePortalRoot>\n    </StackProvider>\n  )\n})\n\n// ---\n\nlet DEFAULT_OVERLAY_TAG = 'div' as const\ninterface OverlayRenderPropArg {\n  open: boolean\n}\ntype OverlayPropsWeControl = 'id' | 'aria-hidden' | 'onClick'\n\nlet Overlay = forwardRefWithAs(function Overlay<\n  TTag extends ElementType = typeof DEFAULT_OVERLAY_TAG\n>(props: Props<TTag, OverlayRenderPropArg, OverlayPropsWeControl>, ref: Ref<HTMLDivElement>) {\n  let [{ dialogState, close }] = useDialogContext([Dialog.displayName, Overlay.name].join('.'))\n  let overlayRef = useSyncRefs(ref)\n\n  let id = `headlessui-dialog-overlay-${useId()}`\n\n  let handleClick = useCallback(\n    (event: ReactMouseEvent) => {\n      if (event.target !== event.currentTarget) return\n      if (isDisabledReactIssue7711(event.currentTarget)) return event.preventDefault()\n      event.preventDefault()\n      event.stopPropagation()\n      close()\n    },\n    [close]\n  )\n\n  let slot = useMemo<OverlayRenderPropArg>(() => ({ open: dialogState === DialogStates.Open }), [\n    dialogState,\n  ])\n  let propsWeControl = {\n    ref: overlayRef,\n    id,\n    'aria-hidden': true,\n    onClick: handleClick,\n  }\n  let passthroughProps = props\n\n  return render({\n    props: { ...passthroughProps, ...propsWeControl },\n    slot,\n    defaultTag: DEFAULT_OVERLAY_TAG,\n    name: 'Dialog.Overlay',\n  })\n})\n\n// ---\n\nlet DEFAULT_TITLE_TAG = 'h2' as const\ninterface TitleRenderPropArg {\n  open: boolean\n}\ntype TitlePropsWeControl = 'id'\n\nfunction Title<TTag extends ElementType = typeof DEFAULT_TITLE_TAG>(\n  props: Props<TTag, TitleRenderPropArg, TitlePropsWeControl>\n) {\n  let [{ dialogState, setTitleId }] = useDialogContext([Dialog.displayName, Title.name].join('.'))\n\n  let id = `headlessui-dialog-title-${useId()}`\n\n  useEffect(() => {\n    setTitleId(id)\n    return () => setTitleId(null)\n  }, [id, setTitleId])\n\n  let slot = useMemo<TitleRenderPropArg>(() => ({ open: dialogState === DialogStates.Open }), [\n    dialogState,\n  ])\n  let propsWeControl = { id }\n  let passthroughProps = props\n\n  return render({\n    props: { ...passthroughProps, ...propsWeControl },\n    slot,\n    defaultTag: DEFAULT_TITLE_TAG,\n    name: 'Dialog.Title',\n  })\n}\n\n// ---\n\nexport let Dialog = Object.assign(DialogRoot, { Overlay, Title, Description })\n","import React from \"react\";\r\nimport { Dialog, Transition } from \"@headlessui/react\";\r\nimport Button from \"../button/Button\";\r\n\r\ninterface Props {\r\n\tisOpen: boolean;\r\n\tsetOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n\ttitle?: string | null;\r\n\tdescription?: string | null;\r\n\tpreventAutoClose?: boolean;\r\n}\r\n\r\nconst Modal: React.FC<Props> = (props) => {\r\n\treturn (\r\n\t\t<Transition\r\n\t\t\tshow={props.isOpen}\r\n\t\t\tenter=\"transition duration-100 ease-out\"\r\n\t\t\tenterFrom=\"transform scale-95 opacity-0\"\r\n\t\t\tenterTo=\"transform scale-100 opacity-100\"\r\n\t\t\tleave=\"transition duration-75 ease-out\"\r\n\t\t\tleaveFrom=\"transform scale-100 opacity-100\"\r\n\t\t\tleaveTo=\"transform scale-95 opacity-0\"\r\n\t\t>\r\n\t\t\t<Dialog\r\n\t\t\t\tclassName=\"fixed inset-0 z-10 flex min-h-screen min-w-full items-center justify-center overflow-y-auto\"\r\n\t\t\t\topen={props.isOpen}\r\n\t\t\t\tonClose={() => {\r\n\t\t\t\t\tif (!props.preventAutoClose) props.setOpen(false);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Dialog.Overlay className=\"fixed inset-0 bg-black opacity-5\" />\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={`z-40 flex min-h-[200px] min-w-[300px] flex-col items-center ${\r\n\t\t\t\t\t\t!(props.children && props.description)\r\n\t\t\t\t\t\t\t? \"justify-center\"\r\n\t\t\t\t\t\t\t: \"justify-start\"\r\n\t\t\t\t\t} gap-4 rounded-md bg-white bg-opacity-100 p-3 shadow-lg outline-black/30`}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{props.title && (\r\n\t\t\t\t\t\t\t<Dialog.Title className=\"text-xl\">\r\n\t\t\t\t\t\t\t\t{props.title}\r\n\t\t\t\t\t\t\t</Dialog.Title>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={`flex ${\r\n\t\t\t\t\t\t\t!(props.children && props.description)\r\n\t\t\t\t\t\t\t\t? \"\"\r\n\t\t\t\t\t\t\t\t: \"flex-grow\"\r\n\t\t\t\t\t\t} justify-cente flex-col items-center`}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{props.description && (\r\n\t\t\t\t\t\t\t<Dialog.Description>\r\n\t\t\t\t\t\t\t\tThis will permanently deactivate your account\r\n\t\t\t\t\t\t\t</Dialog.Description>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{props.children}\r\n\r\n\t\t\t\t\t\t{!props.preventAutoClose && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tonClick={() => props.setOpen(false)}\r\n\t\t\t\t\t\t\t\tfilled\r\n\t\t\t\t\t\t\t\tclassName=\"place-self-end\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Dialog>\r\n\t\t</Transition>\r\n\t);\r\n};\r\n\r\nexport default Modal;\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport Button from \"../button/Button\";\r\nimport {\r\n\tArrowLeftIcon,\r\n\tArrowRightIcon,\r\n\tZoomInIcon,\r\n\tZoomOutIcon,\r\n\tArrowsExpandIcon,\r\n\tDocumentAddIcon,\r\n\tCubeTransparentIcon,\r\n\tDocumentDownloadIcon,\r\n} from \"@heroicons/react/outline\";\r\nimport Paper from \"paper\";\r\nimport FileSaver from \"file-saver\";\r\nimport { Oval } from \"react-loader-spinner\";\r\n\r\nimport Logo from \"../../data/logo.png\";\r\nimport TextInput from \"../input/TextInput\";\r\nimport Seperator from \"../seperator/Seperator\";\r\nimport OptionsDropdown from \"./OptionsDropdown\";\r\nimport Dropdown from \"../dropdown/Dropdown\";\r\nimport DropdownItem from \"../dropdown/DropdownItem\";\r\nimport eventBus from \"../../lib/eventBus\";\r\nimport UndoRedoTool from \"../../lib/canvas/UndoRedoTool\";\r\nimport NumberInput from \"../input/NumberInput\";\r\nimport removeOverlap from \"../../lib/svg/removeOverlap\";\r\nimport Modal from \"../modal/Modal\";\r\n\r\ninterface Props {}\r\n\r\nconst Toolbar: React.FC<Props> = (props) => {\r\n\tconst [filename, setFilename] = useState<string>(\"\");\r\n\tconst [width, setWidth] = useState<string>(\"\");\r\n\tconst [height, setHeight] = useState<string>(\"\");\r\n\tconst [isOutlineShown, setOutlineShown] = useState<boolean>(false);\r\n\tconst [isUndo, setUndo] = useState<boolean>(false);\r\n\tconst [isRedo, setRedo] = useState<boolean>(false);\r\n\tconst [areItemsSelected, setItemsSelected] = useState<boolean>(false);\r\n\tconst [stroke, setStroke] = useState<string>(\"\");\r\n\tconst [isModalOpen, setModalOpen] = useState<boolean>(false);\r\n\r\n\tconst [isConvertToEmbroidery, setConvertToEmbroidery] =\r\n\t\tuseState<boolean>(true);\r\n\tconst [isRemoveOverlap, setRemoveOverlap] = useState<boolean>(true);\r\n\tconst [isAverageOutColours, setAverageOutColours] = useState<boolean>(true);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (Paper.project)\r\n\t\t\tPaper.project.getItems({}).forEach((e) => {\r\n\t\t\t\te.selected = isOutlineShown;\r\n\t\t\t});\r\n\t\teventBus.dispatch(\"selectedItemsChanged\", {});\r\n\t}, [isOutlineShown]);\r\n\r\n\tuseEffect(() => {\r\n\t\teventBus.on(\r\n\t\t\t\"setSvgBounds\",\r\n\t\t\t({ width, height }: { width: number; height: number }) => {\r\n\t\t\t\tsetWidth(width.toFixed(3));\r\n\t\t\t\tsetHeight(height.toFixed(3));\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\teventBus.on(\"undoAvailable\", (state: boolean) => {\r\n\t\t\tsetUndo(state);\r\n\t\t});\r\n\r\n\t\teventBus.on(\"redoAvailable\", (state: boolean) => {\r\n\t\t\tsetRedo(state);\r\n\t\t});\r\n\r\n\t\teventBus.on(\"initialFilename\", (title: string) => {\r\n\t\t\tsetFilename(title);\r\n\t\t});\r\n\r\n\t\teventBus.on(\"selectedItemsChanged\", () => {\r\n\t\t\tlet len = Paper.project.selectedItems.length;\r\n\r\n\t\t\t// update the stroke input, if multiple items with different widths are selected, leave it empty\r\n\t\t\tif (len > 0) {\r\n\t\t\t\tsetItemsSelected(true);\r\n\t\t\t\tlet strokeWidth: string =\r\n\t\t\t\t\tPaper.project.selectedItems[0].strokeWidth.toString();\r\n\r\n\t\t\t\tif (len > 1) {\r\n\t\t\t\t\tfor (let i = 1; i < len; i++) {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tPaper.project.selectedItems[\r\n\t\t\t\t\t\t\t\ti\r\n\t\t\t\t\t\t\t].strokeWidth.toString() !== strokeWidth\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tstrokeWidth = \"\";\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsetStroke(strokeWidth);\r\n\t\t\t} else setItemsSelected(false);\r\n\t\t});\r\n\r\n\t\teventBus.on(\"conversionFinished\", () => {\r\n\t\t\tsetModalOpen(false);\r\n\t\t});\r\n\r\n\t\treturn eventBus.remove(\r\n\t\t\t[\r\n\t\t\t\t\"setSvgBounds\",\r\n\t\t\t\t\"undoAvailable\",\r\n\t\t\t\t\"redoAvailable\",\r\n\t\t\t\t\"selectedItemsChanged\",\r\n\t\t\t\t\"initialFilename\",\r\n\t\t\t\t\"conversionFinished\",\r\n\t\t\t],\r\n\t\t\t() => {}\r\n\t\t);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (stroke !== \"\") {\r\n\t\t\tPaper.project.selectedItems.forEach((e) => {\r\n\t\t\t\te.strokeWidth = parseFloat(stroke);\r\n\t\t\t});\r\n\t\t}\r\n\t}, [stroke]);\r\n\r\n\tfunction saveFileSvg() {\r\n\t\tif (Paper.project.layers.length < 0) return;\r\n\r\n\t\tlet markup = Paper.project\r\n\t\t\t.exportSVG({\r\n\t\t\t\tbounds: \"content\",\r\n\t\t\t\tasString: true,\r\n\t\t\t})\r\n\t\t\t.toString();\r\n\r\n\t\tFileSaver(new Blob([markup], { type: \"image/svg+xml\" }), filename);\r\n\t}\r\n\r\n\t// updates the dimensions of the SVG on enter\r\n\tfunction onEnterDimensions(e: KeyboardEvent) {\r\n\t\tif (e.key === \"Enter\") {\r\n\t\t\ttry {\r\n\t\t\t\tUndoRedoTool.addStateDefault();\r\n\t\t\t\tconst initWidth = Paper.project.layers[0].strokeBounds.width;\r\n\t\t\t\tconst initHeight = Paper.project.layers[0].strokeBounds.height;\r\n\r\n\t\t\t\tconst widthMultiple =\r\n\t\t\t\t\tNumber(\r\n\t\t\t\t\t\t((parseFloat(width) - initWidth) / initWidth).toFixed(\r\n\t\t\t\t\t\t\t10\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) + 1;\r\n\t\t\t\tconst heightMultiple =\r\n\t\t\t\t\tNumber(\r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t(parseFloat(height) - initHeight) /\r\n\t\t\t\t\t\t\tinitHeight\r\n\t\t\t\t\t\t).toFixed(10)\r\n\t\t\t\t\t) + 1;\r\n\r\n\t\t\t\tconst newWidth = Number(\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tinitWidth *\r\n\t\t\t\t\t\t(widthMultiple === 1 ? heightMultiple : widthMultiple)\r\n\t\t\t\t\t).toFixed(3)\r\n\t\t\t\t);\r\n\r\n\t\t\t\tconst newHeight = Number(\r\n\t\t\t\t\t(\r\n\t\t\t\t\t\tinitHeight *\r\n\t\t\t\t\t\t(widthMultiple === 1 ? heightMultiple : widthMultiple)\r\n\t\t\t\t\t).toFixed(3)\r\n\t\t\t\t);\r\n\r\n\t\t\t\tlet rectBounds = new Paper.Rectangle(\r\n\t\t\t\t\tPaper.project.view.bounds.width / 2 - newWidth / 2,\r\n\t\t\t\t\tPaper.project.view.bounds.height / 2 - newHeight / 2,\r\n\t\t\t\t\tnewWidth,\r\n\t\t\t\t\tnewHeight\r\n\t\t\t\t);\r\n\r\n\t\t\t\tPaper.project.layers[0].fitBounds(rectBounds);\r\n\r\n\t\t\t\tPaper.project.layers[0].position = new Paper.Point(\r\n\t\t\t\t\tPaper.view.viewSize.width / 2,\r\n\t\t\t\t\tPaper.view.viewSize.height / 2\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif (rectBounds) {\r\n\t\t\t\t\tsetHeight(rectBounds.height.toFixed(3));\r\n\t\t\t\t\tsetWidth(rectBounds.width.toFixed(3));\r\n\t\t\t\t}\r\n\r\n\t\t\t\teventBus.dispatch(\"resetCenter\", {});\r\n\t\t\t} catch {}\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isModalOpen) {\r\n\t\t\tsetTimeout(\r\n\t\t\t\t() =>\r\n\t\t\t\t\teventBus.dispatch(\"convertSvg\", {\r\n\t\t\t\t\t\tconvertToEmbroidery: isConvertToEmbroidery,\r\n\t\t\t\t\t\tremoveOverlap: isRemoveOverlap,\r\n\t\t\t\t\t\taverageColours: isAverageOutColours,\r\n\t\t\t\t\t}),\r\n\t\t\t\t500\r\n\t\t\t);\r\n\t\t}\r\n\t}, [isModalOpen]);\r\n\r\n\tconst buttonStyle =\r\n\t\t\"bg-black bg-opacity-0 text-black hover:bg-opacity-10 rounded-md px-1.5 text-center transition-all duration-200 ease-in-out\";\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"w-screen bg-white shadow-sm\">\r\n\t\t\t\t{/*Upper Toolbar*/}\r\n\t\t\t\t<div className=\"flex flex-row items-center justify-between border-b-[0.8px] px-3 pt-2 pb-1\">\r\n\t\t\t\t\t<div className=\"flex flex-row items-center justify-start\">\r\n\t\t\t\t\t\t<div className=\"mr-2\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={Logo}\r\n\t\t\t\t\t\t\t\tclassName=\"row-span-2 \"\r\n\t\t\t\t\t\t\t\talt=\"EasyThread logo\"\r\n\t\t\t\t\t\t\t\twidth={36}\r\n\t\t\t\t\t\t\t\theight={36}\r\n\t\t\t\t\t\t\t></img>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"flex flex-col\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<TextInput\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Untitled File\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"rounded-none text-lg\"\r\n\t\t\t\t\t\t\t\t\tvalue={filename}\r\n\t\t\t\t\t\t\t\t\tsetValue={setFilename}\r\n\t\t\t\t\t\t\t\t></TextInput>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"flex flex-row \">\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tbutton={<p>File</p>}\r\n\t\t\t\t\t\t\t\t\tbuttonStyle={buttonStyle}\r\n\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t\tcontentStyle=\"min-w-[150px]\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<DropdownItem\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Open SVG\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\teventBus.dispatch(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"openLocalFile\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t{}\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<DropdownItem\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Save SVG\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={saveFileSvg}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<DropdownItem\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Save EXP\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\teventBus.dispatch(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"saveExp\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tfilename\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tbutton={<p>Edit</p>}\r\n\t\t\t\t\t\t\t\t\tbuttonStyle={buttonStyle}\r\n\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t\tcontentStyle=\"min-w-[150px]\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<DropdownItem\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Undo\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!isUndo}\r\n\t\t\t\t\t\t\t\t\t\tonClick={UndoRedoTool.undo}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<DropdownItem\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Redo\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!isRedo}\r\n\t\t\t\t\t\t\t\t\t\tonClick={UndoRedoTool.redo}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<DropdownItem\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Remove overlap\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={removeOverlap}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tbutton={<p>View</p>}\r\n\t\t\t\t\t\t\t\t\tbuttonStyle={buttonStyle}\r\n\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t\tcontentStyle=\"min-w-[150px]\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<DropdownItem\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Zoom in\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\teventBus.dispatch(\"zoom\", \"in\");\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<DropdownItem\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Zoom out\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\teventBus.dispatch(\"zoom\", \"out\");\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<DropdownItem\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Reset zoom\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\teventBus.dispatch(\"resetView\", {});\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\t\t\t\tbutton={<p>Help</p>}\r\n\t\t\t\t\t\t\t\t\tbuttonStyle={buttonStyle}\r\n\t\t\t\t\t\t\t\t\talign=\"left\"\r\n\t\t\t\t\t\t\t\t\tcontentStyle=\"min-w-[150px]\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<DropdownItem label=\"About\" />\r\n\t\t\t\t\t\t\t\t\t<DropdownItem label=\"Credits\" />\r\n\t\t\t\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/*Lower Toolbar*/}\r\n\t\t\t\t<div className=\"prose-p:leading-1 prose-p:text-center mt-0.5 flex flex-row items-center justify-start stroke-gray-700 py-1 text-gray-700\">\r\n\t\t\t\t\t{/*Undo*/}\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mx-0.5 ml-4 !p-1\"\r\n\t\t\t\t\t\ttooltip=\"undo\"\r\n\t\t\t\t\t\tdisabled={!isUndo}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tUndoRedoTool.undo();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ArrowLeftIcon className=\"h-5 w-5\" stroke=\"inherit\" />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t{/*Redo*/}\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mx-0.5 !p-1\"\r\n\t\t\t\t\t\ttooltip=\"redo\"\r\n\t\t\t\t\t\tdisabled={!isRedo}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tUndoRedoTool.redo();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ArrowRightIcon className=\"h-5 w-5\" stroke=\"inherit\" />\r\n\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t<Seperator />\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mx-0.5 !p-1\"\r\n\t\t\t\t\t\ttooltip=\"open file\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\teventBus.dispatch(\"openLocalFile\", {});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DocumentAddIcon className=\"h-5 w-5\" stroke=\"inherit\" />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mx-0.5 !p-1\"\r\n\t\t\t\t\t\ttooltip=\"download file\"\r\n\t\t\t\t\t\tonClick={saveFileSvg}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DocumentDownloadIcon\r\n\t\t\t\t\t\t\tclassName=\"h-5 w-5\"\r\n\t\t\t\t\t\t\tstroke=\"inherit\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t<Seperator />\r\n\t\t\t\t\t{/*Sizing*/}\r\n\t\t\t\t\t<p className=\"mx-0.5\">width</p>\r\n\t\t\t\t\t<NumberInput\r\n\t\t\t\t\t\tsetValue={setWidth}\r\n\t\t\t\t\t\tvalue={width}\r\n\t\t\t\t\t\tonKeyUp={onEnterDimensions}\r\n\t\t\t\t\t\tclassName=\"focus:border-primary mx-0.5 max-w-[70px] !border-2 !border-opacity-100 !px-0.5 !py-0 font-mono\"\r\n\t\t\t\t\t></NumberInput>\r\n\t\t\t\t\t<p className=\"mx-0.5\">mm</p>\r\n\t\t\t\t\t<p className=\"mx-0.5 ml-2\">height</p>\r\n\t\t\t\t\t<NumberInput\r\n\t\t\t\t\t\tsetValue={setHeight}\r\n\t\t\t\t\t\tonKeyUp={onEnterDimensions}\r\n\t\t\t\t\t\tvalue={height}\r\n\t\t\t\t\t\tclassName=\"focus:border-primary mx-0.5 max-w-[70px] !border-2 !border-opacity-100 !px-0.5 !py-0 font-mono\"\r\n\t\t\t\t\t></NumberInput>\r\n\t\t\t\t\t<p className=\"mx-0.5\">mm</p>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mx-0.5 !p-1\"\r\n\t\t\t\t\t\ttooltip=\"toggle outline\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetOutlineShown(!isOutlineShown);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<CubeTransparentIcon\r\n\t\t\t\t\t\t\tclassName=\"h-5 w-5\"\r\n\t\t\t\t\t\t\tstroke=\"inherit\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t<Seperator />\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mx-0.5 !p-1\"\r\n\t\t\t\t\t\ttooltip=\"zoom in\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\teventBus.dispatch(\"zoom\", \"in\");\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ZoomInIcon className=\"h-5 w-5\" stroke=\"inherit\" />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mx-0.5 !p-1\"\r\n\t\t\t\t\t\ttooltip=\"zoom out\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\teventBus.dispatch(\"zoom\", \"out\");\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ZoomOutIcon className=\"h-5 w-5\" stroke=\"inherit\" />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mx-0.5 !p-1\"\r\n\t\t\t\t\t\ttooltip=\"reset view\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\teventBus.dispatch(\"resetView\", {});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ArrowsExpandIcon\r\n\t\t\t\t\t\t\tclassName=\"h-5 w-5\"\r\n\t\t\t\t\t\t\tstroke=\"inherit\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t<Seperator />\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tfilled\r\n\t\t\t\t\t\tclassName=\"!mx-0.5 !py-0.5 !px-1\"\r\n\t\t\t\t\t\ttooltip=\"convert to embroidery\"\r\n\t\t\t\t\t\tdisabled={isModalOpen}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetModalOpen(true);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tConvert\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<OptionsDropdown\r\n\t\t\t\t\t\tisAverageOutColours={isAverageOutColours}\r\n\t\t\t\t\t\tsetAverageOutColours={setAverageOutColours}\r\n\t\t\t\t\t\tisConvertToEmbroidery={isConvertToEmbroidery}\r\n\t\t\t\t\t\tsetConvertToEmbroidery={setConvertToEmbroidery}\r\n\t\t\t\t\t\tisRemoveOverlap={isRemoveOverlap}\r\n\t\t\t\t\t\tsetRemoveOverlap={setRemoveOverlap}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{areItemsSelected && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Seperator />\r\n\t\t\t\t\t\t\t<p className=\"mx-0.5\">stroke</p>\r\n\t\t\t\t\t\t\t<NumberInput\r\n\t\t\t\t\t\t\t\tsetValue={setStroke}\r\n\t\t\t\t\t\t\t\tvalue={stroke}\r\n\t\t\t\t\t\t\t\tclassName=\"focus:border-primary mx-0.5 max-w-[50px] !border-2 !border-opacity-100 !px-0.5 !py-0 font-mono\"\r\n\t\t\t\t\t\t\t></NumberInput>\r\n\t\t\t\t\t\t\t<p className=\"mx-0.5\">mm</p>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\tisOpen={isModalOpen}\r\n\t\t\t\tsetOpen={setModalOpen}\r\n\t\t\t\ttitle=\"Converting...\"\r\n\t\t\t\tpreventAutoClose\r\n\t\t\t></Modal>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Toolbar;\r\n","import { useRef, useState, useEffect, useCallback, useMemo } from 'react';\n\n// This of course could've been more streamlined with internal state instead of\n// refs, but then host hooks / components could not opt out of renders.\n// This could've been exported to its own module, but the current build doesn't\n// seem to work with module imports and I had no more time to spend on this...\nfunction useResolvedElement(subscriber, refOrElement) {\n  var callbackRefElement = useRef(null);\n  var lastReportRef = useRef(null);\n  var cleanupRef = useRef();\n  var callSubscriber = useCallback(function () {\n    var element = null;\n\n    if (callbackRefElement.current) {\n      element = callbackRefElement.current;\n    } else if (refOrElement) {\n      if (refOrElement instanceof HTMLElement) {\n        element = refOrElement;\n      } else {\n        element = refOrElement.current;\n      }\n    }\n\n    if (lastReportRef.current && lastReportRef.current.element === element && lastReportRef.current.reporter === callSubscriber) {\n      return;\n    }\n\n    if (cleanupRef.current) {\n      cleanupRef.current(); // Making sure the cleanup is not called accidentally multiple times.\n\n      cleanupRef.current = null;\n    }\n\n    lastReportRef.current = {\n      reporter: callSubscriber,\n      element: element\n    }; // Only calling the subscriber, if there's an actual element to report.\n\n    if (element) {\n      cleanupRef.current = subscriber(element);\n    }\n  }, [refOrElement, subscriber]); // On each render, we check whether a ref changed, or if we got a new raw\n  // element.\n\n  useEffect(function () {\n    // With this we're *technically* supporting cases where ref objects' current value changes, but only if there's a\n    // render accompanying that change as well.\n    // To guarantee we always have the right element, one must use the ref callback provided instead, but we support\n    // RefObjects to make the hook API more convenient in certain cases.\n    callSubscriber();\n  }, [callSubscriber]);\n  return useCallback(function (element) {\n    callbackRefElement.current = element;\n    callSubscriber();\n  }, [callSubscriber]);\n}\n\n// We're only using the first element of the size sequences, until future versions of the spec solidify on how\n// exactly it'll be used for fragments in multi-column scenarios:\n// From the spec:\n// > The box size properties are exposed as FrozenArray in order to support elements that have multiple fragments,\n// > which occur in multi-column scenarios. However the current definitions of content rect and border box do not\n// > mention how those boxes are affected by multi-column layout. In this spec, there will only be a single\n// > ResizeObserverSize returned in the FrozenArray, which will correspond to the dimensions of the first column.\n// > A future version of this spec will extend the returned FrozenArray to contain the per-fragment size information.\n// (https://drafts.csswg.org/resize-observer/#resize-observer-entry-interface)\n//\n// Also, testing these new box options revealed that in both Chrome and FF everything is returned in the callback,\n// regardless of the \"box\" option.\n// The spec states the following on this:\n// > This does not have any impact on which box dimensions are returned to the defined callback when the event\n// > is fired, it solely defines which box the author wishes to observe layout changes on.\n// (https://drafts.csswg.org/resize-observer/#resize-observer-interface)\n// I'm not exactly clear on what this means, especially when you consider a later section stating the following:\n// > This section is non-normative. An author may desire to observe more than one CSS box.\n// > In this case, author will need to use multiple ResizeObservers.\n// (https://drafts.csswg.org/resize-observer/#resize-observer-interface)\n// Which is clearly not how current browser implementations behave, and seems to contradict the previous quote.\n// For this reason I decided to only return the requested size,\n// even though it seems we have access to results for all box types.\n// This also means that we get to keep the current api, being able to return a simple { width, height } pair,\n// regardless of box option.\nvar extractSize = function extractSize(entry, boxProp, sizeType) {\n  if (!entry[boxProp]) {\n    if (boxProp === \"contentBoxSize\") {\n      // The dimensions in `contentBoxSize` and `contentRect` are equivalent according to the spec.\n      // See the 6th step in the description for the RO algorithm:\n      // https://drafts.csswg.org/resize-observer/#create-and-populate-resizeobserverentry-h\n      // > Set this.contentRect to logical this.contentBoxSize given target and observedBox of \"content-box\".\n      // In real browser implementations of course these objects differ, but the width/height values should be equivalent.\n      return entry.contentRect[sizeType === \"inlineSize\" ? \"width\" : \"height\"];\n    }\n\n    return undefined;\n  } // A couple bytes smaller than calling Array.isArray() and just as effective here.\n\n\n  return entry[boxProp][0] ? entry[boxProp][0][sizeType] : // TS complains about this, because the RO entry type follows the spec and does not reflect Firefox's current\n  // behaviour of returning objects instead of arrays for `borderBoxSize` and `contentBoxSize`.\n  // @ts-ignore\n  entry[boxProp][sizeType];\n};\n\nfunction useResizeObserver(opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n\n  // Saving the callback as a ref. With this, I don't need to put onResize in the\n  // effect dep array, and just passing in an anonymous function without memoising\n  // will not reinstantiate the hook's ResizeObserver.\n  var onResize = opts.onResize;\n  var onResizeRef = useRef(undefined);\n  onResizeRef.current = onResize;\n  var round = opts.round || Math.round; // Using a single instance throughout the hook's lifetime\n\n  var resizeObserverRef = useRef();\n\n  var _useState = useState({\n    width: undefined,\n    height: undefined\n  }),\n      size = _useState[0],\n      setSize = _useState[1]; // In certain edge cases the RO might want to report a size change just after\n  // the component unmounted.\n\n\n  var didUnmount = useRef(false);\n  useEffect(function () {\n    return function () {\n      didUnmount.current = true;\n    };\n  }, []); // Using a ref to track the previous width / height to avoid unnecessary renders.\n\n  var previous = useRef({\n    width: undefined,\n    height: undefined\n  }); // This block is kinda like a useEffect, only it's called whenever a new\n  // element could be resolved based on the ref option. It also has a cleanup\n  // function.\n\n  var refCallback = useResolvedElement(useCallback(function (element) {\n    // We only use a single Resize Observer instance, and we're instantiating it on demand, only once there's something to observe.\n    // This instance is also recreated when the `box` option changes, so that a new observation is fired if there was a previously observed element with a different box option.\n    if (!resizeObserverRef.current || resizeObserverRef.current.box !== opts.box || resizeObserverRef.current.round !== round) {\n      resizeObserverRef.current = {\n        box: opts.box,\n        round: round,\n        instance: new ResizeObserver(function (entries) {\n          var entry = entries[0];\n          var boxProp = opts.box === \"border-box\" ? \"borderBoxSize\" : opts.box === \"device-pixel-content-box\" ? \"devicePixelContentBoxSize\" : \"contentBoxSize\";\n          var reportedWidth = extractSize(entry, boxProp, \"inlineSize\");\n          var reportedHeight = extractSize(entry, boxProp, \"blockSize\");\n          var newWidth = reportedWidth ? round(reportedWidth) : undefined;\n          var newHeight = reportedHeight ? round(reportedHeight) : undefined;\n\n          if (previous.current.width !== newWidth || previous.current.height !== newHeight) {\n            var newSize = {\n              width: newWidth,\n              height: newHeight\n            };\n            previous.current.width = newWidth;\n            previous.current.height = newHeight;\n\n            if (onResizeRef.current) {\n              onResizeRef.current(newSize);\n            } else {\n              if (!didUnmount.current) {\n                setSize(newSize);\n              }\n            }\n          }\n        })\n      };\n    }\n\n    resizeObserverRef.current.instance.observe(element, {\n      box: opts.box\n    });\n    return function () {\n      if (resizeObserverRef.current) {\n        resizeObserverRef.current.instance.unobserve(element);\n      }\n    };\n  }, [opts.box, round]), opts.ref);\n  return useMemo(function () {\n    return {\n      ref: refCallback,\n      width: size.width,\n      height: size.height\n    };\n  }, [refCallback, size ? size.width : null, size ? size.height : null]);\n}\n\nexport { useResizeObserver as default };\n","import React from \"react\";\r\n\r\ninterface Props {\r\n\thex: string;\r\n\tonMouseLeave: React.MouseEventHandler<HTMLDivElement>;\r\n\tonMouseEnter: React.MouseEventHandler<HTMLDivElement>;\r\n\tonClick: React.MouseEventHandler<HTMLDivElement>;\r\n}\r\n\r\nconst ColourBox: React.FC<Props> = (props) => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"h-6 w-6 border-2 border-black/20\"\r\n\t\t\tstyle={{ background: props.hex }}\r\n\t\t\tonClick={props.onClick}\r\n\t\t\tonMouseEnter={props.onMouseEnter}\r\n\t\t\tonMouseLeave={props.onMouseLeave}\r\n\t\t>\r\n\t\t\t{\" \"}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ColourBox;\r\n","import Paper from \"paper\";\r\nimport DMCColours from \"../../data/DMCColours.json\";\r\nimport { Color } from \"paper/dist/paper-core\";\r\nimport { DMCColour } from \"../../types/DMCColour\";\r\n\r\n/**\r\n * @description gets the closest DMC colour available given its colour\r\n * @param elem element to change the style of\r\n * @param stroke change stroke?\r\n * @param fill change fill?\r\n * @returns {void}\r\n */\r\nfunction normaliseColours(\r\n\telem?: paper.Item,\r\n\tstroke: boolean = true,\r\n\tfill: boolean = true\r\n): void {\r\n\tif (elem) {\r\n\t\tif (fill && elem.fillColor) {\r\n\t\t\telem.fillColor = new Paper.Color(\r\n\t\t\t\tgetClosestColour(elem.fillColor)[\"#RGB\"]\r\n\t\t\t);\r\n\t\t}\r\n\t\tif (stroke && elem.strokeColor)\r\n\t\t\telem.strokeColor = new Paper.Color(\r\n\t\t\t\tgetClosestColour(elem.strokeColor)[\"#RGB\"]\r\n\t\t\t);\r\n\t} else {\r\n\t\tPaper.project.getItems({}).forEach((item) => {\r\n\t\t\tif (fill && item.fillColor)\r\n\t\t\t\titem.fillColor = new Paper.Color(\r\n\t\t\t\t\tgetClosestColour(item.fillColor)[\"#RGB\"]\r\n\t\t\t\t);\r\n\t\t\tif (stroke && item.strokeColor)\r\n\t\t\t\titem.strokeColor = new Paper.Color(\r\n\t\t\t\t\tgetClosestColour(item.strokeColor)[\"#RGB\"]\r\n\t\t\t\t);\r\n\t\t});\r\n\t}\r\n}\r\n\r\n/**\r\n * @description returns the closest colour available from the DMC thread list\r\n * @param {paper.Color} c colour to compare against\r\n * @returns {paper.Color} result\r\n */\r\nfunction getClosestColour(c: paper.Color) {\r\n\tlet smallestValue: number = 9999;\r\n\tlet closestColour: any = null;\r\n\r\n\tDMCColours.forEach((e) => {\r\n\t\tlet value = getValueHSB(e, c);\r\n\r\n\t\tif (value < smallestValue) {\r\n\t\t\tsmallestValue = value;\r\n\t\t\tclosestColour = e;\r\n\t\t}\r\n\t});\r\n\r\n\treturn closestColour;\r\n}\r\n\r\n/**\r\n * @description compares two colours using the HSB colour model, and gets a relative value of closeness\r\n * @param {DMCColour} e DMC colour\r\n * @param {paper.Color} c other colour\r\n * @returns {number} relative value\r\n */\r\nfunction getValueHSB(e: DMCColour, c: paper.Color) {\r\n\t// if the brightness is very low, hue does not matter, vice versa. This multiple will reflect this\r\n\tconst brightnessMultiple =\r\n\t\tc.brightness < 0.05 ? 100 : -2.5 * c.brightness + 4;\r\n\r\n\tconst c1 = new Color(e[\"#RGB\"]);\r\n\tconst dHue = c.hue - c1.hue;\r\n\tconst dSaturation = c.saturation - c1.saturation;\r\n\tconst dBrightness = c.brightness - c1.brightness;\r\n\r\n\t// get distance between colours\r\n\t// since saturation and brightness go from 0 to 1, I needed to normalise them to 0 to 360, the range that the Hue takes. Since humans precieve brightness better than colour, I gave brightness a slightly higher bias than saturation. I added a higher bias to hue than the rest since changing the hue is quite noticable\r\n\tlet value = Math.sqrt(\r\n\t\tMath.pow(dHue * 3.5, 2) +\r\n\t\t\tMath.pow(dSaturation * 360 * 1.3, 2) +\r\n\t\t\tMath.pow(dBrightness * 360 * brightnessMultiple, 2)\r\n\t);\r\n\r\n\treturn value;\r\n}\r\n\r\nexport default normaliseColours;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport useResizeObserver from \"use-resize-observer\";\r\n\r\nimport Button from \"../button/Button\";\r\nimport DMCColours from \"../../data/DMCColours.json\";\r\nimport ColourBox from \"./ColourBox\";\r\nimport { ChevronLeftIcon, ChevronRightIcon } from \"@heroicons/react/outline\";\r\nimport type { DMCColour } from \"../../types/DMCColour\";\r\nimport normaliseColours from \"../../lib/svg/normaliseColours\";\r\nimport eventBus from \"../../lib/eventBus\";\r\nimport UndoRedoTool from \"../../lib/canvas/UndoRedoTool\";\r\n\r\nconst Sidebar: React.FC = () => {\r\n\tconst defaultDMC: DMCColour = {\r\n\t\t\"#RGB\": \"\",\r\n\t\t\"Floss Name\": \"\",\r\n\t\tDMC: \"\",\r\n\t};\r\n\r\n\tconst [currPage, setCurrPage] = useState<number>(1);\r\n\tconst [coloursPerPage, setColoursPerPage] = useState<number>(60);\r\n\tconst [maxPerPage, setMaxPerPage] = useState(\r\n\t\tMath.ceil(DMCColours.length / coloursPerPage)\r\n\t);\r\n\tconst [softColour, setSoftColour] = useState<DMCColour>(defaultDMC);\r\n\tconst [hardColour, setHardColour] = useState<DMCColour>({\r\n\t\t\"#RGB\": \"\",\r\n\t\t\"Floss Name\": \"\",\r\n\t\tDMC: \"\",\r\n\t});\r\n\tconst { ref } = useResizeObserver({\r\n\t\tonResize: ({ width }) => {\r\n\t\t\tsetColoursPerPage(\r\n\t\t\t\t//@ts-ignore\r\n\t\t\t\tMath.floor((width / 26) * 11) < 10\r\n\t\t\t\t\t? 10\r\n\t\t\t\t\t: //@ts-ignore\r\n\t\t\t\t\t  Math.floor((width / 26) * 11)\r\n\t\t\t);\r\n\t\t\tsetCurrPage(1);\r\n\t\t},\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tsetMaxPerPage(Math.ceil(DMCColours.length / coloursPerPage));\r\n\t}, [coloursPerPage]);\r\n\r\n\treturn (\r\n\t\t<div className=\"flex h-full min-w-[300px] basis-1/4 flex-col items-center justify-start overflow-y-scroll bg-white pt-3 shadow-inner\">\r\n\t\t\t<h1 className=\"mb-1 border-b-2 text-xl\">Colours</h1>\r\n\t\t\t<div className=\"flex w-[90%] flex-row flex-wrap items-center justify-start \">\r\n\t\t\t\t<div className=\"my-2 flex min-h-[100px] w-full flex-col justify-between rounded-md bg-stone-200 p-1 shadow-xl\">\r\n\t\t\t\t\t<div className=\"flex flex-row items-start justify-start\">\r\n\t\t\t\t\t\t<div className=\"flex flex-col items-start justify-start\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"min-h-[40px] min-w-[40px] rounded-lg border-2 border-black/20\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tbackground:\r\n\t\t\t\t\t\t\t\t\t\tsoftColour[\"#RGB\"] ||\r\n\t\t\t\t\t\t\t\t\t\thardColour[\"#RGB\"],\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t></div>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t{softColour.DMC || hardColour.DMC || \"code\"}\r\n\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"flex flex-col px-2\">\r\n\t\t\t\t\t\t\t<p className=\" text-lg text-gray-800\">\r\n\t\t\t\t\t\t\t\t<strong>\r\n\t\t\t\t\t\t\t\t\t{softColour[\"Floss Name\"] ||\r\n\t\t\t\t\t\t\t\t\t\thardColour[\"Floss Name\"] ||\r\n\t\t\t\t\t\t\t\t\t\t\"Name\"}\r\n\t\t\t\t\t\t\t\t</strong>{\" \"}\r\n\t\t\t\t\t\t\t\t<span className=\"text-sm\">\r\n\t\t\t\t\t\t\t\t\t{softColour[\"#RGB\"] ||\r\n\t\t\t\t\t\t\t\t\t\thardColour[\"#RGB\"] ||\r\n\t\t\t\t\t\t\t\t\t\t\"#hex\"}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"grid w-full grid-cols-3\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<strong>R</strong>{\" \"}\r\n\t\t\t\t\t\t\t{softColour?.Red || hardColour?.Red || \"---\"}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<strong>G</strong>{\" \"}\r\n\t\t\t\t\t\t\t{softColour?.Blue || hardColour?.Blue || \"---\"}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<strong>B</strong>{\" \"}\r\n\t\t\t\t\t\t\t{softColour?.Green || hardColour?.Green || \"---\"}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div ref={ref} className=\"h-[300px] items-start justify-center\">\r\n\t\t\t\t\t<div className=\"flex w-full flex-row flex-wrap items-start justify-center\">\r\n\t\t\t\t\t\t{DMCColours.slice(\r\n\t\t\t\t\t\t\t(currPage - 1) * coloursPerPage,\r\n\t\t\t\t\t\t\tcurrPage * coloursPerPage + 1 >\r\n\t\t\t\t\t\t\t\tDMCColours.length - 1\r\n\t\t\t\t\t\t\t\t? DMCColours.length\r\n\t\t\t\t\t\t\t\t: currPage * coloursPerPage + 1\r\n\t\t\t\t\t\t).map((e, i) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<ColourBox\r\n\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\thex={e[\"#RGB\"]}\r\n\t\t\t\t\t\t\t\t\tonClick={() => setHardColour(e)}\r\n\t\t\t\t\t\t\t\t\tonMouseLeave={() =>\r\n\t\t\t\t\t\t\t\t\t\tsetSoftColour(defaultDMC)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonMouseEnter={() => setSoftColour(e)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"flex w-full flex-row items-center justify-between\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetCurrPage(\r\n\t\t\t\t\t\t\t\tcurrPage === 1 ? maxPerPage : currPage - 1\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName=\"border-2 p-1\"\r\n\t\t\t\t\t\ttooltip=\"previous page\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ChevronLeftIcon className=\"h-5 w-5\" />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<p className=\"select-none\">\r\n\t\t\t\t\t\t{currPage} of {maxPerPage}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetCurrPage(\r\n\t\t\t\t\t\t\t\tcurrPage === maxPerPage ? 1 : currPage + 1\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName=\"border-2 p-1\"\r\n\t\t\t\t\t\ttooltip=\"next page\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ChevronRightIcon className=\"h-5 w-5\" />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName=\"self-place-center my-2 w-full\"\r\n\t\t\t\t\tfilled\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tUndoRedoTool.addStateDefault();\r\n\t\t\t\t\t\tnormaliseColours();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tNormalise colours\r\n\t\t\t\t</Button>\r\n\t\t\t\t<div className=\"my-1 grid w-full grid-cols-2 gap-2\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"self-place-center !m-0 w-full\"\r\n\t\t\t\t\t\tfilled\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tif (softColour[\"#RGB\"])\r\n\t\t\t\t\t\t\t\teventBus.dispatch(\r\n\t\t\t\t\t\t\t\t\t\"setSelectedStrokeColour\",\r\n\t\t\t\t\t\t\t\t\tsoftColour[\"#RGB\"]\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\telse if (hardColour[\"#RGB\"])\r\n\t\t\t\t\t\t\t\teventBus.dispatch(\r\n\t\t\t\t\t\t\t\t\t\"setSelectedStrokeColour\",\r\n\t\t\t\t\t\t\t\t\thardColour[\"#RGB\"]\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSet stroke\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"self-place-center !m-0 w-full\"\r\n\t\t\t\t\t\tfilled\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tif (softColour[\"#RGB\"]) {\r\n\t\t\t\t\t\t\t\teventBus.dispatch(\r\n\t\t\t\t\t\t\t\t\t\"setSelectedFillColour\",\r\n\t\t\t\t\t\t\t\t\tsoftColour[\"#RGB\"]\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} else if (hardColour[\"#RGB\"]) {\r\n\t\t\t\t\t\t\t\teventBus.dispatch(\r\n\t\t\t\t\t\t\t\t\t\"setSelectedFillColour\",\r\n\t\t\t\t\t\t\t\t\thardColour[\"#RGB\"]\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSet fill\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"self-place-center !m-0 w-full p-0\"\r\n\t\t\t\t\t\tfilled\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\teventBus.dispatch(\"removeSelectedStroke\", {});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tRemove stroke\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"self-place-center !m-0 w-full\"\r\n\t\t\t\t\t\tfilled\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\teventBus.dispatch(\"removeSelectedFill\", {});\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tRemove fill\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Sidebar;\r\n","/**\n* @namespace\n* @name Consts\n*/\n\nimport { IObject, OpenCloseCharacter } from \"./types\";\n\n/**\n* get string \"rgb\"\n* @memberof Color\n* @example\nimport {RGB} from \"@daybrush/utils\";\n\nconsole.log(RGB); // \"rgb\"\n*/\nexport const RGB = \"rgb\";\n/**\n* get string \"rgba\"\n* @memberof Color\n* @example\nimport {RGBA} from \"@daybrush/utils\";\n\nconsole.log(RGBA); // \"rgba\"\n*/\nexport const RGBA = \"rgba\";\n/**\n* get string \"hsl\"\n* @memberof Color\n* @example\nimport {HSL} from \"@daybrush/utils\";\n\nconsole.log(HSL); // \"hsl\"\n*/\nexport const HSL = \"hsl\";\n/**\n* get string \"hsla\"\n* @memberof Color\n* @example\nimport {HSLA} from \"@daybrush/utils\";\n\nconsole.log(HSLA); // \"hsla\"\n*/\nexport const HSLA = \"hsla\";\n/**\n* gets an array of color models.\n* @memberof Color\n* @example\nimport {COLOR_MODELS} from \"@daybrush/utils\";\n\nconsole.log(COLOR_MODELS); // [\"rgb\", \"rgba\", \"hsl\", \"hsla\"];\n*/\nexport const COLOR_MODELS = [RGB, RGBA, HSL, HSLA];\n\n/**\n* get string \"function\"\n* @memberof Consts\n* @example\nimport {FUNCTION} from \"@daybrush/utils\";\n\nconsole.log(FUNCTION); // \"function\"\n*/\nexport const FUNCTION = \"function\";\n/**\n* get string \"property\"\n* @memberof Consts\n* @example\nimport {PROPERTY} from \"@daybrush/utils\";\n\nconsole.log(PROPERTY); // \"property\"\n*/\nexport const PROPERTY = \"property\";\n/**\n* get string \"array\"\n* @memberof Consts\n* @example\nimport {ARRAY} from \"@daybrush/utils\";\n\nconsole.log(ARRAY); // \"array\"\n*/\nexport const ARRAY = \"array\";\n/**\n* get string \"object\"\n* @memberof Consts\n* @example\nimport {OBJECT} from \"@daybrush/utils\";\n\nconsole.log(OBJECT); // \"object\"\n*/\nexport const OBJECT = \"object\";\n/**\n* get string \"string\"\n* @memberof Consts\n* @example\nimport {STRING} from \"@daybrush/utils\";\n\nconsole.log(STRING); // \"string\"\n*/\nexport const STRING = \"string\";\n/**\n* get string \"number\"\n* @memberof Consts\n* @example\nimport {NUMBER} from \"@daybrush/utils\";\n\nconsole.log(NUMBER); // \"number\"\n*/\nexport const NUMBER = \"number\";\n/**\n* get string \"undefined\"\n* @memberof Consts\n* @example\nimport {UNDEFINED} from \"@daybrush/utils\";\n\nconsole.log(UNDEFINED); // \"undefined\"\n*/\nexport const UNDEFINED = \"undefined\";\n\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\nexport const IS_WINDOW = typeof window !== UNDEFINED;\n\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @name document\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\nconst doc = (typeof document !== UNDEFINED && document) as Document; // FIXME: this type maybe false\n\nexport {doc as document};\n\nconst prefixes: string[] = [\"webkit\", \"ms\", \"moz\", \"o\"];\n\n/**\n * @namespace CrossBrowser\n */\n\n/**\n* Get a CSS property with a vendor prefix that supports cross browser.\n* @function\n* @param {string} property - A CSS property\n* @return {string} CSS property with cross-browser vendor prefix\n* @memberof CrossBrowser\n* @example\nimport {getCrossBrowserProperty} from \"@daybrush/utils\";\n\nconsole.log(getCrossBrowserProperty(\"transform\")); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\nconsole.log(getCrossBrowserProperty(\"filter\")); // \"filter\", \"-webkit-filter\"\n*/\nexport const getCrossBrowserProperty =  /*#__PURE__*/(property: string) => {\n  if (!doc) {\n    return \"\";\n  }\n  const styles = (doc.body || doc.documentElement).style as any;\n  const length = prefixes.length;\n\n  if (typeof styles[property] !== UNDEFINED) {\n    return property;\n  }\n  for (let i = 0; i < length; ++i) {\n    const name = `-${prefixes[i]}-${property}`;\n\n    if (typeof styles[name] !== UNDEFINED) {\n      return name;\n    }\n  }\n  return \"\";\n};\n\n/**\n* get string \"transfrom\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {TRANSFORM} from \"@daybrush/utils\";\n\nconsole.log(TRANSFORM); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\n*/\nexport const TRANSFORM = /*#__PURE__*/getCrossBrowserProperty(\"transform\");\n/**\n* get string \"filter\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {FILTER} from \"@daybrush/utils\";\n\nconsole.log(FILTER); // \"filter\", \"-ms-filter\", \"-webkit-filter\"\n*/\nexport const FILTER = /*#__PURE__*/getCrossBrowserProperty(\"filter\");\n/**\n* get string \"animation\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {ANIMATION} from \"@daybrush/utils\";\n\nconsole.log(ANIMATION); // \"animation\", \"-ms-animation\", \"-webkit-animation\"\n*/\nexport const ANIMATION = /*#__PURE__*/getCrossBrowserProperty(\"animation\");\n/**\n* get string \"keyframes\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {KEYFRAMES} from \"@daybrush/utils\";\n\nconsole.log(KEYFRAMES); // \"keyframes\", \"-ms-keyframes\", \"-webkit-keyframes\"\n*/\nexport const KEYFRAMES = /*#__PURE__*/ANIMATION.replace(\"animation\", \"keyframes\");\n\nexport const OPEN_CLOSED_CHARACTERS: OpenCloseCharacter[] = [\n  { open: \"(\", close: \")\" },\n  { open: `\"`, close: `\"`},\n  { open: `'`, close: `'`},\n  { open: `\\\\\"`, close: `\\\\\"`},\n  { open: `\\\\'`, close: `\\\\'`},\n];\nexport const TINY_NUM = 0.0000001;\nexport const DEFAULT_UNIT_PRESETS: IObject<(pos: number, size?: number) => number> = {\n  \"cm\": pos => pos * 96 / 2.54,\n  \"mm\": pos => pos * 96 / 254,\n  \"in\": pos => pos * 96,\n  \"pt\": pos => pos * 96 / 72,\n  \"pc\": pos => pos * 96 / 6,\n  \"%\": (pos, size) => pos * size! / 100,\n  \"vw\": (pos, size = window.innerWidth) => pos / 100 * size,\n  \"vh\": (pos, size = window.innerHeight) => pos / 100 * size,\n  \"vmax\": (pos, size = Math.max(window.innerWidth, window.innerHeight)) => pos / 100 * size,\n  \"vmin\": (pos, size = Math.min(window.innerWidth, window.innerHeight)) => pos / 100 * size,\n};\n","import {\n  UNDEFINED, STRING,\n  OBJECT, FUNCTION,\n  IS_WINDOW, OPEN_CLOSED_CHARACTERS, NUMBER,\n  DEFAULT_UNIT_PRESETS,\n  TINY_NUM\n} from \"./consts\";\nimport { IArrayFormat, IObject, OpenCloseCharacter, SplitOptions } from \"./types\";\n/**\n* @namespace\n* @name Utils\n*/\n\n/**\n * Returns the inner product of two numbers(`a1`, `a2`) by two criteria(`b1`, `b2`).\n * @memberof Utils\n * @param - The first number\n * @param - The second number\n * @param - The first number to base on the inner product\n * @param - The second number to base on the inner product\n * @return - Returns the inner product\nimport { dot } from \"@daybrush/utils\";\n\nconsole.log(dot(0, 15, 2, 3)); // 6\nconsole.log(dot(5, 15, 2, 3)); // 9\nconsole.log(dot(5, 15, 1, 1)); // 10\n */\nexport function dot(a1: number, a2: number, b1: number, b2: number) {\n  return (a1 * b2 + a2 * b1) / (b1 + b2);\n}\n/**\n* Check the type that the value is undefined.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {boolean} true if the type is correct, false otherwise\n* @example\nimport {isUndefined} from \"@daybrush/utils\";\n\nconsole.log(isUndefined(undefined)); // true\nconsole.log(isUndefined(\"\")); // false\nconsole.log(isUndefined(1)); // false\nconsole.log(isUndefined(null)); // false\n*/\nexport function isUndefined(value: any): value is undefined {\n  return (typeof value === UNDEFINED);\n}\n/**\n* Check the type that the value is object.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isObject} from \"@daybrush/utils\";\n\nconsole.log(isObject({})); // true\nconsole.log(isObject(undefined)); // false\nconsole.log(isObject(\"\")); // false\nconsole.log(isObject(null)); // false\n*/\nexport function isObject(value: any): value is IObject<any> {\n  return value && (typeof value === OBJECT);\n}\n/**\n* Check the type that the value is isArray.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isArray} from \"@daybrush/utils\";\n\nconsole.log(isArray([])); // true\nconsole.log(isArray({})); // false\nconsole.log(isArray(undefined)); // false\nconsole.log(isArray(null)); // false\n*/\nexport function isArray(value: any): value is any[] {\n  return Array.isArray(value);\n}\n/**\n* Check the type that the value is string.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isString} from \"@daybrush/utils\";\n\nconsole.log(isString(\"1234\")); // true\nconsole.log(isString(undefined)); // false\nconsole.log(isString(1)); // false\nconsole.log(isString(null)); // false\n*/\nexport function isString(value: any): value is string {\n  return typeof value === STRING;\n}\n\nexport function isNumber(value: any): value is number {\n  return typeof value === NUMBER;\n}\n\n/**\n* Check the type that the value is function.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isFunction} from \"@daybrush/utils\";\n\nconsole.log(isFunction(function a() {})); // true\nconsole.log(isFunction(() => {})); // true\nconsole.log(isFunction(\"1234\")); // false\nconsole.log(isFunction(1)); // false\nconsole.log(isFunction(null)); // false\n*/\nexport function isFunction(value: any): value is (...args: any[]) => any {\n  return typeof value === FUNCTION;\n}\nfunction isEqualSeparator(\n  character: string,\n  separator: string,\n) {\n  const isCharacterSpace = character === \"\" || character == \" \";\n  const isSeparatorSpace = separator === \"\" || separator == \" \";\n\n  return (isSeparatorSpace && isCharacterSpace) || character === separator;\n}\nfunction findOpen(\n  openCharacter: OpenCloseCharacter,\n  texts: string[],\n  index: number,\n  length: number,\n  openCloseCharacters: OpenCloseCharacter[],\n) {\n  const isIgnore = findIgnore(openCharacter, texts, index);\n\n  if (!isIgnore) {\n    return findClose(openCharacter, texts, index + 1, length, openCloseCharacters);\n  }\n  return index;\n}\nfunction findIgnore(\n  character: OpenCloseCharacter,\n  texts: string[],\n  index: number,\n) {\n  if (!character.ignore) {\n    return null;\n  }\n  const otherText = texts.slice(Math.max(index - 3, 0), index + 3).join(\"\");\n\n  return new RegExp(character.ignore).exec(otherText);\n\n}\nfunction findClose(\n  closeCharacter: OpenCloseCharacter,\n  texts: string[],\n  index: number,\n  length: number,\n  openCloseCharacters: OpenCloseCharacter[],\n) {\n  for (let i = index; i < length; ++i) {\n    const character = texts[i].trim();\n\n    if (character === closeCharacter.close && !findIgnore(closeCharacter, texts, i)) {\n      return i;\n    }\n    let nextIndex = i;\n    // re open\n    const openCharacter = find(openCloseCharacters, ({ open }) => open === character);\n\n    if (openCharacter) {\n      nextIndex = findOpen(openCharacter, texts, i, length, openCloseCharacters);\n    }\n    if (nextIndex === -1) {\n      break;\n    }\n    i = nextIndex;\n  }\n  return -1;\n}\n\nexport function splitText(\n  text: string,\n  splitOptions: string | SplitOptions,\n) {\n  const {\n    separator = \",\",\n    isSeparateFirst,\n    isSeparateOnlyOpenClose,\n    isSeparateOpenClose = isSeparateOnlyOpenClose,\n    openCloseCharacters = OPEN_CLOSED_CHARACTERS,\n  } = isString(splitOptions) ? {\n    separator: splitOptions,\n  } as SplitOptions : splitOptions;\n  const openClosedText = openCloseCharacters.map(({ open, close }) => {\n    if (open === close) {\n      return open;\n    }\n    return `${open}|${close}`;\n  }).join(\"|\");\n  const regexText = `(\\\\s*${separator}\\\\s*|${openClosedText}|\\\\s+)`;\n  const regex = new RegExp(regexText, \"g\");\n  const texts = text.split(regex).filter(Boolean);\n  const length = texts.length;\n  const values: string[] = [];\n  let tempValues: string[] = [];\n\n  function resetTemp() {\n    if (tempValues.length) {\n      values.push(tempValues.join(\"\"));\n      tempValues = [];\n\n      return true;\n    }\n    return false;\n  }\n  for (let i = 0; i < length; ++i) {\n    const character = texts[i].trim();\n    let nextIndex = i;\n\n\n    const openCharacter = find(openCloseCharacters, ({ open }) => open === character);\n    const closeCharacter = find(openCloseCharacters, ({ close }) => close === character);\n\n    if (openCharacter) {\n      nextIndex = findOpen(openCharacter, texts, i, length, openCloseCharacters);\n\n      if (nextIndex !== -1 && isSeparateOpenClose) {\n        if (resetTemp() && isSeparateFirst) {\n          break;\n        }\n        values.push(texts.slice(i, nextIndex + 1).join(\"\"));\n        i = nextIndex;\n\n        if (isSeparateFirst) {\n          break;\n        }\n        continue;\n      }\n    } else if (closeCharacter && !findIgnore(closeCharacter, texts, i)) {\n      throw new Error(`invalid format: ${closeCharacter.close}`);\n    } else if (isEqualSeparator(character, separator) && !isSeparateOnlyOpenClose) {\n      resetTemp();\n      if (isSeparateFirst) {\n        break;\n      }\n      continue;\n    }\n\n    if (nextIndex === -1) {\n      nextIndex = length - 1;\n    }\n    tempValues.push(texts.slice(i, nextIndex + 1).join(\"\"));\n    i = nextIndex;\n  }\n  if (tempValues.length) {\n    values.push(tempValues.join(\"\"));\n  }\n  return values;\n}\n\n/**\n* divide text by space.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {spliceSpace} from \"@daybrush/utils\";\n\nconsole.log(splitSpace(\"a b c d e f g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitSpace(\"'a,b' c 'd,e' f g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\nexport function splitSpace(text: string) {\n  // divide comma(space)\n  return splitText(text, \"\");\n}\n\n/**\n* divide text by comma.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {splitComma} from \"@daybrush/utils\";\n\nconsole.log(splitComma(\"a,b,c,d,e,f,g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitComma(\"'a,b',c,'d,e',f,g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\nexport function splitComma(text: string): string[] {\n  // divide comma(,)\n  // \"[^\"]*\"|'[^']*'\n  return splitText(text, \",\");\n}\n/**\n* divide text by bracket \"(\", \")\".\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {object} divided texts\n* @example\nimport {splitBracket} from \"@daybrush/utils\";\n\nconsole.log(splitBracket(\"a(1, 2)\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"\"}\nconsole.log(splitBracket(\"a(1, 2)b\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"b\"}\n*/\nexport function splitBracket(text: string) {\n  const matches = (/([^(]*)\\(([\\s\\S]*)\\)([\\s\\S]*)/g).exec(text);\n\n  if (!matches || matches.length < 4) {\n    return {};\n  } else {\n    return { prefix: matches[1], value: matches[2], suffix: matches[3] };\n  }\n}\n/**\n* divide text by number and unit.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {} divided texts\n* @example\nimport {splitUnit} from \"@daybrush/utils\";\n\nconsole.log(splitUnit(\"10px\"));\n// {prefix: \"\", value: 10, unit: \"px\"}\nconsole.log(splitUnit(\"-10px\"));\n// {prefix: \"\", value: -10, unit: \"px\"}\nconsole.log(splitUnit(\"a10%\"));\n// {prefix: \"a\", value: 10, unit: \"%\"}\n*/\nexport function splitUnit(text: string): { prefix: string, unit: string, value: number } {\n  const matches = /^([^\\d|e|\\-|\\+]*)((?:\\d|\\.|-|e-|e\\+)+)(\\S*)$/g.exec(text);\n\n  if (!matches) {\n    return { prefix: \"\", unit: \"\", value: NaN };\n  }\n  const prefix = matches[1];\n  const value = matches[2];\n  const unit = matches[3];\n\n  return { prefix, unit, value: parseFloat(value) };\n}\n\n/**\n* transform strings to camel-case\n* @memberof Utils\n* @param {String} text - string\n* @return {String} camel-case string\n* @example\nimport {camelize} from \"@daybrush/utils\";\n\nconsole.log(camelize(\"transform-origin\")); // transformOrigin\nconsole.log(camelize(\"abcd_efg\")); // abcdEfg\nconsole.log(camelize(\"abcd efg\")); // abcdEfg\n*/\nexport function camelize(str: string) {\n  return str.replace(/[\\s-_]([a-z])/g, (all, letter) => letter.toUpperCase());\n}\n/**\n* transform a camelized string into a lowercased string.\n* @memberof Utils\n* @param {string} text - a camel-cased string\n* @param {string} [separator=\"-\"] - a separator\n* @return {string}  a lowercased string\n* @example\nimport {decamelize} from \"@daybrush/utils\";\n\nconsole.log(decamelize(\"transformOrigin\")); // transform-origin\nconsole.log(decamelize(\"abcdEfg\", \"_\")); // abcd_efg\n*/\nexport function decamelize(str: string, separator: string = \"-\") {\n  return str.replace(/([a-z])([A-Z])/g, (all, letter, letter2) => `${letter}${separator}${letter2.toLowerCase()}`);\n}\n\n/**\n* transforms something in an array into an array.\n* @memberof Utils\n* @param - Array form\n* @return an array\n* @example\nimport {toArray} from \"@daybrush/utils\";\n\nconst arr1 = toArray(document.querySelectorAll(\".a\")); // Element[]\nconst arr2 = toArray(document.querySelectorAll<HTMLElement>(\".a\")); // HTMLElement[]\n*/\nexport function toArray<T>(value: IArrayFormat<T>): T[] {\n  return [].slice.call(value);\n}\n\n/**\n* Date.now() method\n* @memberof CrossBrowser\n* @return {number} milliseconds\n* @example\nimport {now} from \"@daybrush/utils\";\n\nconsole.log(now()); // 12121324241(milliseconds)\n*/\nexport function now() {\n  return Date.now ? Date.now() : new Date().getTime();\n}\n\n/**\n* Returns the index of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findIndex` was called upon.\n* @param - A function to execute on each value in the array until the function returns true, indicating that the satisfying element was found.\n* @param - Returns defaultIndex if not found by the function.\n* @example\nimport { findIndex } from \"@daybrush/utils\";\n\nfindIndex([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // 1\n*/\nexport function findIndex<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defaultIndex: number = -1,\n): number {\n  const length = arr.length;\n\n  for (let i = 0; i < length; ++i) {\n    if (callback(arr[i], i, arr)) {\n      return i;\n    }\n  }\n  return defaultIndex;\n}\n\n/**\n* Returns the reverse direction index of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findLastIndex` was called upon.\n* @param - A function to execute on each value in the array until the function returns true, indicating that the satisfying element was found.\n* @param - Returns defaultIndex if not found by the function.\n* @example\nimport { findLastIndex } from \"@daybrush/utils\";\n\nfindLastIndex([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // 1\n*/\nexport function findLastIndex<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defaultIndex: number = -1,\n): number {\n  const length = arr.length;\n\n  for (let i = length - 1; i >= 0; --i) {\n    if (callback(arr[i], i, arr)) {\n      return i;\n    }\n  }\n  return defaultIndex;\n}\n\n/**\n* Returns the value of the reverse direction element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findLast` was called upon.\n* @param - A function to execute on each value in the array,\n* @param - Returns defalutValue if not found by the function.\n* @example\nimport { find } from \"@daybrush/utils\";\n\nfind([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // {a: 2}\n*/\nexport function findLast<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defalutValue?: T,\n): T | undefined {\n  const index = findLastIndex(arr, callback);\n\n  return index > - 1 ? arr[index] : defalutValue;\n}\n/**\n* Returns the value of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `find` was called upon.\n* @param - A function to execute on each value in the array,\n* @param - Returns defalutValue if not found by the function.\n* @example\nimport { find } from \"@daybrush/utils\";\n\nfind([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // {a: 2}\n*/\nexport function find<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defalutValue?: T,\n): T | undefined {\n  const index = findIndex(arr, callback);\n\n  return index > - 1 ? arr[index] : defalutValue;\n}\n\n/**\n* window.requestAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {FrameRequestCallback} callback - The function to call when it's time to update your animation for the next repaint.\n* @return {number} id\n* @example\nimport {requestAnimationFrame} from \"@daybrush/utils\";\n\nrequestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n*/\nexport const requestAnimationFrame = /*#__PURE__*/(() => {\n  const firstTime = now();\n  const raf = IS_WINDOW\n    && (window.requestAnimationFrame || window.webkitRequestAnimationFrame\n      || (window as any).mozRequestAnimationFrame || (window as any).msRequestAnimationFrame);\n\n  return raf ? (raf.bind(window) as (callback: FrameRequestCallback) => number) : ((callback: FrameRequestCallback) => {\n    const currTime = now();\n    const id = window.setTimeout(() => {\n      callback(currTime - firstTime);\n    }, 1000 / 60);\n    return id;\n  });\n})();\n\n/**\n* window.cancelAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {number} handle - the id obtained through requestAnimationFrame method\n* @return {void}\n* @example\nimport { requestAnimationFrame, cancelAnimationFrame } from \"@daybrush/utils\";\n\nconst id = requestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n\ncancelAnimationFrame(id);\n*/\nexport const cancelAnimationFrame = /*#__PURE__*/(() => {\n  const caf = IS_WINDOW\n    && (window.cancelAnimationFrame || window.webkitCancelAnimationFrame\n      || (window as any).mozCancelAnimationFrame || (window as any).msCancelAnimationFrame);\n\n  return caf\n    ? caf.bind(window) as (handle: number) => void\n    : ((handle: number) => { clearTimeout(handle); });\n})();\n/**\n* @function\n* @memberof Utils\n*/\nexport function getKeys(obj: IObject<any>): string[] {\n  if (Object.keys) {\n    return Object.keys(obj);\n  }\n  const keys: string[] = [];\n  for (const name in keys) {\n    keys.push(name);\n  }\n  return keys;\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function sortOrders(keys: Array<string | number>, orders: Array<string | number> = []) {\n  keys.sort((a, b) => {\n    const index1 = orders.indexOf(a);\n    const index2 = orders.indexOf(b);\n\n    if (index2 === -1 && index1 === -1) {\n      return 0;\n    }\n    if (index1 === -1) {\n      return 1;\n    }\n    if (index2 === -1) {\n      return -1;\n    }\n    return index1 - index2;\n  });\n}\n\n/**\n* convert unit size to px size\n* @function\n* @memberof Utils\n*/\nexport function convertUnitSize(pos: string, size: number | IObject<((pos: number) => number) | number>) {\n  const { value, unit } = splitUnit(pos);\n\n  if (isObject(size)) {\n    const sizeFunction = size[unit];\n    if (sizeFunction) {\n      if (isFunction(sizeFunction)) {\n        return sizeFunction(value);\n      } else if (DEFAULT_UNIT_PRESETS[unit]) {\n        return DEFAULT_UNIT_PRESETS[unit](value, sizeFunction);\n      }\n    }\n  } else if (unit === \"%\") {\n    return value * size / 100;\n  }\n  if (DEFAULT_UNIT_PRESETS[unit]) {\n    return DEFAULT_UNIT_PRESETS[unit](value);\n  }\n  return value;\n}\n\n/**\n* calculate between min, max\n* @function\n* @memberof Utils\n*/\nexport function between(value: number, min: number, max: number): number {\n  return Math.max(min, Math.min(value, max));\n}\n\nexport function checkBoundSize(targetSize: number[], compareSize: number[], isMax: boolean) {\n  return [\n    [throttle(compareSize[0], TINY_NUM), throttle(compareSize[0] * targetSize[1] / targetSize[0], TINY_NUM)],\n    [throttle(compareSize[1] * targetSize[0] / targetSize[1], TINY_NUM), throttle(compareSize[1], TINY_NUM)],\n  ].filter(size => size.every((value, i) => {\n    return isMax ? value <= compareSize[i] : value >= compareSize[i];\n  }))[0] || targetSize;\n}\n\n/**\n* calculate bound size\n* @function\n* @memberof Utils\n*/\nexport function calculateBoundSize(\n  size: number[], minSize: number[],\n  maxSize: number[], keepRatio?: boolean,\n): number[] {\n  if (!keepRatio) {\n    return size.map((value, i) => between(value, minSize[i], maxSize[i]));\n  }\n  let [width, height] = size;\n  // width : height = minWidth : minHeight;\n  const [minWidth, minHeight] = checkBoundSize(size, minSize, false);\n  const [maxWidth, maxHeight] = checkBoundSize(size, maxSize, true);\n\n  if (width < minWidth || height < minHeight) {\n    width = minWidth;\n    height = minHeight;\n  } else if (width > maxWidth || height > maxHeight) {\n    width = maxWidth;\n    height = maxHeight;\n  }\n  return [width, height];\n}\n\n\n/**\n* Add all the numbers.\n* @function\n* @memberof Utils\n*/\nexport function sum(nums: number[]): number {\n  const length = nums.length;\n  let total = 0;\n\n  for (let i = length - 1; i >= 0; --i) {\n    total += nums[i];\n  }\n  return total;\n}\n\n/**\n* Average all numbers.\n* @function\n* @memberof Utils\n*/\nexport function average(nums: number[]) {\n  const length = nums.length;\n  let total = 0;\n\n  for (let i = length - 1; i >= 0; --i) {\n    total += nums[i];\n  }\n  return length ? total / length : 0;\n}\n/**\n* Get the angle of two points. (0 <= rad < 359)\n* @function\n* @memberof Utils\n*/\nexport function getRad(pos1: number[], pos2: number[]): number {\n  const distX = pos2[0] - pos1[0];\n  const distY = pos2[1] - pos1[1];\n  const rad = Math.atan2(distY, distX);\n\n  return rad >= 0 ? rad : rad + Math.PI * 2;\n}\n/**\n* Get the average point of all points.\n* @function\n* @memberof Utils\n*/\nexport function getCenterPoint(points: number[][]): number[] {\n  return [0, 1].map(i => average(points.map(pos => pos[i])));\n}\n/**\n* Gets the direction of the shape.\n* @function\n* @memberof Utils\n*/\nexport function getShapeDirection(points: number[][]): 1 | -1 {\n  const center = getCenterPoint(points);\n  const pos1Rad = getRad(center, points[0]);\n  const pos2Rad = getRad(center, points[1]);\n\n  return (pos1Rad < pos2Rad && pos2Rad - pos1Rad < Math.PI) || (pos1Rad > pos2Rad && pos2Rad - pos1Rad < -Math.PI)\n    ? 1 : -1;\n}\n\n/**\n* Get the distance between two points.\n* @function\n* @memberof Utils\n*/\nexport function getDist(a: number[], b?: number[]) {\n  return Math.sqrt(Math.pow((b ? b[0] : 0) - a[0], 2) + Math.pow((b ? b[1] : 0) - a[1], 2));\n}\n\n/**\n* throttle number depending on the unit.\n* @function\n* @memberof Utils\n*/\nexport function throttle(num: number, unit?: number) {\n  if (!unit) {\n    return num;\n  }\n  return Math.round(num / unit) * unit;\n}\n\n/**\n* throttle number array depending on the unit.\n* @function\n* @memberof Utils\n*/\nexport function throttleArray(nums: number[], unit?: number) {\n  nums.forEach((_, i) => {\n    nums[i] = throttle(nums[i], unit);\n  });\n  return nums;\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function counter(num: number): number[] {\n  const nums: number[] = [];\n\n  for (let i = 0; i < num; ++i) {\n    nums.push(i);\n  }\n\n  return nums;\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function replaceOnce(text: string, fromText: RegExp | string, toText: string | ((...args: any[]) => string)): string {\n  let isOnce = false;\n  return text.replace(fromText, (...args: any[]) => {\n    if (isOnce) {\n      return args[0];\n    }\n    isOnce = true;\n    return isString(toText) ? toText : toText(...args);\n  });\n}\n","import * as React from \"react\";\nimport { ref } from \"framework-utils\";\nimport { RulerInterface, RulerProps } from \"./types\";\nimport { between, convertUnitSize } from \"@daybrush/utils\";\n\nexport default class Ruler extends React.PureComponent<RulerProps> implements RulerInterface {\n    public static defaultProps: RulerProps = {\n        type: \"horizontal\",\n        zoom: 1,\n        width: 0,\n        height: 0,\n        unit: 50,\n        negativeRuler: true,\n        mainLineSize: \"100%\",\n        longLineSize: 10,\n        shortLineSize: 7,\n        segment: 10,\n        direction: \"end\",\n        style: { width: \"100%\", height: \"100%\" },\n        backgroundColor: \"#333333\",\n        font: \"10px sans-serif\",\n        textColor: \"#ffffff\",\n        lineColor: \"#777777\",\n        range: [-Infinity, Infinity],\n    };\n    public divisionsElement!: HTMLElement;\n    public state = {\n        scrollPos: 0,\n    };\n    public canvasElement!: HTMLCanvasElement;\n    private canvasContext!: CanvasRenderingContext2D;\n    private width: number = 0;\n    private height: number = 0;\n    public render() {\n        return (<canvas\n            ref={ref(this, \"canvasElement\")}\n            style={this.props.style} />);\n\n    }\n    public componentDidMount() {\n        const canvas = this.canvasElement;\n        const context = canvas.getContext(\"2d\")!;\n\n        this.canvasContext = context;\n\n        this.resize();\n    }\n    public componentDidUpdate() {\n        this.resize();\n    }\n    /**\n     * @method Ruler#scroll\n     * @param scrollPos\n     */\n    public scroll(scrollPos: number) {\n        this.draw(scrollPos);\n    }\n    /**\n     * @method Ruler#resize\n     */\n    public resize() {\n        const canvas = this.canvasElement;\n        const {\n            width,\n            height,\n            scrollPos,\n        } = this.props;\n\n        this.width = width || canvas.offsetWidth;\n        this.height = height || canvas.offsetHeight;\n        canvas.width = this.width * 2;\n        canvas.height = this.height * 2;\n        this.draw(scrollPos);\n    }\n    private draw(scrollPos: number = this.state.scrollPos) {\n        const props = this.props;\n        const {\n            unit,\n            zoom,\n            type,\n            backgroundColor,\n            lineColor,\n            textColor,\n            direction,\n            negativeRuler = true,\n            segment = 10,\n            textFormat,\n            range = [-Infinity, Infinity],\n        } = props as Required<RulerProps>;\n        const width = this.width;\n        const height = this.height;\n        const state = this.state;\n        state.scrollPos = scrollPos;\n        const context = this.canvasContext;\n        const isHorizontal = type === \"horizontal\";\n        const isDirectionStart = direction === \"start\";\n        const isNegative = negativeRuler !== false;\n        const font = props.font || \"10px sans-serif\";\n        const textAlign = props.textAlign || \"left\";\n        const textOffset = props.textOffset || [0, 0];\n        const containerSize = isHorizontal ? height : width;\n        const mainLineSize = convertUnitSize(`${props.mainLineSize || \"100%\"}`, containerSize);\n        const longLineSize = convertUnitSize(`${props.longLineSize || 10}`, containerSize);\n        const shortLineSize = convertUnitSize(`${props.shortLineSize || 7}`, containerSize);\n\n        if (backgroundColor === \"transparent\") {\n            // Clear existing paths & text\n            context.clearRect(0, 0, width * 2, height * 2);\n        } else {\n            // Draw the background\n            context.rect(0, 0, width * 2, height * 2);\n            context.fillStyle = backgroundColor;\n            context.fill();\n        }\n\n        context.save();\n        context.scale(2, 2);\n        context.strokeStyle = lineColor;\n        context.lineWidth = 1;\n        context.font = font;\n        context.fillStyle = textColor;\n\n        if (isDirectionStart) {\n            context.textBaseline = \"top\";\n        }\n        context.translate(0.5, 0);\n        context.beginPath();\n\n        const size = isHorizontal ? width : height;\n        const zoomUnit = zoom * unit;\n        const minRange = Math.floor(scrollPos * zoom / zoomUnit);\n        const maxRange = Math.ceil((scrollPos * zoom + size) / zoomUnit);\n        const length = maxRange - minRange;\n        const alignOffset = Math.max([\"left\", \"center\", \"right\"].indexOf(textAlign) - 1, -1);\n\n\n\n        for (let i = 0; i <= length; ++i) {\n            const value = i + minRange;\n\n            if (!isNegative && value < 0) {\n                continue;\n            }\n            const startValue = value * unit;\n            const startPos = (startValue - scrollPos) * zoom;\n\n            for (let j = 0; j < segment; ++j) {\n                const pos = startPos + j / segment * zoomUnit;\n                const value = startValue + j / segment * unit;\n\n                if (pos < 0 || pos >= size || value < range[0] || value > range[1]) {\n                    continue;\n                }\n                const lineSize = j === 0\n                    ? mainLineSize\n                    : (j % 2 === 0 ? longLineSize : shortLineSize);\n\n                const [x1, y1] = isHorizontal\n                    ? [pos, isDirectionStart ? 0 : height - lineSize]\n                    : [isDirectionStart ? 0 : width - lineSize, pos];\n                const [x2, y2] = isHorizontal ? [x1, y1 + lineSize] : [x1 + lineSize, y1];\n                context.moveTo(x1, y1);\n                context.lineTo(x2, y2);\n            }\n\n            if (startPos < -zoomUnit || startPos >= size + unit * zoom || startValue < range[0] || startValue > range[1]) {\n                continue;\n            }\n            const [startX, startY] = isHorizontal\n                ? [startPos + alignOffset * -3, isDirectionStart ? 17 : height - 17]\n                : [isDirectionStart ? 17 : width - 17, startPos + alignOffset * 3];\n\n            let text = `${startValue}`;\n\n            if (textFormat) {\n                text = textFormat(startValue);\n            }\n\n            context.textAlign = textAlign;\n            if (isHorizontal) {\n                context.fillText(text, startX + textOffset[0], startY + textOffset[1]);\n            } else {\n                context.save();\n                context.translate(startX + textOffset[0], startY + textOffset[1]);\n                context.rotate(-Math.PI / 2);\n                context.fillText(text, 0, 0);\n                context.restore();\n            }\n        }\n        context.stroke();\n        context.restore();\n    }\n}\n","export function prefixNames(prefix: string, ...classNames: string[]) {\n    return classNames\n        .map((className) =>\n            className\n                .split(\" \")\n                .map((name) => (name ? `${prefix}${name}` : \"\"))\n                .join(\" \")\n        )\n        .join(\" \");\n}\n\nexport function prefixCSS(prefix: string, css: string) {\n    return css.replace(/([^}{]*){/gm, (_, selector) => {\n        return `${selector.replace(/\\.([^{,\\s\\d.]+)/g, `.${prefix}$1`)}{`;\n    });\n}\n\n/* react */\nexport function ref(target: any, name: string) {\n    return (e: any) => {\n        e && (target[name] = e);\n    };\n}\nexport function refs(target: any, name: string, i: number) {\n    return (e: any) => {\n        e && (target[name][i] = e);\n    };\n}\n\n/* Class Decorator */\nexport function Properties(\n    properties: any[],\n    action: (prototype: any, property: string) => any\n) {\n    return (component: any) => {\n        const prototype = component.prototype;\n\n        properties.forEach((property) => {\n            action(prototype, property);\n        });\n    };\n}\n\n/* Property Decorator */\nexport function withMethods(\n    methods: readonly string[],\n    duplicate: { [name: string]: string } = {}\n) {\n    return (prototype: any, propertyName: string) => {\n        methods.forEach((name) => {\n            const methodName = duplicate[name] || name;\n\n            if (methodName in prototype) {\n                return;\n            }\n            prototype[methodName] = function (...args) {\n                const result = this[propertyName][name](...args);\n\n                if (result === this[propertyName]) {\n                    return this;\n                } else {\n                    return result;\n                }\n            };\n        });\n    };\n}\n\nexport type ParametersType<Func, Return> = Func extends (\n    ...params: infer Params\n) => any\n    ? (...params: Params) => Return\n    : never;\n\nexport type ExcludeInterface<Obj1, Obj2> = {\n    [key in Exclude<keyof Obj1, keyof Obj2>]: Obj1[key];\n};\n\nexport type EntriesObject<T> = {\n    [key in keyof T]: [key, Readonly<T[key]>];\n};\nexport type FindKey<E, V> = E extends [infer U, V] ? U & string : never;\nexport type InvertObject<\n    T extends Record<string, any>,\n    En extends Record<string, any> = EntriesObject<T>\n    > = {\n        [key in En[keyof En][1]]: FindKey<En[keyof En], key>\n    };\n\nexport type Entries<\n    Obj extends { [key: string]: any },\n    Key = keyof Obj\n> = Key extends string ? [Key, Obj[Key]] : never;\n\nexport type ReverseKey<\n    Key extends string,\n    Obj extends { [key: string]: any },\n    E = Entries<Obj>\n> = E extends [infer Value, Key] ? Value : never;\n\nexport type UniqueMethodInterface<\n    Methods,\n    Target extends Methods,\n    ReturnTarget extends any,\n    Duplicate extends { [key: string]: any }\n> = {\n    [key in keyof ExcludeInterface<Methods, Duplicate>]: Methods[key] extends (\n        ...params: any[]\n    ) => Target\n        ? ParametersType<Methods[key], ReturnTarget>\n        : Methods[key];\n};\n\nexport type ChangedMethodInterface<\n    Methods,\n    Target extends Methods,\n    ReturnTarget extends any,\n    Duplicate extends { [key: string]: any }\n> = {\n    [key in Duplicate[keyof Duplicate]]: Methods[ReverseKey<key, Duplicate> &\n        keyof Methods] extends (...params: any[]) => Target\n        ? ParametersType<\n              Methods[ReverseKey<key, Duplicate> & keyof Methods],\n              ReturnTarget\n          >\n        : Methods[ReverseKey<key, Duplicate> & keyof Methods];\n};\n\nexport type MethodInterface<\n    Methods,\n    Target extends Methods,\n    ReturnTarget extends any,\n    Duplicate extends { [key: string]: any } = {}\n> = UniqueMethodInterface<Methods, Target, ReturnTarget, Duplicate> &\n    ChangedMethodInterface<Methods, Target, ReturnTarget, Duplicate>;\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","/**\r\n * @description class that encapsulates a block of points, where a jump stitch is normally formed between blocks\r\n */\r\nclass Block {\r\n\tpublic stitches: paper.Point[];\r\n\tpublic colour: paper.Color | null;\r\n\r\n\tpublic constructor(\r\n\t\tpoints: paper.Point[] = [],\r\n\t\tcolour: paper.Color | null = null\r\n\t) {\r\n\t\tthis.stitches = points;\r\n\t\tthis.colour = colour;\r\n\t}\r\n}\r\n\r\nexport default Block;\r\n","export enum embroideryTypes {\r\n\t\"exp\",\r\n}\r\n","//TODO: consider if path continues far away, jump stitch away\r\n\r\n/**\r\n * @description generates a set of points along a given path, with each point a stitchLength units away\r\n * @param {paper.Path} path path that the stitches will go across\r\n * @param {number} stitchLength length between points\r\n * @param {boolean} [omitLast] exclude the last point or not\r\n * @returns {paper.Point[]} points at which stitches are made at\r\n */\r\nfunction runningPath(path: paper.Path, stitchLength: number): paper.Point[] {\r\n\tlet buffer = [];\r\n\tconst totalDistance = path.length;\r\n\tlet anchorDistances = [];\r\n\r\n\t// get anchor points\r\n\tfor (let i = 0; i < path.segments.length - 1; i++) {\r\n\t\tanchorDistances.push(path.getOffsetOf(path.segments[i].point));\r\n\t}\r\n\r\n\tfor (let i = 0; i < Math.floor(totalDistance / stitchLength) + 1; i++) {\r\n\t\tconst curDistance = stitchLength * i;\r\n\t\t//used a while loop just in case there are loads of anchors in a short space\r\n\t\twhile (anchorDistances.length > 0 && curDistance > anchorDistances[0]) {\r\n\t\t\t// already checked if array is not empty with the length condition, idky typsecript did not catch it\r\n\t\t\t//@ts-ignore\r\n\t\t\tbuffer.push(path.getPointAt(anchorDistances.shift()));\r\n\t\t}\r\n\r\n\t\tbuffer.push(path.getPointAt(curDistance));\r\n\t}\r\n\r\n\tif (buffer.length > 2) {\r\n\t\tbuffer.unshift(buffer[0], buffer[1], buffer[0], buffer[1]); // tie-in\r\n\t}\r\n\r\n\t// if the last point in the array is not equal to the end point, add the end point\r\n\tif (buffer[buffer.length - 1] !== path.getPointAt(path.length)) {\r\n\t\tbuffer.push(path.getPointAt(path.length));\r\n\t}\r\n\r\n\tif (buffer.length > 2) {\r\n\t\tbuffer.push(\r\n\t\t\tbuffer[buffer.length - 2],\r\n\t\t\tbuffer[buffer.length - 1],\r\n\t\t\tbuffer[buffer.length - 2],\r\n\t\t\tbuffer[buffer.length - 1]\r\n\t\t); // tie-out\r\n\t}\r\n\r\n\treturn buffer;\r\n}\r\n\r\nexport default runningPath;\r\n","import Paper from \"paper\";\r\n\r\n/**\r\n * @description\r\n * @param {paper.Point} start start point of the stitch block\r\n * @param {paper.Point} end end point of the stitch block\r\n * @param {number} stitchLength maximum length between stitches\r\n * @param {boolean} omitLast remove last point or not\r\n * @param {number} [percentOffset] percentage offset in relation to the stitch length to add at the start of the block\r\n * @returns list of points that make up the straight line defined.\r\n */\r\nfunction straightSubdivision(\r\n\tstart: paper.Point,\r\n\tend: paper.Point,\r\n\tstitchLength: number,\r\n\tomitLast: boolean = false,\r\n\tpercentOffset: number = 0\r\n): paper.Point[] {\r\n\tlet buffer: paper.Point[] = [];\r\n\tlet totalDistance = start.getDistance(end);\r\n\r\n\t// if total distance is less than or equal to stitch length, or the total distance is bigger than the percent offset ...\r\n\tif (\r\n\t\ttotalDistance <= stitchLength &&\r\n\t\t(percentOffset % 100 === 0 ||\r\n\t\t\ttotalDistance <= stitchLength * (percentOffset / 100))\r\n\t) {\r\n\t\tif (omitLast) return [start];\r\n\t\telse return [start, end];\r\n\t}\r\n\r\n\t// offset the line if percentage offset is not a full offset\r\n\tif (percentOffset % 100 !== 0) {\r\n\t\tbuffer.push(start);\r\n\t\tstart = getPointDistanceAway(\r\n\t\t\tstart,\r\n\t\t\tend,\r\n\t\t\tstitchLength * (percentOffset / 100)\r\n\t\t);\r\n\t\ttotalDistance = start.getDistance(end);\r\n\t}\r\n\r\n\tfor (let i = 0; i < Math.floor(totalDistance / stitchLength) + 1; i++) {\r\n\t\tbuffer.push(getPointDistanceAway(start, end, stitchLength * i));\r\n\t}\r\n\r\n\t// if will not omit last, and the last point in the array is not equal to the end point, add the end point\r\n\tif (\r\n\t\t!omitLast &&\r\n\t\tbuffer[buffer.length - 1].x !== end.x &&\r\n\t\tbuffer[buffer.length - 1].y !== end.y\r\n\t)\r\n\t\tbuffer.push(end);\r\n\r\n\treturn buffer;\r\n}\r\n\r\n/**\r\n * @description Gets the point\r\n * @param start start point\r\n * @param end end point\r\n * @param distance desired distance away from the start point\r\n * @returns\r\n */\r\nfunction getPointDistanceAway(\r\n\tstart: paper.Point,\r\n\tend: paper.Point,\r\n\tdistance: number\r\n): paper.Point {\r\n\tconst totalDistance = start.getDistance(end);\r\n\r\n\tif (totalDistance === 0 || distance === 0) return start;\r\n\r\n\t// https://math.stackexchange.com/a/2045181/553498\r\n\treturn new Paper.Point(\r\n\t\tstart.x + (distance / totalDistance) * (end.x - start.x),\r\n\t\tstart.y + (distance / totalDistance) * (end.y - start.y)\r\n\t);\r\n}\r\n\r\nexport default straightSubdivision;\r\n","import straightSubdivision from \"./straightSubdivision\";\r\nimport Paper from \"paper\";\r\n\r\n/**\r\n * @description generates a set of points that\r\n * @param {paper.Point} path path that the normals will be calculated at\r\n * @param {number} width width of the satin (bottom to top)\r\n * @param {number} stitchLength maximum length of a stitch in a satin stitch, a higher number is normally used because of the straightness\r\n * @param {number} spaceBetweenNormals distance at which the normals are calculated at\r\n * @returns {paper.Point[]} points at which stitches are made at\r\n */\r\nfunction satinPath(\r\n\tpath: paper.Path,\r\n\twidth: number,\r\n\tstitchLength: number = 10,\r\n\tspaceBetweenNormals: number = 1\r\n): paper.Point[] {\r\n\tlet preBuffer: [paper.Point, paper.Point, number][] = [];\r\n\tlet buffer: paper.Point[] = [];\r\n\r\n\tfor (\r\n\t\tlet i = 0;\r\n\t\ti < Math.floor(path.length / spaceBetweenNormals) + 1;\r\n\t\ti++\r\n\t) {\r\n\t\tlet vector = path.getNormalAt(spaceBetweenNormals * i);\r\n\t\t// add bottom then top of the normal to make the up and down pattern\r\n\t\tpreBuffer.push([\r\n\t\t\tpath\r\n\t\t\t\t.getPointAt(spaceBetweenNormals * i)\r\n\t\t\t\t.add(vector.multiply(width / 2).multiply(-1)),\r\n\t\t\tpath\r\n\t\t\t\t.getPointAt(spaceBetweenNormals * i)\r\n\t\t\t\t.add(vector.multiply(width / 2)),\r\n\t\t\tspaceBetweenNormals * i,\r\n\t\t]);\r\n\t}\r\n\r\n\tlet lastOffset = 0;\r\n\r\n\tfor (let i = 0; i < preBuffer.length; i++) {\r\n\t\tconst start = preBuffer[i][0];\r\n\t\tconst end = preBuffer[i][1];\r\n\r\n\t\t// if (isInRanges(preBuffer[i][2], ranges)) {\r\n\t\t// \tlet c = new Paper.Shape.Circle(start, 1);\r\n\t\t// \tc.fillColor = new Paper.Color(\"red\");\r\n\t\t// }\r\n\r\n\t\t// add offset only if the distance is larger than the stitch length, increment offset to change it every normal\r\n\t\tif (start.getDistance(end, false) > Math.pow(stitchLength, 2)) {\r\n\t\t\tlastOffset = (lastOffset + 20) % 100;\r\n\t\t} else {\r\n\t\t\tlastOffset = 0;\r\n\t\t}\r\n\r\n\t\tstraightSubdivision(\r\n\t\t\tstart,\r\n\t\t\tend,\r\n\t\t\tstitchLength,\r\n\t\t\tfalse,\r\n\t\t\tlastOffset\r\n\t\t).forEach((p) => buffer.push(p));\r\n\t}\r\n\r\n\tif (buffer.length > 2) {\r\n\t\tbuffer.unshift(buffer[0], buffer[1], buffer[0], buffer[1]); // tie-in\r\n\t}\r\n\r\n\tif (buffer.length > 2) {\r\n\t\tbuffer.push(\r\n\t\t\tbuffer[buffer.length - 2],\r\n\t\t\tbuffer[buffer.length - 1],\r\n\t\t\tbuffer[buffer.length - 2],\r\n\t\t\tbuffer[buffer.length - 1]\r\n\t\t); // tie-off\r\n\t}\r\n\r\n\treturn buffer;\r\n}\r\n\r\n//#region delete this in project hand in\r\n\r\n// todo: consider types of joins\r\n// fixme: when doing the overlap prevention, it takes the normals in conseration, which results in the prevention being offset. Can't do reverse because same issue will come up. Can do some trig uckery to fix. Or create a bounding box of the overlapping shape and detect all points in it. Maybe even do colour analysis by making it transparent and finding all the areas which it is overlapping, then matching the points in it.\r\n\r\n/**\r\n * @description checks for places at which a curve self touches, and returns ranges at which satin stitches should not occur.\r\n * @param path path to check against\r\n * @param width total width of the path\r\n * @returns {[number, number][]} ranges at which satin should not occur\r\n */\r\nfunction getExclusionRanges(\r\n\tpath: paper.Path,\r\n\twidth: number\r\n): [number, number][] {\r\n\tconst pathClone = path.clone({ insert: false });\r\n\tlet trailingPath: paper.Path;\r\n\tlet headerPath: paper.Path;\r\n\tconst accuracy = 5; // check every ___ mm. Lower number reduces chances of path intersections not being found, but increases computation time\r\n\tlet intersectPoints: paper.Point[] = [];\r\n\r\n\t// fix: pathClone.divideAt() divides original path too, although cloning it, maybe shallow copy?\r\n\tfor (let i = 1; i < Math.floor(pathClone.length / accuracy); i++) {\r\n\t\tlet newSegment = pathClone.divideAt(accuracy * i);\r\n\t\ttrailingPath = new Paper.Path(\r\n\t\t\tpathClone.segments.slice(\r\n\t\t\t\t0,\r\n\t\t\t\tpathClone.segments.findIndex((seg) => seg === newSegment) + 1\r\n\t\t\t)\r\n\t\t);\r\n\t\theaderPath = new Paper.Path(\r\n\t\t\tpathClone.segments.slice(\r\n\t\t\t\tpathClone.segments.findIndex((seg) => seg === newSegment) + 1,\r\n\t\t\t\tpathClone.segments.length\r\n\t\t\t)\r\n\t\t);\r\n\r\n\t\t// for all the points, only add points where there are no already existing intersections less than 0.2 units away.\r\n\t\ttrailingPath.getIntersections(headerPath).forEach((e) => {\r\n\t\t\tlet skipFlag = false;\r\n\t\t\tfor (let i = 0; i < intersectPoints.length; i++) {\r\n\t\t\t\tif (intersectPoints[i].getDistance(e.point) < 0.2) {\r\n\t\t\t\t\tskipFlag = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!skipFlag) intersectPoints.push(e.point);\r\n\t\t});\r\n\t}\r\n\r\n\treturn intersectPoints.map((e) => {\r\n\t\treturn [\r\n\t\t\tpath.getNearestLocation(e).offset - width / 2,\r\n\t\t\tpath.getNearestLocation(e).offset + width / 2,\r\n\t\t];\r\n\t});\r\n}\r\n\r\nfunction isInRanges(distance: number, ranges: [number, number][]): boolean {\r\n\tfor (let i = 0; i < ranges.length; i++) {\r\n\t\tconst range = ranges[i];\r\n\t\tif (distance >= range[0] && distance <= range[1]) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\n//#endregion\r\n\r\nexport default satinPath;\r\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import Paper from \"paper\";\r\n\r\nfunction rowGutter(\r\n\tpath: paper.PathItem,\r\n\tspacing: number = 0.5,\r\n\tnormal: paper.Point\r\n) {\r\n\t// Lines do not need to be created across the whole project, only the bounding box. The length of each line can be calculated, and how many extra line are needed below and above the bounding bow using the normal given. Lines need to overflow initially since rotating the shapes will leave empty space if that is not done\r\n\tconst bounding = path.bounds;\r\n\tconst hypotenuse = Math.sqrt(\r\n\t\tMath.pow(bounding.width, 2) + Math.pow(bounding.height, 2)\r\n\t);\r\n\tconst offset = hypotenuse / 2;\r\n\r\n\tconst lower = -Math.abs(\r\n\t\tMath.ceil(Math.sin(normal.angleInRadians) * hypotenuse)\r\n\t);\r\n\tconst upper = Math.ceil(-lower + bounding.height);\r\n\r\n\tlet lines: paper.Path[] = [];\r\n\r\n\tfor (let y = 0; y < Math.ceil((upper - lower) / spacing) + 1; y++) {\r\n\t\tconst pStart = new Paper.Point(\r\n\t\t\tbounding.bottomLeft.x - offset,\r\n\t\t\tbounding.bottomCenter.y - y * spacing - lower\r\n\t\t);\r\n\t\tconst pEnd = new Paper.Point(\r\n\t\t\tbounding.bottomRight.x + offset,\r\n\t\t\tbounding.bottomCenter.y - y * spacing - lower\r\n\t\t);\r\n\t\tlet tempLine = new Paper.Path.Line(pStart, pEnd);\r\n\r\n\t\ttempLine.rotate(normal.angle, bounding.center);\r\n\t\tlines.push(tempLine);\r\n\t}\r\n\r\n\tlet gutterLines: paper.CurveLocation[][] = [];\r\n\r\n\tlines.forEach((line) => {\r\n\t\tlet intersectPoints: paper.CurveLocation[] =\r\n\t\t\tpath.getIntersections(line);\r\n\r\n\t\tconst initialPoint = line.segments[0].point;\r\n\r\n\t\t// sort intersection points in order by how far away they are from the inital start point of the line\r\n\t\tintersectPoints.sort((a, b) => {\r\n\t\t\tif (\r\n\t\t\t\tinitialPoint.getDistance(a.point, false) >\r\n\t\t\t\tinitialPoint.getDistance(b.point, false)\r\n\t\t\t)\r\n\t\t\t\treturn 1;\r\n\t\t\telse if (\r\n\t\t\t\tinitialPoint.getDistance(a.point, false) <\r\n\t\t\t\tinitialPoint.getDistance(b.point, false)\r\n\t\t\t)\r\n\t\t\t\treturn -1;\r\n\t\t\treturn 0;\r\n\t\t});\r\n\r\n\t\tif (intersectPoints.length <= 1) return;\r\n\r\n\t\tif (intersectPoints.length % 2 === 1) {\r\n\t\t\tdelete intersectPoints[intersectPoints.length - 1];\r\n\t\t}\r\n\r\n\t\tgutterLines.push(intersectPoints);\r\n\t});\r\n\r\n\treturn gutterLines;\r\n}\r\n\r\nexport default rowGutter;\r\n","class Graph {\r\n\tpublic referenceTable: paper.CurveLocation[] = [];\r\n\tpublic adjacencyList: number[][];\r\n\r\n\tconstructor(curveLocations: paper.CurveLocation[]) {\r\n\t\tthis.adjacencyList = new Array(curveLocations.length);\r\n\t\tthis.referenceTable = curveLocations;\r\n\t\tfor (let i = 0; i < curveLocations.length; i++) {\r\n\t\t\tthis.adjacencyList[i] = [];\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param cl1 vertex 1\r\n\t * @param cl2 vertex 2\r\n\t * @param sufficient whether the path finding algorithm will stop once all of the sufficient edges have been visited\r\n\t * @returns {boolean} if the edge has been added\r\n\t */\r\n\tpublic addEdge(\r\n\t\tcl1: paper.CurveLocation,\r\n\t\tcl2: paper.CurveLocation\r\n\t): boolean {\r\n\t\tif (cl1 === cl2) return false;\r\n\r\n\t\tconst index1 = this.referenceTable.findIndex((value) => {\r\n\t\t\tif (value.point === cl1.point) return true;\r\n\t\t\treturn false;\r\n\t\t});\r\n\t\tconst index2 = this.referenceTable.findIndex((value) => {\r\n\t\t\tif (value.point === cl2.point) return true;\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t\tif (index1 === -1 || index2 === -1) return false;\r\n\r\n\t\tthis.adjacencyList[index1].push(index2);\r\n\t\tthis.adjacencyList[index2].push(index1);\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t * @description checks whether a path is a type of eulorian\r\n\t * @returns 0 not eulorian; 1 eulorian cycle; 2 eulorian path\r\n\t */\r\n\tprivate isEulorian(): number {\r\n\t\tif (!this.isConnected()) return 0;\r\n\r\n\t\tlet numOdd = 0;\r\n\r\n\t\tfor (const adj of this.adjacencyList) {\r\n\t\t\tif (adj.length % 2 === 1) numOdd++;\r\n\t\t}\r\n\r\n\t\tif (numOdd === 0) return 1;\r\n\t\telse if (numOdd === 2) return 2;\r\n\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t/**\r\n\t * @description checks if a graph is connected\r\n\t * @returns {boolean} if the vertecies in the graph that have edges > 0 are connected\r\n\t */\r\n\tprivate isConnected(): boolean {\r\n\t\tlet visited: boolean[] = new Array(this.adjacencyList.length);\r\n\t\tlet i;\r\n\r\n\t\tfor (i = 0; i < this.adjacencyList.length; i++) visited[i] = false;\r\n\r\n\t\tfor (i = 0; i < this.adjacencyList.length; i++)\r\n\t\t\tif (this.adjacencyList[i].length !== 0) break;\r\n\r\n\t\tif (i === this.adjacencyList.length) return true;\r\n\r\n\t\tthis.recursionCheck(i, visited);\r\n\r\n\t\tfor (i = 0; i < this.adjacencyList.length; i++)\r\n\t\t\tif (visited[i] === false && this.adjacencyList[i].length > 0)\r\n\t\t\t\treturn false;\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t * @description helper function for the isConnected() function\r\n\t * @param {number} i vertex to check\r\n\t * @param {boolean[]} visited vertex visited status\r\n\t */\r\n\tpublic recursionCheck(\r\n\t\ti: number,\r\n\t\tvisited: boolean[],\r\n\t\tadj: number[][] = this.adjacencyList\r\n\t) {\r\n\t\tvisited[i] = true;\r\n\r\n\t\tfor (let node of adj[i]) {\r\n\t\t\tif (!visited[node]) this.recursionCheck(node, visited);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @description hierholzer's algorithm to find the an eulorian path, with a sufficiency of the edges between the intersections\r\n\t * @param closestPoint choose the vertex closest to this point, to start at with a eulorian cycle\r\n\t * @returns {number[]} path to take\r\n\t */\r\n\tpublic getEulorianPath(startingVertex = 0): paper.CurveLocation[] | false {\r\n\t\tconst eulroianResult = this.isEulorian();\r\n\t\tlet curVertex = startingVertex;\r\n\r\n\t\t// TODO: fix eurlorian result for custom starting point\r\n\t\t// // get point to start at closest point\r\n\t\t// if (eulroianResult === 1) {\r\n\t\t// \t// eulorian cycle, can start from anywhere\r\n\t\t// \tcurVertex = startingVertex;\r\n\t\t// } else if (eulroianResult === 2) {\r\n\t\t// \t// if its a eulorian path, must choose one of the 2 odd vertecies\r\n\t\t// \tfor (let i = 0; i < this.adjacencyList.length; i++) {\r\n\t\t// \t\tif (this.adjacencyList[i].length % 2 === 1) {\r\n\t\t// \t\t\tcurVertex = i;\r\n\t\t// \t\t\tbreak;\r\n\t\t// \t\t}\r\n\t\t// \t}\r\n\t\t// } else {\r\n\t\t// \tconsole.log(\"reached here\");\r\n\t\t// \treturn false;\r\n\t\t// }\r\n\r\n\t\tlet cPath: number[] = [];\r\n\t\tlet ePath: number[] = [];\r\n\r\n\t\tcPath.push(curVertex);\r\n\r\n\t\twhile (cPath.length > 0) {\r\n\t\t\tconst u = cPath[cPath.length - 1];\r\n\r\n\t\t\t// all edges are visited\r\n\t\t\tif (this.adjacencyList[u].length === 0) {\r\n\t\t\t\tePath.push(u);\r\n\t\t\t\tcPath.pop();\r\n\t\t\t} else {\r\n\t\t\t\tcPath.push(this.adjacencyList[u][0]);\r\n\t\t\t\tconst index1 = u;\r\n\t\t\t\tconst index2 = this.adjacencyList[u][0];\r\n\t\t\t\tthis.removeEdge(index1, index2);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ePath.map((e) => this.referenceTable[e]);\r\n\t}\r\n\r\n\tprivate removeEdge(\r\n\t\tu: number,\r\n\t\tv: number,\r\n\t\tadj: number[][] = this.adjacencyList\r\n\t) {\r\n\t\tif (adj[u].includes(v)) adj[u].splice(adj[u].indexOf(v), 1);\r\n\t\tif (adj[v].includes(u)) adj[v].splice(adj[v].indexOf(u), 1);\r\n\t}\r\n\r\n\t// private removeVertex(\r\n\t// \ti: number,\r\n\t// \tadj: number[][] = this.adjacencyList,\r\n\t// \tref: paper.CurveLocation[] = this.referenceTable\r\n\t// ) {\r\n\t// \t// remove vertex from vertex list\r\n\t// \tadj.splice(i, 1);\r\n\t// \tref.splice(i, 1);\r\n\r\n\t// \t// remove vertex from edge list\r\n\t// \tfor (let i = 0; i < adj.length; i++) {\r\n\t// \t\tfor (let j = 0; j < adj[i].length; j++) {\r\n\t// \t\t\tif (adj[i][j] === i) adj[i].splice(j, 1);\r\n\t// \t\t}\r\n\t// \t}\r\n\r\n\t// \t// decrease all edge index references by 1 if above i\r\n\t// \tfor (let i = 0; i < adj.length; i++) {\r\n\t// \t\tfor (let j = 0; j < adj[i].length; j++) {\r\n\t// \t\t\tif (adj[i][j] > i) adj[i][j]--;\r\n\t// \t\t}\r\n\t// \t}\r\n\t// }\r\n}\r\n\r\nexport default Graph;\r\n","import Paper from \"paper\";\r\n\r\nimport rowGutter from \"./rowGutter\";\r\nimport itemToPathItem from \"../../svg/itemToPathItem\";\r\nimport Graph from \"../Graph\";\r\nimport Block from \"../Block\";\r\nimport straightSubdivision from \"./straightSubdivision\";\r\n\r\nasync function fillPath(\r\n\tpath: paper.PathItem,\r\n\tstitchLength: number = 2.7,\r\n\tcarryOnPoint: paper.Point | null = null,\r\n\tfillGutterSpacing: number = 1\r\n): Promise<paper.Point[][] | false> {\r\n\tlet tempPath: string = \"\";\r\n\tlet tempItem;\r\n\tif (path.hasChildren()) tempItem = path.children[0];\r\n\telse tempItem = path;\r\n\r\n\tconst tempPathItem = await itemToPathItem(tempItem);\r\n\tif (tempPathItem === undefined || tempPathItem?.pathData === undefined)\r\n\t\treturn false;\r\n\r\n\ttempPath = tempPathItem.pathData;\r\n\r\n\tconst directionVector = getDirectionVector(tempPath);\r\n\r\n\tconst rows = rowGutter(path, fillGutterSpacing, directionVector);\r\n\tconst flattenedCL = ([] as paper.CurveLocation[]).concat(...rows);\r\n\r\n\tlet graph = new Graph(flattenedCL);\r\n\r\n\t// add gutter edges\r\n\tfor (const row of rows) {\r\n\t\tfor (let i = 0; i < row.length; i += 2) {\r\n\t\t\tgraph.addEdge(row[i], row[i + 1]);\r\n\t\t}\r\n\t}\r\n\r\n\t// add outline edges\r\n\tlet clByOutline: { [id: string]: paper.CurveLocation[] } = {};\r\n\r\n\t// categorise by path id\r\n\tfor (const cl of flattenedCL) {\r\n\t\tif (Object.keys(clByOutline).includes(cl.curve.path.id.toString())) {\r\n\t\t\tclByOutline[cl.curve.path.id.toString()].push(cl);\r\n\t\t} else {\r\n\t\t\tclByOutline[cl.curve.path.id.toString()] = [cl];\r\n\t\t}\r\n\t}\r\n\r\n\tfor (const key of Object.keys(clByOutline)) {\r\n\t\t// sort all curve locations by the path offset\r\n\t\tclByOutline[key].sort((a, b) => {\r\n\t\t\tconst d1 =\r\n\t\t\t\ta.path.getOffsetOf(a.point) ||\r\n\t\t\t\ta.path.getOffsetOf(a.path.getNearestPoint(a.point));\r\n\t\t\tconst d2 =\r\n\t\t\t\tb.path.getOffsetOf(b.point) ||\r\n\t\t\t\tb.path.getOffsetOf(b.path.getNearestPoint(b.point));\r\n\r\n\t\t\tif (d1 > d2) {\r\n\t\t\t\treturn 1;\r\n\t\t\t} else {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// add all the edges between the curve locations\r\n\t\tfor (let i = 0; i < clByOutline[key].length; i++) {\r\n\t\t\tconst e1: paper.CurveLocation = clByOutline[key][i];\r\n\t\t\tconst e2: paper.CurveLocation =\r\n\t\t\t\tclByOutline[key][(i + 1) % clByOutline[key].length];\r\n\r\n\t\t\tgraph.addEdge(e1, e2);\r\n\t\t\t// add edge every other one to ensure even verteces\r\n\t\t\tif (i % 2 === 1) graph.addEdge(e1, e2);\r\n\t\t}\r\n\t}\r\n\r\n\tlet pointBlocks: paper.Point[][] = [];\r\n\r\n\t/*\r\npublic getConnectedSubGraphs(): Graph[] {\r\n\t\tcreate a copy of the variables\r\n\t\tlet adj = [...this.adjacencyList];\r\n\t\tlet ref = [...this.referenceTable];\r\n\t\tlet graphs: Graph[] = [];\r\n\r\n\t\twhile (adj.length > 0) {\r\n\t\t\tlet visited: boolean[] = new Array(adj.length);\r\n\r\n\t\t\tvisited.fill(false);\r\n\r\n\t\t\tthis.recursionCheck(0, visited, adj);\r\n\r\n\t\t\tlet G = new Graph(ref.filter((_val, i) => visited[i] === true));\r\n\r\n\t\t\tadd edges in new graph\r\n\t\t\tvisited.forEach((e, i) => {\r\n\t\t\t\tif (e) {\r\n\t\t\t\t\tadj[i]\r\n\t\t\t\t\t\t.map((e, i) => ref[e])\r\n\t\t\t\t\t\t.forEach((e) => {\r\n\t\t\t\t\t\t\tconsole.log(G.addEdge(ref[i], e));\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tremove edges in current graph\r\n\t\t\tfor (let i = visited.length - 1; i > -1; i--) {\r\n\t\t\t\tif (visited[i]) this.removeVertex(i);\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log(G.adjacencyList, adj);\r\n\r\n\t\t\tgraphs.push(G);\r\n\t\t}\r\n\r\n\t\treturn graphs;\r\n\t}\r\n\t*/\r\n\r\n\t// get connected subgraphs\r\n\tlet visitedIndexed: number[] = new Array(graph.adjacencyList.length);\r\n\tvisitedIndexed.fill(0);\r\n\tlet counter = 1;\r\n\twhile (visitedIndexed.includes(0)) {\r\n\t\tconst startIndex = visitedIndexed.indexOf(0);\r\n\t\tif (startIndex === -1) break;\r\n\r\n\t\tlet curVisited: boolean[] = new Array(graph.adjacencyList.length);\r\n\t\tcurVisited.fill(false);\r\n\r\n\t\tgraph.recursionCheck(startIndex, curVisited);\r\n\r\n\t\tfor (let i = 0; i < curVisited.length; i++) {\r\n\t\t\tif (curVisited[i]) {\r\n\t\t\t\tvisitedIndexed[i] = counter;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcounter++;\r\n\t}\r\n\r\n\tfor (let i = 1; i < counter; i++) {\r\n\t\tlet availableVertices: number[] = [];\r\n\r\n\t\tfor (let j = 0; j < visitedIndexed.length; j++) {\r\n\t\t\tif (visitedIndexed[j] === i) availableVertices.push(j);\r\n\t\t}\r\n\r\n\t\tconst result = graph.getEulorianPath(availableVertices[0]);\r\n\t\tlet buffer: paper.Point[] = [];\r\n\r\n\t\tif (result) {\r\n\t\t\tfor (let i = 0; i < result.length - 1; i++) {\r\n\t\t\t\tconst divisons = straightSubdivision(\r\n\t\t\t\t\tresult[i].point,\r\n\t\t\t\t\tresult[i + 1].point,\r\n\t\t\t\t\tstitchLength,\r\n\t\t\t\t\ttrue\r\n\t\t\t\t);\r\n\t\t\t\tbuffer.push(...divisons);\r\n\t\t\t}\r\n\t\t\tbuffer.push(result[result.length - 1].point);\r\n\t\t\tpointBlocks.push(buffer);\r\n\t\t}\r\n\t}\r\n\r\n\treturn pointBlocks;\r\n}\r\n\r\nfunction getDirectionVector(pathData: string): paper.Point {\r\n\t//already made sure the item cannot be a CompoundPath\r\n\t//@ts-ignore\r\n\tconst path: paper.Path = Paper.Path.create(pathData);\r\n\r\n\tconst precision = 1;\r\n\tconst halfDistance = path.length / 2;\r\n\tlet totalX = 0;\r\n\tlet totalY = 0;\r\n\r\n\tfor (let i = 0; i < Math.floor(halfDistance / precision) + 1; i++) {\r\n\t\tconst point = path.getNormalAt(i * precision);\r\n\t\ttotalX += point.x;\r\n\t\ttotalY += point.y;\r\n\t}\r\n\r\n\treturn new Paper.Point(\r\n\t\ttotalX / Math.floor(halfDistance / precision),\r\n\t\ttotalY / Math.floor(halfDistance / precision)\r\n\t);\r\n}\r\n\r\nexport default fillPath;\r\n","import Paper from \"paper\";\r\n\r\nimport Block from \"./Block\";\r\nimport { embroideryTypes } from \"../../types/embroideryTypes.d\";\r\nimport getLeafItems from \"../svg/getLeafItems\";\r\nimport runningPath from \"./convert/runningPath\";\r\nimport satinPath from \"./convert/satinPath\";\r\nimport itemToPathItem from \"../svg/itemToPathItem\";\r\nimport straightSubdivision from \"./convert/straightSubdivision\";\r\nimport FileSaver from \"file-saver\";\r\nimport fillPath from \"./convert/fillPath\";\r\nimport eventBus from \"../eventBus\";\r\n\r\n// NOTE: 1 unit on the canvas is 1mm, but since most embroider file types use an arbitrary unit of max 127 and min -127, the units will be divided by 10 to give an accuracy of 1/10mm for the embroidery file types, with a maximum of 12.7mm distance between jumps and stitches.\r\n\r\nclass Container {\r\n\tpublic sequence: Block[] = [];\r\n\r\n\tpublic async convertToBlocks(layer: paper.Layer) {\r\n\t\tthis.sequence = [];\r\n\r\n\t\tconst leafItems: paper.Item[] = getLeafItems(layer);\r\n\t\tconst stitchLength =\r\n\t\t\tparseFloat(window.localStorage.getItem(\"stitchLength\") || \"2.7\") ||\r\n\t\t\t2.7;\r\n\t\tconst spaceBetweenNormals =\r\n\t\t\tparseFloat(\r\n\t\t\t\twindow.localStorage.getItem(\"spaceBetweenNormals\") || \"1\"\r\n\t\t\t) || 1;\r\n\t\tconst satinStitchLength =\r\n\t\t\tparseFloat(\r\n\t\t\t\twindow.localStorage.getItem(\"satinStitchLength\") || \"10\"\r\n\t\t\t) || 10;\r\n\t\tconst fillGutterSpacing =\r\n\t\t\tparseFloat(\r\n\t\t\t\twindow.localStorage.getItem(\"fillGutterSpacing\") || \"1\"\r\n\t\t\t) || 1;\r\n\r\n\t\tfor (const item of leafItems) {\r\n\t\t\tlet strokeFlag = false;\r\n\t\t\tif (item.hasFill()) {\r\n\t\t\t\tconst pathItem = await itemToPathItem(item);\r\n\t\t\t\tif (pathItem === undefined) continue;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet result = await fillPath(\r\n\t\t\t\t\t\tpathItem,\r\n\t\t\t\t\t\tstitchLength,\r\n\t\t\t\t\t\tthis.sequence.length > 0\r\n\t\t\t\t\t\t\t? this.sequence[this.sequence.length - 1].stitches[\r\n\t\t\t\t\t\t\t\t\tthis.sequence[this.sequence.length - 1]\r\n\t\t\t\t\t\t\t\t\t\t.stitches.length - 1\r\n\t\t\t\t\t\t\t  ]\r\n\t\t\t\t\t\t\t: null,\r\n\t\t\t\t\t\tfillGutterSpacing\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (result) {\r\n\t\t\t\t\t\tfor (const section of result) {\r\n\t\t\t\t\t\t\tthis.sequence.push(\r\n\t\t\t\t\t\t\t\tnew Block(section, item.fillColor)\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\t// shape probabily too small, just make the perimeter\r\n\t\t\t\t\tstrokeFlag = true;\r\n\t\t\t\t\tconsole.log(\"error: \" + err);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (item.hasStroke() || strokeFlag) {\r\n\t\t\t\tif (item.hasChildren()) {\r\n\t\t\t\t\tlet pathDatas: string[] = [];\r\n\r\n\t\t\t\t\tfor (const i of item.children) {\r\n\t\t\t\t\t\tlet result = (await itemToPathItem(i))?.pathData;\r\n\t\t\t\t\t\tif (result === undefined) continue;\r\n\t\t\t\t\t\tpathDatas.push(result);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpathDatas.forEach((path) => {\r\n\t\t\t\t\t\tthis.sequence.push(\r\n\t\t\t\t\t\t\tthis.strokeToBlock(\r\n\t\t\t\t\t\t\t\tpath,\r\n\t\t\t\t\t\t\t\titem.strokeWidth,\r\n\t\t\t\t\t\t\t\tstitchLength,\r\n\t\t\t\t\t\t\t\tspaceBetweenNormals,\r\n\t\t\t\t\t\t\t\tsatinStitchLength,\r\n\t\t\t\t\t\t\t\titem.strokeColor || new Paper.Color(\"black\")\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst pathData = (await itemToPathItem(item))?.pathData;\r\n\t\t\t\t\tif (pathData === undefined) return;\r\n\r\n\t\t\t\t\tthis.sequence.push(\r\n\t\t\t\t\t\tthis.strokeToBlock(\r\n\t\t\t\t\t\t\tpathData,\r\n\t\t\t\t\t\t\titem.strokeWidth,\r\n\t\t\t\t\t\t\tstitchLength,\r\n\t\t\t\t\t\t\tspaceBetweenNormals,\r\n\t\t\t\t\t\t\tsatinStitchLength,\r\n\t\t\t\t\t\t\titem.strokeColor || new Paper.Color(\"black\")\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\teventBus.dispatch(\"setCanvasLayer\", this.convertToSVG());\r\n\t}\r\n\r\n\tprivate strokeToBlock(\r\n\t\tpath: string,\r\n\t\twidth: number,\r\n\t\tstitchLength: number,\r\n\t\tspaceBetweenNormals: number,\r\n\t\tsatinStitchLength: number,\r\n\t\tcolour: paper.Color\r\n\t): Block {\r\n\t\tif (width > 4)\r\n\t\t\treturn new Block(\r\n\t\t\t\tsatinPath(\r\n\t\t\t\t\tnew Paper.Path(path),\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\tsatinStitchLength,\r\n\t\t\t\t\tspaceBetweenNormals\r\n\t\t\t\t),\r\n\t\t\t\tcolour\r\n\t\t\t);\r\n\t\telse\r\n\t\t\treturn new Block(\r\n\t\t\t\trunningPath(new Paper.Path(path), stitchLength),\r\n\t\t\t\tcolour\r\n\t\t\t);\r\n\t}\r\n\r\n\tpublic convertToSVG(): paper.Layer | undefined {\r\n\t\tif (this.sequence.length === 0) return;\r\n\t\tlet commands: [string, \"solid\" | \"dashed\", paper.Color][] = [];\r\n\r\n\t\tfor (let i = 0; i < this.sequence.length; i++) {\r\n\t\t\tconst block = this.sequence[i];\r\n\t\t\tlet command = `M ${block.stitches[0].x.toFixed(\r\n\t\t\t\t1\r\n\t\t\t)},${block.stitches[0].y.toFixed(1)}`;\r\n\r\n\t\t\t// create a jump stitch path from last point\r\n\t\t\tif (i > 0) {\r\n\t\t\t\tcommands.push([\r\n\t\t\t\t\t`M ${this.sequence[i - 1].stitches[0].x.toFixed(\r\n\t\t\t\t\t\t1\r\n\t\t\t\t\t)},${this.sequence[i - 1].stitches[0].y.toFixed(\r\n\t\t\t\t\t\t1\r\n\t\t\t\t\t)} L ${block.stitches[0].x.toFixed(\r\n\t\t\t\t\t\t1\r\n\t\t\t\t\t)},${block.stitches[0].y.toFixed(1)}`,\r\n\t\t\t\t\t\"dashed\",\r\n\t\t\t\t\tblock.colour || new Paper.Color(\"black\"),\r\n\t\t\t\t]);\r\n\t\t\t}\r\n\r\n\t\t\t// creates straight line to next absolute stitch position\r\n\t\t\tfor (let j = 1; j < block.stitches.length; j++) {\r\n\t\t\t\tconst S = block.stitches[j];\r\n\t\t\t\tcommand += ` L ${S.x.toFixed(1)},${S.y.toFixed(1)}`;\r\n\t\t\t}\r\n\r\n\t\t\tcommands.push([\r\n\t\t\t\tcommand,\r\n\t\t\t\t\"solid\",\r\n\t\t\t\tblock.colour || new Paper.Color(\"black\"),\r\n\t\t\t]);\r\n\t\t}\r\n\r\n\t\tlet layer = new Paper.Layer({ insert: false });\r\n\r\n\t\tcommands.forEach((command) => {\r\n\t\t\tlet path = Paper.PathItem.create(command[0]);\r\n\t\t\tpath.strokeColor = command[2];\r\n\t\t\tpath.strokeCap = \"round\";\r\n\t\t\tpath.strokeJoin = \"round\";\r\n\t\t\tpath.strokeWidth = 0.5;\r\n\t\t\tif (command[1] === \"dashed\") {\r\n\t\t\t\tpath.dashArray = [2, 2];\r\n\t\t\t\tpath.opacity = 1;\r\n\t\t\t}\r\n\t\t\tlayer.addChild(path);\r\n\t\t});\r\n\r\n\t\teventBus.dispatch(\"setCanvasLayer\", layer);\r\n\t\treturn layer;\r\n\t}\r\n\r\n\tpublic convertToEmbroidery(type: embroideryTypes, filename: string) {\r\n\t\tif (this.sequence.length === 0) return;\r\n\t\tswitch (type) {\r\n\t\t\tcase embroideryTypes.exp:\r\n\t\t\t\tthis.convertToExp(filename.replace(\" \", \"_\"));\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate convertToExp(filename: string) {\r\n\t\tlet preBytes: [\"stitch\" | \"jump\" | \"end\" | \"stop\", number, number][] =\r\n\t\t\t[];\r\n\t\tlet cP: paper.Point = this.sequence[0].stitches[0];\r\n\t\tlet prevColour: paper.Color | null = this.sequence[0].colour;\r\n\r\n\t\t// sanitizes the sequence (removes blocks with <3 stitches, removes null points)\r\n\t\tlet newSequence = this.sequence\r\n\t\t\t.filter((block) => block.stitches.length > 2)\r\n\t\t\t.map((block) => {\r\n\t\t\t\treturn new Block(\r\n\t\t\t\t\tblock.stitches.filter((stitch) => stitch !== null),\r\n\t\t\t\t\tblock.colour\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\tfor (let i = 0; i < newSequence.length; i++) {\r\n\t\t\tconst block = newSequence[i];\r\n\r\n\t\t\t// colour change if colour not the same\r\n\t\t\tif (\r\n\t\t\t\tprevColour?.red !== block.colour?.red ||\r\n\t\t\t\tprevColour?.green !== block.colour?.green ||\r\n\t\t\t\tprevColour?.blue !== block.colour?.blue\r\n\t\t\t) {\r\n\t\t\t\tpreBytes.push([\"stop\", 0, 0]);\r\n\t\t\t\tprevColour = block.colour;\r\n\t\t\t}\r\n\r\n\t\t\t// jump to new block if points not the same\r\n\t\t\tif (cP !== block.stitches[0]) {\r\n\t\t\t\t// prevent jumping too far (max 12.7mm)\r\n\t\t\t\tconst jumpPoints = straightSubdivision(\r\n\t\t\t\t\tcP,\r\n\t\t\t\t\tblock.stitches[0],\r\n\t\t\t\t\t12.7,\r\n\t\t\t\t\tfalse\r\n\t\t\t\t);\r\n\r\n\t\t\t\t// ignore first point since starting from there\r\n\t\t\t\tfor (let j = 1; j < jumpPoints.length; j++) {\r\n\t\t\t\t\tconst nP = jumpPoints[j];\r\n\t\t\t\t\tlet dX = Math.trunc((nP.x - cP.x) * 10);\r\n\t\t\t\t\tlet dY = -Math.trunc((nP.y - cP.y) * 10);\r\n\t\t\t\t\tpreBytes.push([\"jump\", dX, dY]);\r\n\t\t\t\t\t// adjust the new point with the difference in mind, this prevents offset\r\n\t\t\t\t\tcP = new Paper.Point(cP.x + dX / 10, cP.y - dY / 10);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (let s = 0; s < block.stitches.length; s++) {\r\n\t\t\t\tconst nP = block.stitches[s];\r\n\t\t\t\tlet dX = Math.trunc((nP.x - cP.x) * 10);\r\n\t\t\t\tlet dY = -Math.trunc((nP.y - cP.y) * 10);\r\n\t\t\t\tpreBytes.push([\"stitch\", dX, dY]);\r\n\t\t\t\t// adjust the new point with the difference in mind, this prevents offset\r\n\t\t\t\tcP = new Paper.Point(cP.x + dX / 10, cP.y - dY / 10);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpreBytes.push([\"end\", 0, 0]);\r\n\r\n\t\t// compute total byte size of the file. 2 bytes per control command, 2 per coordinates\r\n\t\tlet length = 0;\r\n\t\tpreBytes.forEach((command) => {\r\n\t\t\tif (command[0] === \"end\" || command[0] === \"stitch\") length += 2;\r\n\t\t\telse if (command[0] === \"stop\" || command[0] === \"jump\")\r\n\t\t\t\tlength += 4;\r\n\t\t});\r\n\r\n\t\tlet bytes = new Int8Array(length);\r\n\t\tlet counter = 0;\r\n\r\n\t\t// convert commands to bytes https://edutechwiki.unige.ch/en/Embroidery_format_EXP\r\n\t\tpreBytes.forEach((command) => {\r\n\t\t\tswitch (command[0]) {\r\n\t\t\t\tcase \"stitch\":\r\n\t\t\t\t\tbytes.set([command[1], command[2]], counter);\r\n\t\t\t\t\tcounter += 2;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"end\":\r\n\t\t\t\t\tbytes.set([-128, -128], counter);\r\n\t\t\t\t\tcounter += 2;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"stop\":\r\n\t\t\t\t\tbytes.set([-128, 1, 0, 0], counter);\r\n\t\t\t\t\tcounter += 4;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"jump\":\r\n\t\t\t\t\tbytes.set([-128, 2, command[1], command[2]], counter);\r\n\t\t\t\t\tcounter += 4;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tFileSaver(new Blob([bytes]), filename + \".exp\");\r\n\t}\r\n}\r\n\r\nexport default Container;\r\n","import React, { useRef, useEffect } from \"react\";\r\nimport Paper from \"paper\";\r\nimport useState from \"react-usestateref\";\r\nimport Ruler from \"@scena/react-ruler\";\r\n\r\nimport options from \"../../data/options.json\";\r\nimport eventBus from \"../../lib/eventBus\";\r\nimport UndoRedoTool from \"../../lib/canvas/UndoRedoTool\";\r\nimport Container from \"../../lib/stitch/Container\";\r\nimport removeOverlap from \"../../lib/svg/removeOverlap\";\r\nimport normaliseColours from \"../../lib/svg/normaliseColours\";\r\nimport { embroideryTypes } from \"../../types/embroideryTypes.d\";\r\n\r\ninterface Props {}\r\n\r\nconst Canvas: React.FC<Props> = (props) => {\r\n\tconst canvasRef = useRef<HTMLCanvasElement>(null);\r\n\tconst horizontalRulerRef = useRef<any>(null);\r\n\tconst verticalRulerRef = useRef<any>(null);\r\n\t// prevent selection for a short while after dragging\r\n\tconst [preventSelect, setPreventSelect, refPreventSelect] = useState(false);\r\n\tconst [timer, setTimer] = useState<NodeJS.Timeout>();\r\n\tconst fileInputRef = useRef<HTMLInputElement>(null);\r\n\tconst [topLeftPos, setTopLeftPos] = useState<paper.Point>(\r\n\t\tnew Paper.Point(0, 0)\r\n\t);\r\n\tconst [viewZoom, setViewZoom] = useState(1);\r\n\r\n\tfunction onClickItemEvent(e: paper.MouseEvent) {\r\n\t\t// prevent from selecting items below it\r\n\t\te.stopPropagation();\r\n\t\t// allow for multi selection only if holding control key at the same time\r\n\t\tif (!refPreventSelect.current) {\r\n\t\t\tif (!e.modifiers.control)\r\n\t\t\t\tPaper.project.selectedItems.forEach((el) => {\r\n\t\t\t\t\tif (el !== e.target) el.selected = false;\r\n\t\t\t\t});\r\n\t\t\te.target.selected = !e.target.selected;\r\n\t\t}\r\n\t\teventBus.dispatch(\"selectedItemsChanged\", {});\r\n\t}\r\n\r\n\tfunction updateRulerDimensions() {\r\n\t\tsetTopLeftPos(Paper.view.viewToProject(new Paper.Point(0, 0)));\r\n\t\tsetViewZoom(Paper.view.zoom);\r\n\r\n\t\tif (horizontalRulerRef.current) {\r\n\t\t\thorizontalRulerRef.current.resize();\r\n\t\t}\r\n\t\tif (verticalRulerRef.current) {\r\n\t\t\tverticalRulerRef.current.resize();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setCenter() {\r\n\t\tPaper.view.center = new Paper.Point(\r\n\t\t\tPaper.project.view.viewSize.width / 2,\r\n\t\t\tPaper.project.view.viewSize.height / 2\r\n\t\t);\r\n\t\tupdateRulerDimensions();\r\n\t}\r\n\r\n\t// add SVG to screen\r\n\tfunction addSvg(svg: string, title?: string) {\r\n\t\tPaper.project.clear();\r\n\r\n\t\tconst item = Paper.project.importSVG(svg, {\r\n\t\t\tinsert: false,\r\n\t\t\texpandShapes: true,\r\n\t\t});\r\n\r\n\t\t// add item to new layer, so that the layer can be centered by itself\r\n\t\tlet l = new Paper.Layer();\r\n\t\tl.addChild(item);\r\n\r\n\t\tPaper.project.getItems({}).forEach((e) => {\r\n\t\t\tif (e.hasChildren()) return;\r\n\t\t\t//@ts-ignore\r\n\t\t\te.onClick = onClickItemEvent;\r\n\t\t});\r\n\r\n\t\tl.position = new Paper.Point(\r\n\t\t\tPaper.view.viewSize.width / 2,\r\n\t\t\tPaper.view.viewSize.height / 2\r\n\t\t);\r\n\r\n\t\teventBus.dispatch(\"setSvgBounds\", {\r\n\t\t\twidth: l.strokeBounds.width,\r\n\t\t\theight: l.strokeBounds.height,\r\n\t\t});\r\n\r\n\t\tl.data = { userEditable: true };\r\n\r\n\t\teventBus.dispatch(\r\n\t\t\t\"initialFilename\",\r\n\t\t\ttitle ? title.replace(/\\.[^/.]+$/, \"\") : \"newFile\"\r\n\t\t);\r\n\r\n\t\tPaper.view.update();\r\n\t}\r\n\r\n\tfunction handleFileUploaded(e: React.ChangeEvent<HTMLInputElement>) {\r\n\t\tlet reader = new FileReader();\r\n\r\n\t\tif (!e.target.files) return;\r\n\r\n\t\tif (e.target.files[0].type !== \"image/svg+xml\") return;\r\n\r\n\t\treader.onload = (f: ProgressEvent<FileReader>) => {\r\n\t\t\ttry {\r\n\t\t\t\tif (!f.target || !f.target.result) return;\r\n\t\t\t\t//@ts-ignore\r\n\t\t\t\taddSvg(f.target.result.toString(), e.target.files[0].name);\r\n\t\t\t} catch {}\r\n\t\t};\r\n\r\n\t\treader.readAsText(e.target.files[0]);\r\n\t}\r\n\r\n\tfunction zoom(type: \"in\" | \"out\") {\r\n\t\tlet newZoom = Paper.view.zoom;\r\n\r\n\t\tif (type === \"in\") {\r\n\t\t\tnewZoom = Paper.view.zoom * 1.2;\r\n\t\t\tnewZoom = newZoom > options.maxZoom ? options.maxZoom : newZoom;\r\n\t\t} else {\r\n\t\t\tnewZoom = Paper.view.zoom * 0.8;\r\n\t\t\tnewZoom = newZoom < options.minZoom ? options.minZoom : newZoom;\r\n\t\t}\r\n\r\n\t\tPaper.view.zoom = newZoom;\r\n\r\n\t\tupdateRulerDimensions();\r\n\t}\r\n\r\n\tasync function convertSvg(layer: paper.Layer) {\r\n\t\tif (Paper.project.layers.length === 0) return false;\r\n\r\n\t\tlet container = new Container();\r\n\t\tawait container.convertToBlocks(layer);\r\n\r\n\t\tPaper.project.layers[0].data = {\r\n\t\t\tsequence: container.sequence,\r\n\t\t};\r\n\t}\r\n\r\n\tfunction checkIfHasSequence(): Container | false {\r\n\t\ttry {\r\n\t\t\tif (Paper.project.layers.length === 0) return false;\r\n\t\t\tif (Paper.project.layers[0].data.sequence.length > 0)\r\n\t\t\t\treturn Paper.project.layers[0].data.sequence;\r\n\t\t\telse return false;\r\n\t\t} catch {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\t//@ts-ignore\r\n\t\tPaper.setup(canvasRef.current);\r\n\r\n\t\tnew Paper.Tool().on({\r\n\t\t\t// dragging functionality\r\n\t\t\tmousedrag: (event: paper.ToolEvent) => {\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tlet pan_offset = event.point.subtract(event.downPoint);\r\n\t\t\t\tPaper.view.center = Paper.view.center.subtract(pan_offset);\r\n\t\t\t\tsetPreventSelect(true);\r\n\t\t\t\tupdateRulerDimensions();\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tPaper.view.on({\r\n\t\t\t// resize\r\n\t\t\tresize: () => {\r\n\t\t\t\tPaper.project.layers.forEach((element) => {\r\n\t\t\t\t\tif (element.data.userEditable === true)\r\n\t\t\t\t\t\telement.position = new Paper.Point(\r\n\t\t\t\t\t\t\tPaper.view.viewSize.width / 2,\r\n\t\t\t\t\t\t\tPaper.view.viewSize.height / 2\r\n\t\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t\tupdateRulerDimensions();\r\n\t\t\t},\r\n\t\t\t// remove selection if not clicked anything, since view.click propagates last, and propagation is stopped when clicked on an element, this will not trigger if clicked over an element which can be selected.\r\n\t\t\tclick: () => {\r\n\t\t\t\tPaper.project.selectedItems.forEach((e) => {\r\n\t\t\t\t\te.selected = false;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\t//#region bus events\r\n\t\teventBus.on(\"resetView\", () => {\r\n\t\t\tPaper.view.zoom = 1;\r\n\t\t\tupdateRulerDimensions();\r\n\t\t\tsetCenter();\r\n\t\t});\r\n\r\n\t\teventBus.on(\"resetCenter\", () => {\r\n\t\t\tsetCenter();\r\n\t\t});\r\n\r\n\t\teventBus.on(\"setSelectedStrokeColour\", (data: string) => {\r\n\t\t\tif (Paper.project.selectedItems.length > 0) {\r\n\t\t\t\tUndoRedoTool.addStateDefault();\r\n\t\t\t\tPaper.project.selectedItems.forEach((e) => {\r\n\t\t\t\t\te.strokeColor = new Paper.Color(data);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\teventBus.on(\"setSelectedFillColour\", (data: string) => {\r\n\t\t\tif (Paper.project.selectedItems.length > 0) {\r\n\t\t\t\tUndoRedoTool.addStateDefault();\r\n\t\t\t\tPaper.project.selectedItems.forEach((e) => {\r\n\t\t\t\t\te.fillColor = new Paper.Color(data);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\teventBus.on(\"removeSelectedStroke\", () => {\r\n\t\t\tif (Paper.project.selectedItems.length > 0) {\r\n\t\t\t\tUndoRedoTool.addStateDefault();\r\n\t\t\t\tPaper.project.selectedItems.forEach((e) => {\r\n\t\t\t\t\te.strokeColor = null;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\teventBus.on(\"removeSelectedFill\", () => {\r\n\t\t\tif (Paper.project.selectedItems.length > 0) {\r\n\t\t\t\tUndoRedoTool.addStateDefault();\r\n\t\t\t\tPaper.project.selectedItems.forEach((e) => {\r\n\t\t\t\t\te.fillColor = null;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\teventBus.on(\"setCanvasLayer\", (layer: paper.Layer) => {\r\n\t\t\tif (layer) {\r\n\t\t\t\tUndoRedoTool.addStateDefault();\r\n\r\n\t\t\t\tPaper.project.clear();\r\n\r\n\t\t\t\tconst newLayer = Paper.project.addLayer(layer);\r\n\t\t\t\tnewLayer.children.forEach((e) => {\r\n\t\t\t\t\te.onClick = onClickItemEvent;\r\n\t\t\t\t\te.selected = false;\r\n\t\t\t\t});\r\n\r\n\t\t\t\teventBus.dispatch(\"setSvgBounds\", {\r\n\t\t\t\t\twidth: newLayer.strokeBounds.width,\r\n\t\t\t\t\theight: newLayer.strokeBounds.height,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\teventBus.on(\"openLocalFile\", () => {\r\n\t\t\tfileInputRef.current?.click();\r\n\t\t});\r\n\r\n\t\teventBus.on(\r\n\t\t\t\"convertSvg\",\r\n\t\t\tasync (options: {\r\n\t\t\t\tconvertToEmbroidery: boolean;\r\n\t\t\t\tremoveOverlap: boolean;\r\n\t\t\t\taverageColours: boolean;\r\n\t\t\t}) => {\r\n\t\t\t\tif (checkIfHasSequence()) {\r\n\t\t\t\t\teventBus.dispatch(\"conversionFinished\", {});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tUndoRedoTool.addStateDefault();\r\n\t\t\t\tlet layerToConvert = Paper.project.layers[0];\r\n\r\n\t\t\t\tif (options.averageColours) {\r\n\t\t\t\t\tnormaliseColours();\r\n\t\t\t\t}\r\n\t\t\t\tif (options.removeOverlap) {\r\n\t\t\t\t\tlayerToConvert = await removeOverlap();\r\n\t\t\t\t}\r\n\t\t\t\tif (options.convertToEmbroidery) {\r\n\t\t\t\t\tawait convertSvg(layerToConvert);\r\n\t\t\t\t}\r\n\t\t\t\teventBus.dispatch(\"conversionFinished\", {});\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\teventBus.on(\"zoom\", (type: \"in\" | \"out\") => {\r\n\t\t\tzoom(type);\r\n\t\t});\r\n\r\n\t\teventBus.on(\"updateRulers\", updateRulerDimensions);\r\n\r\n\t\teventBus.on(\"saveExp\", (filename: string) => {\r\n\t\t\tconsole.log(checkIfHasSequence());\r\n\t\t\tif (checkIfHasSequence()) {\r\n\t\t\t\tlet temp = new Container();\r\n\t\t\t\t//@ts-ignore\r\n\t\t\t\ttemp.sequence = checkIfHasSequence();\r\n\t\t\t\ttemp.convertToEmbroidery(embroideryTypes.exp, filename);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//#endregion\r\n\r\n\t\tupdateRulerDimensions();\r\n\r\n\t\treturn eventBus.remove(\r\n\t\t\t[\r\n\t\t\t\t\"resetView\",\r\n\t\t\t\t\"resetCenter\",\r\n\t\t\t\t\"setSelectedStrokeColour\",\r\n\t\t\t\t\"setSelectedFillColour\",\r\n\t\t\t\t\"removeSelectedStroke\",\r\n\t\t\t\t\"removeSelectedFill\",\r\n\t\t\t\t\"setCanvasLayer\",\r\n\t\t\t\t\"openLocalFile\",\r\n\t\t\t\t\"resetRulers\",\r\n\t\t\t\t\"updateRulers\",\r\n\t\t\t\t\"convertSvg\",\r\n\t\t\t],\r\n\t\t\t() => {}\r\n\t\t);\r\n\t}, []);\r\n\r\n\t// prevent selection of items after dragging, for 200ms\r\n\tuseEffect(() => {\r\n\t\tif (timer) {\r\n\t\t\tclearTimeout(timer);\r\n\t\t}\r\n\r\n\t\tif (preventSelect) {\r\n\t\t\tsetTimer(\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsetPreventSelect(false);\r\n\t\t\t\t}, 200)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t//@ts-ignore\r\n\t\treturn () => clearTimeout(timer);\r\n\t}, [preventSelect]);\r\n\r\n\t// scroll rulers to correct postion on canvas\r\n\tuseEffect(() => {\r\n\t\tif (horizontalRulerRef.current) {\r\n\t\t\thorizontalRulerRef.current.scroll(topLeftPos.x);\r\n\t\t}\r\n\t\tif (verticalRulerRef.current) {\r\n\t\t\tverticalRulerRef.current.scroll(topLeftPos.y);\r\n\t\t}\r\n\t}, [topLeftPos]);\r\n\r\n\treturn (\r\n\t\t<div className=\"h-full w-full \">\r\n\t\t\t<div className=\"flex h-5 w-full flex-row\">\r\n\t\t\t\t<div className=\"h-5 w-5 bg-gray-700\"></div>\r\n\t\t\t\t<div className=\"w-[calc(100%-20px)]\">\r\n\t\t\t\t\t<Ruler\r\n\t\t\t\t\t\tref={horizontalRulerRef}\r\n\t\t\t\t\t\ttype=\"horizontal\"\r\n\t\t\t\t\t\theight={20}\r\n\t\t\t\t\t\tsegment={4}\r\n\t\t\t\t\t\tzoom={viewZoom}\r\n\t\t\t\t\t\tunit={\r\n\t\t\t\t\t\t\tviewZoom < 0.5\r\n\t\t\t\t\t\t\t\t? 250\r\n\t\t\t\t\t\t\t\t: viewZoom < 0.7\r\n\t\t\t\t\t\t\t\t? 100\r\n\t\t\t\t\t\t\t\t: viewZoom > 3.5\r\n\t\t\t\t\t\t\t\t? 10\r\n\t\t\t\t\t\t\t\t: 50\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmainLineSize={12}\r\n\t\t\t\t\t\tlongLineSize={6}\r\n\t\t\t\t\t\tshortLineSize={6}\r\n\t\t\t\t\t\tbackgroundColor=\"#E5E7EB\"\r\n\t\t\t\t\t\tlineColor=\"#374151\"\r\n\t\t\t\t\t\ttextColor=\"#374151\"\r\n\t\t\t\t\t\ttextOffset={[0, 7]}\r\n\t\t\t\t\t\ttextFormat={(scale: number) => {\r\n\t\t\t\t\t\t\tif (viewZoom < 0.7)\r\n\t\t\t\t\t\t\t\treturn (scale / 10).toString() + \"cm\";\r\n\t\t\t\t\t\t\telse return scale.toString() + \"mm\";\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t></Ruler>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"flex h-[calc(100%-20px)] w-full flex-row\">\r\n\t\t\t\t<div className=\" h-full w-5 \">\r\n\t\t\t\t\t<Ruler\r\n\t\t\t\t\t\ttype=\"vertical\"\r\n\t\t\t\t\t\twidth={20}\r\n\t\t\t\t\t\tsegment={4}\r\n\t\t\t\t\t\tref={verticalRulerRef}\r\n\t\t\t\t\t\tzoom={viewZoom}\r\n\t\t\t\t\t\tunit={\r\n\t\t\t\t\t\t\tviewZoom < 0.5\r\n\t\t\t\t\t\t\t\t? 250\r\n\t\t\t\t\t\t\t\t: viewZoom < 0.7\r\n\t\t\t\t\t\t\t\t? 100\r\n\t\t\t\t\t\t\t\t: viewZoom > 3.5\r\n\t\t\t\t\t\t\t\t? 10\r\n\t\t\t\t\t\t\t\t: 50\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmainLineSize={12}\r\n\t\t\t\t\t\tlongLineSize={6}\r\n\t\t\t\t\t\tshortLineSize={6}\r\n\t\t\t\t\t\tbackgroundColor=\"#E5E7EB\"\r\n\t\t\t\t\t\tlineColor=\"#374151\"\r\n\t\t\t\t\t\ttextColor=\"#374151\"\r\n\t\t\t\t\t\ttextOffset={[7, 0]}\r\n\t\t\t\t\t\ttextFormat={(scale: number) => {\r\n\t\t\t\t\t\t\tif (viewZoom < 0.7)\r\n\t\t\t\t\t\t\t\treturn (scale / 10).toString() + \"cm\";\r\n\t\t\t\t\t\t\telse return scale.toString() + \"mm\";\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t></Ruler>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"h-full w-full\">\r\n\t\t\t\t\t<canvas\r\n\t\t\t\t\t\tref={canvasRef}\r\n\t\t\t\t\t\tclassName=\"h-full w-full\"\r\n\t\t\t\t\t\tid=\"canvas\"\r\n\t\t\t\t\t\t//@ts-ignore\r\n\t\t\t\t\t\tresize=\"true\"\r\n\t\t\t\t\t\tonWheel={(event) => {\r\n\t\t\t\t\t\t\tlet newZoom = Paper.view.zoom;\r\n\t\t\t\t\t\t\tlet oldZoom = Paper.view.zoom;\r\n\r\n\t\t\t\t\t\t\tif (event.deltaY < 0) {\r\n\t\t\t\t\t\t\t\tnewZoom = Paper.view.zoom + 0.15;\r\n\t\t\t\t\t\t\t\tnewZoom =\r\n\t\t\t\t\t\t\t\t\tnewZoom > options.maxZoom\r\n\t\t\t\t\t\t\t\t\t\t? options.maxZoom\r\n\t\t\t\t\t\t\t\t\t\t: newZoom;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tnewZoom = Paper.view.zoom - 0.15;\r\n\t\t\t\t\t\t\t\tnewZoom =\r\n\t\t\t\t\t\t\t\t\tnewZoom < options.minZoom\r\n\t\t\t\t\t\t\t\t\t\t? options.minZoom\r\n\t\t\t\t\t\t\t\t\t\t: newZoom;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tlet beta = oldZoom / newZoom;\r\n\r\n\t\t\t\t\t\t\tlet mousePosition = new Paper.Point(\r\n\t\t\t\t\t\t\t\tevent.clientX,\r\n\t\t\t\t\t\t\t\tevent.clientY\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\tvar viewPosition =\r\n\t\t\t\t\t\t\t\tPaper.view.viewToProject(mousePosition);\r\n\r\n\t\t\t\t\t\t\tvar mpos = viewPosition;\r\n\t\t\t\t\t\t\tvar ctr = Paper.view.center;\r\n\r\n\t\t\t\t\t\t\tvar pc = mpos.subtract(ctr);\r\n\t\t\t\t\t\t\tvar offset = mpos\r\n\t\t\t\t\t\t\t\t.subtract(pc.multiply(beta))\r\n\t\t\t\t\t\t\t\t.subtract(ctr);\r\n\r\n\t\t\t\t\t\t\tPaper.view.zoom = newZoom;\r\n\t\t\t\t\t\t\tPaper.view.center = Paper.view.center.add(offset);\r\n\r\n\t\t\t\t\t\t\tupdateRulerDimensions();\r\n\t\t\t\t\t\t\tPaper.view.update();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t></canvas>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<input\r\n\t\t\t\tref={fileInputRef}\r\n\t\t\t\ttype={\"file\"}\r\n\t\t\t\tclassName=\"absolute -top-full\"\r\n\t\t\t\taccept=\".svg\"\r\n\t\t\t\tonChange={handleFileUploaded}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Canvas;\r\n","import { useEffect } from \"react\";\r\nimport \"./styles/App.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nimport Toolbar from \"./components/toolbar/Toolbar\";\r\nimport Sidebar from \"./components/sidebar/Sidebar\";\r\nimport Canvas from \"./components/canvas/Canvas\";\r\nimport UndoRedoTool from \"./lib/canvas/UndoRedoTool\";\r\nimport eventBus from \"./lib/eventBus\";\r\n\r\n// TODO: add msg if screen is too small\r\n\r\nfunction App() {\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener(\"keydown\", (ev: KeyboardEvent) => {\r\n\t\t\t// keyboard shortcuts\r\n\t\t\tif (ev.ctrlKey && ev.key === \"z\") {\r\n\t\t\t\tev.preventDefault();\r\n\t\t\t\tUndoRedoTool.undo();\r\n\t\t\t} else if (ev.ctrlKey && ev.key === \"Z\") {\r\n\t\t\t\tev.preventDefault();\r\n\t\t\t\tUndoRedoTool.redo();\r\n\t\t\t} else if (ev.shiftKey && ev.key === \"+\") {\r\n\t\t\t\tev.preventDefault();\r\n\t\t\t\teventBus.dispatch(\"zoom\", \"in\");\r\n\t\t\t} else if (ev.shiftKey && ev.key === \"_\") {\r\n\t\t\t\tev.preventDefault();\r\n\t\t\t\teventBus.dispatch(\"zoom\", \"out\");\r\n\t\t\t} else if (ev.ctrlKey && ev.key === \"o\") {\r\n\t\t\t\tev.preventDefault();\r\n\t\t\t\teventBus.dispatch(\"resetView\", {});\r\n\t\t\t}\r\n\t\t});\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<main className=\"max-w-screen bg-repeating-pattern flex h-screen flex-col items-center justify-start overflow-x-hidden overflow-y-clip bg-stone-200\">\r\n\t\t\t\t<Toolbar></Toolbar>\r\n\t\t\t\t<div className=\"bg-repeating-pattern flex h-full w-full flex-row justify-between \">\r\n\t\t\t\t\t<div className=\"shadow-inset flex h-full w-full items-center justify-center shadow-md\">\r\n\t\t\t\t\t\t<div className=\" h-[calc(100%-20px)] w-[calc(100%-20px)]  bg-white\">\r\n\t\t\t\t\t\t\t<Canvas></Canvas>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Sidebar />\r\n\t\t\t\t</div>\r\n\t\t\t</main>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.acorn = {}));\n})(this, (function (exports) { 'use strict';\n\n  // Reserved word lists for various dialects of the language\n\n  var reservedWords = {\n    3: \"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\",\n    5: \"class enum extends super const export import\",\n    6: \"enum\",\n    strict: \"implements interface let package private protected public static yield\",\n    strictBind: \"eval arguments\"\n  };\n\n  // And the keywords\n\n  var ecma5AndLessKeywords = \"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\";\n\n  var keywords$1 = {\n    5: ecma5AndLessKeywords,\n    \"5module\": ecma5AndLessKeywords + \" export import\",\n    6: ecma5AndLessKeywords + \" const class extends export import super\"\n  };\n\n  var keywordRelationalOperator = /^in(stanceof)?$/;\n\n  // ## Character categories\n\n  // Big ugly regular expressions that match characters in the\n  // whitespace, identifier, and identifier-start categories. These\n  // are only applied when a character is found to actually have a\n  // code point above 128.\n  // Generated by `bin/generate-identifier-regex.js`.\n  var nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u037f\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u052f\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05d0-\\u05ea\\u05ef-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086a\\u0870-\\u0887\\u0889-\\u088e\\u08a0-\\u08c9\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u09fc\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0af9\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c39\\u0c3d\\u0c58-\\u0c5a\\u0c5d\\u0c60\\u0c61\\u0c80\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cdd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d04-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d54-\\u0d56\\u0d5f-\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e86-\\u0e8a\\u0e8c-\\u0ea3\\u0ea5\\u0ea7-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f5\\u13f8-\\u13fd\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f8\\u1700-\\u1711\\u171f-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1878\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191e\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19b0-\\u19c9\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4c\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1c80-\\u1c88\\u1c90-\\u1cba\\u1cbd-\\u1cbf\\u1ce9-\\u1cec\\u1cee-\\u1cf3\\u1cf5\\u1cf6\\u1cfa\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2118-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309b-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312f\\u3131-\\u318e\\u31a0-\\u31bf\\u31f0-\\u31ff\\u3400-\\u4dbf\\u4e00-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua69d\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua7ca\\ua7d0\\ua7d1\\ua7d3\\ua7d5-\\ua7d9\\ua7f2-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua8fd\\ua8fe\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\ua9e0-\\ua9e4\\ua9e6-\\ua9ef\\ua9fa-\\ua9fe\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa7e-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uab30-\\uab5a\\uab5c-\\uab69\\uab70-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\n  var nonASCIIidentifierChars = \"\\u200c\\u200d\\xb7\\u0300-\\u036f\\u0387\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u0669\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u06f0-\\u06f9\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07c0-\\u07c9\\u07eb-\\u07f3\\u07fd\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u0898-\\u089f\\u08ca-\\u08e1\\u08e3-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u09e6-\\u09ef\\u09fe\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0ae6-\\u0aef\\u0afa-\\u0aff\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b55-\\u0b57\\u0b62\\u0b63\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c00-\\u0c04\\u0c3c\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c66-\\u0c6f\\u0c81-\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0ce6-\\u0cef\\u0d00-\\u0d03\\u0d3b\\u0d3c\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d66-\\u0d6f\\u0d81-\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0de6-\\u0def\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0e50-\\u0e59\\u0eb1\\u0eb4-\\u0ebc\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1040-\\u1049\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u1369-\\u1371\\u1712-\\u1715\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b4-\\u17d3\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u180f-\\u1819\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u1946-\\u194f\\u19d0-\\u19da\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1ab0-\\u1abd\\u1abf-\\u1ace\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1bad\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1c40-\\u1c49\\u1c50-\\u1c59\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf4\\u1cf7-\\u1cf9\\u1dc0-\\u1dff\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua620-\\ua629\\ua66f\\ua674-\\ua67d\\ua69e\\ua69f\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua82c\\ua880\\ua881\\ua8b4-\\ua8c5\\ua8d0-\\ua8d9\\ua8e0-\\ua8f1\\ua8ff-\\ua909\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\ua9d0-\\ua9d9\\ua9e5\\ua9f0-\\ua9f9\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa50-\\uaa59\\uaa7b-\\uaa7d\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uaaeb-\\uaaef\\uaaf5\\uaaf6\\uabe3-\\uabea\\uabec\\uabed\\uabf0-\\uabf9\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\n\n  var nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\n  var nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\n  nonASCIIidentifierStartChars = nonASCIIidentifierChars = null;\n\n  // These are a run-length and offset encoded representation of the\n  // >0xffff code points that are a valid part of identifiers. The\n  // offset starts at 0x10000, and each pair of numbers represents an\n  // offset to the next range, and then a size of the range. They were\n  // generated by bin/generate-identifier-regex.js\n\n  // eslint-disable-next-line comma-spacing\n  var astralIdentifierStartCodes = [0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2637,96,16,1070,4050,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,46,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,482,44,11,6,17,0,322,29,19,43,1269,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4152,8,221,3,5761,15,7472,3104,541,1507,4938];\n\n  // eslint-disable-next-line comma-spacing\n  var astralIdentifierCodes = [509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,357,0,62,13,1495,6,110,6,6,9,4759,9,787719,239];\n\n  // This has a complexity linear to the value of the code. The\n  // assumption is that looking up astral identifier characters is\n  // rare.\n  function isInAstralSet(code, set) {\n    var pos = 0x10000;\n    for (var i = 0; i < set.length; i += 2) {\n      pos += set[i];\n      if (pos > code) { return false }\n      pos += set[i + 1];\n      if (pos >= code) { return true }\n    }\n  }\n\n  // Test whether a given character code starts an identifier.\n\n  function isIdentifierStart(code, astral) {\n    if (code < 65) { return code === 36 }\n    if (code < 91) { return true }\n    if (code < 97) { return code === 95 }\n    if (code < 123) { return true }\n    if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code)) }\n    if (astral === false) { return false }\n    return isInAstralSet(code, astralIdentifierStartCodes)\n  }\n\n  // Test whether a given character is part of an identifier.\n\n  function isIdentifierChar(code, astral) {\n    if (code < 48) { return code === 36 }\n    if (code < 58) { return true }\n    if (code < 65) { return false }\n    if (code < 91) { return true }\n    if (code < 97) { return code === 95 }\n    if (code < 123) { return true }\n    if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code)) }\n    if (astral === false) { return false }\n    return isInAstralSet(code, astralIdentifierStartCodes) || isInAstralSet(code, astralIdentifierCodes)\n  }\n\n  // ## Token types\n\n  // The assignment of fine-grained, information-carrying type objects\n  // allows the tokenizer to store the information it has about a\n  // token in a way that is very cheap for the parser to look up.\n\n  // All token type variables start with an underscore, to make them\n  // easy to recognize.\n\n  // The `beforeExpr` property is used to disambiguate between regular\n  // expressions and divisions. It is set on all token types that can\n  // be followed by an expression (thus, a slash after them would be a\n  // regular expression).\n  //\n  // The `startsExpr` property is used to check if the token ends a\n  // `yield` expression. It is set on all token types that either can\n  // directly start an expression (like a quotation mark) or can\n  // continue an expression (like the body of a string).\n  //\n  // `isLoop` marks a keyword as starting a loop, which is important\n  // to know when parsing a label, in order to allow or disallow\n  // continue jumps to that label.\n\n  var TokenType = function TokenType(label, conf) {\n    if ( conf === void 0 ) conf = {};\n\n    this.label = label;\n    this.keyword = conf.keyword;\n    this.beforeExpr = !!conf.beforeExpr;\n    this.startsExpr = !!conf.startsExpr;\n    this.isLoop = !!conf.isLoop;\n    this.isAssign = !!conf.isAssign;\n    this.prefix = !!conf.prefix;\n    this.postfix = !!conf.postfix;\n    this.binop = conf.binop || null;\n    this.updateContext = null;\n  };\n\n  function binop(name, prec) {\n    return new TokenType(name, {beforeExpr: true, binop: prec})\n  }\n  var beforeExpr = {beforeExpr: true}, startsExpr = {startsExpr: true};\n\n  // Map keyword names to token types.\n\n  var keywords = {};\n\n  // Succinct definitions of keyword token types\n  function kw(name, options) {\n    if ( options === void 0 ) options = {};\n\n    options.keyword = name;\n    return keywords[name] = new TokenType(name, options)\n  }\n\n  var types$1 = {\n    num: new TokenType(\"num\", startsExpr),\n    regexp: new TokenType(\"regexp\", startsExpr),\n    string: new TokenType(\"string\", startsExpr),\n    name: new TokenType(\"name\", startsExpr),\n    privateId: new TokenType(\"privateId\", startsExpr),\n    eof: new TokenType(\"eof\"),\n\n    // Punctuation token types.\n    bracketL: new TokenType(\"[\", {beforeExpr: true, startsExpr: true}),\n    bracketR: new TokenType(\"]\"),\n    braceL: new TokenType(\"{\", {beforeExpr: true, startsExpr: true}),\n    braceR: new TokenType(\"}\"),\n    parenL: new TokenType(\"(\", {beforeExpr: true, startsExpr: true}),\n    parenR: new TokenType(\")\"),\n    comma: new TokenType(\",\", beforeExpr),\n    semi: new TokenType(\";\", beforeExpr),\n    colon: new TokenType(\":\", beforeExpr),\n    dot: new TokenType(\".\"),\n    question: new TokenType(\"?\", beforeExpr),\n    questionDot: new TokenType(\"?.\"),\n    arrow: new TokenType(\"=>\", beforeExpr),\n    template: new TokenType(\"template\"),\n    invalidTemplate: new TokenType(\"invalidTemplate\"),\n    ellipsis: new TokenType(\"...\", beforeExpr),\n    backQuote: new TokenType(\"`\", startsExpr),\n    dollarBraceL: new TokenType(\"${\", {beforeExpr: true, startsExpr: true}),\n\n    // Operators. These carry several kinds of properties to help the\n    // parser use them properly (the presence of these properties is\n    // what categorizes them as operators).\n    //\n    // `binop`, when present, specifies that this operator is a binary\n    // operator, and will refer to its precedence.\n    //\n    // `prefix` and `postfix` mark the operator as a prefix or postfix\n    // unary operator.\n    //\n    // `isAssign` marks all of `=`, `+=`, `-=` etcetera, which act as\n    // binary operators with a very low precedence, that should result\n    // in AssignmentExpression nodes.\n\n    eq: new TokenType(\"=\", {beforeExpr: true, isAssign: true}),\n    assign: new TokenType(\"_=\", {beforeExpr: true, isAssign: true}),\n    incDec: new TokenType(\"++/--\", {prefix: true, postfix: true, startsExpr: true}),\n    prefix: new TokenType(\"!/~\", {beforeExpr: true, prefix: true, startsExpr: true}),\n    logicalOR: binop(\"||\", 1),\n    logicalAND: binop(\"&&\", 2),\n    bitwiseOR: binop(\"|\", 3),\n    bitwiseXOR: binop(\"^\", 4),\n    bitwiseAND: binop(\"&\", 5),\n    equality: binop(\"==/!=/===/!==\", 6),\n    relational: binop(\"</>/<=/>=\", 7),\n    bitShift: binop(\"<</>>/>>>\", 8),\n    plusMin: new TokenType(\"+/-\", {beforeExpr: true, binop: 9, prefix: true, startsExpr: true}),\n    modulo: binop(\"%\", 10),\n    star: binop(\"*\", 10),\n    slash: binop(\"/\", 10),\n    starstar: new TokenType(\"**\", {beforeExpr: true}),\n    coalesce: binop(\"??\", 1),\n\n    // Keyword token types.\n    _break: kw(\"break\"),\n    _case: kw(\"case\", beforeExpr),\n    _catch: kw(\"catch\"),\n    _continue: kw(\"continue\"),\n    _debugger: kw(\"debugger\"),\n    _default: kw(\"default\", beforeExpr),\n    _do: kw(\"do\", {isLoop: true, beforeExpr: true}),\n    _else: kw(\"else\", beforeExpr),\n    _finally: kw(\"finally\"),\n    _for: kw(\"for\", {isLoop: true}),\n    _function: kw(\"function\", startsExpr),\n    _if: kw(\"if\"),\n    _return: kw(\"return\", beforeExpr),\n    _switch: kw(\"switch\"),\n    _throw: kw(\"throw\", beforeExpr),\n    _try: kw(\"try\"),\n    _var: kw(\"var\"),\n    _const: kw(\"const\"),\n    _while: kw(\"while\", {isLoop: true}),\n    _with: kw(\"with\"),\n    _new: kw(\"new\", {beforeExpr: true, startsExpr: true}),\n    _this: kw(\"this\", startsExpr),\n    _super: kw(\"super\", startsExpr),\n    _class: kw(\"class\", startsExpr),\n    _extends: kw(\"extends\", beforeExpr),\n    _export: kw(\"export\"),\n    _import: kw(\"import\", startsExpr),\n    _null: kw(\"null\", startsExpr),\n    _true: kw(\"true\", startsExpr),\n    _false: kw(\"false\", startsExpr),\n    _in: kw(\"in\", {beforeExpr: true, binop: 7}),\n    _instanceof: kw(\"instanceof\", {beforeExpr: true, binop: 7}),\n    _typeof: kw(\"typeof\", {beforeExpr: true, prefix: true, startsExpr: true}),\n    _void: kw(\"void\", {beforeExpr: true, prefix: true, startsExpr: true}),\n    _delete: kw(\"delete\", {beforeExpr: true, prefix: true, startsExpr: true})\n  };\n\n  // Matches a whole line break (where CRLF is considered a single\n  // line break). Used to count lines.\n\n  var lineBreak = /\\r\\n?|\\n|\\u2028|\\u2029/;\n  var lineBreakG = new RegExp(lineBreak.source, \"g\");\n\n  function isNewLine(code) {\n    return code === 10 || code === 13 || code === 0x2028 || code === 0x2029\n  }\n\n  function nextLineBreak(code, from, end) {\n    if ( end === void 0 ) end = code.length;\n\n    for (var i = from; i < end; i++) {\n      var next = code.charCodeAt(i);\n      if (isNewLine(next))\n        { return i < end - 1 && next === 13 && code.charCodeAt(i + 1) === 10 ? i + 2 : i + 1 }\n    }\n    return -1\n  }\n\n  var nonASCIIwhitespace = /[\\u1680\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n\n  var skipWhiteSpace = /(?:\\s|\\/\\/.*|\\/\\*[^]*?\\*\\/)*/g;\n\n  var ref = Object.prototype;\n  var hasOwnProperty = ref.hasOwnProperty;\n  var toString = ref.toString;\n\n  var hasOwn = Object.hasOwn || (function (obj, propName) { return (\n    hasOwnProperty.call(obj, propName)\n  ); });\n\n  var isArray = Array.isArray || (function (obj) { return (\n    toString.call(obj) === \"[object Array]\"\n  ); });\n\n  function wordsRegexp(words) {\n    return new RegExp(\"^(?:\" + words.replace(/ /g, \"|\") + \")$\")\n  }\n\n  var loneSurrogate = /(?:[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/;\n\n  // These are used when `options.locations` is on, for the\n  // `startLoc` and `endLoc` properties.\n\n  var Position = function Position(line, col) {\n    this.line = line;\n    this.column = col;\n  };\n\n  Position.prototype.offset = function offset (n) {\n    return new Position(this.line, this.column + n)\n  };\n\n  var SourceLocation = function SourceLocation(p, start, end) {\n    this.start = start;\n    this.end = end;\n    if (p.sourceFile !== null) { this.source = p.sourceFile; }\n  };\n\n  // The `getLineInfo` function is mostly useful when the\n  // `locations` option is off (for performance reasons) and you\n  // want to find the line/column position for a given character\n  // offset. `input` should be the code string that the offset refers\n  // into.\n\n  function getLineInfo(input, offset) {\n    for (var line = 1, cur = 0;;) {\n      var nextBreak = nextLineBreak(input, cur, offset);\n      if (nextBreak < 0) { return new Position(line, offset - cur) }\n      ++line;\n      cur = nextBreak;\n    }\n  }\n\n  // A second argument must be given to configure the parser process.\n  // These options are recognized (only `ecmaVersion` is required):\n\n  var defaultOptions = {\n    // `ecmaVersion` indicates the ECMAScript version to parse. Must be\n    // either 3, 5, 6 (or 2015), 7 (2016), 8 (2017), 9 (2018), 10\n    // (2019), 11 (2020), 12 (2021), 13 (2022), or `\"latest\"` (the\n    // latest version the library supports). This influences support\n    // for strict mode, the set of reserved words, and support for\n    // new syntax features.\n    ecmaVersion: null,\n    // `sourceType` indicates the mode the code should be parsed in.\n    // Can be either `\"script\"` or `\"module\"`. This influences global\n    // strict mode and parsing of `import` and `export` declarations.\n    sourceType: \"script\",\n    // `onInsertedSemicolon` can be a callback that will be called\n    // when a semicolon is automatically inserted. It will be passed\n    // the position of the comma as an offset, and if `locations` is\n    // enabled, it is given the location as a `{line, column}` object\n    // as second argument.\n    onInsertedSemicolon: null,\n    // `onTrailingComma` is similar to `onInsertedSemicolon`, but for\n    // trailing commas.\n    onTrailingComma: null,\n    // By default, reserved words are only enforced if ecmaVersion >= 5.\n    // Set `allowReserved` to a boolean value to explicitly turn this on\n    // an off. When this option has the value \"never\", reserved words\n    // and keywords can also not be used as property names.\n    allowReserved: null,\n    // When enabled, a return at the top level is not considered an\n    // error.\n    allowReturnOutsideFunction: false,\n    // When enabled, import/export statements are not constrained to\n    // appearing at the top of the program, and an import.meta expression\n    // in a script isn't considered an error.\n    allowImportExportEverywhere: false,\n    // By default, await identifiers are allowed to appear at the top-level scope only if ecmaVersion >= 2022.\n    // When enabled, await identifiers are allowed to appear at the top-level scope,\n    // but they are still not allowed in non-async functions.\n    allowAwaitOutsideFunction: null,\n    // When enabled, super identifiers are not constrained to\n    // appearing in methods and do not raise an error when they appear elsewhere.\n    allowSuperOutsideMethod: null,\n    // When enabled, hashbang directive in the beginning of file\n    // is allowed and treated as a line comment.\n    allowHashBang: false,\n    // When `locations` is on, `loc` properties holding objects with\n    // `start` and `end` properties in `{line, column}` form (with\n    // line being 1-based and column 0-based) will be attached to the\n    // nodes.\n    locations: false,\n    // A function can be passed as `onToken` option, which will\n    // cause Acorn to call that function with object in the same\n    // format as tokens returned from `tokenizer().getToken()`. Note\n    // that you are not allowed to call the parser from the\n    // callback—that will corrupt its internal state.\n    onToken: null,\n    // A function can be passed as `onComment` option, which will\n    // cause Acorn to call that function with `(block, text, start,\n    // end)` parameters whenever a comment is skipped. `block` is a\n    // boolean indicating whether this is a block (`/* */`) comment,\n    // `text` is the content of the comment, and `start` and `end` are\n    // character offsets that denote the start and end of the comment.\n    // When the `locations` option is on, two more parameters are\n    // passed, the full `{line, column}` locations of the start and\n    // end of the comments. Note that you are not allowed to call the\n    // parser from the callback—that will corrupt its internal state.\n    onComment: null,\n    // Nodes have their start and end characters offsets recorded in\n    // `start` and `end` properties (directly on the node, rather than\n    // the `loc` object, which holds line/column data. To also add a\n    // [semi-standardized][range] `range` property holding a `[start,\n    // end]` array with the same numbers, set the `ranges` option to\n    // `true`.\n    //\n    // [range]: https://bugzilla.mozilla.org/show_bug.cgi?id=745678\n    ranges: false,\n    // It is possible to parse multiple files into a single AST by\n    // passing the tree produced by parsing the first file as\n    // `program` option in subsequent parses. This will add the\n    // toplevel forms of the parsed file to the `Program` (top) node\n    // of an existing parse tree.\n    program: null,\n    // When `locations` is on, you can pass this to record the source\n    // file in every node's `loc` object.\n    sourceFile: null,\n    // This value, if given, is stored in every node, whether\n    // `locations` is on or off.\n    directSourceFile: null,\n    // When enabled, parenthesized expressions are represented by\n    // (non-standard) ParenthesizedExpression nodes\n    preserveParens: false\n  };\n\n  // Interpret and default an options object\n\n  var warnedAboutEcmaVersion = false;\n\n  function getOptions(opts) {\n    var options = {};\n\n    for (var opt in defaultOptions)\n      { options[opt] = opts && hasOwn(opts, opt) ? opts[opt] : defaultOptions[opt]; }\n\n    if (options.ecmaVersion === \"latest\") {\n      options.ecmaVersion = 1e8;\n    } else if (options.ecmaVersion == null) {\n      if (!warnedAboutEcmaVersion && typeof console === \"object\" && console.warn) {\n        warnedAboutEcmaVersion = true;\n        console.warn(\"Since Acorn 8.0.0, options.ecmaVersion is required.\\nDefaulting to 2020, but this will stop working in the future.\");\n      }\n      options.ecmaVersion = 11;\n    } else if (options.ecmaVersion >= 2015) {\n      options.ecmaVersion -= 2009;\n    }\n\n    if (options.allowReserved == null)\n      { options.allowReserved = options.ecmaVersion < 5; }\n\n    if (isArray(options.onToken)) {\n      var tokens = options.onToken;\n      options.onToken = function (token) { return tokens.push(token); };\n    }\n    if (isArray(options.onComment))\n      { options.onComment = pushComment(options, options.onComment); }\n\n    return options\n  }\n\n  function pushComment(options, array) {\n    return function(block, text, start, end, startLoc, endLoc) {\n      var comment = {\n        type: block ? \"Block\" : \"Line\",\n        value: text,\n        start: start,\n        end: end\n      };\n      if (options.locations)\n        { comment.loc = new SourceLocation(this, startLoc, endLoc); }\n      if (options.ranges)\n        { comment.range = [start, end]; }\n      array.push(comment);\n    }\n  }\n\n  // Each scope gets a bitset that may contain these flags\n  var\n      SCOPE_TOP = 1,\n      SCOPE_FUNCTION = 2,\n      SCOPE_ASYNC = 4,\n      SCOPE_GENERATOR = 8,\n      SCOPE_ARROW = 16,\n      SCOPE_SIMPLE_CATCH = 32,\n      SCOPE_SUPER = 64,\n      SCOPE_DIRECT_SUPER = 128,\n      SCOPE_CLASS_STATIC_BLOCK = 256,\n      SCOPE_VAR = SCOPE_TOP | SCOPE_FUNCTION | SCOPE_CLASS_STATIC_BLOCK;\n\n  function functionFlags(async, generator) {\n    return SCOPE_FUNCTION | (async ? SCOPE_ASYNC : 0) | (generator ? SCOPE_GENERATOR : 0)\n  }\n\n  // Used in checkLVal* and declareName to determine the type of a binding\n  var\n      BIND_NONE = 0, // Not a binding\n      BIND_VAR = 1, // Var-style binding\n      BIND_LEXICAL = 2, // Let- or const-style binding\n      BIND_FUNCTION = 3, // Function declaration\n      BIND_SIMPLE_CATCH = 4, // Simple (identifier pattern) catch binding\n      BIND_OUTSIDE = 5; // Special case for function names as bound inside the function\n\n  var Parser = function Parser(options, input, startPos) {\n    this.options = options = getOptions(options);\n    this.sourceFile = options.sourceFile;\n    this.keywords = wordsRegexp(keywords$1[options.ecmaVersion >= 6 ? 6 : options.sourceType === \"module\" ? \"5module\" : 5]);\n    var reserved = \"\";\n    if (options.allowReserved !== true) {\n      reserved = reservedWords[options.ecmaVersion >= 6 ? 6 : options.ecmaVersion === 5 ? 5 : 3];\n      if (options.sourceType === \"module\") { reserved += \" await\"; }\n    }\n    this.reservedWords = wordsRegexp(reserved);\n    var reservedStrict = (reserved ? reserved + \" \" : \"\") + reservedWords.strict;\n    this.reservedWordsStrict = wordsRegexp(reservedStrict);\n    this.reservedWordsStrictBind = wordsRegexp(reservedStrict + \" \" + reservedWords.strictBind);\n    this.input = String(input);\n\n    // Used to signal to callers of `readWord1` whether the word\n    // contained any escape sequences. This is needed because words with\n    // escape sequences must not be interpreted as keywords.\n    this.containsEsc = false;\n\n    // Set up token state\n\n    // The current position of the tokenizer in the input.\n    if (startPos) {\n      this.pos = startPos;\n      this.lineStart = this.input.lastIndexOf(\"\\n\", startPos - 1) + 1;\n      this.curLine = this.input.slice(0, this.lineStart).split(lineBreak).length;\n    } else {\n      this.pos = this.lineStart = 0;\n      this.curLine = 1;\n    }\n\n    // Properties of the current token:\n    // Its type\n    this.type = types$1.eof;\n    // For tokens that include more information than their type, the value\n    this.value = null;\n    // Its start and end offset\n    this.start = this.end = this.pos;\n    // And, if locations are used, the {line, column} object\n    // corresponding to those offsets\n    this.startLoc = this.endLoc = this.curPosition();\n\n    // Position information for the previous token\n    this.lastTokEndLoc = this.lastTokStartLoc = null;\n    this.lastTokStart = this.lastTokEnd = this.pos;\n\n    // The context stack is used to superficially track syntactic\n    // context to predict whether a regular expression is allowed in a\n    // given position.\n    this.context = this.initialContext();\n    this.exprAllowed = true;\n\n    // Figure out if it's a module code.\n    this.inModule = options.sourceType === \"module\";\n    this.strict = this.inModule || this.strictDirective(this.pos);\n\n    // Used to signify the start of a potential arrow function\n    this.potentialArrowAt = -1;\n    this.potentialArrowInForAwait = false;\n\n    // Positions to delayed-check that yield/await does not exist in default parameters.\n    this.yieldPos = this.awaitPos = this.awaitIdentPos = 0;\n    // Labels in scope.\n    this.labels = [];\n    // Thus-far undefined exports.\n    this.undefinedExports = Object.create(null);\n\n    // If enabled, skip leading hashbang line.\n    if (this.pos === 0 && options.allowHashBang && this.input.slice(0, 2) === \"#!\")\n      { this.skipLineComment(2); }\n\n    // Scope tracking for duplicate variable names (see scope.js)\n    this.scopeStack = [];\n    this.enterScope(SCOPE_TOP);\n\n    // For RegExp validation\n    this.regexpState = null;\n\n    // The stack of private names.\n    // Each element has two properties: 'declared' and 'used'.\n    // When it exited from the outermost class definition, all used private names must be declared.\n    this.privateNameStack = [];\n  };\n\n  var prototypeAccessors = { inFunction: { configurable: true },inGenerator: { configurable: true },inAsync: { configurable: true },canAwait: { configurable: true },allowSuper: { configurable: true },allowDirectSuper: { configurable: true },treatFunctionsAsVar: { configurable: true },allowNewDotTarget: { configurable: true },inClassStaticBlock: { configurable: true } };\n\n  Parser.prototype.parse = function parse () {\n    var node = this.options.program || this.startNode();\n    this.nextToken();\n    return this.parseTopLevel(node)\n  };\n\n  prototypeAccessors.inFunction.get = function () { return (this.currentVarScope().flags & SCOPE_FUNCTION) > 0 };\n\n  prototypeAccessors.inGenerator.get = function () { return (this.currentVarScope().flags & SCOPE_GENERATOR) > 0 && !this.currentVarScope().inClassFieldInit };\n\n  prototypeAccessors.inAsync.get = function () { return (this.currentVarScope().flags & SCOPE_ASYNC) > 0 && !this.currentVarScope().inClassFieldInit };\n\n  prototypeAccessors.canAwait.get = function () {\n    for (var i = this.scopeStack.length - 1; i >= 0; i--) {\n      var scope = this.scopeStack[i];\n      if (scope.inClassFieldInit || scope.flags & SCOPE_CLASS_STATIC_BLOCK) { return false }\n      if (scope.flags & SCOPE_FUNCTION) { return (scope.flags & SCOPE_ASYNC) > 0 }\n    }\n    return (this.inModule && this.options.ecmaVersion >= 13) || this.options.allowAwaitOutsideFunction\n  };\n\n  prototypeAccessors.allowSuper.get = function () {\n    var ref = this.currentThisScope();\n      var flags = ref.flags;\n      var inClassFieldInit = ref.inClassFieldInit;\n    return (flags & SCOPE_SUPER) > 0 || inClassFieldInit || this.options.allowSuperOutsideMethod\n  };\n\n  prototypeAccessors.allowDirectSuper.get = function () { return (this.currentThisScope().flags & SCOPE_DIRECT_SUPER) > 0 };\n\n  prototypeAccessors.treatFunctionsAsVar.get = function () { return this.treatFunctionsAsVarInScope(this.currentScope()) };\n\n  prototypeAccessors.allowNewDotTarget.get = function () {\n    var ref = this.currentThisScope();\n      var flags = ref.flags;\n      var inClassFieldInit = ref.inClassFieldInit;\n    return (flags & (SCOPE_FUNCTION | SCOPE_CLASS_STATIC_BLOCK)) > 0 || inClassFieldInit\n  };\n\n  prototypeAccessors.inClassStaticBlock.get = function () {\n    return (this.currentVarScope().flags & SCOPE_CLASS_STATIC_BLOCK) > 0\n  };\n\n  Parser.extend = function extend () {\n      var plugins = [], len = arguments.length;\n      while ( len-- ) plugins[ len ] = arguments[ len ];\n\n    var cls = this;\n    for (var i = 0; i < plugins.length; i++) { cls = plugins[i](cls); }\n    return cls\n  };\n\n  Parser.parse = function parse (input, options) {\n    return new this(options, input).parse()\n  };\n\n  Parser.parseExpressionAt = function parseExpressionAt (input, pos, options) {\n    var parser = new this(options, input, pos);\n    parser.nextToken();\n    return parser.parseExpression()\n  };\n\n  Parser.tokenizer = function tokenizer (input, options) {\n    return new this(options, input)\n  };\n\n  Object.defineProperties( Parser.prototype, prototypeAccessors );\n\n  var pp$9 = Parser.prototype;\n\n  // ## Parser utilities\n\n  var literal = /^(?:'((?:\\\\.|[^'\\\\])*?)'|\"((?:\\\\.|[^\"\\\\])*?)\")/;\n  pp$9.strictDirective = function(start) {\n    for (;;) {\n      // Try to find string literal.\n      skipWhiteSpace.lastIndex = start;\n      start += skipWhiteSpace.exec(this.input)[0].length;\n      var match = literal.exec(this.input.slice(start));\n      if (!match) { return false }\n      if ((match[1] || match[2]) === \"use strict\") {\n        skipWhiteSpace.lastIndex = start + match[0].length;\n        var spaceAfter = skipWhiteSpace.exec(this.input), end = spaceAfter.index + spaceAfter[0].length;\n        var next = this.input.charAt(end);\n        return next === \";\" || next === \"}\" ||\n          (lineBreak.test(spaceAfter[0]) &&\n           !(/[(`.[+\\-/*%<>=,?^&]/.test(next) || next === \"!\" && this.input.charAt(end + 1) === \"=\"))\n      }\n      start += match[0].length;\n\n      // Skip semicolon, if any.\n      skipWhiteSpace.lastIndex = start;\n      start += skipWhiteSpace.exec(this.input)[0].length;\n      if (this.input[start] === \";\")\n        { start++; }\n    }\n  };\n\n  // Predicate that tests whether the next token is of the given\n  // type, and if yes, consumes it as a side effect.\n\n  pp$9.eat = function(type) {\n    if (this.type === type) {\n      this.next();\n      return true\n    } else {\n      return false\n    }\n  };\n\n  // Tests whether parsed token is a contextual keyword.\n\n  pp$9.isContextual = function(name) {\n    return this.type === types$1.name && this.value === name && !this.containsEsc\n  };\n\n  // Consumes contextual keyword if possible.\n\n  pp$9.eatContextual = function(name) {\n    if (!this.isContextual(name)) { return false }\n    this.next();\n    return true\n  };\n\n  // Asserts that following token is given contextual keyword.\n\n  pp$9.expectContextual = function(name) {\n    if (!this.eatContextual(name)) { this.unexpected(); }\n  };\n\n  // Test whether a semicolon can be inserted at the current position.\n\n  pp$9.canInsertSemicolon = function() {\n    return this.type === types$1.eof ||\n      this.type === types$1.braceR ||\n      lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n  };\n\n  pp$9.insertSemicolon = function() {\n    if (this.canInsertSemicolon()) {\n      if (this.options.onInsertedSemicolon)\n        { this.options.onInsertedSemicolon(this.lastTokEnd, this.lastTokEndLoc); }\n      return true\n    }\n  };\n\n  // Consume a semicolon, or, failing that, see if we are allowed to\n  // pretend that there is a semicolon at this position.\n\n  pp$9.semicolon = function() {\n    if (!this.eat(types$1.semi) && !this.insertSemicolon()) { this.unexpected(); }\n  };\n\n  pp$9.afterTrailingComma = function(tokType, notNext) {\n    if (this.type === tokType) {\n      if (this.options.onTrailingComma)\n        { this.options.onTrailingComma(this.lastTokStart, this.lastTokStartLoc); }\n      if (!notNext)\n        { this.next(); }\n      return true\n    }\n  };\n\n  // Expect a token of a given type. If found, consume it, otherwise,\n  // raise an unexpected token error.\n\n  pp$9.expect = function(type) {\n    this.eat(type) || this.unexpected();\n  };\n\n  // Raise an unexpected token error.\n\n  pp$9.unexpected = function(pos) {\n    this.raise(pos != null ? pos : this.start, \"Unexpected token\");\n  };\n\n  function DestructuringErrors() {\n    this.shorthandAssign =\n    this.trailingComma =\n    this.parenthesizedAssign =\n    this.parenthesizedBind =\n    this.doubleProto =\n      -1;\n  }\n\n  pp$9.checkPatternErrors = function(refDestructuringErrors, isAssign) {\n    if (!refDestructuringErrors) { return }\n    if (refDestructuringErrors.trailingComma > -1)\n      { this.raiseRecoverable(refDestructuringErrors.trailingComma, \"Comma is not permitted after the rest element\"); }\n    var parens = isAssign ? refDestructuringErrors.parenthesizedAssign : refDestructuringErrors.parenthesizedBind;\n    if (parens > -1) { this.raiseRecoverable(parens, \"Parenthesized pattern\"); }\n  };\n\n  pp$9.checkExpressionErrors = function(refDestructuringErrors, andThrow) {\n    if (!refDestructuringErrors) { return false }\n    var shorthandAssign = refDestructuringErrors.shorthandAssign;\n    var doubleProto = refDestructuringErrors.doubleProto;\n    if (!andThrow) { return shorthandAssign >= 0 || doubleProto >= 0 }\n    if (shorthandAssign >= 0)\n      { this.raise(shorthandAssign, \"Shorthand property assignments are valid only in destructuring patterns\"); }\n    if (doubleProto >= 0)\n      { this.raiseRecoverable(doubleProto, \"Redefinition of __proto__ property\"); }\n  };\n\n  pp$9.checkYieldAwaitInDefaultParams = function() {\n    if (this.yieldPos && (!this.awaitPos || this.yieldPos < this.awaitPos))\n      { this.raise(this.yieldPos, \"Yield expression cannot be a default value\"); }\n    if (this.awaitPos)\n      { this.raise(this.awaitPos, \"Await expression cannot be a default value\"); }\n  };\n\n  pp$9.isSimpleAssignTarget = function(expr) {\n    if (expr.type === \"ParenthesizedExpression\")\n      { return this.isSimpleAssignTarget(expr.expression) }\n    return expr.type === \"Identifier\" || expr.type === \"MemberExpression\"\n  };\n\n  var pp$8 = Parser.prototype;\n\n  // ### Statement parsing\n\n  // Parse a program. Initializes the parser, reads any number of\n  // statements, and wraps them in a Program node.  Optionally takes a\n  // `program` argument.  If present, the statements will be appended\n  // to its body instead of creating a new node.\n\n  pp$8.parseTopLevel = function(node) {\n    var exports = Object.create(null);\n    if (!node.body) { node.body = []; }\n    while (this.type !== types$1.eof) {\n      var stmt = this.parseStatement(null, true, exports);\n      node.body.push(stmt);\n    }\n    if (this.inModule)\n      { for (var i = 0, list = Object.keys(this.undefinedExports); i < list.length; i += 1)\n        {\n          var name = list[i];\n\n          this.raiseRecoverable(this.undefinedExports[name].start, (\"Export '\" + name + \"' is not defined\"));\n        } }\n    this.adaptDirectivePrologue(node.body);\n    this.next();\n    node.sourceType = this.options.sourceType;\n    return this.finishNode(node, \"Program\")\n  };\n\n  var loopLabel = {kind: \"loop\"}, switchLabel = {kind: \"switch\"};\n\n  pp$8.isLet = function(context) {\n    if (this.options.ecmaVersion < 6 || !this.isContextual(\"let\")) { return false }\n    skipWhiteSpace.lastIndex = this.pos;\n    var skip = skipWhiteSpace.exec(this.input);\n    var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n    // For ambiguous cases, determine if a LexicalDeclaration (or only a\n    // Statement) is allowed here. If context is not empty then only a Statement\n    // is allowed. However, `let [` is an explicit negative lookahead for\n    // ExpressionStatement, so special-case it first.\n    if (nextCh === 91 || nextCh === 92 || nextCh > 0xd7ff && nextCh < 0xdc00) { return true } // '[', '/', astral\n    if (context) { return false }\n\n    if (nextCh === 123) { return true } // '{'\n    if (isIdentifierStart(nextCh, true)) {\n      var pos = next + 1;\n      while (isIdentifierChar(nextCh = this.input.charCodeAt(pos), true)) { ++pos; }\n      if (nextCh === 92 || nextCh > 0xd7ff && nextCh < 0xdc00) { return true }\n      var ident = this.input.slice(next, pos);\n      if (!keywordRelationalOperator.test(ident)) { return true }\n    }\n    return false\n  };\n\n  // check 'async [no LineTerminator here] function'\n  // - 'async /*foo*/ function' is OK.\n  // - 'async /*\\n*/ function' is invalid.\n  pp$8.isAsyncFunction = function() {\n    if (this.options.ecmaVersion < 8 || !this.isContextual(\"async\"))\n      { return false }\n\n    skipWhiteSpace.lastIndex = this.pos;\n    var skip = skipWhiteSpace.exec(this.input);\n    var next = this.pos + skip[0].length, after;\n    return !lineBreak.test(this.input.slice(this.pos, next)) &&\n      this.input.slice(next, next + 8) === \"function\" &&\n      (next + 8 === this.input.length ||\n       !(isIdentifierChar(after = this.input.charCodeAt(next + 8)) || after > 0xd7ff && after < 0xdc00))\n  };\n\n  // Parse a single statement.\n  //\n  // If expecting a statement and finding a slash operator, parse a\n  // regular expression literal. This is to handle cases like\n  // `if (foo) /blah/.exec(foo)`, where looking at the previous token\n  // does not help.\n\n  pp$8.parseStatement = function(context, topLevel, exports) {\n    var starttype = this.type, node = this.startNode(), kind;\n\n    if (this.isLet(context)) {\n      starttype = types$1._var;\n      kind = \"let\";\n    }\n\n    // Most types of statements are recognized by the keyword they\n    // start with. Many are trivial to parse, some require a bit of\n    // complexity.\n\n    switch (starttype) {\n    case types$1._break: case types$1._continue: return this.parseBreakContinueStatement(node, starttype.keyword)\n    case types$1._debugger: return this.parseDebuggerStatement(node)\n    case types$1._do: return this.parseDoStatement(node)\n    case types$1._for: return this.parseForStatement(node)\n    case types$1._function:\n      // Function as sole body of either an if statement or a labeled statement\n      // works, but not when it is part of a labeled statement that is the sole\n      // body of an if statement.\n      if ((context && (this.strict || context !== \"if\" && context !== \"label\")) && this.options.ecmaVersion >= 6) { this.unexpected(); }\n      return this.parseFunctionStatement(node, false, !context)\n    case types$1._class:\n      if (context) { this.unexpected(); }\n      return this.parseClass(node, true)\n    case types$1._if: return this.parseIfStatement(node)\n    case types$1._return: return this.parseReturnStatement(node)\n    case types$1._switch: return this.parseSwitchStatement(node)\n    case types$1._throw: return this.parseThrowStatement(node)\n    case types$1._try: return this.parseTryStatement(node)\n    case types$1._const: case types$1._var:\n      kind = kind || this.value;\n      if (context && kind !== \"var\") { this.unexpected(); }\n      return this.parseVarStatement(node, kind)\n    case types$1._while: return this.parseWhileStatement(node)\n    case types$1._with: return this.parseWithStatement(node)\n    case types$1.braceL: return this.parseBlock(true, node)\n    case types$1.semi: return this.parseEmptyStatement(node)\n    case types$1._export:\n    case types$1._import:\n      if (this.options.ecmaVersion > 10 && starttype === types$1._import) {\n        skipWhiteSpace.lastIndex = this.pos;\n        var skip = skipWhiteSpace.exec(this.input);\n        var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n        if (nextCh === 40 || nextCh === 46) // '(' or '.'\n          { return this.parseExpressionStatement(node, this.parseExpression()) }\n      }\n\n      if (!this.options.allowImportExportEverywhere) {\n        if (!topLevel)\n          { this.raise(this.start, \"'import' and 'export' may only appear at the top level\"); }\n        if (!this.inModule)\n          { this.raise(this.start, \"'import' and 'export' may appear only with 'sourceType: module'\"); }\n      }\n      return starttype === types$1._import ? this.parseImport(node) : this.parseExport(node, exports)\n\n      // If the statement does not start with a statement keyword or a\n      // brace, it's an ExpressionStatement or LabeledStatement. We\n      // simply start parsing an expression, and afterwards, if the\n      // next token is a colon and the expression was a simple\n      // Identifier node, we switch to interpreting it as a label.\n    default:\n      if (this.isAsyncFunction()) {\n        if (context) { this.unexpected(); }\n        this.next();\n        return this.parseFunctionStatement(node, true, !context)\n      }\n\n      var maybeName = this.value, expr = this.parseExpression();\n      if (starttype === types$1.name && expr.type === \"Identifier\" && this.eat(types$1.colon))\n        { return this.parseLabeledStatement(node, maybeName, expr, context) }\n      else { return this.parseExpressionStatement(node, expr) }\n    }\n  };\n\n  pp$8.parseBreakContinueStatement = function(node, keyword) {\n    var isBreak = keyword === \"break\";\n    this.next();\n    if (this.eat(types$1.semi) || this.insertSemicolon()) { node.label = null; }\n    else if (this.type !== types$1.name) { this.unexpected(); }\n    else {\n      node.label = this.parseIdent();\n      this.semicolon();\n    }\n\n    // Verify that there is an actual destination to break or\n    // continue to.\n    var i = 0;\n    for (; i < this.labels.length; ++i) {\n      var lab = this.labels[i];\n      if (node.label == null || lab.name === node.label.name) {\n        if (lab.kind != null && (isBreak || lab.kind === \"loop\")) { break }\n        if (node.label && isBreak) { break }\n      }\n    }\n    if (i === this.labels.length) { this.raise(node.start, \"Unsyntactic \" + keyword); }\n    return this.finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\")\n  };\n\n  pp$8.parseDebuggerStatement = function(node) {\n    this.next();\n    this.semicolon();\n    return this.finishNode(node, \"DebuggerStatement\")\n  };\n\n  pp$8.parseDoStatement = function(node) {\n    this.next();\n    this.labels.push(loopLabel);\n    node.body = this.parseStatement(\"do\");\n    this.labels.pop();\n    this.expect(types$1._while);\n    node.test = this.parseParenExpression();\n    if (this.options.ecmaVersion >= 6)\n      { this.eat(types$1.semi); }\n    else\n      { this.semicolon(); }\n    return this.finishNode(node, \"DoWhileStatement\")\n  };\n\n  // Disambiguating between a `for` and a `for`/`in` or `for`/`of`\n  // loop is non-trivial. Basically, we have to parse the init `var`\n  // statement or expression, disallowing the `in` operator (see\n  // the second parameter to `parseExpression`), and then check\n  // whether the next token is `in` or `of`. When there is no init\n  // part (semicolon immediately after the opening parenthesis), it\n  // is a regular `for` loop.\n\n  pp$8.parseForStatement = function(node) {\n    this.next();\n    var awaitAt = (this.options.ecmaVersion >= 9 && this.canAwait && this.eatContextual(\"await\")) ? this.lastTokStart : -1;\n    this.labels.push(loopLabel);\n    this.enterScope(0);\n    this.expect(types$1.parenL);\n    if (this.type === types$1.semi) {\n      if (awaitAt > -1) { this.unexpected(awaitAt); }\n      return this.parseFor(node, null)\n    }\n    var isLet = this.isLet();\n    if (this.type === types$1._var || this.type === types$1._const || isLet) {\n      var init$1 = this.startNode(), kind = isLet ? \"let\" : this.value;\n      this.next();\n      this.parseVar(init$1, true, kind);\n      this.finishNode(init$1, \"VariableDeclaration\");\n      if ((this.type === types$1._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) && init$1.declarations.length === 1) {\n        if (this.options.ecmaVersion >= 9) {\n          if (this.type === types$1._in) {\n            if (awaitAt > -1) { this.unexpected(awaitAt); }\n          } else { node.await = awaitAt > -1; }\n        }\n        return this.parseForIn(node, init$1)\n      }\n      if (awaitAt > -1) { this.unexpected(awaitAt); }\n      return this.parseFor(node, init$1)\n    }\n    var startsWithLet = this.isContextual(\"let\"), isForOf = false;\n    var refDestructuringErrors = new DestructuringErrors;\n    var init = this.parseExpression(awaitAt > -1 ? \"await\" : true, refDestructuringErrors);\n    if (this.type === types$1._in || (isForOf = this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) {\n      if (this.options.ecmaVersion >= 9) {\n        if (this.type === types$1._in) {\n          if (awaitAt > -1) { this.unexpected(awaitAt); }\n        } else { node.await = awaitAt > -1; }\n      }\n      if (startsWithLet && isForOf) { this.raise(init.start, \"The left-hand side of a for-of loop may not start with 'let'.\"); }\n      this.toAssignable(init, false, refDestructuringErrors);\n      this.checkLValPattern(init);\n      return this.parseForIn(node, init)\n    } else {\n      this.checkExpressionErrors(refDestructuringErrors, true);\n    }\n    if (awaitAt > -1) { this.unexpected(awaitAt); }\n    return this.parseFor(node, init)\n  };\n\n  pp$8.parseFunctionStatement = function(node, isAsync, declarationPosition) {\n    this.next();\n    return this.parseFunction(node, FUNC_STATEMENT | (declarationPosition ? 0 : FUNC_HANGING_STATEMENT), false, isAsync)\n  };\n\n  pp$8.parseIfStatement = function(node) {\n    this.next();\n    node.test = this.parseParenExpression();\n    // allow function declarations in branches, but only in non-strict mode\n    node.consequent = this.parseStatement(\"if\");\n    node.alternate = this.eat(types$1._else) ? this.parseStatement(\"if\") : null;\n    return this.finishNode(node, \"IfStatement\")\n  };\n\n  pp$8.parseReturnStatement = function(node) {\n    if (!this.inFunction && !this.options.allowReturnOutsideFunction)\n      { this.raise(this.start, \"'return' outside of function\"); }\n    this.next();\n\n    // In `return` (and `break`/`continue`), the keywords with\n    // optional arguments, we eagerly look for a semicolon or the\n    // possibility to insert one.\n\n    if (this.eat(types$1.semi) || this.insertSemicolon()) { node.argument = null; }\n    else { node.argument = this.parseExpression(); this.semicolon(); }\n    return this.finishNode(node, \"ReturnStatement\")\n  };\n\n  pp$8.parseSwitchStatement = function(node) {\n    this.next();\n    node.discriminant = this.parseParenExpression();\n    node.cases = [];\n    this.expect(types$1.braceL);\n    this.labels.push(switchLabel);\n    this.enterScope(0);\n\n    // Statements under must be grouped (by label) in SwitchCase\n    // nodes. `cur` is used to keep the node that we are currently\n    // adding statements to.\n\n    var cur;\n    for (var sawDefault = false; this.type !== types$1.braceR;) {\n      if (this.type === types$1._case || this.type === types$1._default) {\n        var isCase = this.type === types$1._case;\n        if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n        node.cases.push(cur = this.startNode());\n        cur.consequent = [];\n        this.next();\n        if (isCase) {\n          cur.test = this.parseExpression();\n        } else {\n          if (sawDefault) { this.raiseRecoverable(this.lastTokStart, \"Multiple default clauses\"); }\n          sawDefault = true;\n          cur.test = null;\n        }\n        this.expect(types$1.colon);\n      } else {\n        if (!cur) { this.unexpected(); }\n        cur.consequent.push(this.parseStatement(null));\n      }\n    }\n    this.exitScope();\n    if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n    this.next(); // Closing brace\n    this.labels.pop();\n    return this.finishNode(node, \"SwitchStatement\")\n  };\n\n  pp$8.parseThrowStatement = function(node) {\n    this.next();\n    if (lineBreak.test(this.input.slice(this.lastTokEnd, this.start)))\n      { this.raise(this.lastTokEnd, \"Illegal newline after throw\"); }\n    node.argument = this.parseExpression();\n    this.semicolon();\n    return this.finishNode(node, \"ThrowStatement\")\n  };\n\n  // Reused empty array added for node fields that are always empty.\n\n  var empty$1 = [];\n\n  pp$8.parseTryStatement = function(node) {\n    this.next();\n    node.block = this.parseBlock();\n    node.handler = null;\n    if (this.type === types$1._catch) {\n      var clause = this.startNode();\n      this.next();\n      if (this.eat(types$1.parenL)) {\n        clause.param = this.parseBindingAtom();\n        var simple = clause.param.type === \"Identifier\";\n        this.enterScope(simple ? SCOPE_SIMPLE_CATCH : 0);\n        this.checkLValPattern(clause.param, simple ? BIND_SIMPLE_CATCH : BIND_LEXICAL);\n        this.expect(types$1.parenR);\n      } else {\n        if (this.options.ecmaVersion < 10) { this.unexpected(); }\n        clause.param = null;\n        this.enterScope(0);\n      }\n      clause.body = this.parseBlock(false);\n      this.exitScope();\n      node.handler = this.finishNode(clause, \"CatchClause\");\n    }\n    node.finalizer = this.eat(types$1._finally) ? this.parseBlock() : null;\n    if (!node.handler && !node.finalizer)\n      { this.raise(node.start, \"Missing catch or finally clause\"); }\n    return this.finishNode(node, \"TryStatement\")\n  };\n\n  pp$8.parseVarStatement = function(node, kind) {\n    this.next();\n    this.parseVar(node, false, kind);\n    this.semicolon();\n    return this.finishNode(node, \"VariableDeclaration\")\n  };\n\n  pp$8.parseWhileStatement = function(node) {\n    this.next();\n    node.test = this.parseParenExpression();\n    this.labels.push(loopLabel);\n    node.body = this.parseStatement(\"while\");\n    this.labels.pop();\n    return this.finishNode(node, \"WhileStatement\")\n  };\n\n  pp$8.parseWithStatement = function(node) {\n    if (this.strict) { this.raise(this.start, \"'with' in strict mode\"); }\n    this.next();\n    node.object = this.parseParenExpression();\n    node.body = this.parseStatement(\"with\");\n    return this.finishNode(node, \"WithStatement\")\n  };\n\n  pp$8.parseEmptyStatement = function(node) {\n    this.next();\n    return this.finishNode(node, \"EmptyStatement\")\n  };\n\n  pp$8.parseLabeledStatement = function(node, maybeName, expr, context) {\n    for (var i$1 = 0, list = this.labels; i$1 < list.length; i$1 += 1)\n      {\n      var label = list[i$1];\n\n      if (label.name === maybeName)\n        { this.raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n    } }\n    var kind = this.type.isLoop ? \"loop\" : this.type === types$1._switch ? \"switch\" : null;\n    for (var i = this.labels.length - 1; i >= 0; i--) {\n      var label$1 = this.labels[i];\n      if (label$1.statementStart === node.start) {\n        // Update information about previous labels on this node\n        label$1.statementStart = this.start;\n        label$1.kind = kind;\n      } else { break }\n    }\n    this.labels.push({name: maybeName, kind: kind, statementStart: this.start});\n    node.body = this.parseStatement(context ? context.indexOf(\"label\") === -1 ? context + \"label\" : context : \"label\");\n    this.labels.pop();\n    node.label = expr;\n    return this.finishNode(node, \"LabeledStatement\")\n  };\n\n  pp$8.parseExpressionStatement = function(node, expr) {\n    node.expression = expr;\n    this.semicolon();\n    return this.finishNode(node, \"ExpressionStatement\")\n  };\n\n  // Parse a semicolon-enclosed block of statements, handling `\"use\n  // strict\"` declarations when `allowStrict` is true (used for\n  // function bodies).\n\n  pp$8.parseBlock = function(createNewLexicalScope, node, exitStrict) {\n    if ( createNewLexicalScope === void 0 ) createNewLexicalScope = true;\n    if ( node === void 0 ) node = this.startNode();\n\n    node.body = [];\n    this.expect(types$1.braceL);\n    if (createNewLexicalScope) { this.enterScope(0); }\n    while (this.type !== types$1.braceR) {\n      var stmt = this.parseStatement(null);\n      node.body.push(stmt);\n    }\n    if (exitStrict) { this.strict = false; }\n    this.next();\n    if (createNewLexicalScope) { this.exitScope(); }\n    return this.finishNode(node, \"BlockStatement\")\n  };\n\n  // Parse a regular `for` loop. The disambiguation code in\n  // `parseStatement` will already have parsed the init statement or\n  // expression.\n\n  pp$8.parseFor = function(node, init) {\n    node.init = init;\n    this.expect(types$1.semi);\n    node.test = this.type === types$1.semi ? null : this.parseExpression();\n    this.expect(types$1.semi);\n    node.update = this.type === types$1.parenR ? null : this.parseExpression();\n    this.expect(types$1.parenR);\n    node.body = this.parseStatement(\"for\");\n    this.exitScope();\n    this.labels.pop();\n    return this.finishNode(node, \"ForStatement\")\n  };\n\n  // Parse a `for`/`in` and `for`/`of` loop, which are almost\n  // same from parser's perspective.\n\n  pp$8.parseForIn = function(node, init) {\n    var isForIn = this.type === types$1._in;\n    this.next();\n\n    if (\n      init.type === \"VariableDeclaration\" &&\n      init.declarations[0].init != null &&\n      (\n        !isForIn ||\n        this.options.ecmaVersion < 8 ||\n        this.strict ||\n        init.kind !== \"var\" ||\n        init.declarations[0].id.type !== \"Identifier\"\n      )\n    ) {\n      this.raise(\n        init.start,\n        ((isForIn ? \"for-in\" : \"for-of\") + \" loop variable declaration may not have an initializer\")\n      );\n    }\n    node.left = init;\n    node.right = isForIn ? this.parseExpression() : this.parseMaybeAssign();\n    this.expect(types$1.parenR);\n    node.body = this.parseStatement(\"for\");\n    this.exitScope();\n    this.labels.pop();\n    return this.finishNode(node, isForIn ? \"ForInStatement\" : \"ForOfStatement\")\n  };\n\n  // Parse a list of variable declarations.\n\n  pp$8.parseVar = function(node, isFor, kind) {\n    node.declarations = [];\n    node.kind = kind;\n    for (;;) {\n      var decl = this.startNode();\n      this.parseVarId(decl, kind);\n      if (this.eat(types$1.eq)) {\n        decl.init = this.parseMaybeAssign(isFor);\n      } else if (kind === \"const\" && !(this.type === types$1._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\")))) {\n        this.unexpected();\n      } else if (decl.id.type !== \"Identifier\" && !(isFor && (this.type === types$1._in || this.isContextual(\"of\")))) {\n        this.raise(this.lastTokEnd, \"Complex binding patterns require an initialization value\");\n      } else {\n        decl.init = null;\n      }\n      node.declarations.push(this.finishNode(decl, \"VariableDeclarator\"));\n      if (!this.eat(types$1.comma)) { break }\n    }\n    return node\n  };\n\n  pp$8.parseVarId = function(decl, kind) {\n    decl.id = this.parseBindingAtom();\n    this.checkLValPattern(decl.id, kind === \"var\" ? BIND_VAR : BIND_LEXICAL, false);\n  };\n\n  var FUNC_STATEMENT = 1, FUNC_HANGING_STATEMENT = 2, FUNC_NULLABLE_ID = 4;\n\n  // Parse a function declaration or literal (depending on the\n  // `statement & FUNC_STATEMENT`).\n\n  // Remove `allowExpressionBody` for 7.0.0, as it is only called with false\n  pp$8.parseFunction = function(node, statement, allowExpressionBody, isAsync, forInit) {\n    this.initFunction(node);\n    if (this.options.ecmaVersion >= 9 || this.options.ecmaVersion >= 6 && !isAsync) {\n      if (this.type === types$1.star && (statement & FUNC_HANGING_STATEMENT))\n        { this.unexpected(); }\n      node.generator = this.eat(types$1.star);\n    }\n    if (this.options.ecmaVersion >= 8)\n      { node.async = !!isAsync; }\n\n    if (statement & FUNC_STATEMENT) {\n      node.id = (statement & FUNC_NULLABLE_ID) && this.type !== types$1.name ? null : this.parseIdent();\n      if (node.id && !(statement & FUNC_HANGING_STATEMENT))\n        // If it is a regular function declaration in sloppy mode, then it is\n        // subject to Annex B semantics (BIND_FUNCTION). Otherwise, the binding\n        // mode depends on properties of the current scope (see\n        // treatFunctionsAsVar).\n        { this.checkLValSimple(node.id, (this.strict || node.generator || node.async) ? this.treatFunctionsAsVar ? BIND_VAR : BIND_LEXICAL : BIND_FUNCTION); }\n    }\n\n    var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    this.enterScope(functionFlags(node.async, node.generator));\n\n    if (!(statement & FUNC_STATEMENT))\n      { node.id = this.type === types$1.name ? this.parseIdent() : null; }\n\n    this.parseFunctionParams(node);\n    this.parseFunctionBody(node, allowExpressionBody, false, forInit);\n\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, (statement & FUNC_STATEMENT) ? \"FunctionDeclaration\" : \"FunctionExpression\")\n  };\n\n  pp$8.parseFunctionParams = function(node) {\n    this.expect(types$1.parenL);\n    node.params = this.parseBindingList(types$1.parenR, false, this.options.ecmaVersion >= 8);\n    this.checkYieldAwaitInDefaultParams();\n  };\n\n  // Parse a class declaration or literal (depending on the\n  // `isStatement` parameter).\n\n  pp$8.parseClass = function(node, isStatement) {\n    this.next();\n\n    // ecma-262 14.6 Class Definitions\n    // A class definition is always strict mode code.\n    var oldStrict = this.strict;\n    this.strict = true;\n\n    this.parseClassId(node, isStatement);\n    this.parseClassSuper(node);\n    var privateNameMap = this.enterClassBody();\n    var classBody = this.startNode();\n    var hadConstructor = false;\n    classBody.body = [];\n    this.expect(types$1.braceL);\n    while (this.type !== types$1.braceR) {\n      var element = this.parseClassElement(node.superClass !== null);\n      if (element) {\n        classBody.body.push(element);\n        if (element.type === \"MethodDefinition\" && element.kind === \"constructor\") {\n          if (hadConstructor) { this.raise(element.start, \"Duplicate constructor in the same class\"); }\n          hadConstructor = true;\n        } else if (element.key && element.key.type === \"PrivateIdentifier\" && isPrivateNameConflicted(privateNameMap, element)) {\n          this.raiseRecoverable(element.key.start, (\"Identifier '#\" + (element.key.name) + \"' has already been declared\"));\n        }\n      }\n    }\n    this.strict = oldStrict;\n    this.next();\n    node.body = this.finishNode(classBody, \"ClassBody\");\n    this.exitClassBody();\n    return this.finishNode(node, isStatement ? \"ClassDeclaration\" : \"ClassExpression\")\n  };\n\n  pp$8.parseClassElement = function(constructorAllowsSuper) {\n    if (this.eat(types$1.semi)) { return null }\n\n    var ecmaVersion = this.options.ecmaVersion;\n    var node = this.startNode();\n    var keyName = \"\";\n    var isGenerator = false;\n    var isAsync = false;\n    var kind = \"method\";\n    var isStatic = false;\n\n    if (this.eatContextual(\"static\")) {\n      // Parse static init block\n      if (ecmaVersion >= 13 && this.eat(types$1.braceL)) {\n        this.parseClassStaticBlock(node);\n        return node\n      }\n      if (this.isClassElementNameStart() || this.type === types$1.star) {\n        isStatic = true;\n      } else {\n        keyName = \"static\";\n      }\n    }\n    node.static = isStatic;\n    if (!keyName && ecmaVersion >= 8 && this.eatContextual(\"async\")) {\n      if ((this.isClassElementNameStart() || this.type === types$1.star) && !this.canInsertSemicolon()) {\n        isAsync = true;\n      } else {\n        keyName = \"async\";\n      }\n    }\n    if (!keyName && (ecmaVersion >= 9 || !isAsync) && this.eat(types$1.star)) {\n      isGenerator = true;\n    }\n    if (!keyName && !isAsync && !isGenerator) {\n      var lastValue = this.value;\n      if (this.eatContextual(\"get\") || this.eatContextual(\"set\")) {\n        if (this.isClassElementNameStart()) {\n          kind = lastValue;\n        } else {\n          keyName = lastValue;\n        }\n      }\n    }\n\n    // Parse element name\n    if (keyName) {\n      // 'async', 'get', 'set', or 'static' were not a keyword contextually.\n      // The last token is any of those. Make it the element name.\n      node.computed = false;\n      node.key = this.startNodeAt(this.lastTokStart, this.lastTokStartLoc);\n      node.key.name = keyName;\n      this.finishNode(node.key, \"Identifier\");\n    } else {\n      this.parseClassElementName(node);\n    }\n\n    // Parse element value\n    if (ecmaVersion < 13 || this.type === types$1.parenL || kind !== \"method\" || isGenerator || isAsync) {\n      var isConstructor = !node.static && checkKeyName(node, \"constructor\");\n      var allowsDirectSuper = isConstructor && constructorAllowsSuper;\n      // Couldn't move this check into the 'parseClassMethod' method for backward compatibility.\n      if (isConstructor && kind !== \"method\") { this.raise(node.key.start, \"Constructor can't have get/set modifier\"); }\n      node.kind = isConstructor ? \"constructor\" : kind;\n      this.parseClassMethod(node, isGenerator, isAsync, allowsDirectSuper);\n    } else {\n      this.parseClassField(node);\n    }\n\n    return node\n  };\n\n  pp$8.isClassElementNameStart = function() {\n    return (\n      this.type === types$1.name ||\n      this.type === types$1.privateId ||\n      this.type === types$1.num ||\n      this.type === types$1.string ||\n      this.type === types$1.bracketL ||\n      this.type.keyword\n    )\n  };\n\n  pp$8.parseClassElementName = function(element) {\n    if (this.type === types$1.privateId) {\n      if (this.value === \"constructor\") {\n        this.raise(this.start, \"Classes can't have an element named '#constructor'\");\n      }\n      element.computed = false;\n      element.key = this.parsePrivateIdent();\n    } else {\n      this.parsePropertyName(element);\n    }\n  };\n\n  pp$8.parseClassMethod = function(method, isGenerator, isAsync, allowsDirectSuper) {\n    // Check key and flags\n    var key = method.key;\n    if (method.kind === \"constructor\") {\n      if (isGenerator) { this.raise(key.start, \"Constructor can't be a generator\"); }\n      if (isAsync) { this.raise(key.start, \"Constructor can't be an async method\"); }\n    } else if (method.static && checkKeyName(method, \"prototype\")) {\n      this.raise(key.start, \"Classes may not have a static property named prototype\");\n    }\n\n    // Parse value\n    var value = method.value = this.parseMethod(isGenerator, isAsync, allowsDirectSuper);\n\n    // Check value\n    if (method.kind === \"get\" && value.params.length !== 0)\n      { this.raiseRecoverable(value.start, \"getter should have no params\"); }\n    if (method.kind === \"set\" && value.params.length !== 1)\n      { this.raiseRecoverable(value.start, \"setter should have exactly one param\"); }\n    if (method.kind === \"set\" && value.params[0].type === \"RestElement\")\n      { this.raiseRecoverable(value.params[0].start, \"Setter cannot use rest params\"); }\n\n    return this.finishNode(method, \"MethodDefinition\")\n  };\n\n  pp$8.parseClassField = function(field) {\n    if (checkKeyName(field, \"constructor\")) {\n      this.raise(field.key.start, \"Classes can't have a field named 'constructor'\");\n    } else if (field.static && checkKeyName(field, \"prototype\")) {\n      this.raise(field.key.start, \"Classes can't have a static field named 'prototype'\");\n    }\n\n    if (this.eat(types$1.eq)) {\n      // To raise SyntaxError if 'arguments' exists in the initializer.\n      var scope = this.currentThisScope();\n      var inClassFieldInit = scope.inClassFieldInit;\n      scope.inClassFieldInit = true;\n      field.value = this.parseMaybeAssign();\n      scope.inClassFieldInit = inClassFieldInit;\n    } else {\n      field.value = null;\n    }\n    this.semicolon();\n\n    return this.finishNode(field, \"PropertyDefinition\")\n  };\n\n  pp$8.parseClassStaticBlock = function(node) {\n    node.body = [];\n\n    var oldLabels = this.labels;\n    this.labels = [];\n    this.enterScope(SCOPE_CLASS_STATIC_BLOCK | SCOPE_SUPER);\n    while (this.type !== types$1.braceR) {\n      var stmt = this.parseStatement(null);\n      node.body.push(stmt);\n    }\n    this.next();\n    this.exitScope();\n    this.labels = oldLabels;\n\n    return this.finishNode(node, \"StaticBlock\")\n  };\n\n  pp$8.parseClassId = function(node, isStatement) {\n    if (this.type === types$1.name) {\n      node.id = this.parseIdent();\n      if (isStatement)\n        { this.checkLValSimple(node.id, BIND_LEXICAL, false); }\n    } else {\n      if (isStatement === true)\n        { this.unexpected(); }\n      node.id = null;\n    }\n  };\n\n  pp$8.parseClassSuper = function(node) {\n    node.superClass = this.eat(types$1._extends) ? this.parseExprSubscripts(false) : null;\n  };\n\n  pp$8.enterClassBody = function() {\n    var element = {declared: Object.create(null), used: []};\n    this.privateNameStack.push(element);\n    return element.declared\n  };\n\n  pp$8.exitClassBody = function() {\n    var ref = this.privateNameStack.pop();\n    var declared = ref.declared;\n    var used = ref.used;\n    var len = this.privateNameStack.length;\n    var parent = len === 0 ? null : this.privateNameStack[len - 1];\n    for (var i = 0; i < used.length; ++i) {\n      var id = used[i];\n      if (!hasOwn(declared, id.name)) {\n        if (parent) {\n          parent.used.push(id);\n        } else {\n          this.raiseRecoverable(id.start, (\"Private field '#\" + (id.name) + \"' must be declared in an enclosing class\"));\n        }\n      }\n    }\n  };\n\n  function isPrivateNameConflicted(privateNameMap, element) {\n    var name = element.key.name;\n    var curr = privateNameMap[name];\n\n    var next = \"true\";\n    if (element.type === \"MethodDefinition\" && (element.kind === \"get\" || element.kind === \"set\")) {\n      next = (element.static ? \"s\" : \"i\") + element.kind;\n    }\n\n    // `class { get #a(){}; static set #a(_){} }` is also conflict.\n    if (\n      curr === \"iget\" && next === \"iset\" ||\n      curr === \"iset\" && next === \"iget\" ||\n      curr === \"sget\" && next === \"sset\" ||\n      curr === \"sset\" && next === \"sget\"\n    ) {\n      privateNameMap[name] = \"true\";\n      return false\n    } else if (!curr) {\n      privateNameMap[name] = next;\n      return false\n    } else {\n      return true\n    }\n  }\n\n  function checkKeyName(node, name) {\n    var computed = node.computed;\n    var key = node.key;\n    return !computed && (\n      key.type === \"Identifier\" && key.name === name ||\n      key.type === \"Literal\" && key.value === name\n    )\n  }\n\n  // Parses module export declaration.\n\n  pp$8.parseExport = function(node, exports) {\n    this.next();\n    // export * from '...'\n    if (this.eat(types$1.star)) {\n      if (this.options.ecmaVersion >= 11) {\n        if (this.eatContextual(\"as\")) {\n          node.exported = this.parseModuleExportName();\n          this.checkExport(exports, node.exported.name, this.lastTokStart);\n        } else {\n          node.exported = null;\n        }\n      }\n      this.expectContextual(\"from\");\n      if (this.type !== types$1.string) { this.unexpected(); }\n      node.source = this.parseExprAtom();\n      this.semicolon();\n      return this.finishNode(node, \"ExportAllDeclaration\")\n    }\n    if (this.eat(types$1._default)) { // export default ...\n      this.checkExport(exports, \"default\", this.lastTokStart);\n      var isAsync;\n      if (this.type === types$1._function || (isAsync = this.isAsyncFunction())) {\n        var fNode = this.startNode();\n        this.next();\n        if (isAsync) { this.next(); }\n        node.declaration = this.parseFunction(fNode, FUNC_STATEMENT | FUNC_NULLABLE_ID, false, isAsync);\n      } else if (this.type === types$1._class) {\n        var cNode = this.startNode();\n        node.declaration = this.parseClass(cNode, \"nullableID\");\n      } else {\n        node.declaration = this.parseMaybeAssign();\n        this.semicolon();\n      }\n      return this.finishNode(node, \"ExportDefaultDeclaration\")\n    }\n    // export var|const|let|function|class ...\n    if (this.shouldParseExportStatement()) {\n      node.declaration = this.parseStatement(null);\n      if (node.declaration.type === \"VariableDeclaration\")\n        { this.checkVariableExport(exports, node.declaration.declarations); }\n      else\n        { this.checkExport(exports, node.declaration.id.name, node.declaration.id.start); }\n      node.specifiers = [];\n      node.source = null;\n    } else { // export { x, y as z } [from '...']\n      node.declaration = null;\n      node.specifiers = this.parseExportSpecifiers(exports);\n      if (this.eatContextual(\"from\")) {\n        if (this.type !== types$1.string) { this.unexpected(); }\n        node.source = this.parseExprAtom();\n      } else {\n        for (var i = 0, list = node.specifiers; i < list.length; i += 1) {\n          // check for keywords used as local names\n          var spec = list[i];\n\n          this.checkUnreserved(spec.local);\n          // check if export is defined\n          this.checkLocalExport(spec.local);\n\n          if (spec.local.type === \"Literal\") {\n            this.raise(spec.local.start, \"A string literal cannot be used as an exported binding without `from`.\");\n          }\n        }\n\n        node.source = null;\n      }\n      this.semicolon();\n    }\n    return this.finishNode(node, \"ExportNamedDeclaration\")\n  };\n\n  pp$8.checkExport = function(exports, name, pos) {\n    if (!exports) { return }\n    if (hasOwn(exports, name))\n      { this.raiseRecoverable(pos, \"Duplicate export '\" + name + \"'\"); }\n    exports[name] = true;\n  };\n\n  pp$8.checkPatternExport = function(exports, pat) {\n    var type = pat.type;\n    if (type === \"Identifier\")\n      { this.checkExport(exports, pat.name, pat.start); }\n    else if (type === \"ObjectPattern\")\n      { for (var i = 0, list = pat.properties; i < list.length; i += 1)\n        {\n          var prop = list[i];\n\n          this.checkPatternExport(exports, prop);\n        } }\n    else if (type === \"ArrayPattern\")\n      { for (var i$1 = 0, list$1 = pat.elements; i$1 < list$1.length; i$1 += 1) {\n        var elt = list$1[i$1];\n\n          if (elt) { this.checkPatternExport(exports, elt); }\n      } }\n    else if (type === \"Property\")\n      { this.checkPatternExport(exports, pat.value); }\n    else if (type === \"AssignmentPattern\")\n      { this.checkPatternExport(exports, pat.left); }\n    else if (type === \"RestElement\")\n      { this.checkPatternExport(exports, pat.argument); }\n    else if (type === \"ParenthesizedExpression\")\n      { this.checkPatternExport(exports, pat.expression); }\n  };\n\n  pp$8.checkVariableExport = function(exports, decls) {\n    if (!exports) { return }\n    for (var i = 0, list = decls; i < list.length; i += 1)\n      {\n      var decl = list[i];\n\n      this.checkPatternExport(exports, decl.id);\n    }\n  };\n\n  pp$8.shouldParseExportStatement = function() {\n    return this.type.keyword === \"var\" ||\n      this.type.keyword === \"const\" ||\n      this.type.keyword === \"class\" ||\n      this.type.keyword === \"function\" ||\n      this.isLet() ||\n      this.isAsyncFunction()\n  };\n\n  // Parses a comma-separated list of module exports.\n\n  pp$8.parseExportSpecifiers = function(exports) {\n    var nodes = [], first = true;\n    // export { x, y as z } [from '...']\n    this.expect(types$1.braceL);\n    while (!this.eat(types$1.braceR)) {\n      if (!first) {\n        this.expect(types$1.comma);\n        if (this.afterTrailingComma(types$1.braceR)) { break }\n      } else { first = false; }\n\n      var node = this.startNode();\n      node.local = this.parseModuleExportName();\n      node.exported = this.eatContextual(\"as\") ? this.parseModuleExportName() : node.local;\n      this.checkExport(\n        exports,\n        node.exported[node.exported.type === \"Identifier\" ? \"name\" : \"value\"],\n        node.exported.start\n      );\n      nodes.push(this.finishNode(node, \"ExportSpecifier\"));\n    }\n    return nodes\n  };\n\n  // Parses import declaration.\n\n  pp$8.parseImport = function(node) {\n    this.next();\n    // import '...'\n    if (this.type === types$1.string) {\n      node.specifiers = empty$1;\n      node.source = this.parseExprAtom();\n    } else {\n      node.specifiers = this.parseImportSpecifiers();\n      this.expectContextual(\"from\");\n      node.source = this.type === types$1.string ? this.parseExprAtom() : this.unexpected();\n    }\n    this.semicolon();\n    return this.finishNode(node, \"ImportDeclaration\")\n  };\n\n  // Parses a comma-separated list of module imports.\n\n  pp$8.parseImportSpecifiers = function() {\n    var nodes = [], first = true;\n    if (this.type === types$1.name) {\n      // import defaultObj, { x, y as z } from '...'\n      var node = this.startNode();\n      node.local = this.parseIdent();\n      this.checkLValSimple(node.local, BIND_LEXICAL);\n      nodes.push(this.finishNode(node, \"ImportDefaultSpecifier\"));\n      if (!this.eat(types$1.comma)) { return nodes }\n    }\n    if (this.type === types$1.star) {\n      var node$1 = this.startNode();\n      this.next();\n      this.expectContextual(\"as\");\n      node$1.local = this.parseIdent();\n      this.checkLValSimple(node$1.local, BIND_LEXICAL);\n      nodes.push(this.finishNode(node$1, \"ImportNamespaceSpecifier\"));\n      return nodes\n    }\n    this.expect(types$1.braceL);\n    while (!this.eat(types$1.braceR)) {\n      if (!first) {\n        this.expect(types$1.comma);\n        if (this.afterTrailingComma(types$1.braceR)) { break }\n      } else { first = false; }\n\n      var node$2 = this.startNode();\n      node$2.imported = this.parseModuleExportName();\n      if (this.eatContextual(\"as\")) {\n        node$2.local = this.parseIdent();\n      } else {\n        this.checkUnreserved(node$2.imported);\n        node$2.local = node$2.imported;\n      }\n      this.checkLValSimple(node$2.local, BIND_LEXICAL);\n      nodes.push(this.finishNode(node$2, \"ImportSpecifier\"));\n    }\n    return nodes\n  };\n\n  pp$8.parseModuleExportName = function() {\n    if (this.options.ecmaVersion >= 13 && this.type === types$1.string) {\n      var stringLiteral = this.parseLiteral(this.value);\n      if (loneSurrogate.test(stringLiteral.value)) {\n        this.raise(stringLiteral.start, \"An export name cannot include a lone surrogate.\");\n      }\n      return stringLiteral\n    }\n    return this.parseIdent(true)\n  };\n\n  // Set `ExpressionStatement#directive` property for directive prologues.\n  pp$8.adaptDirectivePrologue = function(statements) {\n    for (var i = 0; i < statements.length && this.isDirectiveCandidate(statements[i]); ++i) {\n      statements[i].directive = statements[i].expression.raw.slice(1, -1);\n    }\n  };\n  pp$8.isDirectiveCandidate = function(statement) {\n    return (\n      statement.type === \"ExpressionStatement\" &&\n      statement.expression.type === \"Literal\" &&\n      typeof statement.expression.value === \"string\" &&\n      // Reject parenthesized strings.\n      (this.input[statement.start] === \"\\\"\" || this.input[statement.start] === \"'\")\n    )\n  };\n\n  var pp$7 = Parser.prototype;\n\n  // Convert existing expression atom to assignable pattern\n  // if possible.\n\n  pp$7.toAssignable = function(node, isBinding, refDestructuringErrors) {\n    if (this.options.ecmaVersion >= 6 && node) {\n      switch (node.type) {\n      case \"Identifier\":\n        if (this.inAsync && node.name === \"await\")\n          { this.raise(node.start, \"Cannot use 'await' as identifier inside an async function\"); }\n        break\n\n      case \"ObjectPattern\":\n      case \"ArrayPattern\":\n      case \"AssignmentPattern\":\n      case \"RestElement\":\n        break\n\n      case \"ObjectExpression\":\n        node.type = \"ObjectPattern\";\n        if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n        for (var i = 0, list = node.properties; i < list.length; i += 1) {\n          var prop = list[i];\n\n        this.toAssignable(prop, isBinding);\n          // Early error:\n          //   AssignmentRestProperty[Yield, Await] :\n          //     `...` DestructuringAssignmentTarget[Yield, Await]\n          //\n          //   It is a Syntax Error if |DestructuringAssignmentTarget| is an |ArrayLiteral| or an |ObjectLiteral|.\n          if (\n            prop.type === \"RestElement\" &&\n            (prop.argument.type === \"ArrayPattern\" || prop.argument.type === \"ObjectPattern\")\n          ) {\n            this.raise(prop.argument.start, \"Unexpected token\");\n          }\n        }\n        break\n\n      case \"Property\":\n        // AssignmentProperty has type === \"Property\"\n        if (node.kind !== \"init\") { this.raise(node.key.start, \"Object pattern can't contain getter or setter\"); }\n        this.toAssignable(node.value, isBinding);\n        break\n\n      case \"ArrayExpression\":\n        node.type = \"ArrayPattern\";\n        if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n        this.toAssignableList(node.elements, isBinding);\n        break\n\n      case \"SpreadElement\":\n        node.type = \"RestElement\";\n        this.toAssignable(node.argument, isBinding);\n        if (node.argument.type === \"AssignmentPattern\")\n          { this.raise(node.argument.start, \"Rest elements cannot have a default value\"); }\n        break\n\n      case \"AssignmentExpression\":\n        if (node.operator !== \"=\") { this.raise(node.left.end, \"Only '=' operator can be used for specifying default value.\"); }\n        node.type = \"AssignmentPattern\";\n        delete node.operator;\n        this.toAssignable(node.left, isBinding);\n        break\n\n      case \"ParenthesizedExpression\":\n        this.toAssignable(node.expression, isBinding, refDestructuringErrors);\n        break\n\n      case \"ChainExpression\":\n        this.raiseRecoverable(node.start, \"Optional chaining cannot appear in left-hand side\");\n        break\n\n      case \"MemberExpression\":\n        if (!isBinding) { break }\n\n      default:\n        this.raise(node.start, \"Assigning to rvalue\");\n      }\n    } else if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n    return node\n  };\n\n  // Convert list of expression atoms to binding list.\n\n  pp$7.toAssignableList = function(exprList, isBinding) {\n    var end = exprList.length;\n    for (var i = 0; i < end; i++) {\n      var elt = exprList[i];\n      if (elt) { this.toAssignable(elt, isBinding); }\n    }\n    if (end) {\n      var last = exprList[end - 1];\n      if (this.options.ecmaVersion === 6 && isBinding && last && last.type === \"RestElement\" && last.argument.type !== \"Identifier\")\n        { this.unexpected(last.argument.start); }\n    }\n    return exprList\n  };\n\n  // Parses spread element.\n\n  pp$7.parseSpread = function(refDestructuringErrors) {\n    var node = this.startNode();\n    this.next();\n    node.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n    return this.finishNode(node, \"SpreadElement\")\n  };\n\n  pp$7.parseRestBinding = function() {\n    var node = this.startNode();\n    this.next();\n\n    // RestElement inside of a function parameter must be an identifier\n    if (this.options.ecmaVersion === 6 && this.type !== types$1.name)\n      { this.unexpected(); }\n\n    node.argument = this.parseBindingAtom();\n\n    return this.finishNode(node, \"RestElement\")\n  };\n\n  // Parses lvalue (assignable) atom.\n\n  pp$7.parseBindingAtom = function() {\n    if (this.options.ecmaVersion >= 6) {\n      switch (this.type) {\n      case types$1.bracketL:\n        var node = this.startNode();\n        this.next();\n        node.elements = this.parseBindingList(types$1.bracketR, true, true);\n        return this.finishNode(node, \"ArrayPattern\")\n\n      case types$1.braceL:\n        return this.parseObj(true)\n      }\n    }\n    return this.parseIdent()\n  };\n\n  pp$7.parseBindingList = function(close, allowEmpty, allowTrailingComma) {\n    var elts = [], first = true;\n    while (!this.eat(close)) {\n      if (first) { first = false; }\n      else { this.expect(types$1.comma); }\n      if (allowEmpty && this.type === types$1.comma) {\n        elts.push(null);\n      } else if (allowTrailingComma && this.afterTrailingComma(close)) {\n        break\n      } else if (this.type === types$1.ellipsis) {\n        var rest = this.parseRestBinding();\n        this.parseBindingListItem(rest);\n        elts.push(rest);\n        if (this.type === types$1.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\n        this.expect(close);\n        break\n      } else {\n        var elem = this.parseMaybeDefault(this.start, this.startLoc);\n        this.parseBindingListItem(elem);\n        elts.push(elem);\n      }\n    }\n    return elts\n  };\n\n  pp$7.parseBindingListItem = function(param) {\n    return param\n  };\n\n  // Parses assignment pattern around given atom if possible.\n\n  pp$7.parseMaybeDefault = function(startPos, startLoc, left) {\n    left = left || this.parseBindingAtom();\n    if (this.options.ecmaVersion < 6 || !this.eat(types$1.eq)) { return left }\n    var node = this.startNodeAt(startPos, startLoc);\n    node.left = left;\n    node.right = this.parseMaybeAssign();\n    return this.finishNode(node, \"AssignmentPattern\")\n  };\n\n  // The following three functions all verify that a node is an lvalue —\n  // something that can be bound, or assigned to. In order to do so, they perform\n  // a variety of checks:\n  //\n  // - Check that none of the bound/assigned-to identifiers are reserved words.\n  // - Record name declarations for bindings in the appropriate scope.\n  // - Check duplicate argument names, if checkClashes is set.\n  //\n  // If a complex binding pattern is encountered (e.g., object and array\n  // destructuring), the entire pattern is recursively checked.\n  //\n  // There are three versions of checkLVal*() appropriate for different\n  // circumstances:\n  //\n  // - checkLValSimple() shall be used if the syntactic construct supports\n  //   nothing other than identifiers and member expressions. Parenthesized\n  //   expressions are also correctly handled. This is generally appropriate for\n  //   constructs for which the spec says\n  //\n  //   > It is a Syntax Error if AssignmentTargetType of [the production] is not\n  //   > simple.\n  //\n  //   It is also appropriate for checking if an identifier is valid and not\n  //   defined elsewhere, like import declarations or function/class identifiers.\n  //\n  //   Examples where this is used include:\n  //     a += …;\n  //     import a from '…';\n  //   where a is the node to be checked.\n  //\n  // - checkLValPattern() shall be used if the syntactic construct supports\n  //   anything checkLValSimple() supports, as well as object and array\n  //   destructuring patterns. This is generally appropriate for constructs for\n  //   which the spec says\n  //\n  //   > It is a Syntax Error if [the production] is neither an ObjectLiteral nor\n  //   > an ArrayLiteral and AssignmentTargetType of [the production] is not\n  //   > simple.\n  //\n  //   Examples where this is used include:\n  //     (a = …);\n  //     const a = …;\n  //     try { … } catch (a) { … }\n  //   where a is the node to be checked.\n  //\n  // - checkLValInnerPattern() shall be used if the syntactic construct supports\n  //   anything checkLValPattern() supports, as well as default assignment\n  //   patterns, rest elements, and other constructs that may appear within an\n  //   object or array destructuring pattern.\n  //\n  //   As a special case, function parameters also use checkLValInnerPattern(),\n  //   as they also support defaults and rest constructs.\n  //\n  // These functions deliberately support both assignment and binding constructs,\n  // as the logic for both is exceedingly similar. If the node is the target of\n  // an assignment, then bindingType should be set to BIND_NONE. Otherwise, it\n  // should be set to the appropriate BIND_* constant, like BIND_VAR or\n  // BIND_LEXICAL.\n  //\n  // If the function is called with a non-BIND_NONE bindingType, then\n  // additionally a checkClashes object may be specified to allow checking for\n  // duplicate argument names. checkClashes is ignored if the provided construct\n  // is an assignment (i.e., bindingType is BIND_NONE).\n\n  pp$7.checkLValSimple = function(expr, bindingType, checkClashes) {\n    if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n    var isBind = bindingType !== BIND_NONE;\n\n    switch (expr.type) {\n    case \"Identifier\":\n      if (this.strict && this.reservedWordsStrictBind.test(expr.name))\n        { this.raiseRecoverable(expr.start, (isBind ? \"Binding \" : \"Assigning to \") + expr.name + \" in strict mode\"); }\n      if (isBind) {\n        if (bindingType === BIND_LEXICAL && expr.name === \"let\")\n          { this.raiseRecoverable(expr.start, \"let is disallowed as a lexically bound name\"); }\n        if (checkClashes) {\n          if (hasOwn(checkClashes, expr.name))\n            { this.raiseRecoverable(expr.start, \"Argument name clash\"); }\n          checkClashes[expr.name] = true;\n        }\n        if (bindingType !== BIND_OUTSIDE) { this.declareName(expr.name, bindingType, expr.start); }\n      }\n      break\n\n    case \"ChainExpression\":\n      this.raiseRecoverable(expr.start, \"Optional chaining cannot appear in left-hand side\");\n      break\n\n    case \"MemberExpression\":\n      if (isBind) { this.raiseRecoverable(expr.start, \"Binding member expression\"); }\n      break\n\n    case \"ParenthesizedExpression\":\n      if (isBind) { this.raiseRecoverable(expr.start, \"Binding parenthesized expression\"); }\n      return this.checkLValSimple(expr.expression, bindingType, checkClashes)\n\n    default:\n      this.raise(expr.start, (isBind ? \"Binding\" : \"Assigning to\") + \" rvalue\");\n    }\n  };\n\n  pp$7.checkLValPattern = function(expr, bindingType, checkClashes) {\n    if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n    switch (expr.type) {\n    case \"ObjectPattern\":\n      for (var i = 0, list = expr.properties; i < list.length; i += 1) {\n        var prop = list[i];\n\n      this.checkLValInnerPattern(prop, bindingType, checkClashes);\n      }\n      break\n\n    case \"ArrayPattern\":\n      for (var i$1 = 0, list$1 = expr.elements; i$1 < list$1.length; i$1 += 1) {\n        var elem = list$1[i$1];\n\n      if (elem) { this.checkLValInnerPattern(elem, bindingType, checkClashes); }\n      }\n      break\n\n    default:\n      this.checkLValSimple(expr, bindingType, checkClashes);\n    }\n  };\n\n  pp$7.checkLValInnerPattern = function(expr, bindingType, checkClashes) {\n    if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n    switch (expr.type) {\n    case \"Property\":\n      // AssignmentProperty has type === \"Property\"\n      this.checkLValInnerPattern(expr.value, bindingType, checkClashes);\n      break\n\n    case \"AssignmentPattern\":\n      this.checkLValPattern(expr.left, bindingType, checkClashes);\n      break\n\n    case \"RestElement\":\n      this.checkLValPattern(expr.argument, bindingType, checkClashes);\n      break\n\n    default:\n      this.checkLValPattern(expr, bindingType, checkClashes);\n    }\n  };\n\n  // The algorithm used to determine whether a regexp can appear at a\n\n  var TokContext = function TokContext(token, isExpr, preserveSpace, override, generator) {\n    this.token = token;\n    this.isExpr = !!isExpr;\n    this.preserveSpace = !!preserveSpace;\n    this.override = override;\n    this.generator = !!generator;\n  };\n\n  var types = {\n    b_stat: new TokContext(\"{\", false),\n    b_expr: new TokContext(\"{\", true),\n    b_tmpl: new TokContext(\"${\", false),\n    p_stat: new TokContext(\"(\", false),\n    p_expr: new TokContext(\"(\", true),\n    q_tmpl: new TokContext(\"`\", true, true, function (p) { return p.tryReadTemplateToken(); }),\n    f_stat: new TokContext(\"function\", false),\n    f_expr: new TokContext(\"function\", true),\n    f_expr_gen: new TokContext(\"function\", true, false, null, true),\n    f_gen: new TokContext(\"function\", false, false, null, true)\n  };\n\n  var pp$6 = Parser.prototype;\n\n  pp$6.initialContext = function() {\n    return [types.b_stat]\n  };\n\n  pp$6.curContext = function() {\n    return this.context[this.context.length - 1]\n  };\n\n  pp$6.braceIsBlock = function(prevType) {\n    var parent = this.curContext();\n    if (parent === types.f_expr || parent === types.f_stat)\n      { return true }\n    if (prevType === types$1.colon && (parent === types.b_stat || parent === types.b_expr))\n      { return !parent.isExpr }\n\n    // The check for `tt.name && exprAllowed` detects whether we are\n    // after a `yield` or `of` construct. See the `updateContext` for\n    // `tt.name`.\n    if (prevType === types$1._return || prevType === types$1.name && this.exprAllowed)\n      { return lineBreak.test(this.input.slice(this.lastTokEnd, this.start)) }\n    if (prevType === types$1._else || prevType === types$1.semi || prevType === types$1.eof || prevType === types$1.parenR || prevType === types$1.arrow)\n      { return true }\n    if (prevType === types$1.braceL)\n      { return parent === types.b_stat }\n    if (prevType === types$1._var || prevType === types$1._const || prevType === types$1.name)\n      { return false }\n    return !this.exprAllowed\n  };\n\n  pp$6.inGeneratorContext = function() {\n    for (var i = this.context.length - 1; i >= 1; i--) {\n      var context = this.context[i];\n      if (context.token === \"function\")\n        { return context.generator }\n    }\n    return false\n  };\n\n  pp$6.updateContext = function(prevType) {\n    var update, type = this.type;\n    if (type.keyword && prevType === types$1.dot)\n      { this.exprAllowed = false; }\n    else if (update = type.updateContext)\n      { update.call(this, prevType); }\n    else\n      { this.exprAllowed = type.beforeExpr; }\n  };\n\n  // Used to handle egde case when token context could not be inferred correctly in tokenize phase\n  pp$6.overrideContext = function(tokenCtx) {\n    if (this.curContext() !== tokenCtx) {\n      this.context[this.context.length - 1] = tokenCtx;\n    }\n  };\n\n  // Token-specific context update code\n\n  types$1.parenR.updateContext = types$1.braceR.updateContext = function() {\n    if (this.context.length === 1) {\n      this.exprAllowed = true;\n      return\n    }\n    var out = this.context.pop();\n    if (out === types.b_stat && this.curContext().token === \"function\") {\n      out = this.context.pop();\n    }\n    this.exprAllowed = !out.isExpr;\n  };\n\n  types$1.braceL.updateContext = function(prevType) {\n    this.context.push(this.braceIsBlock(prevType) ? types.b_stat : types.b_expr);\n    this.exprAllowed = true;\n  };\n\n  types$1.dollarBraceL.updateContext = function() {\n    this.context.push(types.b_tmpl);\n    this.exprAllowed = true;\n  };\n\n  types$1.parenL.updateContext = function(prevType) {\n    var statementParens = prevType === types$1._if || prevType === types$1._for || prevType === types$1._with || prevType === types$1._while;\n    this.context.push(statementParens ? types.p_stat : types.p_expr);\n    this.exprAllowed = true;\n  };\n\n  types$1.incDec.updateContext = function() {\n    // tokExprAllowed stays unchanged\n  };\n\n  types$1._function.updateContext = types$1._class.updateContext = function(prevType) {\n    if (prevType.beforeExpr && prevType !== types$1._else &&\n        !(prevType === types$1.semi && this.curContext() !== types.p_stat) &&\n        !(prevType === types$1._return && lineBreak.test(this.input.slice(this.lastTokEnd, this.start))) &&\n        !((prevType === types$1.colon || prevType === types$1.braceL) && this.curContext() === types.b_stat))\n      { this.context.push(types.f_expr); }\n    else\n      { this.context.push(types.f_stat); }\n    this.exprAllowed = false;\n  };\n\n  types$1.backQuote.updateContext = function() {\n    if (this.curContext() === types.q_tmpl)\n      { this.context.pop(); }\n    else\n      { this.context.push(types.q_tmpl); }\n    this.exprAllowed = false;\n  };\n\n  types$1.star.updateContext = function(prevType) {\n    if (prevType === types$1._function) {\n      var index = this.context.length - 1;\n      if (this.context[index] === types.f_expr)\n        { this.context[index] = types.f_expr_gen; }\n      else\n        { this.context[index] = types.f_gen; }\n    }\n    this.exprAllowed = true;\n  };\n\n  types$1.name.updateContext = function(prevType) {\n    var allowed = false;\n    if (this.options.ecmaVersion >= 6 && prevType !== types$1.dot) {\n      if (this.value === \"of\" && !this.exprAllowed ||\n          this.value === \"yield\" && this.inGeneratorContext())\n        { allowed = true; }\n    }\n    this.exprAllowed = allowed;\n  };\n\n  // A recursive descent parser operates by defining functions for all\n\n  var pp$5 = Parser.prototype;\n\n  // Check if property name clashes with already added.\n  // Object/class getters and setters are not allowed to clash —\n  // either with each other or with an init property — and in\n  // strict mode, init properties are also not allowed to be repeated.\n\n  pp$5.checkPropClash = function(prop, propHash, refDestructuringErrors) {\n    if (this.options.ecmaVersion >= 9 && prop.type === \"SpreadElement\")\n      { return }\n    if (this.options.ecmaVersion >= 6 && (prop.computed || prop.method || prop.shorthand))\n      { return }\n    var key = prop.key;\n    var name;\n    switch (key.type) {\n    case \"Identifier\": name = key.name; break\n    case \"Literal\": name = String(key.value); break\n    default: return\n    }\n    var kind = prop.kind;\n    if (this.options.ecmaVersion >= 6) {\n      if (name === \"__proto__\" && kind === \"init\") {\n        if (propHash.proto) {\n          if (refDestructuringErrors) {\n            if (refDestructuringErrors.doubleProto < 0) {\n              refDestructuringErrors.doubleProto = key.start;\n            }\n          } else {\n            this.raiseRecoverable(key.start, \"Redefinition of __proto__ property\");\n          }\n        }\n        propHash.proto = true;\n      }\n      return\n    }\n    name = \"$\" + name;\n    var other = propHash[name];\n    if (other) {\n      var redefinition;\n      if (kind === \"init\") {\n        redefinition = this.strict && other.init || other.get || other.set;\n      } else {\n        redefinition = other.init || other[kind];\n      }\n      if (redefinition)\n        { this.raiseRecoverable(key.start, \"Redefinition of property\"); }\n    } else {\n      other = propHash[name] = {\n        init: false,\n        get: false,\n        set: false\n      };\n    }\n    other[kind] = true;\n  };\n\n  // ### Expression parsing\n\n  // These nest, from the most general expression type at the top to\n  // 'atomic', nondivisible expression types at the bottom. Most of\n  // the functions will simply let the function(s) below them parse,\n  // and, *if* the syntactic construct they handle is present, wrap\n  // the AST node that the inner parser gave them in another node.\n\n  // Parse a full expression. The optional arguments are used to\n  // forbid the `in` operator (in for loops initalization expressions)\n  // and provide reference for storing '=' operator inside shorthand\n  // property assignment in contexts where both object expression\n  // and object pattern might appear (so it's possible to raise\n  // delayed syntax error at correct position).\n\n  pp$5.parseExpression = function(forInit, refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseMaybeAssign(forInit, refDestructuringErrors);\n    if (this.type === types$1.comma) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.expressions = [expr];\n      while (this.eat(types$1.comma)) { node.expressions.push(this.parseMaybeAssign(forInit, refDestructuringErrors)); }\n      return this.finishNode(node, \"SequenceExpression\")\n    }\n    return expr\n  };\n\n  // Parse an assignment expression. This includes applications of\n  // operators like `+=`.\n\n  pp$5.parseMaybeAssign = function(forInit, refDestructuringErrors, afterLeftParse) {\n    if (this.isContextual(\"yield\")) {\n      if (this.inGenerator) { return this.parseYield(forInit) }\n      // The tokenizer will assume an expression is allowed after\n      // `yield`, but this isn't that kind of yield\n      else { this.exprAllowed = false; }\n    }\n\n    var ownDestructuringErrors = false, oldParenAssign = -1, oldTrailingComma = -1, oldDoubleProto = -1;\n    if (refDestructuringErrors) {\n      oldParenAssign = refDestructuringErrors.parenthesizedAssign;\n      oldTrailingComma = refDestructuringErrors.trailingComma;\n      oldDoubleProto = refDestructuringErrors.doubleProto;\n      refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = -1;\n    } else {\n      refDestructuringErrors = new DestructuringErrors;\n      ownDestructuringErrors = true;\n    }\n\n    var startPos = this.start, startLoc = this.startLoc;\n    if (this.type === types$1.parenL || this.type === types$1.name) {\n      this.potentialArrowAt = this.start;\n      this.potentialArrowInForAwait = forInit === \"await\";\n    }\n    var left = this.parseMaybeConditional(forInit, refDestructuringErrors);\n    if (afterLeftParse) { left = afterLeftParse.call(this, left, startPos, startLoc); }\n    if (this.type.isAssign) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.operator = this.value;\n      if (this.type === types$1.eq)\n        { left = this.toAssignable(left, false, refDestructuringErrors); }\n      if (!ownDestructuringErrors) {\n        refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = refDestructuringErrors.doubleProto = -1;\n      }\n      if (refDestructuringErrors.shorthandAssign >= left.start)\n        { refDestructuringErrors.shorthandAssign = -1; } // reset because shorthand default was used correctly\n      if (this.type === types$1.eq)\n        { this.checkLValPattern(left); }\n      else\n        { this.checkLValSimple(left); }\n      node.left = left;\n      this.next();\n      node.right = this.parseMaybeAssign(forInit);\n      if (oldDoubleProto > -1) { refDestructuringErrors.doubleProto = oldDoubleProto; }\n      return this.finishNode(node, \"AssignmentExpression\")\n    } else {\n      if (ownDestructuringErrors) { this.checkExpressionErrors(refDestructuringErrors, true); }\n    }\n    if (oldParenAssign > -1) { refDestructuringErrors.parenthesizedAssign = oldParenAssign; }\n    if (oldTrailingComma > -1) { refDestructuringErrors.trailingComma = oldTrailingComma; }\n    return left\n  };\n\n  // Parse a ternary conditional (`?:`) operator.\n\n  pp$5.parseMaybeConditional = function(forInit, refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseExprOps(forInit, refDestructuringErrors);\n    if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n    if (this.eat(types$1.question)) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.test = expr;\n      node.consequent = this.parseMaybeAssign();\n      this.expect(types$1.colon);\n      node.alternate = this.parseMaybeAssign(forInit);\n      return this.finishNode(node, \"ConditionalExpression\")\n    }\n    return expr\n  };\n\n  // Start the precedence parser.\n\n  pp$5.parseExprOps = function(forInit, refDestructuringErrors) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseMaybeUnary(refDestructuringErrors, false, false, forInit);\n    if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n    return expr.start === startPos && expr.type === \"ArrowFunctionExpression\" ? expr : this.parseExprOp(expr, startPos, startLoc, -1, forInit)\n  };\n\n  // Parse binary operators with the operator precedence parsing\n  // algorithm. `left` is the left-hand side of the operator.\n  // `minPrec` provides context that allows the function to stop and\n  // defer further parser to one of its callers when it encounters an\n  // operator that has a lower precedence than the set it is parsing.\n\n  pp$5.parseExprOp = function(left, leftStartPos, leftStartLoc, minPrec, forInit) {\n    var prec = this.type.binop;\n    if (prec != null && (!forInit || this.type !== types$1._in)) {\n      if (prec > minPrec) {\n        var logical = this.type === types$1.logicalOR || this.type === types$1.logicalAND;\n        var coalesce = this.type === types$1.coalesce;\n        if (coalesce) {\n          // Handle the precedence of `tt.coalesce` as equal to the range of logical expressions.\n          // In other words, `node.right` shouldn't contain logical expressions in order to check the mixed error.\n          prec = types$1.logicalAND.binop;\n        }\n        var op = this.value;\n        this.next();\n        var startPos = this.start, startLoc = this.startLoc;\n        var right = this.parseExprOp(this.parseMaybeUnary(null, false, false, forInit), startPos, startLoc, prec, forInit);\n        var node = this.buildBinary(leftStartPos, leftStartLoc, left, right, op, logical || coalesce);\n        if ((logical && this.type === types$1.coalesce) || (coalesce && (this.type === types$1.logicalOR || this.type === types$1.logicalAND))) {\n          this.raiseRecoverable(this.start, \"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses\");\n        }\n        return this.parseExprOp(node, leftStartPos, leftStartLoc, minPrec, forInit)\n      }\n    }\n    return left\n  };\n\n  pp$5.buildBinary = function(startPos, startLoc, left, right, op, logical) {\n    if (right.type === \"PrivateIdentifier\") { this.raise(right.start, \"Private identifier can only be left side of binary expression\"); }\n    var node = this.startNodeAt(startPos, startLoc);\n    node.left = left;\n    node.operator = op;\n    node.right = right;\n    return this.finishNode(node, logical ? \"LogicalExpression\" : \"BinaryExpression\")\n  };\n\n  // Parse unary operators, both prefix and postfix.\n\n  pp$5.parseMaybeUnary = function(refDestructuringErrors, sawUnary, incDec, forInit) {\n    var startPos = this.start, startLoc = this.startLoc, expr;\n    if (this.isContextual(\"await\") && this.canAwait) {\n      expr = this.parseAwait(forInit);\n      sawUnary = true;\n    } else if (this.type.prefix) {\n      var node = this.startNode(), update = this.type === types$1.incDec;\n      node.operator = this.value;\n      node.prefix = true;\n      this.next();\n      node.argument = this.parseMaybeUnary(null, true, update, forInit);\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      if (update) { this.checkLValSimple(node.argument); }\n      else if (this.strict && node.operator === \"delete\" &&\n               node.argument.type === \"Identifier\")\n        { this.raiseRecoverable(node.start, \"Deleting local variable in strict mode\"); }\n      else if (node.operator === \"delete\" && isPrivateFieldAccess(node.argument))\n        { this.raiseRecoverable(node.start, \"Private fields can not be deleted\"); }\n      else { sawUnary = true; }\n      expr = this.finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n    } else if (!sawUnary && this.type === types$1.privateId) {\n      if (forInit || this.privateNameStack.length === 0) { this.unexpected(); }\n      expr = this.parsePrivateIdent();\n      // only could be private fields in 'in', such as #x in obj\n      if (this.type !== types$1._in) { this.unexpected(); }\n    } else {\n      expr = this.parseExprSubscripts(refDestructuringErrors, forInit);\n      if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n      while (this.type.postfix && !this.canInsertSemicolon()) {\n        var node$1 = this.startNodeAt(startPos, startLoc);\n        node$1.operator = this.value;\n        node$1.prefix = false;\n        node$1.argument = expr;\n        this.checkLValSimple(expr);\n        this.next();\n        expr = this.finishNode(node$1, \"UpdateExpression\");\n      }\n    }\n\n    if (!incDec && this.eat(types$1.starstar)) {\n      if (sawUnary)\n        { this.unexpected(this.lastTokStart); }\n      else\n        { return this.buildBinary(startPos, startLoc, expr, this.parseMaybeUnary(null, false, false, forInit), \"**\", false) }\n    } else {\n      return expr\n    }\n  };\n\n  function isPrivateFieldAccess(node) {\n    return (\n      node.type === \"MemberExpression\" && node.property.type === \"PrivateIdentifier\" ||\n      node.type === \"ChainExpression\" && isPrivateFieldAccess(node.expression)\n    )\n  }\n\n  // Parse call, dot, and `[]`-subscript expressions.\n\n  pp$5.parseExprSubscripts = function(refDestructuringErrors, forInit) {\n    var startPos = this.start, startLoc = this.startLoc;\n    var expr = this.parseExprAtom(refDestructuringErrors, forInit);\n    if (expr.type === \"ArrowFunctionExpression\" && this.input.slice(this.lastTokStart, this.lastTokEnd) !== \")\")\n      { return expr }\n    var result = this.parseSubscripts(expr, startPos, startLoc, false, forInit);\n    if (refDestructuringErrors && result.type === \"MemberExpression\") {\n      if (refDestructuringErrors.parenthesizedAssign >= result.start) { refDestructuringErrors.parenthesizedAssign = -1; }\n      if (refDestructuringErrors.parenthesizedBind >= result.start) { refDestructuringErrors.parenthesizedBind = -1; }\n      if (refDestructuringErrors.trailingComma >= result.start) { refDestructuringErrors.trailingComma = -1; }\n    }\n    return result\n  };\n\n  pp$5.parseSubscripts = function(base, startPos, startLoc, noCalls, forInit) {\n    var maybeAsyncArrow = this.options.ecmaVersion >= 8 && base.type === \"Identifier\" && base.name === \"async\" &&\n        this.lastTokEnd === base.end && !this.canInsertSemicolon() && base.end - base.start === 5 &&\n        this.potentialArrowAt === base.start;\n    var optionalChained = false;\n\n    while (true) {\n      var element = this.parseSubscript(base, startPos, startLoc, noCalls, maybeAsyncArrow, optionalChained, forInit);\n\n      if (element.optional) { optionalChained = true; }\n      if (element === base || element.type === \"ArrowFunctionExpression\") {\n        if (optionalChained) {\n          var chainNode = this.startNodeAt(startPos, startLoc);\n          chainNode.expression = element;\n          element = this.finishNode(chainNode, \"ChainExpression\");\n        }\n        return element\n      }\n\n      base = element;\n    }\n  };\n\n  pp$5.parseSubscript = function(base, startPos, startLoc, noCalls, maybeAsyncArrow, optionalChained, forInit) {\n    var optionalSupported = this.options.ecmaVersion >= 11;\n    var optional = optionalSupported && this.eat(types$1.questionDot);\n    if (noCalls && optional) { this.raise(this.lastTokStart, \"Optional chaining cannot appear in the callee of new expressions\"); }\n\n    var computed = this.eat(types$1.bracketL);\n    if (computed || (optional && this.type !== types$1.parenL && this.type !== types$1.backQuote) || this.eat(types$1.dot)) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.object = base;\n      if (computed) {\n        node.property = this.parseExpression();\n        this.expect(types$1.bracketR);\n      } else if (this.type === types$1.privateId && base.type !== \"Super\") {\n        node.property = this.parsePrivateIdent();\n      } else {\n        node.property = this.parseIdent(this.options.allowReserved !== \"never\");\n      }\n      node.computed = !!computed;\n      if (optionalSupported) {\n        node.optional = optional;\n      }\n      base = this.finishNode(node, \"MemberExpression\");\n    } else if (!noCalls && this.eat(types$1.parenL)) {\n      var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n      this.yieldPos = 0;\n      this.awaitPos = 0;\n      this.awaitIdentPos = 0;\n      var exprList = this.parseExprList(types$1.parenR, this.options.ecmaVersion >= 8, false, refDestructuringErrors);\n      if (maybeAsyncArrow && !optional && !this.canInsertSemicolon() && this.eat(types$1.arrow)) {\n        this.checkPatternErrors(refDestructuringErrors, false);\n        this.checkYieldAwaitInDefaultParams();\n        if (this.awaitIdentPos > 0)\n          { this.raise(this.awaitIdentPos, \"Cannot use 'await' as identifier inside an async function\"); }\n        this.yieldPos = oldYieldPos;\n        this.awaitPos = oldAwaitPos;\n        this.awaitIdentPos = oldAwaitIdentPos;\n        return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList, true, forInit)\n      }\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      this.yieldPos = oldYieldPos || this.yieldPos;\n      this.awaitPos = oldAwaitPos || this.awaitPos;\n      this.awaitIdentPos = oldAwaitIdentPos || this.awaitIdentPos;\n      var node$1 = this.startNodeAt(startPos, startLoc);\n      node$1.callee = base;\n      node$1.arguments = exprList;\n      if (optionalSupported) {\n        node$1.optional = optional;\n      }\n      base = this.finishNode(node$1, \"CallExpression\");\n    } else if (this.type === types$1.backQuote) {\n      if (optional || optionalChained) {\n        this.raise(this.start, \"Optional chaining cannot appear in the tag of tagged template expressions\");\n      }\n      var node$2 = this.startNodeAt(startPos, startLoc);\n      node$2.tag = base;\n      node$2.quasi = this.parseTemplate({isTagged: true});\n      base = this.finishNode(node$2, \"TaggedTemplateExpression\");\n    }\n    return base\n  };\n\n  // Parse an atomic expression — either a single token that is an\n  // expression, an expression started by a keyword like `function` or\n  // `new`, or an expression wrapped in punctuation like `()`, `[]`,\n  // or `{}`.\n\n  pp$5.parseExprAtom = function(refDestructuringErrors, forInit) {\n    // If a division operator appears in an expression position, the\n    // tokenizer got confused, and we force it to read a regexp instead.\n    if (this.type === types$1.slash) { this.readRegexp(); }\n\n    var node, canBeArrow = this.potentialArrowAt === this.start;\n    switch (this.type) {\n    case types$1._super:\n      if (!this.allowSuper)\n        { this.raise(this.start, \"'super' keyword outside a method\"); }\n      node = this.startNode();\n      this.next();\n      if (this.type === types$1.parenL && !this.allowDirectSuper)\n        { this.raise(node.start, \"super() call outside constructor of a subclass\"); }\n      // The `super` keyword can appear at below:\n      // SuperProperty:\n      //     super [ Expression ]\n      //     super . IdentifierName\n      // SuperCall:\n      //     super ( Arguments )\n      if (this.type !== types$1.dot && this.type !== types$1.bracketL && this.type !== types$1.parenL)\n        { this.unexpected(); }\n      return this.finishNode(node, \"Super\")\n\n    case types$1._this:\n      node = this.startNode();\n      this.next();\n      return this.finishNode(node, \"ThisExpression\")\n\n    case types$1.name:\n      var startPos = this.start, startLoc = this.startLoc, containsEsc = this.containsEsc;\n      var id = this.parseIdent(false);\n      if (this.options.ecmaVersion >= 8 && !containsEsc && id.name === \"async\" && !this.canInsertSemicolon() && this.eat(types$1._function)) {\n        this.overrideContext(types.f_expr);\n        return this.parseFunction(this.startNodeAt(startPos, startLoc), 0, false, true, forInit)\n      }\n      if (canBeArrow && !this.canInsertSemicolon()) {\n        if (this.eat(types$1.arrow))\n          { return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], false, forInit) }\n        if (this.options.ecmaVersion >= 8 && id.name === \"async\" && this.type === types$1.name && !containsEsc &&\n            (!this.potentialArrowInForAwait || this.value !== \"of\" || this.containsEsc)) {\n          id = this.parseIdent(false);\n          if (this.canInsertSemicolon() || !this.eat(types$1.arrow))\n            { this.unexpected(); }\n          return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], true, forInit)\n        }\n      }\n      return id\n\n    case types$1.regexp:\n      var value = this.value;\n      node = this.parseLiteral(value.value);\n      node.regex = {pattern: value.pattern, flags: value.flags};\n      return node\n\n    case types$1.num: case types$1.string:\n      return this.parseLiteral(this.value)\n\n    case types$1._null: case types$1._true: case types$1._false:\n      node = this.startNode();\n      node.value = this.type === types$1._null ? null : this.type === types$1._true;\n      node.raw = this.type.keyword;\n      this.next();\n      return this.finishNode(node, \"Literal\")\n\n    case types$1.parenL:\n      var start = this.start, expr = this.parseParenAndDistinguishExpression(canBeArrow, forInit);\n      if (refDestructuringErrors) {\n        if (refDestructuringErrors.parenthesizedAssign < 0 && !this.isSimpleAssignTarget(expr))\n          { refDestructuringErrors.parenthesizedAssign = start; }\n        if (refDestructuringErrors.parenthesizedBind < 0)\n          { refDestructuringErrors.parenthesizedBind = start; }\n      }\n      return expr\n\n    case types$1.bracketL:\n      node = this.startNode();\n      this.next();\n      node.elements = this.parseExprList(types$1.bracketR, true, true, refDestructuringErrors);\n      return this.finishNode(node, \"ArrayExpression\")\n\n    case types$1.braceL:\n      this.overrideContext(types.b_expr);\n      return this.parseObj(false, refDestructuringErrors)\n\n    case types$1._function:\n      node = this.startNode();\n      this.next();\n      return this.parseFunction(node, 0)\n\n    case types$1._class:\n      return this.parseClass(this.startNode(), false)\n\n    case types$1._new:\n      return this.parseNew()\n\n    case types$1.backQuote:\n      return this.parseTemplate()\n\n    case types$1._import:\n      if (this.options.ecmaVersion >= 11) {\n        return this.parseExprImport()\n      } else {\n        return this.unexpected()\n      }\n\n    default:\n      this.unexpected();\n    }\n  };\n\n  pp$5.parseExprImport = function() {\n    var node = this.startNode();\n\n    // Consume `import` as an identifier for `import.meta`.\n    // Because `this.parseIdent(true)` doesn't check escape sequences, it needs the check of `this.containsEsc`.\n    if (this.containsEsc) { this.raiseRecoverable(this.start, \"Escape sequence in keyword import\"); }\n    var meta = this.parseIdent(true);\n\n    switch (this.type) {\n    case types$1.parenL:\n      return this.parseDynamicImport(node)\n    case types$1.dot:\n      node.meta = meta;\n      return this.parseImportMeta(node)\n    default:\n      this.unexpected();\n    }\n  };\n\n  pp$5.parseDynamicImport = function(node) {\n    this.next(); // skip `(`\n\n    // Parse node.source.\n    node.source = this.parseMaybeAssign();\n\n    // Verify ending.\n    if (!this.eat(types$1.parenR)) {\n      var errorPos = this.start;\n      if (this.eat(types$1.comma) && this.eat(types$1.parenR)) {\n        this.raiseRecoverable(errorPos, \"Trailing comma is not allowed in import()\");\n      } else {\n        this.unexpected(errorPos);\n      }\n    }\n\n    return this.finishNode(node, \"ImportExpression\")\n  };\n\n  pp$5.parseImportMeta = function(node) {\n    this.next(); // skip `.`\n\n    var containsEsc = this.containsEsc;\n    node.property = this.parseIdent(true);\n\n    if (node.property.name !== \"meta\")\n      { this.raiseRecoverable(node.property.start, \"The only valid meta property for import is 'import.meta'\"); }\n    if (containsEsc)\n      { this.raiseRecoverable(node.start, \"'import.meta' must not contain escaped characters\"); }\n    if (this.options.sourceType !== \"module\" && !this.options.allowImportExportEverywhere)\n      { this.raiseRecoverable(node.start, \"Cannot use 'import.meta' outside a module\"); }\n\n    return this.finishNode(node, \"MetaProperty\")\n  };\n\n  pp$5.parseLiteral = function(value) {\n    var node = this.startNode();\n    node.value = value;\n    node.raw = this.input.slice(this.start, this.end);\n    if (node.raw.charCodeAt(node.raw.length - 1) === 110) { node.bigint = node.raw.slice(0, -1).replace(/_/g, \"\"); }\n    this.next();\n    return this.finishNode(node, \"Literal\")\n  };\n\n  pp$5.parseParenExpression = function() {\n    this.expect(types$1.parenL);\n    var val = this.parseExpression();\n    this.expect(types$1.parenR);\n    return val\n  };\n\n  pp$5.parseParenAndDistinguishExpression = function(canBeArrow, forInit) {\n    var startPos = this.start, startLoc = this.startLoc, val, allowTrailingComma = this.options.ecmaVersion >= 8;\n    if (this.options.ecmaVersion >= 6) {\n      this.next();\n\n      var innerStartPos = this.start, innerStartLoc = this.startLoc;\n      var exprList = [], first = true, lastIsComma = false;\n      var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, spreadStart;\n      this.yieldPos = 0;\n      this.awaitPos = 0;\n      // Do not save awaitIdentPos to allow checking awaits nested in parameters\n      while (this.type !== types$1.parenR) {\n        first ? first = false : this.expect(types$1.comma);\n        if (allowTrailingComma && this.afterTrailingComma(types$1.parenR, true)) {\n          lastIsComma = true;\n          break\n        } else if (this.type === types$1.ellipsis) {\n          spreadStart = this.start;\n          exprList.push(this.parseParenItem(this.parseRestBinding()));\n          if (this.type === types$1.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\n          break\n        } else {\n          exprList.push(this.parseMaybeAssign(false, refDestructuringErrors, this.parseParenItem));\n        }\n      }\n      var innerEndPos = this.lastTokEnd, innerEndLoc = this.lastTokEndLoc;\n      this.expect(types$1.parenR);\n\n      if (canBeArrow && !this.canInsertSemicolon() && this.eat(types$1.arrow)) {\n        this.checkPatternErrors(refDestructuringErrors, false);\n        this.checkYieldAwaitInDefaultParams();\n        this.yieldPos = oldYieldPos;\n        this.awaitPos = oldAwaitPos;\n        return this.parseParenArrowList(startPos, startLoc, exprList, forInit)\n      }\n\n      if (!exprList.length || lastIsComma) { this.unexpected(this.lastTokStart); }\n      if (spreadStart) { this.unexpected(spreadStart); }\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      this.yieldPos = oldYieldPos || this.yieldPos;\n      this.awaitPos = oldAwaitPos || this.awaitPos;\n\n      if (exprList.length > 1) {\n        val = this.startNodeAt(innerStartPos, innerStartLoc);\n        val.expressions = exprList;\n        this.finishNodeAt(val, \"SequenceExpression\", innerEndPos, innerEndLoc);\n      } else {\n        val = exprList[0];\n      }\n    } else {\n      val = this.parseParenExpression();\n    }\n\n    if (this.options.preserveParens) {\n      var par = this.startNodeAt(startPos, startLoc);\n      par.expression = val;\n      return this.finishNode(par, \"ParenthesizedExpression\")\n    } else {\n      return val\n    }\n  };\n\n  pp$5.parseParenItem = function(item) {\n    return item\n  };\n\n  pp$5.parseParenArrowList = function(startPos, startLoc, exprList, forInit) {\n    return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList, false, forInit)\n  };\n\n  // New's precedence is slightly tricky. It must allow its argument to\n  // be a `[]` or dot subscript expression, but not a call — at least,\n  // not without wrapping it in parentheses. Thus, it uses the noCalls\n  // argument to parseSubscripts to prevent it from consuming the\n  // argument list.\n\n  var empty = [];\n\n  pp$5.parseNew = function() {\n    if (this.containsEsc) { this.raiseRecoverable(this.start, \"Escape sequence in keyword new\"); }\n    var node = this.startNode();\n    var meta = this.parseIdent(true);\n    if (this.options.ecmaVersion >= 6 && this.eat(types$1.dot)) {\n      node.meta = meta;\n      var containsEsc = this.containsEsc;\n      node.property = this.parseIdent(true);\n      if (node.property.name !== \"target\")\n        { this.raiseRecoverable(node.property.start, \"The only valid meta property for new is 'new.target'\"); }\n      if (containsEsc)\n        { this.raiseRecoverable(node.start, \"'new.target' must not contain escaped characters\"); }\n      if (!this.allowNewDotTarget)\n        { this.raiseRecoverable(node.start, \"'new.target' can only be used in functions and class static block\"); }\n      return this.finishNode(node, \"MetaProperty\")\n    }\n    var startPos = this.start, startLoc = this.startLoc, isImport = this.type === types$1._import;\n    node.callee = this.parseSubscripts(this.parseExprAtom(), startPos, startLoc, true, false);\n    if (isImport && node.callee.type === \"ImportExpression\") {\n      this.raise(startPos, \"Cannot use new with import()\");\n    }\n    if (this.eat(types$1.parenL)) { node.arguments = this.parseExprList(types$1.parenR, this.options.ecmaVersion >= 8, false); }\n    else { node.arguments = empty; }\n    return this.finishNode(node, \"NewExpression\")\n  };\n\n  // Parse template expression.\n\n  pp$5.parseTemplateElement = function(ref) {\n    var isTagged = ref.isTagged;\n\n    var elem = this.startNode();\n    if (this.type === types$1.invalidTemplate) {\n      if (!isTagged) {\n        this.raiseRecoverable(this.start, \"Bad escape sequence in untagged template literal\");\n      }\n      elem.value = {\n        raw: this.value,\n        cooked: null\n      };\n    } else {\n      elem.value = {\n        raw: this.input.slice(this.start, this.end).replace(/\\r\\n?/g, \"\\n\"),\n        cooked: this.value\n      };\n    }\n    this.next();\n    elem.tail = this.type === types$1.backQuote;\n    return this.finishNode(elem, \"TemplateElement\")\n  };\n\n  pp$5.parseTemplate = function(ref) {\n    if ( ref === void 0 ) ref = {};\n    var isTagged = ref.isTagged; if ( isTagged === void 0 ) isTagged = false;\n\n    var node = this.startNode();\n    this.next();\n    node.expressions = [];\n    var curElt = this.parseTemplateElement({isTagged: isTagged});\n    node.quasis = [curElt];\n    while (!curElt.tail) {\n      if (this.type === types$1.eof) { this.raise(this.pos, \"Unterminated template literal\"); }\n      this.expect(types$1.dollarBraceL);\n      node.expressions.push(this.parseExpression());\n      this.expect(types$1.braceR);\n      node.quasis.push(curElt = this.parseTemplateElement({isTagged: isTagged}));\n    }\n    this.next();\n    return this.finishNode(node, \"TemplateLiteral\")\n  };\n\n  pp$5.isAsyncProp = function(prop) {\n    return !prop.computed && prop.key.type === \"Identifier\" && prop.key.name === \"async\" &&\n      (this.type === types$1.name || this.type === types$1.num || this.type === types$1.string || this.type === types$1.bracketL || this.type.keyword || (this.options.ecmaVersion >= 9 && this.type === types$1.star)) &&\n      !lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n  };\n\n  // Parse an object literal or binding pattern.\n\n  pp$5.parseObj = function(isPattern, refDestructuringErrors) {\n    var node = this.startNode(), first = true, propHash = {};\n    node.properties = [];\n    this.next();\n    while (!this.eat(types$1.braceR)) {\n      if (!first) {\n        this.expect(types$1.comma);\n        if (this.options.ecmaVersion >= 5 && this.afterTrailingComma(types$1.braceR)) { break }\n      } else { first = false; }\n\n      var prop = this.parseProperty(isPattern, refDestructuringErrors);\n      if (!isPattern) { this.checkPropClash(prop, propHash, refDestructuringErrors); }\n      node.properties.push(prop);\n    }\n    return this.finishNode(node, isPattern ? \"ObjectPattern\" : \"ObjectExpression\")\n  };\n\n  pp$5.parseProperty = function(isPattern, refDestructuringErrors) {\n    var prop = this.startNode(), isGenerator, isAsync, startPos, startLoc;\n    if (this.options.ecmaVersion >= 9 && this.eat(types$1.ellipsis)) {\n      if (isPattern) {\n        prop.argument = this.parseIdent(false);\n        if (this.type === types$1.comma) {\n          this.raise(this.start, \"Comma is not permitted after the rest element\");\n        }\n        return this.finishNode(prop, \"RestElement\")\n      }\n      // To disallow parenthesized identifier via `this.toAssignable()`.\n      if (this.type === types$1.parenL && refDestructuringErrors) {\n        if (refDestructuringErrors.parenthesizedAssign < 0) {\n          refDestructuringErrors.parenthesizedAssign = this.start;\n        }\n        if (refDestructuringErrors.parenthesizedBind < 0) {\n          refDestructuringErrors.parenthesizedBind = this.start;\n        }\n      }\n      // Parse argument.\n      prop.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n      // To disallow trailing comma via `this.toAssignable()`.\n      if (this.type === types$1.comma && refDestructuringErrors && refDestructuringErrors.trailingComma < 0) {\n        refDestructuringErrors.trailingComma = this.start;\n      }\n      // Finish\n      return this.finishNode(prop, \"SpreadElement\")\n    }\n    if (this.options.ecmaVersion >= 6) {\n      prop.method = false;\n      prop.shorthand = false;\n      if (isPattern || refDestructuringErrors) {\n        startPos = this.start;\n        startLoc = this.startLoc;\n      }\n      if (!isPattern)\n        { isGenerator = this.eat(types$1.star); }\n    }\n    var containsEsc = this.containsEsc;\n    this.parsePropertyName(prop);\n    if (!isPattern && !containsEsc && this.options.ecmaVersion >= 8 && !isGenerator && this.isAsyncProp(prop)) {\n      isAsync = true;\n      isGenerator = this.options.ecmaVersion >= 9 && this.eat(types$1.star);\n      this.parsePropertyName(prop, refDestructuringErrors);\n    } else {\n      isAsync = false;\n    }\n    this.parsePropertyValue(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc);\n    return this.finishNode(prop, \"Property\")\n  };\n\n  pp$5.parsePropertyValue = function(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc) {\n    if ((isGenerator || isAsync) && this.type === types$1.colon)\n      { this.unexpected(); }\n\n    if (this.eat(types$1.colon)) {\n      prop.value = isPattern ? this.parseMaybeDefault(this.start, this.startLoc) : this.parseMaybeAssign(false, refDestructuringErrors);\n      prop.kind = \"init\";\n    } else if (this.options.ecmaVersion >= 6 && this.type === types$1.parenL) {\n      if (isPattern) { this.unexpected(); }\n      prop.kind = \"init\";\n      prop.method = true;\n      prop.value = this.parseMethod(isGenerator, isAsync);\n    } else if (!isPattern && !containsEsc &&\n               this.options.ecmaVersion >= 5 && !prop.computed && prop.key.type === \"Identifier\" &&\n               (prop.key.name === \"get\" || prop.key.name === \"set\") &&\n               (this.type !== types$1.comma && this.type !== types$1.braceR && this.type !== types$1.eq)) {\n      if (isGenerator || isAsync) { this.unexpected(); }\n      prop.kind = prop.key.name;\n      this.parsePropertyName(prop);\n      prop.value = this.parseMethod(false);\n      var paramCount = prop.kind === \"get\" ? 0 : 1;\n      if (prop.value.params.length !== paramCount) {\n        var start = prop.value.start;\n        if (prop.kind === \"get\")\n          { this.raiseRecoverable(start, \"getter should have no params\"); }\n        else\n          { this.raiseRecoverable(start, \"setter should have exactly one param\"); }\n      } else {\n        if (prop.kind === \"set\" && prop.value.params[0].type === \"RestElement\")\n          { this.raiseRecoverable(prop.value.params[0].start, \"Setter cannot use rest params\"); }\n      }\n    } else if (this.options.ecmaVersion >= 6 && !prop.computed && prop.key.type === \"Identifier\") {\n      if (isGenerator || isAsync) { this.unexpected(); }\n      this.checkUnreserved(prop.key);\n      if (prop.key.name === \"await\" && !this.awaitIdentPos)\n        { this.awaitIdentPos = startPos; }\n      prop.kind = \"init\";\n      if (isPattern) {\n        prop.value = this.parseMaybeDefault(startPos, startLoc, this.copyNode(prop.key));\n      } else if (this.type === types$1.eq && refDestructuringErrors) {\n        if (refDestructuringErrors.shorthandAssign < 0)\n          { refDestructuringErrors.shorthandAssign = this.start; }\n        prop.value = this.parseMaybeDefault(startPos, startLoc, this.copyNode(prop.key));\n      } else {\n        prop.value = this.copyNode(prop.key);\n      }\n      prop.shorthand = true;\n    } else { this.unexpected(); }\n  };\n\n  pp$5.parsePropertyName = function(prop) {\n    if (this.options.ecmaVersion >= 6) {\n      if (this.eat(types$1.bracketL)) {\n        prop.computed = true;\n        prop.key = this.parseMaybeAssign();\n        this.expect(types$1.bracketR);\n        return prop.key\n      } else {\n        prop.computed = false;\n      }\n    }\n    return prop.key = this.type === types$1.num || this.type === types$1.string ? this.parseExprAtom() : this.parseIdent(this.options.allowReserved !== \"never\")\n  };\n\n  // Initialize empty function node.\n\n  pp$5.initFunction = function(node) {\n    node.id = null;\n    if (this.options.ecmaVersion >= 6) { node.generator = node.expression = false; }\n    if (this.options.ecmaVersion >= 8) { node.async = false; }\n  };\n\n  // Parse object or class method.\n\n  pp$5.parseMethod = function(isGenerator, isAsync, allowDirectSuper) {\n    var node = this.startNode(), oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n    this.initFunction(node);\n    if (this.options.ecmaVersion >= 6)\n      { node.generator = isGenerator; }\n    if (this.options.ecmaVersion >= 8)\n      { node.async = !!isAsync; }\n\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    this.enterScope(functionFlags(isAsync, node.generator) | SCOPE_SUPER | (allowDirectSuper ? SCOPE_DIRECT_SUPER : 0));\n\n    this.expect(types$1.parenL);\n    node.params = this.parseBindingList(types$1.parenR, false, this.options.ecmaVersion >= 8);\n    this.checkYieldAwaitInDefaultParams();\n    this.parseFunctionBody(node, false, true, false);\n\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, \"FunctionExpression\")\n  };\n\n  // Parse arrow function expression with given parameters.\n\n  pp$5.parseArrowExpression = function(node, params, isAsync, forInit) {\n    var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n    this.enterScope(functionFlags(isAsync, false) | SCOPE_ARROW);\n    this.initFunction(node);\n    if (this.options.ecmaVersion >= 8) { node.async = !!isAsync; }\n\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n\n    node.params = this.toAssignableList(params, true);\n    this.parseFunctionBody(node, true, false, forInit);\n\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, \"ArrowFunctionExpression\")\n  };\n\n  // Parse function body and check parameters.\n\n  pp$5.parseFunctionBody = function(node, isArrowFunction, isMethod, forInit) {\n    var isExpression = isArrowFunction && this.type !== types$1.braceL;\n    var oldStrict = this.strict, useStrict = false;\n\n    if (isExpression) {\n      node.body = this.parseMaybeAssign(forInit);\n      node.expression = true;\n      this.checkParams(node, false);\n    } else {\n      var nonSimple = this.options.ecmaVersion >= 7 && !this.isSimpleParamList(node.params);\n      if (!oldStrict || nonSimple) {\n        useStrict = this.strictDirective(this.end);\n        // If this is a strict mode function, verify that argument names\n        // are not repeated, and it does not try to bind the words `eval`\n        // or `arguments`.\n        if (useStrict && nonSimple)\n          { this.raiseRecoverable(node.start, \"Illegal 'use strict' directive in function with non-simple parameter list\"); }\n      }\n      // Start a new scope with regard to labels and the `inFunction`\n      // flag (restore them to their old value afterwards).\n      var oldLabels = this.labels;\n      this.labels = [];\n      if (useStrict) { this.strict = true; }\n\n      // Add the params to varDeclaredNames to ensure that an error is thrown\n      // if a let/const declaration in the function clashes with one of the params.\n      this.checkParams(node, !oldStrict && !useStrict && !isArrowFunction && !isMethod && this.isSimpleParamList(node.params));\n      // Ensure the function name isn't a forbidden identifier in strict mode, e.g. 'eval'\n      if (this.strict && node.id) { this.checkLValSimple(node.id, BIND_OUTSIDE); }\n      node.body = this.parseBlock(false, undefined, useStrict && !oldStrict);\n      node.expression = false;\n      this.adaptDirectivePrologue(node.body.body);\n      this.labels = oldLabels;\n    }\n    this.exitScope();\n  };\n\n  pp$5.isSimpleParamList = function(params) {\n    for (var i = 0, list = params; i < list.length; i += 1)\n      {\n      var param = list[i];\n\n      if (param.type !== \"Identifier\") { return false\n    } }\n    return true\n  };\n\n  // Checks function params for various disallowed patterns such as using \"eval\"\n  // or \"arguments\" and duplicate parameters.\n\n  pp$5.checkParams = function(node, allowDuplicates) {\n    var nameHash = Object.create(null);\n    for (var i = 0, list = node.params; i < list.length; i += 1)\n      {\n      var param = list[i];\n\n      this.checkLValInnerPattern(param, BIND_VAR, allowDuplicates ? null : nameHash);\n    }\n  };\n\n  // Parses a comma-separated list of expressions, and returns them as\n  // an array. `close` is the token type that ends the list, and\n  // `allowEmpty` can be turned on to allow subsequent commas with\n  // nothing in between them to be parsed as `null` (which is needed\n  // for array literals).\n\n  pp$5.parseExprList = function(close, allowTrailingComma, allowEmpty, refDestructuringErrors) {\n    var elts = [], first = true;\n    while (!this.eat(close)) {\n      if (!first) {\n        this.expect(types$1.comma);\n        if (allowTrailingComma && this.afterTrailingComma(close)) { break }\n      } else { first = false; }\n\n      var elt = (void 0);\n      if (allowEmpty && this.type === types$1.comma)\n        { elt = null; }\n      else if (this.type === types$1.ellipsis) {\n        elt = this.parseSpread(refDestructuringErrors);\n        if (refDestructuringErrors && this.type === types$1.comma && refDestructuringErrors.trailingComma < 0)\n          { refDestructuringErrors.trailingComma = this.start; }\n      } else {\n        elt = this.parseMaybeAssign(false, refDestructuringErrors);\n      }\n      elts.push(elt);\n    }\n    return elts\n  };\n\n  pp$5.checkUnreserved = function(ref) {\n    var start = ref.start;\n    var end = ref.end;\n    var name = ref.name;\n\n    if (this.inGenerator && name === \"yield\")\n      { this.raiseRecoverable(start, \"Cannot use 'yield' as identifier inside a generator\"); }\n    if (this.inAsync && name === \"await\")\n      { this.raiseRecoverable(start, \"Cannot use 'await' as identifier inside an async function\"); }\n    if (this.currentThisScope().inClassFieldInit && name === \"arguments\")\n      { this.raiseRecoverable(start, \"Cannot use 'arguments' in class field initializer\"); }\n    if (this.inClassStaticBlock && (name === \"arguments\" || name === \"await\"))\n      { this.raise(start, (\"Cannot use \" + name + \" in class static initialization block\")); }\n    if (this.keywords.test(name))\n      { this.raise(start, (\"Unexpected keyword '\" + name + \"'\")); }\n    if (this.options.ecmaVersion < 6 &&\n      this.input.slice(start, end).indexOf(\"\\\\\") !== -1) { return }\n    var re = this.strict ? this.reservedWordsStrict : this.reservedWords;\n    if (re.test(name)) {\n      if (!this.inAsync && name === \"await\")\n        { this.raiseRecoverable(start, \"Cannot use keyword 'await' outside an async function\"); }\n      this.raiseRecoverable(start, (\"The keyword '\" + name + \"' is reserved\"));\n    }\n  };\n\n  // Parse the next token as an identifier. If `liberal` is true (used\n  // when parsing properties), it will also convert keywords into\n  // identifiers.\n\n  pp$5.parseIdent = function(liberal, isBinding) {\n    var node = this.startNode();\n    if (this.type === types$1.name) {\n      node.name = this.value;\n    } else if (this.type.keyword) {\n      node.name = this.type.keyword;\n\n      // To fix https://github.com/acornjs/acorn/issues/575\n      // `class` and `function` keywords push new context into this.context.\n      // But there is no chance to pop the context if the keyword is consumed as an identifier such as a property name.\n      // If the previous token is a dot, this does not apply because the context-managing code already ignored the keyword\n      if ((node.name === \"class\" || node.name === \"function\") &&\n          (this.lastTokEnd !== this.lastTokStart + 1 || this.input.charCodeAt(this.lastTokStart) !== 46)) {\n        this.context.pop();\n      }\n    } else {\n      this.unexpected();\n    }\n    this.next(!!liberal);\n    this.finishNode(node, \"Identifier\");\n    if (!liberal) {\n      this.checkUnreserved(node);\n      if (node.name === \"await\" && !this.awaitIdentPos)\n        { this.awaitIdentPos = node.start; }\n    }\n    return node\n  };\n\n  pp$5.parsePrivateIdent = function() {\n    var node = this.startNode();\n    if (this.type === types$1.privateId) {\n      node.name = this.value;\n    } else {\n      this.unexpected();\n    }\n    this.next();\n    this.finishNode(node, \"PrivateIdentifier\");\n\n    // For validating existence\n    if (this.privateNameStack.length === 0) {\n      this.raise(node.start, (\"Private field '#\" + (node.name) + \"' must be declared in an enclosing class\"));\n    } else {\n      this.privateNameStack[this.privateNameStack.length - 1].used.push(node);\n    }\n\n    return node\n  };\n\n  // Parses yield expression inside generator.\n\n  pp$5.parseYield = function(forInit) {\n    if (!this.yieldPos) { this.yieldPos = this.start; }\n\n    var node = this.startNode();\n    this.next();\n    if (this.type === types$1.semi || this.canInsertSemicolon() || (this.type !== types$1.star && !this.type.startsExpr)) {\n      node.delegate = false;\n      node.argument = null;\n    } else {\n      node.delegate = this.eat(types$1.star);\n      node.argument = this.parseMaybeAssign(forInit);\n    }\n    return this.finishNode(node, \"YieldExpression\")\n  };\n\n  pp$5.parseAwait = function(forInit) {\n    if (!this.awaitPos) { this.awaitPos = this.start; }\n\n    var node = this.startNode();\n    this.next();\n    node.argument = this.parseMaybeUnary(null, true, false, forInit);\n    return this.finishNode(node, \"AwaitExpression\")\n  };\n\n  var pp$4 = Parser.prototype;\n\n  // This function is used to raise exceptions on parse errors. It\n  // takes an offset integer (into the current `input`) to indicate\n  // the location of the error, attaches the position to the end\n  // of the error message, and then raises a `SyntaxError` with that\n  // message.\n\n  pp$4.raise = function(pos, message) {\n    var loc = getLineInfo(this.input, pos);\n    message += \" (\" + loc.line + \":\" + loc.column + \")\";\n    var err = new SyntaxError(message);\n    err.pos = pos; err.loc = loc; err.raisedAt = this.pos;\n    throw err\n  };\n\n  pp$4.raiseRecoverable = pp$4.raise;\n\n  pp$4.curPosition = function() {\n    if (this.options.locations) {\n      return new Position(this.curLine, this.pos - this.lineStart)\n    }\n  };\n\n  var pp$3 = Parser.prototype;\n\n  var Scope = function Scope(flags) {\n    this.flags = flags;\n    // A list of var-declared names in the current lexical scope\n    this.var = [];\n    // A list of lexically-declared names in the current lexical scope\n    this.lexical = [];\n    // A list of lexically-declared FunctionDeclaration names in the current lexical scope\n    this.functions = [];\n    // A switch to disallow the identifier reference 'arguments'\n    this.inClassFieldInit = false;\n  };\n\n  // The functions in this module keep track of declared variables in the current scope in order to detect duplicate variable names.\n\n  pp$3.enterScope = function(flags) {\n    this.scopeStack.push(new Scope(flags));\n  };\n\n  pp$3.exitScope = function() {\n    this.scopeStack.pop();\n  };\n\n  // The spec says:\n  // > At the top level of a function, or script, function declarations are\n  // > treated like var declarations rather than like lexical declarations.\n  pp$3.treatFunctionsAsVarInScope = function(scope) {\n    return (scope.flags & SCOPE_FUNCTION) || !this.inModule && (scope.flags & SCOPE_TOP)\n  };\n\n  pp$3.declareName = function(name, bindingType, pos) {\n    var redeclared = false;\n    if (bindingType === BIND_LEXICAL) {\n      var scope = this.currentScope();\n      redeclared = scope.lexical.indexOf(name) > -1 || scope.functions.indexOf(name) > -1 || scope.var.indexOf(name) > -1;\n      scope.lexical.push(name);\n      if (this.inModule && (scope.flags & SCOPE_TOP))\n        { delete this.undefinedExports[name]; }\n    } else if (bindingType === BIND_SIMPLE_CATCH) {\n      var scope$1 = this.currentScope();\n      scope$1.lexical.push(name);\n    } else if (bindingType === BIND_FUNCTION) {\n      var scope$2 = this.currentScope();\n      if (this.treatFunctionsAsVar)\n        { redeclared = scope$2.lexical.indexOf(name) > -1; }\n      else\n        { redeclared = scope$2.lexical.indexOf(name) > -1 || scope$2.var.indexOf(name) > -1; }\n      scope$2.functions.push(name);\n    } else {\n      for (var i = this.scopeStack.length - 1; i >= 0; --i) {\n        var scope$3 = this.scopeStack[i];\n        if (scope$3.lexical.indexOf(name) > -1 && !((scope$3.flags & SCOPE_SIMPLE_CATCH) && scope$3.lexical[0] === name) ||\n            !this.treatFunctionsAsVarInScope(scope$3) && scope$3.functions.indexOf(name) > -1) {\n          redeclared = true;\n          break\n        }\n        scope$3.var.push(name);\n        if (this.inModule && (scope$3.flags & SCOPE_TOP))\n          { delete this.undefinedExports[name]; }\n        if (scope$3.flags & SCOPE_VAR) { break }\n      }\n    }\n    if (redeclared) { this.raiseRecoverable(pos, (\"Identifier '\" + name + \"' has already been declared\")); }\n  };\n\n  pp$3.checkLocalExport = function(id) {\n    // scope.functions must be empty as Module code is always strict.\n    if (this.scopeStack[0].lexical.indexOf(id.name) === -1 &&\n        this.scopeStack[0].var.indexOf(id.name) === -1) {\n      this.undefinedExports[id.name] = id;\n    }\n  };\n\n  pp$3.currentScope = function() {\n    return this.scopeStack[this.scopeStack.length - 1]\n  };\n\n  pp$3.currentVarScope = function() {\n    for (var i = this.scopeStack.length - 1;; i--) {\n      var scope = this.scopeStack[i];\n      if (scope.flags & SCOPE_VAR) { return scope }\n    }\n  };\n\n  // Could be useful for `this`, `new.target`, `super()`, `super.property`, and `super[property]`.\n  pp$3.currentThisScope = function() {\n    for (var i = this.scopeStack.length - 1;; i--) {\n      var scope = this.scopeStack[i];\n      if (scope.flags & SCOPE_VAR && !(scope.flags & SCOPE_ARROW)) { return scope }\n    }\n  };\n\n  var Node = function Node(parser, pos, loc) {\n    this.type = \"\";\n    this.start = pos;\n    this.end = 0;\n    if (parser.options.locations)\n      { this.loc = new SourceLocation(parser, loc); }\n    if (parser.options.directSourceFile)\n      { this.sourceFile = parser.options.directSourceFile; }\n    if (parser.options.ranges)\n      { this.range = [pos, 0]; }\n  };\n\n  // Start an AST node, attaching a start offset.\n\n  var pp$2 = Parser.prototype;\n\n  pp$2.startNode = function() {\n    return new Node(this, this.start, this.startLoc)\n  };\n\n  pp$2.startNodeAt = function(pos, loc) {\n    return new Node(this, pos, loc)\n  };\n\n  // Finish an AST node, adding `type` and `end` properties.\n\n  function finishNodeAt(node, type, pos, loc) {\n    node.type = type;\n    node.end = pos;\n    if (this.options.locations)\n      { node.loc.end = loc; }\n    if (this.options.ranges)\n      { node.range[1] = pos; }\n    return node\n  }\n\n  pp$2.finishNode = function(node, type) {\n    return finishNodeAt.call(this, node, type, this.lastTokEnd, this.lastTokEndLoc)\n  };\n\n  // Finish node at given position\n\n  pp$2.finishNodeAt = function(node, type, pos, loc) {\n    return finishNodeAt.call(this, node, type, pos, loc)\n  };\n\n  pp$2.copyNode = function(node) {\n    var newNode = new Node(this, node.start, this.startLoc);\n    for (var prop in node) { newNode[prop] = node[prop]; }\n    return newNode\n  };\n\n  // This file contains Unicode properties extracted from the ECMAScript\n  // specification. The lists are extracted like so:\n  // $$('#table-binary-unicode-properties > figure > table > tbody > tr > td:nth-child(1) code').map(el => el.innerText)\n\n  // #table-binary-unicode-properties\n  var ecma9BinaryProperties = \"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS\";\n  var ecma10BinaryProperties = ecma9BinaryProperties + \" Extended_Pictographic\";\n  var ecma11BinaryProperties = ecma10BinaryProperties;\n  var ecma12BinaryProperties = ecma11BinaryProperties + \" EBase EComp EMod EPres ExtPict\";\n  var ecma13BinaryProperties = ecma12BinaryProperties;\n  var unicodeBinaryProperties = {\n    9: ecma9BinaryProperties,\n    10: ecma10BinaryProperties,\n    11: ecma11BinaryProperties,\n    12: ecma12BinaryProperties,\n    13: ecma13BinaryProperties\n  };\n\n  // #table-unicode-general-category-values\n  var unicodeGeneralCategoryValues = \"Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu\";\n\n  // #table-unicode-script-values\n  var ecma9ScriptValues = \"Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb\";\n  var ecma10ScriptValues = ecma9ScriptValues + \" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd\";\n  var ecma11ScriptValues = ecma10ScriptValues + \" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho\";\n  var ecma12ScriptValues = ecma11ScriptValues + \" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi\";\n  var ecma13ScriptValues = ecma12ScriptValues + \" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith\";\n  var unicodeScriptValues = {\n    9: ecma9ScriptValues,\n    10: ecma10ScriptValues,\n    11: ecma11ScriptValues,\n    12: ecma12ScriptValues,\n    13: ecma13ScriptValues\n  };\n\n  var data = {};\n  function buildUnicodeData(ecmaVersion) {\n    var d = data[ecmaVersion] = {\n      binary: wordsRegexp(unicodeBinaryProperties[ecmaVersion] + \" \" + unicodeGeneralCategoryValues),\n      nonBinary: {\n        General_Category: wordsRegexp(unicodeGeneralCategoryValues),\n        Script: wordsRegexp(unicodeScriptValues[ecmaVersion])\n      }\n    };\n    d.nonBinary.Script_Extensions = d.nonBinary.Script;\n\n    d.nonBinary.gc = d.nonBinary.General_Category;\n    d.nonBinary.sc = d.nonBinary.Script;\n    d.nonBinary.scx = d.nonBinary.Script_Extensions;\n  }\n\n  for (var i = 0, list = [9, 10, 11, 12, 13]; i < list.length; i += 1) {\n    var ecmaVersion = list[i];\n\n    buildUnicodeData(ecmaVersion);\n  }\n\n  var pp$1 = Parser.prototype;\n\n  var RegExpValidationState = function RegExpValidationState(parser) {\n    this.parser = parser;\n    this.validFlags = \"gim\" + (parser.options.ecmaVersion >= 6 ? \"uy\" : \"\") + (parser.options.ecmaVersion >= 9 ? \"s\" : \"\") + (parser.options.ecmaVersion >= 13 ? \"d\" : \"\");\n    this.unicodeProperties = data[parser.options.ecmaVersion >= 13 ? 13 : parser.options.ecmaVersion];\n    this.source = \"\";\n    this.flags = \"\";\n    this.start = 0;\n    this.switchU = false;\n    this.switchN = false;\n    this.pos = 0;\n    this.lastIntValue = 0;\n    this.lastStringValue = \"\";\n    this.lastAssertionIsQuantifiable = false;\n    this.numCapturingParens = 0;\n    this.maxBackReference = 0;\n    this.groupNames = [];\n    this.backReferenceNames = [];\n  };\n\n  RegExpValidationState.prototype.reset = function reset (start, pattern, flags) {\n    var unicode = flags.indexOf(\"u\") !== -1;\n    this.start = start | 0;\n    this.source = pattern + \"\";\n    this.flags = flags;\n    this.switchU = unicode && this.parser.options.ecmaVersion >= 6;\n    this.switchN = unicode && this.parser.options.ecmaVersion >= 9;\n  };\n\n  RegExpValidationState.prototype.raise = function raise (message) {\n    this.parser.raiseRecoverable(this.start, (\"Invalid regular expression: /\" + (this.source) + \"/: \" + message));\n  };\n\n  // If u flag is given, this returns the code point at the index (it combines a surrogate pair).\n  // Otherwise, this returns the code unit of the index (can be a part of a surrogate pair).\n  RegExpValidationState.prototype.at = function at (i, forceU) {\n      if ( forceU === void 0 ) forceU = false;\n\n    var s = this.source;\n    var l = s.length;\n    if (i >= l) {\n      return -1\n    }\n    var c = s.charCodeAt(i);\n    if (!(forceU || this.switchU) || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l) {\n      return c\n    }\n    var next = s.charCodeAt(i + 1);\n    return next >= 0xDC00 && next <= 0xDFFF ? (c << 10) + next - 0x35FDC00 : c\n  };\n\n  RegExpValidationState.prototype.nextIndex = function nextIndex (i, forceU) {\n      if ( forceU === void 0 ) forceU = false;\n\n    var s = this.source;\n    var l = s.length;\n    if (i >= l) {\n      return l\n    }\n    var c = s.charCodeAt(i), next;\n    if (!(forceU || this.switchU) || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l ||\n        (next = s.charCodeAt(i + 1)) < 0xDC00 || next > 0xDFFF) {\n      return i + 1\n    }\n    return i + 2\n  };\n\n  RegExpValidationState.prototype.current = function current (forceU) {\n      if ( forceU === void 0 ) forceU = false;\n\n    return this.at(this.pos, forceU)\n  };\n\n  RegExpValidationState.prototype.lookahead = function lookahead (forceU) {\n      if ( forceU === void 0 ) forceU = false;\n\n    return this.at(this.nextIndex(this.pos, forceU), forceU)\n  };\n\n  RegExpValidationState.prototype.advance = function advance (forceU) {\n      if ( forceU === void 0 ) forceU = false;\n\n    this.pos = this.nextIndex(this.pos, forceU);\n  };\n\n  RegExpValidationState.prototype.eat = function eat (ch, forceU) {\n      if ( forceU === void 0 ) forceU = false;\n\n    if (this.current(forceU) === ch) {\n      this.advance(forceU);\n      return true\n    }\n    return false\n  };\n\n  function codePointToString$1(ch) {\n    if (ch <= 0xFFFF) { return String.fromCharCode(ch) }\n    ch -= 0x10000;\n    return String.fromCharCode((ch >> 10) + 0xD800, (ch & 0x03FF) + 0xDC00)\n  }\n\n  /**\n   * Validate the flags part of a given RegExpLiteral.\n   *\n   * @param {RegExpValidationState} state The state to validate RegExp.\n   * @returns {void}\n   */\n  pp$1.validateRegExpFlags = function(state) {\n    var validFlags = state.validFlags;\n    var flags = state.flags;\n\n    for (var i = 0; i < flags.length; i++) {\n      var flag = flags.charAt(i);\n      if (validFlags.indexOf(flag) === -1) {\n        this.raise(state.start, \"Invalid regular expression flag\");\n      }\n      if (flags.indexOf(flag, i + 1) > -1) {\n        this.raise(state.start, \"Duplicate regular expression flag\");\n      }\n    }\n  };\n\n  /**\n   * Validate the pattern part of a given RegExpLiteral.\n   *\n   * @param {RegExpValidationState} state The state to validate RegExp.\n   * @returns {void}\n   */\n  pp$1.validateRegExpPattern = function(state) {\n    this.regexp_pattern(state);\n\n    // The goal symbol for the parse is |Pattern[~U, ~N]|. If the result of\n    // parsing contains a |GroupName|, reparse with the goal symbol\n    // |Pattern[~U, +N]| and use this result instead. Throw a *SyntaxError*\n    // exception if _P_ did not conform to the grammar, if any elements of _P_\n    // were not matched by the parse, or if any Early Error conditions exist.\n    if (!state.switchN && this.options.ecmaVersion >= 9 && state.groupNames.length > 0) {\n      state.switchN = true;\n      this.regexp_pattern(state);\n    }\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-Pattern\n  pp$1.regexp_pattern = function(state) {\n    state.pos = 0;\n    state.lastIntValue = 0;\n    state.lastStringValue = \"\";\n    state.lastAssertionIsQuantifiable = false;\n    state.numCapturingParens = 0;\n    state.maxBackReference = 0;\n    state.groupNames.length = 0;\n    state.backReferenceNames.length = 0;\n\n    this.regexp_disjunction(state);\n\n    if (state.pos !== state.source.length) {\n      // Make the same messages as V8.\n      if (state.eat(0x29 /* ) */)) {\n        state.raise(\"Unmatched ')'\");\n      }\n      if (state.eat(0x5D /* ] */) || state.eat(0x7D /* } */)) {\n        state.raise(\"Lone quantifier brackets\");\n      }\n    }\n    if (state.maxBackReference > state.numCapturingParens) {\n      state.raise(\"Invalid escape\");\n    }\n    for (var i = 0, list = state.backReferenceNames; i < list.length; i += 1) {\n      var name = list[i];\n\n      if (state.groupNames.indexOf(name) === -1) {\n        state.raise(\"Invalid named capture referenced\");\n      }\n    }\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-Disjunction\n  pp$1.regexp_disjunction = function(state) {\n    this.regexp_alternative(state);\n    while (state.eat(0x7C /* | */)) {\n      this.regexp_alternative(state);\n    }\n\n    // Make the same message as V8.\n    if (this.regexp_eatQuantifier(state, true)) {\n      state.raise(\"Nothing to repeat\");\n    }\n    if (state.eat(0x7B /* { */)) {\n      state.raise(\"Lone quantifier brackets\");\n    }\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-Alternative\n  pp$1.regexp_alternative = function(state) {\n    while (state.pos < state.source.length && this.regexp_eatTerm(state))\n      { }\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-Term\n  pp$1.regexp_eatTerm = function(state) {\n    if (this.regexp_eatAssertion(state)) {\n      // Handle `QuantifiableAssertion Quantifier` alternative.\n      // `state.lastAssertionIsQuantifiable` is true if the last eaten Assertion\n      // is a QuantifiableAssertion.\n      if (state.lastAssertionIsQuantifiable && this.regexp_eatQuantifier(state)) {\n        // Make the same message as V8.\n        if (state.switchU) {\n          state.raise(\"Invalid quantifier\");\n        }\n      }\n      return true\n    }\n\n    if (state.switchU ? this.regexp_eatAtom(state) : this.regexp_eatExtendedAtom(state)) {\n      this.regexp_eatQuantifier(state);\n      return true\n    }\n\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-Assertion\n  pp$1.regexp_eatAssertion = function(state) {\n    var start = state.pos;\n    state.lastAssertionIsQuantifiable = false;\n\n    // ^, $\n    if (state.eat(0x5E /* ^ */) || state.eat(0x24 /* $ */)) {\n      return true\n    }\n\n    // \\b \\B\n    if (state.eat(0x5C /* \\ */)) {\n      if (state.eat(0x42 /* B */) || state.eat(0x62 /* b */)) {\n        return true\n      }\n      state.pos = start;\n    }\n\n    // Lookahead / Lookbehind\n    if (state.eat(0x28 /* ( */) && state.eat(0x3F /* ? */)) {\n      var lookbehind = false;\n      if (this.options.ecmaVersion >= 9) {\n        lookbehind = state.eat(0x3C /* < */);\n      }\n      if (state.eat(0x3D /* = */) || state.eat(0x21 /* ! */)) {\n        this.regexp_disjunction(state);\n        if (!state.eat(0x29 /* ) */)) {\n          state.raise(\"Unterminated group\");\n        }\n        state.lastAssertionIsQuantifiable = !lookbehind;\n        return true\n      }\n    }\n\n    state.pos = start;\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-Quantifier\n  pp$1.regexp_eatQuantifier = function(state, noError) {\n    if ( noError === void 0 ) noError = false;\n\n    if (this.regexp_eatQuantifierPrefix(state, noError)) {\n      state.eat(0x3F /* ? */);\n      return true\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-QuantifierPrefix\n  pp$1.regexp_eatQuantifierPrefix = function(state, noError) {\n    return (\n      state.eat(0x2A /* * */) ||\n      state.eat(0x2B /* + */) ||\n      state.eat(0x3F /* ? */) ||\n      this.regexp_eatBracedQuantifier(state, noError)\n    )\n  };\n  pp$1.regexp_eatBracedQuantifier = function(state, noError) {\n    var start = state.pos;\n    if (state.eat(0x7B /* { */)) {\n      var min = 0, max = -1;\n      if (this.regexp_eatDecimalDigits(state)) {\n        min = state.lastIntValue;\n        if (state.eat(0x2C /* , */) && this.regexp_eatDecimalDigits(state)) {\n          max = state.lastIntValue;\n        }\n        if (state.eat(0x7D /* } */)) {\n          // SyntaxError in https://www.ecma-international.org/ecma-262/8.0/#sec-term\n          if (max !== -1 && max < min && !noError) {\n            state.raise(\"numbers out of order in {} quantifier\");\n          }\n          return true\n        }\n      }\n      if (state.switchU && !noError) {\n        state.raise(\"Incomplete quantifier\");\n      }\n      state.pos = start;\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-Atom\n  pp$1.regexp_eatAtom = function(state) {\n    return (\n      this.regexp_eatPatternCharacters(state) ||\n      state.eat(0x2E /* . */) ||\n      this.regexp_eatReverseSolidusAtomEscape(state) ||\n      this.regexp_eatCharacterClass(state) ||\n      this.regexp_eatUncapturingGroup(state) ||\n      this.regexp_eatCapturingGroup(state)\n    )\n  };\n  pp$1.regexp_eatReverseSolidusAtomEscape = function(state) {\n    var start = state.pos;\n    if (state.eat(0x5C /* \\ */)) {\n      if (this.regexp_eatAtomEscape(state)) {\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$1.regexp_eatUncapturingGroup = function(state) {\n    var start = state.pos;\n    if (state.eat(0x28 /* ( */)) {\n      if (state.eat(0x3F /* ? */) && state.eat(0x3A /* : */)) {\n        this.regexp_disjunction(state);\n        if (state.eat(0x29 /* ) */)) {\n          return true\n        }\n        state.raise(\"Unterminated group\");\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$1.regexp_eatCapturingGroup = function(state) {\n    if (state.eat(0x28 /* ( */)) {\n      if (this.options.ecmaVersion >= 9) {\n        this.regexp_groupSpecifier(state);\n      } else if (state.current() === 0x3F /* ? */) {\n        state.raise(\"Invalid group\");\n      }\n      this.regexp_disjunction(state);\n      if (state.eat(0x29 /* ) */)) {\n        state.numCapturingParens += 1;\n        return true\n      }\n      state.raise(\"Unterminated group\");\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ExtendedAtom\n  pp$1.regexp_eatExtendedAtom = function(state) {\n    return (\n      state.eat(0x2E /* . */) ||\n      this.regexp_eatReverseSolidusAtomEscape(state) ||\n      this.regexp_eatCharacterClass(state) ||\n      this.regexp_eatUncapturingGroup(state) ||\n      this.regexp_eatCapturingGroup(state) ||\n      this.regexp_eatInvalidBracedQuantifier(state) ||\n      this.regexp_eatExtendedPatternCharacter(state)\n    )\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-InvalidBracedQuantifier\n  pp$1.regexp_eatInvalidBracedQuantifier = function(state) {\n    if (this.regexp_eatBracedQuantifier(state, true)) {\n      state.raise(\"Nothing to repeat\");\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-SyntaxCharacter\n  pp$1.regexp_eatSyntaxCharacter = function(state) {\n    var ch = state.current();\n    if (isSyntaxCharacter(ch)) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n    return false\n  };\n  function isSyntaxCharacter(ch) {\n    return (\n      ch === 0x24 /* $ */ ||\n      ch >= 0x28 /* ( */ && ch <= 0x2B /* + */ ||\n      ch === 0x2E /* . */ ||\n      ch === 0x3F /* ? */ ||\n      ch >= 0x5B /* [ */ && ch <= 0x5E /* ^ */ ||\n      ch >= 0x7B /* { */ && ch <= 0x7D /* } */\n    )\n  }\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-PatternCharacter\n  // But eat eager.\n  pp$1.regexp_eatPatternCharacters = function(state) {\n    var start = state.pos;\n    var ch = 0;\n    while ((ch = state.current()) !== -1 && !isSyntaxCharacter(ch)) {\n      state.advance();\n    }\n    return state.pos !== start\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ExtendedPatternCharacter\n  pp$1.regexp_eatExtendedPatternCharacter = function(state) {\n    var ch = state.current();\n    if (\n      ch !== -1 &&\n      ch !== 0x24 /* $ */ &&\n      !(ch >= 0x28 /* ( */ && ch <= 0x2B /* + */) &&\n      ch !== 0x2E /* . */ &&\n      ch !== 0x3F /* ? */ &&\n      ch !== 0x5B /* [ */ &&\n      ch !== 0x5E /* ^ */ &&\n      ch !== 0x7C /* | */\n    ) {\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  // GroupSpecifier ::\n  //   [empty]\n  //   `?` GroupName\n  pp$1.regexp_groupSpecifier = function(state) {\n    if (state.eat(0x3F /* ? */)) {\n      if (this.regexp_eatGroupName(state)) {\n        if (state.groupNames.indexOf(state.lastStringValue) !== -1) {\n          state.raise(\"Duplicate capture group name\");\n        }\n        state.groupNames.push(state.lastStringValue);\n        return\n      }\n      state.raise(\"Invalid group\");\n    }\n  };\n\n  // GroupName ::\n  //   `<` RegExpIdentifierName `>`\n  // Note: this updates `state.lastStringValue` property with the eaten name.\n  pp$1.regexp_eatGroupName = function(state) {\n    state.lastStringValue = \"\";\n    if (state.eat(0x3C /* < */)) {\n      if (this.regexp_eatRegExpIdentifierName(state) && state.eat(0x3E /* > */)) {\n        return true\n      }\n      state.raise(\"Invalid capture group name\");\n    }\n    return false\n  };\n\n  // RegExpIdentifierName ::\n  //   RegExpIdentifierStart\n  //   RegExpIdentifierName RegExpIdentifierPart\n  // Note: this updates `state.lastStringValue` property with the eaten name.\n  pp$1.regexp_eatRegExpIdentifierName = function(state) {\n    state.lastStringValue = \"\";\n    if (this.regexp_eatRegExpIdentifierStart(state)) {\n      state.lastStringValue += codePointToString$1(state.lastIntValue);\n      while (this.regexp_eatRegExpIdentifierPart(state)) {\n        state.lastStringValue += codePointToString$1(state.lastIntValue);\n      }\n      return true\n    }\n    return false\n  };\n\n  // RegExpIdentifierStart ::\n  //   UnicodeIDStart\n  //   `$`\n  //   `_`\n  //   `\\` RegExpUnicodeEscapeSequence[+U]\n  pp$1.regexp_eatRegExpIdentifierStart = function(state) {\n    var start = state.pos;\n    var forceU = this.options.ecmaVersion >= 11;\n    var ch = state.current(forceU);\n    state.advance(forceU);\n\n    if (ch === 0x5C /* \\ */ && this.regexp_eatRegExpUnicodeEscapeSequence(state, forceU)) {\n      ch = state.lastIntValue;\n    }\n    if (isRegExpIdentifierStart(ch)) {\n      state.lastIntValue = ch;\n      return true\n    }\n\n    state.pos = start;\n    return false\n  };\n  function isRegExpIdentifierStart(ch) {\n    return isIdentifierStart(ch, true) || ch === 0x24 /* $ */ || ch === 0x5F /* _ */\n  }\n\n  // RegExpIdentifierPart ::\n  //   UnicodeIDContinue\n  //   `$`\n  //   `_`\n  //   `\\` RegExpUnicodeEscapeSequence[+U]\n  //   <ZWNJ>\n  //   <ZWJ>\n  pp$1.regexp_eatRegExpIdentifierPart = function(state) {\n    var start = state.pos;\n    var forceU = this.options.ecmaVersion >= 11;\n    var ch = state.current(forceU);\n    state.advance(forceU);\n\n    if (ch === 0x5C /* \\ */ && this.regexp_eatRegExpUnicodeEscapeSequence(state, forceU)) {\n      ch = state.lastIntValue;\n    }\n    if (isRegExpIdentifierPart(ch)) {\n      state.lastIntValue = ch;\n      return true\n    }\n\n    state.pos = start;\n    return false\n  };\n  function isRegExpIdentifierPart(ch) {\n    return isIdentifierChar(ch, true) || ch === 0x24 /* $ */ || ch === 0x5F /* _ */ || ch === 0x200C /* <ZWNJ> */ || ch === 0x200D /* <ZWJ> */\n  }\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-AtomEscape\n  pp$1.regexp_eatAtomEscape = function(state) {\n    if (\n      this.regexp_eatBackReference(state) ||\n      this.regexp_eatCharacterClassEscape(state) ||\n      this.regexp_eatCharacterEscape(state) ||\n      (state.switchN && this.regexp_eatKGroupName(state))\n    ) {\n      return true\n    }\n    if (state.switchU) {\n      // Make the same message as V8.\n      if (state.current() === 0x63 /* c */) {\n        state.raise(\"Invalid unicode escape\");\n      }\n      state.raise(\"Invalid escape\");\n    }\n    return false\n  };\n  pp$1.regexp_eatBackReference = function(state) {\n    var start = state.pos;\n    if (this.regexp_eatDecimalEscape(state)) {\n      var n = state.lastIntValue;\n      if (state.switchU) {\n        // For SyntaxError in https://www.ecma-international.org/ecma-262/8.0/#sec-atomescape\n        if (n > state.maxBackReference) {\n          state.maxBackReference = n;\n        }\n        return true\n      }\n      if (n <= state.numCapturingParens) {\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$1.regexp_eatKGroupName = function(state) {\n    if (state.eat(0x6B /* k */)) {\n      if (this.regexp_eatGroupName(state)) {\n        state.backReferenceNames.push(state.lastStringValue);\n        return true\n      }\n      state.raise(\"Invalid named reference\");\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-CharacterEscape\n  pp$1.regexp_eatCharacterEscape = function(state) {\n    return (\n      this.regexp_eatControlEscape(state) ||\n      this.regexp_eatCControlLetter(state) ||\n      this.regexp_eatZero(state) ||\n      this.regexp_eatHexEscapeSequence(state) ||\n      this.regexp_eatRegExpUnicodeEscapeSequence(state, false) ||\n      (!state.switchU && this.regexp_eatLegacyOctalEscapeSequence(state)) ||\n      this.regexp_eatIdentityEscape(state)\n    )\n  };\n  pp$1.regexp_eatCControlLetter = function(state) {\n    var start = state.pos;\n    if (state.eat(0x63 /* c */)) {\n      if (this.regexp_eatControlLetter(state)) {\n        return true\n      }\n      state.pos = start;\n    }\n    return false\n  };\n  pp$1.regexp_eatZero = function(state) {\n    if (state.current() === 0x30 /* 0 */ && !isDecimalDigit(state.lookahead())) {\n      state.lastIntValue = 0;\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-ControlEscape\n  pp$1.regexp_eatControlEscape = function(state) {\n    var ch = state.current();\n    if (ch === 0x74 /* t */) {\n      state.lastIntValue = 0x09; /* \\t */\n      state.advance();\n      return true\n    }\n    if (ch === 0x6E /* n */) {\n      state.lastIntValue = 0x0A; /* \\n */\n      state.advance();\n      return true\n    }\n    if (ch === 0x76 /* v */) {\n      state.lastIntValue = 0x0B; /* \\v */\n      state.advance();\n      return true\n    }\n    if (ch === 0x66 /* f */) {\n      state.lastIntValue = 0x0C; /* \\f */\n      state.advance();\n      return true\n    }\n    if (ch === 0x72 /* r */) {\n      state.lastIntValue = 0x0D; /* \\r */\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-ControlLetter\n  pp$1.regexp_eatControlLetter = function(state) {\n    var ch = state.current();\n    if (isControlLetter(ch)) {\n      state.lastIntValue = ch % 0x20;\n      state.advance();\n      return true\n    }\n    return false\n  };\n  function isControlLetter(ch) {\n    return (\n      (ch >= 0x41 /* A */ && ch <= 0x5A /* Z */) ||\n      (ch >= 0x61 /* a */ && ch <= 0x7A /* z */)\n    )\n  }\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-RegExpUnicodeEscapeSequence\n  pp$1.regexp_eatRegExpUnicodeEscapeSequence = function(state, forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n    var start = state.pos;\n    var switchU = forceU || state.switchU;\n\n    if (state.eat(0x75 /* u */)) {\n      if (this.regexp_eatFixedHexDigits(state, 4)) {\n        var lead = state.lastIntValue;\n        if (switchU && lead >= 0xD800 && lead <= 0xDBFF) {\n          var leadSurrogateEnd = state.pos;\n          if (state.eat(0x5C /* \\ */) && state.eat(0x75 /* u */) && this.regexp_eatFixedHexDigits(state, 4)) {\n            var trail = state.lastIntValue;\n            if (trail >= 0xDC00 && trail <= 0xDFFF) {\n              state.lastIntValue = (lead - 0xD800) * 0x400 + (trail - 0xDC00) + 0x10000;\n              return true\n            }\n          }\n          state.pos = leadSurrogateEnd;\n          state.lastIntValue = lead;\n        }\n        return true\n      }\n      if (\n        switchU &&\n        state.eat(0x7B /* { */) &&\n        this.regexp_eatHexDigits(state) &&\n        state.eat(0x7D /* } */) &&\n        isValidUnicode(state.lastIntValue)\n      ) {\n        return true\n      }\n      if (switchU) {\n        state.raise(\"Invalid unicode escape\");\n      }\n      state.pos = start;\n    }\n\n    return false\n  };\n  function isValidUnicode(ch) {\n    return ch >= 0 && ch <= 0x10FFFF\n  }\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-IdentityEscape\n  pp$1.regexp_eatIdentityEscape = function(state) {\n    if (state.switchU) {\n      if (this.regexp_eatSyntaxCharacter(state)) {\n        return true\n      }\n      if (state.eat(0x2F /* / */)) {\n        state.lastIntValue = 0x2F; /* / */\n        return true\n      }\n      return false\n    }\n\n    var ch = state.current();\n    if (ch !== 0x63 /* c */ && (!state.switchN || ch !== 0x6B /* k */)) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-DecimalEscape\n  pp$1.regexp_eatDecimalEscape = function(state) {\n    state.lastIntValue = 0;\n    var ch = state.current();\n    if (ch >= 0x31 /* 1 */ && ch <= 0x39 /* 9 */) {\n      do {\n        state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 /* 0 */);\n        state.advance();\n      } while ((ch = state.current()) >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */)\n      return true\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-CharacterClassEscape\n  pp$1.regexp_eatCharacterClassEscape = function(state) {\n    var ch = state.current();\n\n    if (isCharacterClassEscape(ch)) {\n      state.lastIntValue = -1;\n      state.advance();\n      return true\n    }\n\n    if (\n      state.switchU &&\n      this.options.ecmaVersion >= 9 &&\n      (ch === 0x50 /* P */ || ch === 0x70 /* p */)\n    ) {\n      state.lastIntValue = -1;\n      state.advance();\n      if (\n        state.eat(0x7B /* { */) &&\n        this.regexp_eatUnicodePropertyValueExpression(state) &&\n        state.eat(0x7D /* } */)\n      ) {\n        return true\n      }\n      state.raise(\"Invalid property name\");\n    }\n\n    return false\n  };\n  function isCharacterClassEscape(ch) {\n    return (\n      ch === 0x64 /* d */ ||\n      ch === 0x44 /* D */ ||\n      ch === 0x73 /* s */ ||\n      ch === 0x53 /* S */ ||\n      ch === 0x77 /* w */ ||\n      ch === 0x57 /* W */\n    )\n  }\n\n  // UnicodePropertyValueExpression ::\n  //   UnicodePropertyName `=` UnicodePropertyValue\n  //   LoneUnicodePropertyNameOrValue\n  pp$1.regexp_eatUnicodePropertyValueExpression = function(state) {\n    var start = state.pos;\n\n    // UnicodePropertyName `=` UnicodePropertyValue\n    if (this.regexp_eatUnicodePropertyName(state) && state.eat(0x3D /* = */)) {\n      var name = state.lastStringValue;\n      if (this.regexp_eatUnicodePropertyValue(state)) {\n        var value = state.lastStringValue;\n        this.regexp_validateUnicodePropertyNameAndValue(state, name, value);\n        return true\n      }\n    }\n    state.pos = start;\n\n    // LoneUnicodePropertyNameOrValue\n    if (this.regexp_eatLoneUnicodePropertyNameOrValue(state)) {\n      var nameOrValue = state.lastStringValue;\n      this.regexp_validateUnicodePropertyNameOrValue(state, nameOrValue);\n      return true\n    }\n    return false\n  };\n  pp$1.regexp_validateUnicodePropertyNameAndValue = function(state, name, value) {\n    if (!hasOwn(state.unicodeProperties.nonBinary, name))\n      { state.raise(\"Invalid property name\"); }\n    if (!state.unicodeProperties.nonBinary[name].test(value))\n      { state.raise(\"Invalid property value\"); }\n  };\n  pp$1.regexp_validateUnicodePropertyNameOrValue = function(state, nameOrValue) {\n    if (!state.unicodeProperties.binary.test(nameOrValue))\n      { state.raise(\"Invalid property name\"); }\n  };\n\n  // UnicodePropertyName ::\n  //   UnicodePropertyNameCharacters\n  pp$1.regexp_eatUnicodePropertyName = function(state) {\n    var ch = 0;\n    state.lastStringValue = \"\";\n    while (isUnicodePropertyNameCharacter(ch = state.current())) {\n      state.lastStringValue += codePointToString$1(ch);\n      state.advance();\n    }\n    return state.lastStringValue !== \"\"\n  };\n  function isUnicodePropertyNameCharacter(ch) {\n    return isControlLetter(ch) || ch === 0x5F /* _ */\n  }\n\n  // UnicodePropertyValue ::\n  //   UnicodePropertyValueCharacters\n  pp$1.regexp_eatUnicodePropertyValue = function(state) {\n    var ch = 0;\n    state.lastStringValue = \"\";\n    while (isUnicodePropertyValueCharacter(ch = state.current())) {\n      state.lastStringValue += codePointToString$1(ch);\n      state.advance();\n    }\n    return state.lastStringValue !== \"\"\n  };\n  function isUnicodePropertyValueCharacter(ch) {\n    return isUnicodePropertyNameCharacter(ch) || isDecimalDigit(ch)\n  }\n\n  // LoneUnicodePropertyNameOrValue ::\n  //   UnicodePropertyValueCharacters\n  pp$1.regexp_eatLoneUnicodePropertyNameOrValue = function(state) {\n    return this.regexp_eatUnicodePropertyValue(state)\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-CharacterClass\n  pp$1.regexp_eatCharacterClass = function(state) {\n    if (state.eat(0x5B /* [ */)) {\n      state.eat(0x5E /* ^ */);\n      this.regexp_classRanges(state);\n      if (state.eat(0x5D /* ] */)) {\n        return true\n      }\n      // Unreachable since it threw \"unterminated regular expression\" error before.\n      state.raise(\"Unterminated character class\");\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-ClassRanges\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-NonemptyClassRanges\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-NonemptyClassRangesNoDash\n  pp$1.regexp_classRanges = function(state) {\n    while (this.regexp_eatClassAtom(state)) {\n      var left = state.lastIntValue;\n      if (state.eat(0x2D /* - */) && this.regexp_eatClassAtom(state)) {\n        var right = state.lastIntValue;\n        if (state.switchU && (left === -1 || right === -1)) {\n          state.raise(\"Invalid character class\");\n        }\n        if (left !== -1 && right !== -1 && left > right) {\n          state.raise(\"Range out of order in character class\");\n        }\n      }\n    }\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-ClassAtom\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-ClassAtomNoDash\n  pp$1.regexp_eatClassAtom = function(state) {\n    var start = state.pos;\n\n    if (state.eat(0x5C /* \\ */)) {\n      if (this.regexp_eatClassEscape(state)) {\n        return true\n      }\n      if (state.switchU) {\n        // Make the same message as V8.\n        var ch$1 = state.current();\n        if (ch$1 === 0x63 /* c */ || isOctalDigit(ch$1)) {\n          state.raise(\"Invalid class escape\");\n        }\n        state.raise(\"Invalid escape\");\n      }\n      state.pos = start;\n    }\n\n    var ch = state.current();\n    if (ch !== 0x5D /* ] */) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true\n    }\n\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ClassEscape\n  pp$1.regexp_eatClassEscape = function(state) {\n    var start = state.pos;\n\n    if (state.eat(0x62 /* b */)) {\n      state.lastIntValue = 0x08; /* <BS> */\n      return true\n    }\n\n    if (state.switchU && state.eat(0x2D /* - */)) {\n      state.lastIntValue = 0x2D; /* - */\n      return true\n    }\n\n    if (!state.switchU && state.eat(0x63 /* c */)) {\n      if (this.regexp_eatClassControlLetter(state)) {\n        return true\n      }\n      state.pos = start;\n    }\n\n    return (\n      this.regexp_eatCharacterClassEscape(state) ||\n      this.regexp_eatCharacterEscape(state)\n    )\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ClassControlLetter\n  pp$1.regexp_eatClassControlLetter = function(state) {\n    var ch = state.current();\n    if (isDecimalDigit(ch) || ch === 0x5F /* _ */) {\n      state.lastIntValue = ch % 0x20;\n      state.advance();\n      return true\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-HexEscapeSequence\n  pp$1.regexp_eatHexEscapeSequence = function(state) {\n    var start = state.pos;\n    if (state.eat(0x78 /* x */)) {\n      if (this.regexp_eatFixedHexDigits(state, 2)) {\n        return true\n      }\n      if (state.switchU) {\n        state.raise(\"Invalid escape\");\n      }\n      state.pos = start;\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-DecimalDigits\n  pp$1.regexp_eatDecimalDigits = function(state) {\n    var start = state.pos;\n    var ch = 0;\n    state.lastIntValue = 0;\n    while (isDecimalDigit(ch = state.current())) {\n      state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 /* 0 */);\n      state.advance();\n    }\n    return state.pos !== start\n  };\n  function isDecimalDigit(ch) {\n    return ch >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */\n  }\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-HexDigits\n  pp$1.regexp_eatHexDigits = function(state) {\n    var start = state.pos;\n    var ch = 0;\n    state.lastIntValue = 0;\n    while (isHexDigit(ch = state.current())) {\n      state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n      state.advance();\n    }\n    return state.pos !== start\n  };\n  function isHexDigit(ch) {\n    return (\n      (ch >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */) ||\n      (ch >= 0x41 /* A */ && ch <= 0x46 /* F */) ||\n      (ch >= 0x61 /* a */ && ch <= 0x66 /* f */)\n    )\n  }\n  function hexToInt(ch) {\n    if (ch >= 0x41 /* A */ && ch <= 0x46 /* F */) {\n      return 10 + (ch - 0x41 /* A */)\n    }\n    if (ch >= 0x61 /* a */ && ch <= 0x66 /* f */) {\n      return 10 + (ch - 0x61 /* a */)\n    }\n    return ch - 0x30 /* 0 */\n  }\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-LegacyOctalEscapeSequence\n  // Allows only 0-377(octal) i.e. 0-255(decimal).\n  pp$1.regexp_eatLegacyOctalEscapeSequence = function(state) {\n    if (this.regexp_eatOctalDigit(state)) {\n      var n1 = state.lastIntValue;\n      if (this.regexp_eatOctalDigit(state)) {\n        var n2 = state.lastIntValue;\n        if (n1 <= 3 && this.regexp_eatOctalDigit(state)) {\n          state.lastIntValue = n1 * 64 + n2 * 8 + state.lastIntValue;\n        } else {\n          state.lastIntValue = n1 * 8 + n2;\n        }\n      } else {\n        state.lastIntValue = n1;\n      }\n      return true\n    }\n    return false\n  };\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-OctalDigit\n  pp$1.regexp_eatOctalDigit = function(state) {\n    var ch = state.current();\n    if (isOctalDigit(ch)) {\n      state.lastIntValue = ch - 0x30; /* 0 */\n      state.advance();\n      return true\n    }\n    state.lastIntValue = 0;\n    return false\n  };\n  function isOctalDigit(ch) {\n    return ch >= 0x30 /* 0 */ && ch <= 0x37 /* 7 */\n  }\n\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-Hex4Digits\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-HexDigit\n  // And HexDigit HexDigit in https://www.ecma-international.org/ecma-262/8.0/#prod-HexEscapeSequence\n  pp$1.regexp_eatFixedHexDigits = function(state, length) {\n    var start = state.pos;\n    state.lastIntValue = 0;\n    for (var i = 0; i < length; ++i) {\n      var ch = state.current();\n      if (!isHexDigit(ch)) {\n        state.pos = start;\n        return false\n      }\n      state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n      state.advance();\n    }\n    return true\n  };\n\n  // Object type used to represent tokens. Note that normally, tokens\n  // simply exist as properties on the parser object. This is only\n  // used for the onToken callback and the external tokenizer.\n\n  var Token = function Token(p) {\n    this.type = p.type;\n    this.value = p.value;\n    this.start = p.start;\n    this.end = p.end;\n    if (p.options.locations)\n      { this.loc = new SourceLocation(p, p.startLoc, p.endLoc); }\n    if (p.options.ranges)\n      { this.range = [p.start, p.end]; }\n  };\n\n  // ## Tokenizer\n\n  var pp = Parser.prototype;\n\n  // Move to the next token\n\n  pp.next = function(ignoreEscapeSequenceInKeyword) {\n    if (!ignoreEscapeSequenceInKeyword && this.type.keyword && this.containsEsc)\n      { this.raiseRecoverable(this.start, \"Escape sequence in keyword \" + this.type.keyword); }\n    if (this.options.onToken)\n      { this.options.onToken(new Token(this)); }\n\n    this.lastTokEnd = this.end;\n    this.lastTokStart = this.start;\n    this.lastTokEndLoc = this.endLoc;\n    this.lastTokStartLoc = this.startLoc;\n    this.nextToken();\n  };\n\n  pp.getToken = function() {\n    this.next();\n    return new Token(this)\n  };\n\n  // If we're in an ES6 environment, make parsers iterable\n  if (typeof Symbol !== \"undefined\")\n    { pp[Symbol.iterator] = function() {\n      var this$1$1 = this;\n\n      return {\n        next: function () {\n          var token = this$1$1.getToken();\n          return {\n            done: token.type === types$1.eof,\n            value: token\n          }\n        }\n      }\n    }; }\n\n  // Toggle strict mode. Re-reads the next number or string to please\n  // pedantic tests (`\"use strict\"; 010;` should fail).\n\n  // Read a single token, updating the parser object's token-related\n  // properties.\n\n  pp.nextToken = function() {\n    var curContext = this.curContext();\n    if (!curContext || !curContext.preserveSpace) { this.skipSpace(); }\n\n    this.start = this.pos;\n    if (this.options.locations) { this.startLoc = this.curPosition(); }\n    if (this.pos >= this.input.length) { return this.finishToken(types$1.eof) }\n\n    if (curContext.override) { return curContext.override(this) }\n    else { this.readToken(this.fullCharCodeAtPos()); }\n  };\n\n  pp.readToken = function(code) {\n    // Identifier or keyword. '\\uXXXX' sequences are allowed in\n    // identifiers, so '\\' also dispatches to that.\n    if (isIdentifierStart(code, this.options.ecmaVersion >= 6) || code === 92 /* '\\' */)\n      { return this.readWord() }\n\n    return this.getTokenFromCode(code)\n  };\n\n  pp.fullCharCodeAtPos = function() {\n    var code = this.input.charCodeAt(this.pos);\n    if (code <= 0xd7ff || code >= 0xdc00) { return code }\n    var next = this.input.charCodeAt(this.pos + 1);\n    return next <= 0xdbff || next >= 0xe000 ? code : (code << 10) + next - 0x35fdc00\n  };\n\n  pp.skipBlockComment = function() {\n    var startLoc = this.options.onComment && this.curPosition();\n    var start = this.pos, end = this.input.indexOf(\"*/\", this.pos += 2);\n    if (end === -1) { this.raise(this.pos - 2, \"Unterminated comment\"); }\n    this.pos = end + 2;\n    if (this.options.locations) {\n      for (var nextBreak = (void 0), pos = start; (nextBreak = nextLineBreak(this.input, pos, this.pos)) > -1;) {\n        ++this.curLine;\n        pos = this.lineStart = nextBreak;\n      }\n    }\n    if (this.options.onComment)\n      { this.options.onComment(true, this.input.slice(start + 2, end), start, this.pos,\n                             startLoc, this.curPosition()); }\n  };\n\n  pp.skipLineComment = function(startSkip) {\n    var start = this.pos;\n    var startLoc = this.options.onComment && this.curPosition();\n    var ch = this.input.charCodeAt(this.pos += startSkip);\n    while (this.pos < this.input.length && !isNewLine(ch)) {\n      ch = this.input.charCodeAt(++this.pos);\n    }\n    if (this.options.onComment)\n      { this.options.onComment(false, this.input.slice(start + startSkip, this.pos), start, this.pos,\n                             startLoc, this.curPosition()); }\n  };\n\n  // Called at the start of the parse and after every token. Skips\n  // whitespace and comments, and.\n\n  pp.skipSpace = function() {\n    loop: while (this.pos < this.input.length) {\n      var ch = this.input.charCodeAt(this.pos);\n      switch (ch) {\n      case 32: case 160: // ' '\n        ++this.pos;\n        break\n      case 13:\n        if (this.input.charCodeAt(this.pos + 1) === 10) {\n          ++this.pos;\n        }\n      case 10: case 8232: case 8233:\n        ++this.pos;\n        if (this.options.locations) {\n          ++this.curLine;\n          this.lineStart = this.pos;\n        }\n        break\n      case 47: // '/'\n        switch (this.input.charCodeAt(this.pos + 1)) {\n        case 42: // '*'\n          this.skipBlockComment();\n          break\n        case 47:\n          this.skipLineComment(2);\n          break\n        default:\n          break loop\n        }\n        break\n      default:\n        if (ch > 8 && ch < 14 || ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n          ++this.pos;\n        } else {\n          break loop\n        }\n      }\n    }\n  };\n\n  // Called at the end of every token. Sets `end`, `val`, and\n  // maintains `context` and `exprAllowed`, and skips the space after\n  // the token, so that the next one's `start` will point at the\n  // right position.\n\n  pp.finishToken = function(type, val) {\n    this.end = this.pos;\n    if (this.options.locations) { this.endLoc = this.curPosition(); }\n    var prevType = this.type;\n    this.type = type;\n    this.value = val;\n\n    this.updateContext(prevType);\n  };\n\n  // ### Token reading\n\n  // This is the function that is called to fetch the next token. It\n  // is somewhat obscure, because it works in character codes rather\n  // than characters, and because operator parsing has been inlined\n  // into it.\n  //\n  // All in the name of speed.\n  //\n  pp.readToken_dot = function() {\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next >= 48 && next <= 57) { return this.readNumber(true) }\n    var next2 = this.input.charCodeAt(this.pos + 2);\n    if (this.options.ecmaVersion >= 6 && next === 46 && next2 === 46) { // 46 = dot '.'\n      this.pos += 3;\n      return this.finishToken(types$1.ellipsis)\n    } else {\n      ++this.pos;\n      return this.finishToken(types$1.dot)\n    }\n  };\n\n  pp.readToken_slash = function() { // '/'\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (this.exprAllowed) { ++this.pos; return this.readRegexp() }\n    if (next === 61) { return this.finishOp(types$1.assign, 2) }\n    return this.finishOp(types$1.slash, 1)\n  };\n\n  pp.readToken_mult_modulo_exp = function(code) { // '%*'\n    var next = this.input.charCodeAt(this.pos + 1);\n    var size = 1;\n    var tokentype = code === 42 ? types$1.star : types$1.modulo;\n\n    // exponentiation operator ** and **=\n    if (this.options.ecmaVersion >= 7 && code === 42 && next === 42) {\n      ++size;\n      tokentype = types$1.starstar;\n      next = this.input.charCodeAt(this.pos + 2);\n    }\n\n    if (next === 61) { return this.finishOp(types$1.assign, size + 1) }\n    return this.finishOp(tokentype, size)\n  };\n\n  pp.readToken_pipe_amp = function(code) { // '|&'\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === code) {\n      if (this.options.ecmaVersion >= 12) {\n        var next2 = this.input.charCodeAt(this.pos + 2);\n        if (next2 === 61) { return this.finishOp(types$1.assign, 3) }\n      }\n      return this.finishOp(code === 124 ? types$1.logicalOR : types$1.logicalAND, 2)\n    }\n    if (next === 61) { return this.finishOp(types$1.assign, 2) }\n    return this.finishOp(code === 124 ? types$1.bitwiseOR : types$1.bitwiseAND, 1)\n  };\n\n  pp.readToken_caret = function() { // '^'\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 61) { return this.finishOp(types$1.assign, 2) }\n    return this.finishOp(types$1.bitwiseXOR, 1)\n  };\n\n  pp.readToken_plus_min = function(code) { // '+-'\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === code) {\n      if (next === 45 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 62 &&\n          (this.lastTokEnd === 0 || lineBreak.test(this.input.slice(this.lastTokEnd, this.pos)))) {\n        // A `-->` line comment\n        this.skipLineComment(3);\n        this.skipSpace();\n        return this.nextToken()\n      }\n      return this.finishOp(types$1.incDec, 2)\n    }\n    if (next === 61) { return this.finishOp(types$1.assign, 2) }\n    return this.finishOp(types$1.plusMin, 1)\n  };\n\n  pp.readToken_lt_gt = function(code) { // '<>'\n    var next = this.input.charCodeAt(this.pos + 1);\n    var size = 1;\n    if (next === code) {\n      size = code === 62 && this.input.charCodeAt(this.pos + 2) === 62 ? 3 : 2;\n      if (this.input.charCodeAt(this.pos + size) === 61) { return this.finishOp(types$1.assign, size + 1) }\n      return this.finishOp(types$1.bitShift, size)\n    }\n    if (next === 33 && code === 60 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 45 &&\n        this.input.charCodeAt(this.pos + 3) === 45) {\n      // `<!--`, an XML-style comment that should be interpreted as a line comment\n      this.skipLineComment(4);\n      this.skipSpace();\n      return this.nextToken()\n    }\n    if (next === 61) { size = 2; }\n    return this.finishOp(types$1.relational, size)\n  };\n\n  pp.readToken_eq_excl = function(code) { // '=!'\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 61) { return this.finishOp(types$1.equality, this.input.charCodeAt(this.pos + 2) === 61 ? 3 : 2) }\n    if (code === 61 && next === 62 && this.options.ecmaVersion >= 6) { // '=>'\n      this.pos += 2;\n      return this.finishToken(types$1.arrow)\n    }\n    return this.finishOp(code === 61 ? types$1.eq : types$1.prefix, 1)\n  };\n\n  pp.readToken_question = function() { // '?'\n    var ecmaVersion = this.options.ecmaVersion;\n    if (ecmaVersion >= 11) {\n      var next = this.input.charCodeAt(this.pos + 1);\n      if (next === 46) {\n        var next2 = this.input.charCodeAt(this.pos + 2);\n        if (next2 < 48 || next2 > 57) { return this.finishOp(types$1.questionDot, 2) }\n      }\n      if (next === 63) {\n        if (ecmaVersion >= 12) {\n          var next2$1 = this.input.charCodeAt(this.pos + 2);\n          if (next2$1 === 61) { return this.finishOp(types$1.assign, 3) }\n        }\n        return this.finishOp(types$1.coalesce, 2)\n      }\n    }\n    return this.finishOp(types$1.question, 1)\n  };\n\n  pp.readToken_numberSign = function() { // '#'\n    var ecmaVersion = this.options.ecmaVersion;\n    var code = 35; // '#'\n    if (ecmaVersion >= 13) {\n      ++this.pos;\n      code = this.fullCharCodeAtPos();\n      if (isIdentifierStart(code, true) || code === 92 /* '\\' */) {\n        return this.finishToken(types$1.privateId, this.readWord1())\n      }\n    }\n\n    this.raise(this.pos, \"Unexpected character '\" + codePointToString(code) + \"'\");\n  };\n\n  pp.getTokenFromCode = function(code) {\n    switch (code) {\n    // The interpretation of a dot depends on whether it is followed\n    // by a digit or another two dots.\n    case 46: // '.'\n      return this.readToken_dot()\n\n    // Punctuation tokens.\n    case 40: ++this.pos; return this.finishToken(types$1.parenL)\n    case 41: ++this.pos; return this.finishToken(types$1.parenR)\n    case 59: ++this.pos; return this.finishToken(types$1.semi)\n    case 44: ++this.pos; return this.finishToken(types$1.comma)\n    case 91: ++this.pos; return this.finishToken(types$1.bracketL)\n    case 93: ++this.pos; return this.finishToken(types$1.bracketR)\n    case 123: ++this.pos; return this.finishToken(types$1.braceL)\n    case 125: ++this.pos; return this.finishToken(types$1.braceR)\n    case 58: ++this.pos; return this.finishToken(types$1.colon)\n\n    case 96: // '`'\n      if (this.options.ecmaVersion < 6) { break }\n      ++this.pos;\n      return this.finishToken(types$1.backQuote)\n\n    case 48: // '0'\n      var next = this.input.charCodeAt(this.pos + 1);\n      if (next === 120 || next === 88) { return this.readRadixNumber(16) } // '0x', '0X' - hex number\n      if (this.options.ecmaVersion >= 6) {\n        if (next === 111 || next === 79) { return this.readRadixNumber(8) } // '0o', '0O' - octal number\n        if (next === 98 || next === 66) { return this.readRadixNumber(2) } // '0b', '0B' - binary number\n      }\n\n    // Anything else beginning with a digit is an integer, octal\n    // number, or float.\n    case 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57: // 1-9\n      return this.readNumber(false)\n\n    // Quotes produce strings.\n    case 34: case 39: // '\"', \"'\"\n      return this.readString(code)\n\n    // Operators are parsed inline in tiny state machines. '=' (61) is\n    // often referred to. `finishOp` simply skips the amount of\n    // characters it is given as second argument, and returns a token\n    // of the type given by its first argument.\n    case 47: // '/'\n      return this.readToken_slash()\n\n    case 37: case 42: // '%*'\n      return this.readToken_mult_modulo_exp(code)\n\n    case 124: case 38: // '|&'\n      return this.readToken_pipe_amp(code)\n\n    case 94: // '^'\n      return this.readToken_caret()\n\n    case 43: case 45: // '+-'\n      return this.readToken_plus_min(code)\n\n    case 60: case 62: // '<>'\n      return this.readToken_lt_gt(code)\n\n    case 61: case 33: // '=!'\n      return this.readToken_eq_excl(code)\n\n    case 63: // '?'\n      return this.readToken_question()\n\n    case 126: // '~'\n      return this.finishOp(types$1.prefix, 1)\n\n    case 35: // '#'\n      return this.readToken_numberSign()\n    }\n\n    this.raise(this.pos, \"Unexpected character '\" + codePointToString(code) + \"'\");\n  };\n\n  pp.finishOp = function(type, size) {\n    var str = this.input.slice(this.pos, this.pos + size);\n    this.pos += size;\n    return this.finishToken(type, str)\n  };\n\n  pp.readRegexp = function() {\n    var escaped, inClass, start = this.pos;\n    for (;;) {\n      if (this.pos >= this.input.length) { this.raise(start, \"Unterminated regular expression\"); }\n      var ch = this.input.charAt(this.pos);\n      if (lineBreak.test(ch)) { this.raise(start, \"Unterminated regular expression\"); }\n      if (!escaped) {\n        if (ch === \"[\") { inClass = true; }\n        else if (ch === \"]\" && inClass) { inClass = false; }\n        else if (ch === \"/\" && !inClass) { break }\n        escaped = ch === \"\\\\\";\n      } else { escaped = false; }\n      ++this.pos;\n    }\n    var pattern = this.input.slice(start, this.pos);\n    ++this.pos;\n    var flagsStart = this.pos;\n    var flags = this.readWord1();\n    if (this.containsEsc) { this.unexpected(flagsStart); }\n\n    // Validate pattern\n    var state = this.regexpState || (this.regexpState = new RegExpValidationState(this));\n    state.reset(start, pattern, flags);\n    this.validateRegExpFlags(state);\n    this.validateRegExpPattern(state);\n\n    // Create Literal#value property value.\n    var value = null;\n    try {\n      value = new RegExp(pattern, flags);\n    } catch (e) {\n      // ESTree requires null if it failed to instantiate RegExp object.\n      // https://github.com/estree/estree/blob/a27003adf4fd7bfad44de9cef372a2eacd527b1c/es5.md#regexpliteral\n    }\n\n    return this.finishToken(types$1.regexp, {pattern: pattern, flags: flags, value: value})\n  };\n\n  // Read an integer in the given radix. Return null if zero digits\n  // were read, the integer value otherwise. When `len` is given, this\n  // will return `null` unless the integer has exactly `len` digits.\n\n  pp.readInt = function(radix, len, maybeLegacyOctalNumericLiteral) {\n    // `len` is used for character escape sequences. In that case, disallow separators.\n    var allowSeparators = this.options.ecmaVersion >= 12 && len === undefined;\n\n    // `maybeLegacyOctalNumericLiteral` is true if it doesn't have prefix (0x,0o,0b)\n    // and isn't fraction part nor exponent part. In that case, if the first digit\n    // is zero then disallow separators.\n    var isLegacyOctalNumericLiteral = maybeLegacyOctalNumericLiteral && this.input.charCodeAt(this.pos) === 48;\n\n    var start = this.pos, total = 0, lastCode = 0;\n    for (var i = 0, e = len == null ? Infinity : len; i < e; ++i, ++this.pos) {\n      var code = this.input.charCodeAt(this.pos), val = (void 0);\n\n      if (allowSeparators && code === 95) {\n        if (isLegacyOctalNumericLiteral) { this.raiseRecoverable(this.pos, \"Numeric separator is not allowed in legacy octal numeric literals\"); }\n        if (lastCode === 95) { this.raiseRecoverable(this.pos, \"Numeric separator must be exactly one underscore\"); }\n        if (i === 0) { this.raiseRecoverable(this.pos, \"Numeric separator is not allowed at the first of digits\"); }\n        lastCode = code;\n        continue\n      }\n\n      if (code >= 97) { val = code - 97 + 10; } // a\n      else if (code >= 65) { val = code - 65 + 10; } // A\n      else if (code >= 48 && code <= 57) { val = code - 48; } // 0-9\n      else { val = Infinity; }\n      if (val >= radix) { break }\n      lastCode = code;\n      total = total * radix + val;\n    }\n\n    if (allowSeparators && lastCode === 95) { this.raiseRecoverable(this.pos - 1, \"Numeric separator is not allowed at the last of digits\"); }\n    if (this.pos === start || len != null && this.pos - start !== len) { return null }\n\n    return total\n  };\n\n  function stringToNumber(str, isLegacyOctalNumericLiteral) {\n    if (isLegacyOctalNumericLiteral) {\n      return parseInt(str, 8)\n    }\n\n    // `parseFloat(value)` stops parsing at the first numeric separator then returns a wrong value.\n    return parseFloat(str.replace(/_/g, \"\"))\n  }\n\n  function stringToBigInt(str) {\n    if (typeof BigInt !== \"function\") {\n      return null\n    }\n\n    // `BigInt(value)` throws syntax error if the string contains numeric separators.\n    return BigInt(str.replace(/_/g, \"\"))\n  }\n\n  pp.readRadixNumber = function(radix) {\n    var start = this.pos;\n    this.pos += 2; // 0x\n    var val = this.readInt(radix);\n    if (val == null) { this.raise(this.start + 2, \"Expected number in radix \" + radix); }\n    if (this.options.ecmaVersion >= 11 && this.input.charCodeAt(this.pos) === 110) {\n      val = stringToBigInt(this.input.slice(start, this.pos));\n      ++this.pos;\n    } else if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n    return this.finishToken(types$1.num, val)\n  };\n\n  // Read an integer, octal integer, or floating-point number.\n\n  pp.readNumber = function(startsWithDot) {\n    var start = this.pos;\n    if (!startsWithDot && this.readInt(10, undefined, true) === null) { this.raise(start, \"Invalid number\"); }\n    var octal = this.pos - start >= 2 && this.input.charCodeAt(start) === 48;\n    if (octal && this.strict) { this.raise(start, \"Invalid number\"); }\n    var next = this.input.charCodeAt(this.pos);\n    if (!octal && !startsWithDot && this.options.ecmaVersion >= 11 && next === 110) {\n      var val$1 = stringToBigInt(this.input.slice(start, this.pos));\n      ++this.pos;\n      if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n      return this.finishToken(types$1.num, val$1)\n    }\n    if (octal && /[89]/.test(this.input.slice(start, this.pos))) { octal = false; }\n    if (next === 46 && !octal) { // '.'\n      ++this.pos;\n      this.readInt(10);\n      next = this.input.charCodeAt(this.pos);\n    }\n    if ((next === 69 || next === 101) && !octal) { // 'eE'\n      next = this.input.charCodeAt(++this.pos);\n      if (next === 43 || next === 45) { ++this.pos; } // '+-'\n      if (this.readInt(10) === null) { this.raise(start, \"Invalid number\"); }\n    }\n    if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n\n    var val = stringToNumber(this.input.slice(start, this.pos), octal);\n    return this.finishToken(types$1.num, val)\n  };\n\n  // Read a string value, interpreting backslash-escapes.\n\n  pp.readCodePoint = function() {\n    var ch = this.input.charCodeAt(this.pos), code;\n\n    if (ch === 123) { // '{'\n      if (this.options.ecmaVersion < 6) { this.unexpected(); }\n      var codePos = ++this.pos;\n      code = this.readHexChar(this.input.indexOf(\"}\", this.pos) - this.pos);\n      ++this.pos;\n      if (code > 0x10FFFF) { this.invalidStringToken(codePos, \"Code point out of bounds\"); }\n    } else {\n      code = this.readHexChar(4);\n    }\n    return code\n  };\n\n  function codePointToString(code) {\n    // UTF-16 Decoding\n    if (code <= 0xFFFF) { return String.fromCharCode(code) }\n    code -= 0x10000;\n    return String.fromCharCode((code >> 10) + 0xD800, (code & 1023) + 0xDC00)\n  }\n\n  pp.readString = function(quote) {\n    var out = \"\", chunkStart = ++this.pos;\n    for (;;) {\n      if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated string constant\"); }\n      var ch = this.input.charCodeAt(this.pos);\n      if (ch === quote) { break }\n      if (ch === 92) { // '\\'\n        out += this.input.slice(chunkStart, this.pos);\n        out += this.readEscapedChar(false);\n        chunkStart = this.pos;\n      } else if (ch === 0x2028 || ch === 0x2029) {\n        if (this.options.ecmaVersion < 10) { this.raise(this.start, \"Unterminated string constant\"); }\n        ++this.pos;\n        if (this.options.locations) {\n          this.curLine++;\n          this.lineStart = this.pos;\n        }\n      } else {\n        if (isNewLine(ch)) { this.raise(this.start, \"Unterminated string constant\"); }\n        ++this.pos;\n      }\n    }\n    out += this.input.slice(chunkStart, this.pos++);\n    return this.finishToken(types$1.string, out)\n  };\n\n  // Reads template string tokens.\n\n  var INVALID_TEMPLATE_ESCAPE_ERROR = {};\n\n  pp.tryReadTemplateToken = function() {\n    this.inTemplateElement = true;\n    try {\n      this.readTmplToken();\n    } catch (err) {\n      if (err === INVALID_TEMPLATE_ESCAPE_ERROR) {\n        this.readInvalidTemplateToken();\n      } else {\n        throw err\n      }\n    }\n\n    this.inTemplateElement = false;\n  };\n\n  pp.invalidStringToken = function(position, message) {\n    if (this.inTemplateElement && this.options.ecmaVersion >= 9) {\n      throw INVALID_TEMPLATE_ESCAPE_ERROR\n    } else {\n      this.raise(position, message);\n    }\n  };\n\n  pp.readTmplToken = function() {\n    var out = \"\", chunkStart = this.pos;\n    for (;;) {\n      if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated template\"); }\n      var ch = this.input.charCodeAt(this.pos);\n      if (ch === 96 || ch === 36 && this.input.charCodeAt(this.pos + 1) === 123) { // '`', '${'\n        if (this.pos === this.start && (this.type === types$1.template || this.type === types$1.invalidTemplate)) {\n          if (ch === 36) {\n            this.pos += 2;\n            return this.finishToken(types$1.dollarBraceL)\n          } else {\n            ++this.pos;\n            return this.finishToken(types$1.backQuote)\n          }\n        }\n        out += this.input.slice(chunkStart, this.pos);\n        return this.finishToken(types$1.template, out)\n      }\n      if (ch === 92) { // '\\'\n        out += this.input.slice(chunkStart, this.pos);\n        out += this.readEscapedChar(true);\n        chunkStart = this.pos;\n      } else if (isNewLine(ch)) {\n        out += this.input.slice(chunkStart, this.pos);\n        ++this.pos;\n        switch (ch) {\n        case 13:\n          if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; }\n        case 10:\n          out += \"\\n\";\n          break\n        default:\n          out += String.fromCharCode(ch);\n          break\n        }\n        if (this.options.locations) {\n          ++this.curLine;\n          this.lineStart = this.pos;\n        }\n        chunkStart = this.pos;\n      } else {\n        ++this.pos;\n      }\n    }\n  };\n\n  // Reads a template token to search for the end, without validating any escape sequences\n  pp.readInvalidTemplateToken = function() {\n    for (; this.pos < this.input.length; this.pos++) {\n      switch (this.input[this.pos]) {\n      case \"\\\\\":\n        ++this.pos;\n        break\n\n      case \"$\":\n        if (this.input[this.pos + 1] !== \"{\") {\n          break\n        }\n\n      // falls through\n      case \"`\":\n        return this.finishToken(types$1.invalidTemplate, this.input.slice(this.start, this.pos))\n\n      // no default\n      }\n    }\n    this.raise(this.start, \"Unterminated template\");\n  };\n\n  // Used to read escaped characters\n\n  pp.readEscapedChar = function(inTemplate) {\n    var ch = this.input.charCodeAt(++this.pos);\n    ++this.pos;\n    switch (ch) {\n    case 110: return \"\\n\" // 'n' -> '\\n'\n    case 114: return \"\\r\" // 'r' -> '\\r'\n    case 120: return String.fromCharCode(this.readHexChar(2)) // 'x'\n    case 117: return codePointToString(this.readCodePoint()) // 'u'\n    case 116: return \"\\t\" // 't' -> '\\t'\n    case 98: return \"\\b\" // 'b' -> '\\b'\n    case 118: return \"\\u000b\" // 'v' -> '\\u000b'\n    case 102: return \"\\f\" // 'f' -> '\\f'\n    case 13: if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; } // '\\r\\n'\n    case 10: // ' \\n'\n      if (this.options.locations) { this.lineStart = this.pos; ++this.curLine; }\n      return \"\"\n    case 56:\n    case 57:\n      if (this.strict) {\n        this.invalidStringToken(\n          this.pos - 1,\n          \"Invalid escape sequence\"\n        );\n      }\n      if (inTemplate) {\n        var codePos = this.pos - 1;\n\n        this.invalidStringToken(\n          codePos,\n          \"Invalid escape sequence in template string\"\n        );\n\n        return null\n      }\n    default:\n      if (ch >= 48 && ch <= 55) {\n        var octalStr = this.input.substr(this.pos - 1, 3).match(/^[0-7]+/)[0];\n        var octal = parseInt(octalStr, 8);\n        if (octal > 255) {\n          octalStr = octalStr.slice(0, -1);\n          octal = parseInt(octalStr, 8);\n        }\n        this.pos += octalStr.length - 1;\n        ch = this.input.charCodeAt(this.pos);\n        if ((octalStr !== \"0\" || ch === 56 || ch === 57) && (this.strict || inTemplate)) {\n          this.invalidStringToken(\n            this.pos - 1 - octalStr.length,\n            inTemplate\n              ? \"Octal literal in template string\"\n              : \"Octal literal in strict mode\"\n          );\n        }\n        return String.fromCharCode(octal)\n      }\n      if (isNewLine(ch)) {\n        // Unicode new line characters after \\ get removed from output in both\n        // template literals and strings\n        return \"\"\n      }\n      return String.fromCharCode(ch)\n    }\n  };\n\n  // Used to read character escape sequences ('\\x', '\\u', '\\U').\n\n  pp.readHexChar = function(len) {\n    var codePos = this.pos;\n    var n = this.readInt(16, len);\n    if (n === null) { this.invalidStringToken(codePos, \"Bad character escape sequence\"); }\n    return n\n  };\n\n  // Read an identifier, and return it as a string. Sets `this.containsEsc`\n  // to whether the word contained a '\\u' escape.\n  //\n  // Incrementally adds only escaped chars, adding other chunks as-is\n  // as a micro-optimization.\n\n  pp.readWord1 = function() {\n    this.containsEsc = false;\n    var word = \"\", first = true, chunkStart = this.pos;\n    var astral = this.options.ecmaVersion >= 6;\n    while (this.pos < this.input.length) {\n      var ch = this.fullCharCodeAtPos();\n      if (isIdentifierChar(ch, astral)) {\n        this.pos += ch <= 0xffff ? 1 : 2;\n      } else if (ch === 92) { // \"\\\"\n        this.containsEsc = true;\n        word += this.input.slice(chunkStart, this.pos);\n        var escStart = this.pos;\n        if (this.input.charCodeAt(++this.pos) !== 117) // \"u\"\n          { this.invalidStringToken(this.pos, \"Expecting Unicode escape sequence \\\\uXXXX\"); }\n        ++this.pos;\n        var esc = this.readCodePoint();\n        if (!(first ? isIdentifierStart : isIdentifierChar)(esc, astral))\n          { this.invalidStringToken(escStart, \"Invalid Unicode escape\"); }\n        word += codePointToString(esc);\n        chunkStart = this.pos;\n      } else {\n        break\n      }\n      first = false;\n    }\n    return word + this.input.slice(chunkStart, this.pos)\n  };\n\n  // Read an identifier or keyword token. Will check for reserved\n  // words when necessary.\n\n  pp.readWord = function() {\n    var word = this.readWord1();\n    var type = types$1.name;\n    if (this.keywords.test(word)) {\n      type = keywords[word];\n    }\n    return this.finishToken(type, word)\n  };\n\n  // Acorn is a tiny, fast JavaScript parser written in JavaScript.\n\n  var version = \"8.7.0\";\n\n  Parser.acorn = {\n    Parser: Parser,\n    version: version,\n    defaultOptions: defaultOptions,\n    Position: Position,\n    SourceLocation: SourceLocation,\n    getLineInfo: getLineInfo,\n    Node: Node,\n    TokenType: TokenType,\n    tokTypes: types$1,\n    keywordTypes: keywords,\n    TokContext: TokContext,\n    tokContexts: types,\n    isIdentifierChar: isIdentifierChar,\n    isIdentifierStart: isIdentifierStart,\n    Token: Token,\n    isNewLine: isNewLine,\n    lineBreak: lineBreak,\n    lineBreakG: lineBreakG,\n    nonASCIIwhitespace: nonASCIIwhitespace\n  };\n\n  // The main exported interface (under `self.acorn` when in the\n  // browser) is a `parse` function that takes a code string and\n  // returns an abstract syntax tree as specified by [Mozilla parser\n  // API][api].\n  //\n  // [api]: https://developer.mozilla.org/en-US/docs/SpiderMonkey/Parser_API\n\n  function parse(input, options) {\n    return Parser.parse(input, options)\n  }\n\n  // This function tries to parse a single expression at a given\n  // offset in a string. Useful for parsing mixed-language formats\n  // that embed JavaScript expressions.\n\n  function parseExpressionAt(input, pos, options) {\n    return Parser.parseExpressionAt(input, pos, options)\n  }\n\n  // Acorn is organized as a tokenizer and a recursive-descent parser.\n  // The `tokenizer` export provides an interface to the tokenizer.\n\n  function tokenizer(input, options) {\n    return Parser.tokenizer(input, options)\n  }\n\n  exports.Node = Node;\n  exports.Parser = Parser;\n  exports.Position = Position;\n  exports.SourceLocation = SourceLocation;\n  exports.TokContext = TokContext;\n  exports.Token = Token;\n  exports.TokenType = TokenType;\n  exports.defaultOptions = defaultOptions;\n  exports.getLineInfo = getLineInfo;\n  exports.isIdentifierChar = isIdentifierChar;\n  exports.isIdentifierStart = isIdentifierStart;\n  exports.isNewLine = isNewLine;\n  exports.keywordTypes = keywords;\n  exports.lineBreak = lineBreak;\n  exports.lineBreakG = lineBreakG;\n  exports.nonASCIIwhitespace = nonASCIIwhitespace;\n  exports.parse = parse;\n  exports.parseExpressionAt = parseExpressionAt;\n  exports.tokContexts = types;\n  exports.tokTypes = types$1;\n  exports.tokenizer = tokenizer;\n  exports.version = version;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.elementToPath = factory());\n}(this, (function () { 'use strict';\n\n  const chunkArray = (arr, size = 2) => {\n    let results = [];\n    while (arr.length) {\n      results.push(arr.splice(0, size));\n    }\n    return results\n  };\n\n  const calcValue = (val, base) => {\n    return /%$/.test(val) ? (val.replace('%', '') * 100) / base : +val\n  };\n\n  const rect = attrs => {\n    const w = +attrs.width;\n    const h = +attrs.height;\n    const x = attrs.x ? +attrs.x : 0;\n    const y = attrs.y ? +attrs.y : 0;\n    let rx = attrs.rx || 'auto';\n    let ry = attrs.ry || 'auto';\n    if (rx === 'auto' && ry === 'auto') {\n      rx = ry = 0;\n    } else if (rx !== 'auto' && ry === 'auto') {\n      rx = ry = calcValue(rx, w);\n    } else if (ry !== 'auto' && rx === 'auto') {\n      ry = rx = calcValue(ry, h);\n    } else {\n      rx = calcValue(rx, w);\n      ry = calcValue(ry, h);\n    }\n    if (rx > w / 2) {\n      rx = w / 2;\n    }\n    if (ry > h / 2) {\n      ry = h / 2;\n    }\n    const hasCurves = rx > 0 && ry > 0;\n    return [\n      `M${x + rx} ${y}`,\n      `H${x + w - rx}`,\n      ...(hasCurves ? [`A${rx} ${ry} 0 0 1 ${x + w} ${y + ry}`] : []),\n      `V${y + h - ry}`,\n      ...(hasCurves ? [`A${rx} ${ry} 0 0 1 ${x + w - rx} ${y + h}`] : []),\n      `H${x + rx}`,\n      ...(hasCurves ? [`A${rx} ${ry} 0 0 1 ${x} ${y + h - ry}`] : []),\n      `V${y + ry}`,\n      ...(hasCurves ? [`A${rx} ${ry} 0 0 1 ${x + rx} ${y}`] : []),\n      'z',\n    ]\n  };\n\n  const ellipse = attrs => {\n    const cx = +attrs.cx;\n    const cy = +attrs.cy;\n    const rx = attrs.rx ? +attrs.rx : +attrs.r;\n    const ry = attrs.ry ? +attrs.ry : +attrs.r;\n    return [\n      `M${cx + rx} ${cy}`,\n      `A${rx} ${ry} 0 0 1 ${cx} ${cy + ry}`,\n      `A${rx} ${ry} 0 0 1 ${cx - rx} ${cy}`,\n      `A${rx} ${ry} 0 0 1 ${cx + rx} ${cy}`,\n      'z',\n    ]\n  };\n\n  const line = ({ x1, y1, x2, y2 }) => {\n    return [`M${+x1} ${+y1}`, `L${+x2} ${+y2}`]\n  };\n\n  const poly = attrs => {\n    const { points } = attrs;\n    const pointsArray = points\n    .trim()\n    .split(' ')\n      .reduce((arr, point) => {\n      return [...arr,  ...(point.includes(',') ? point.split(',') : point.trim() !== '' ? [point] : [])]\n    }, []);\n    \n    const pairs = chunkArray(pointsArray, 2);\n    return pairs.map(([x, y], i) => {\n      return `${i === 0 ? 'M' : 'L'}${x} ${y}`\n    })\n  };\n\n  const toPathString = d => {\n    return Array.isArray(d) ? d.join(' ') : ''\n  };\n\n  const elementToPath = (\n    node,\n    { nodeName = 'name', nodeAttrs = 'attributes' } = {}\n  ) => {\n    const name = node[nodeName];\n    const attributes = node[nodeAttrs];\n    let d;\n    if (name === 'rect') {\n      d = rect(attributes);\n    }\n\n    if (name === 'circle' || name === 'ellipse') {\n      d = ellipse(attributes);\n    }\n\n    if (name === 'line') {\n      d = line(attributes);\n    }\n\n    if (name === 'polyline') {\n      d = poly(attributes);\n    }\n\n    if (name === 'polygon') {\n      d = [...poly(attributes), 'Z'];\n    }\n\n    if (name === 'path') {\n      return attributes.d\n    }\n\n    return toPathString(d)\n  };\n\n  return elementToPath;\n\n})));\n","/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    console.warn('Deprecated: Expected third argument to be a object')\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    console.error('could not download file')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nvar isMacOSWebView = _global.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)\n\nvar saveAs = _global.saveAs || (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView\n  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\n_global.saveAs = saveAs.saveAs = saveAs\n\nif (typeof module !== 'undefined') {\n  module.exports = saveAs;\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/*!\n * Paper.js v0.12.15 - The Swiss Army Knife of Vector Graphics Scripting.\n * http://paperjs.org/\n *\n * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey\n * http://juerglehni.com/ & https://puckey.studio/\n *\n * Distributed under the MIT license. See LICENSE file for details.\n *\n * All rights reserved.\n *\n * Date: Wed Mar 17 10:49:48 2021 +0100\n *\n ***\n *\n * Straps.js - Class inheritance library with support for bean-style accessors\n *\n * Copyright (c) 2006 - 2020 Jürg Lehni\n * http://juerglehni.com/\n *\n * Distributed under the MIT license.\n *\n ***\n *\n * Acorn.js\n * https://marijnhaverbeke.nl/acorn/\n *\n * Acorn is a tiny, fast JavaScript parser written in JavaScript,\n * created by Marijn Haverbeke and released under an MIT license.\n *\n */\n\nvar paper = function(self, undefined) {\n\nself = self || require('./node/self.js');\nvar window = self.window,\n\tdocument = self.document;\n\nvar Base = new function() {\n\tvar hidden = /^(statics|enumerable|beans|preserve)$/,\n\t\tarray = [],\n\t\tslice = array.slice,\n\t\tcreate = Object.create,\n\t\tdescribe = Object.getOwnPropertyDescriptor,\n\t\tdefine = Object.defineProperty,\n\n\t\tforEach = array.forEach || function(iter, bind) {\n\t\t\tfor (var i = 0, l = this.length; i < l; i++) {\n\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t}\n\t\t},\n\n\t\tforIn = function(iter, bind) {\n\t\t\tfor (var i in this) {\n\t\t\t\tif (this.hasOwnProperty(i))\n\t\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t}\n\t\t},\n\n\t\tset = Object.assign || function(dst) {\n\t\t\tfor (var i = 1, l = arguments.length; i < l; i++) {\n\t\t\t\tvar src = arguments[i];\n\t\t\t\tfor (var key in src) {\n\t\t\t\t\tif (src.hasOwnProperty(key))\n\t\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dst;\n\t\t},\n\n\t\teach = function(obj, iter, bind) {\n\t\t\tif (obj) {\n\t\t\t\tvar desc = describe(obj, 'length');\n\t\t\t\t(desc && typeof desc.value === 'number' ? forEach : forIn)\n\t\t\t\t\t.call(obj, iter, bind = bind || obj);\n\t\t\t}\n\t\t\treturn bind;\n\t\t};\n\n\tfunction inject(dest, src, enumerable, beans, preserve) {\n\t\tvar beansNames = {};\n\n\t\tfunction field(name, val) {\n\t\t\tval = val || (val = describe(src, name))\n\t\t\t\t\t&& (val.get ? val : val.value);\n\t\t\tif (typeof val === 'string' && val[0] === '#')\n\t\t\t\tval = dest[val.substring(1)] || val;\n\t\t\tvar isFunc = typeof val === 'function',\n\t\t\t\tres = val,\n\t\t\t\tprev = preserve || isFunc && !val.base\n\t\t\t\t\t\t? (val && val.get ? name in dest : dest[name])\n\t\t\t\t\t\t: null,\n\t\t\t\tbean;\n\t\t\tif (!preserve || !prev) {\n\t\t\t\tif (isFunc && prev)\n\t\t\t\t\tval.base = prev;\n\t\t\t\tif (isFunc && beans !== false\n\t\t\t\t\t\t&& (bean = name.match(/^([gs]et|is)(([A-Z])(.*))$/)))\n\t\t\t\t\tbeansNames[bean[3].toLowerCase() + bean[4]] = bean[2];\n\t\t\t\tif (!res || isFunc || !res.get || typeof res.get !== 'function'\n\t\t\t\t\t\t|| !Base.isPlainObject(res)) {\n\t\t\t\t\tres = { value: res, writable: true };\n\t\t\t\t}\n\t\t\t\tif ((describe(dest, name)\n\t\t\t\t\t\t|| { configurable: true }).configurable) {\n\t\t\t\t\tres.configurable = true;\n\t\t\t\t\tres.enumerable = enumerable != null ? enumerable : !bean;\n\t\t\t\t}\n\t\t\t\tdefine(dest, name, res);\n\t\t\t}\n\t\t}\n\t\tif (src) {\n\t\t\tfor (var name in src) {\n\t\t\t\tif (src.hasOwnProperty(name) && !hidden.test(name))\n\t\t\t\t\tfield(name);\n\t\t\t}\n\t\t\tfor (var name in beansNames) {\n\t\t\t\tvar part = beansNames[name],\n\t\t\t\t\tset = dest['set' + part],\n\t\t\t\t\tget = dest['get' + part] || set && dest['is' + part];\n\t\t\t\tif (get && (beans === true || get.length === 0))\n\t\t\t\t\tfield(name, { get: get, set: set });\n\t\t\t}\n\t\t}\n\t\treturn dest;\n\t}\n\n\tfunction Base() {\n\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\tvar src = arguments[i];\n\t\t\tif (src)\n\t\t\t\tset(this, src);\n\t\t}\n\t\treturn this;\n\t}\n\n\treturn inject(Base, {\n\t\tinject: function(src) {\n\t\t\tif (src) {\n\t\t\t\tvar statics = src.statics === true ? src : src.statics,\n\t\t\t\t\tbeans = src.beans,\n\t\t\t\t\tpreserve = src.preserve;\n\t\t\t\tif (statics !== src)\n\t\t\t\t\tinject(this.prototype, src, src.enumerable, beans, preserve);\n\t\t\t\tinject(this, statics, null, beans, preserve);\n\t\t\t}\n\t\t\tfor (var i = 1, l = arguments.length; i < l; i++)\n\t\t\t\tthis.inject(arguments[i]);\n\t\t\treturn this;\n\t\t},\n\n\t\textend: function() {\n\t\t\tvar base = this,\n\t\t\t\tctor,\n\t\t\t\tproto;\n\t\t\tfor (var i = 0, obj, l = arguments.length;\n\t\t\t\t\ti < l && !(ctor && proto); i++) {\n\t\t\t\tobj = arguments[i];\n\t\t\t\tctor = ctor || obj.initialize;\n\t\t\t\tproto = proto || obj.prototype;\n\t\t\t}\n\t\t\tctor = ctor || function() {\n\t\t\t\tbase.apply(this, arguments);\n\t\t\t};\n\t\t\tproto = ctor.prototype = proto || create(this.prototype);\n\t\t\tdefine(proto, 'constructor',\n\t\t\t\t\t{ value: ctor, writable: true, configurable: true });\n\t\t\tinject(ctor, this);\n\t\t\tif (arguments.length)\n\t\t\t\tthis.inject.apply(ctor, arguments);\n\t\t\tctor.base = base;\n\t\t\treturn ctor;\n\t\t}\n\t}).inject({\n\t\tenumerable: false,\n\n\t\tinitialize: Base,\n\n\t\tset: Base,\n\n\t\tinject: function() {\n\t\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\t\tvar src = arguments[i];\n\t\t\t\tif (src) {\n\t\t\t\t\tinject(this, src, src.enumerable, src.beans, src.preserve);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\textend: function() {\n\t\t\tvar res = create(this);\n\t\t\treturn res.inject.apply(res, arguments);\n\t\t},\n\n\t\teach: function(iter, bind) {\n\t\t\treturn each(this, iter, bind);\n\t\t},\n\n\t\tclone: function() {\n\t\t\treturn new this.constructor(this);\n\t\t},\n\n\t\tstatics: {\n\t\t\tset: set,\n\t\t\teach: each,\n\t\t\tcreate: create,\n\t\t\tdefine: define,\n\t\t\tdescribe: describe,\n\n\t\t\tclone: function(obj) {\n\t\t\t\treturn set(new obj.constructor(), obj);\n\t\t\t},\n\n\t\t\tisPlainObject: function(obj) {\n\t\t\t\tvar ctor = obj != null && obj.constructor;\n\t\t\t\treturn ctor && (ctor === Object || ctor === Base\n\t\t\t\t\t\t|| ctor.name === 'Object');\n\t\t\t},\n\n\t\t\tpick: function(a, b) {\n\t\t\t\treturn a !== undefined ? a : b;\n\t\t\t},\n\n\t\t\tslice: function(list, begin, end) {\n\t\t\t\treturn slice.call(list, begin, end);\n\t\t\t}\n\t\t}\n\t});\n};\n\nif (typeof module !== 'undefined')\n\tmodule.exports = Base;\n\nBase.inject({\n\tenumerable: false,\n\n\ttoString: function() {\n\t\treturn this._id != null\n\t\t\t?  (this._class || 'Object') + (this._name\n\t\t\t\t? \" '\" + this._name + \"'\"\n\t\t\t\t: ' @' + this._id)\n\t\t\t: '{ ' + Base.each(this, function(value, key) {\n\t\t\t\tif (!/^_/.test(key)) {\n\t\t\t\t\tvar type = typeof value;\n\t\t\t\t\tthis.push(key + ': ' + (type === 'number'\n\t\t\t\t\t\t\t? Formatter.instance.number(value)\n\t\t\t\t\t\t\t: type === 'string' ? \"'\" + value + \"'\" : value));\n\t\t\t\t}\n\t\t\t}, []).join(', ') + ' }';\n\t},\n\n\tgetClassName: function() {\n\t\treturn this._class || '';\n\t},\n\n\timportJSON: function(json) {\n\t\treturn Base.importJSON(json, this);\n\t},\n\n\texportJSON: function(options) {\n\t\treturn Base.exportJSON(this, options);\n\t},\n\n\ttoJSON: function() {\n\t\treturn Base.serialize(this);\n\t},\n\n\tset: function(props, exclude) {\n\t\tif (props)\n\t\t\tBase.filter(this, props, exclude, this._prioritize);\n\t\treturn this;\n\t}\n}, {\n\nbeans: false,\nstatics: {\n\texports: {},\n\n\textend: function extend() {\n\t\tvar res = extend.base.apply(this, arguments),\n\t\t\tname = res.prototype._class;\n\t\tif (name && !Base.exports[name])\n\t\t\tBase.exports[name] = res;\n\t\treturn res;\n\t},\n\n\tequals: function(obj1, obj2) {\n\t\tif (obj1 === obj2)\n\t\t\treturn true;\n\t\tif (obj1 && obj1.equals)\n\t\t\treturn obj1.equals(obj2);\n\t\tif (obj2 && obj2.equals)\n\t\t\treturn obj2.equals(obj1);\n\t\tif (obj1 && obj2\n\t\t\t\t&& typeof obj1 === 'object' && typeof obj2 === 'object') {\n\t\t\tif (Array.isArray(obj1) && Array.isArray(obj2)) {\n\t\t\t\tvar length = obj1.length;\n\t\t\t\tif (length !== obj2.length)\n\t\t\t\t\treturn false;\n\t\t\t\twhile (length--) {\n\t\t\t\t\tif (!Base.equals(obj1[length], obj2[length]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar keys = Object.keys(obj1),\n\t\t\t\t\tlength = keys.length;\n\t\t\t\tif (length !== Object.keys(obj2).length)\n\t\t\t\t\treturn false;\n\t\t\t\twhile (length--) {\n\t\t\t\t\tvar key = keys[length];\n\t\t\t\t\tif (!(obj2.hasOwnProperty(key)\n\t\t\t\t\t\t\t&& Base.equals(obj1[key], obj2[key])))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tread: function(list, start, options, amount) {\n\t\tif (this === Base) {\n\t\t\tvar value = this.peek(list, start);\n\t\t\tlist.__index++;\n\t\t\treturn value;\n\t\t}\n\t\tvar proto = this.prototype,\n\t\t\treadIndex = proto._readIndex,\n\t\t\tbegin = start || readIndex && list.__index || 0,\n\t\t\tlength = list.length,\n\t\t\tobj = list[begin];\n\t\tamount = amount || length - begin;\n\t\tif (obj instanceof this\n\t\t\t|| options && options.readNull && obj == null && amount <= 1) {\n\t\t\tif (readIndex)\n\t\t\t\tlist.__index = begin + 1;\n\t\t\treturn obj && options && options.clone ? obj.clone() : obj;\n\t\t}\n\t\tobj = Base.create(proto);\n\t\tif (readIndex)\n\t\t\tobj.__read = true;\n\t\tobj = obj.initialize.apply(obj, begin > 0 || begin + amount < length\n\t\t\t\t? Base.slice(list, begin, begin + amount)\n\t\t\t\t: list) || obj;\n\t\tif (readIndex) {\n\t\t\tlist.__index = begin + obj.__read;\n\t\t\tvar filtered = obj.__filtered;\n\t\t\tif (filtered) {\n\t\t\t\tlist.__filtered = filtered;\n\t\t\t\tobj.__filtered = undefined;\n\t\t\t}\n\t\t\tobj.__read = undefined;\n\t\t}\n\t\treturn obj;\n\t},\n\n\tpeek: function(list, start) {\n\t\treturn list[list.__index = start || list.__index || 0];\n\t},\n\n\tremain: function(list) {\n\t\treturn list.length - (list.__index || 0);\n\t},\n\n\treadList: function(list, start, options, amount) {\n\t\tvar res = [],\n\t\t\tentry,\n\t\t\tbegin = start || 0,\n\t\t\tend = amount ? begin + amount : list.length;\n\t\tfor (var i = begin; i < end; i++) {\n\t\t\tres.push(Array.isArray(entry = list[i])\n\t\t\t\t\t? this.read(entry, 0, options)\n\t\t\t\t\t: this.read(list, i, options, 1));\n\t\t}\n\t\treturn res;\n\t},\n\n\treadNamed: function(list, name, start, options, amount) {\n\t\tvar value = this.getNamed(list, name),\n\t\t\thasValue = value !== undefined;\n\t\tif (hasValue) {\n\t\t\tvar filtered = list.__filtered;\n\t\t\tif (!filtered) {\n\t\t\t\tvar source = this.getSource(list);\n\t\t\t\tfiltered = list.__filtered = Base.create(source);\n\t\t\t\tfiltered.__unfiltered = source;\n\t\t\t}\n\t\t\tfiltered[name] = undefined;\n\t\t}\n\t\treturn this.read(hasValue ? [value] : list, start, options, amount);\n\t},\n\n\treadSupported: function(list, dest) {\n\t\tvar source = this.getSource(list),\n\t\t\tthat = this,\n\t\t\tread = false;\n\t\tif (source) {\n\t\t\tObject.keys(source).forEach(function(key) {\n\t\t\t\tif (key in dest) {\n\t\t\t\t\tvar value = that.readNamed(list, key);\n\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\tdest[key] = value;\n\t\t\t\t\t}\n\t\t\t\t\tread = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn read;\n\t},\n\n\tgetSource: function(list) {\n\t\tvar source = list.__source;\n\t\tif (source === undefined) {\n\t\t\tvar arg = list.length === 1 && list[0];\n\t\t\tsource = list.__source = arg && Base.isPlainObject(arg)\n\t\t\t\t? arg : null;\n\t\t}\n\t\treturn source;\n\t},\n\n\tgetNamed: function(list, name) {\n\t\tvar source = this.getSource(list);\n\t\tif (source) {\n\t\t\treturn name ? source[name] : list.__filtered || source;\n\t\t}\n\t},\n\n\thasNamed: function(list, name) {\n\t\treturn !!this.getNamed(list, name);\n\t},\n\n\tfilter: function(dest, source, exclude, prioritize) {\n\t\tvar processed;\n\n\t\tfunction handleKey(key) {\n\t\t\tif (!(exclude && key in exclude) &&\n\t\t\t\t!(processed && key in processed)) {\n\t\t\t\tvar value = source[key];\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tdest[key] = value;\n\t\t\t}\n\t\t}\n\n\t\tif (prioritize) {\n\t\t\tvar keys = {};\n\t\t\tfor (var i = 0, key, l = prioritize.length; i < l; i++) {\n\t\t\t\tif ((key = prioritize[i]) in source) {\n\t\t\t\t\thandleKey(key);\n\t\t\t\t\tkeys[key] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tprocessed = keys;\n\t\t}\n\n\t\tObject.keys(source.__unfiltered || source).forEach(handleKey);\n\t\treturn dest;\n\t},\n\n\tisPlainValue: function(obj, asString) {\n\t\treturn Base.isPlainObject(obj) || Array.isArray(obj)\n\t\t\t\t|| asString && typeof obj === 'string';\n\t},\n\n\tserialize: function(obj, options, compact, dictionary) {\n\t\toptions = options || {};\n\n\t\tvar isRoot = !dictionary,\n\t\t\tres;\n\t\tif (isRoot) {\n\t\t\toptions.formatter = new Formatter(options.precision);\n\t\t\tdictionary = {\n\t\t\t\tlength: 0,\n\t\t\t\tdefinitions: {},\n\t\t\t\treferences: {},\n\t\t\t\tadd: function(item, create) {\n\t\t\t\t\tvar id = '#' + item._id,\n\t\t\t\t\t\tref = this.references[id];\n\t\t\t\t\tif (!ref) {\n\t\t\t\t\t\tthis.length++;\n\t\t\t\t\t\tvar res = create.call(item),\n\t\t\t\t\t\t\tname = item._class;\n\t\t\t\t\t\tif (name && res[0] !== name)\n\t\t\t\t\t\t\tres.unshift(name);\n\t\t\t\t\t\tthis.definitions[id] = res;\n\t\t\t\t\t\tref = this.references[id] = [id];\n\t\t\t\t\t}\n\t\t\t\t\treturn ref;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tif (obj && obj._serialize) {\n\t\t\tres = obj._serialize(options, dictionary);\n\t\t\tvar name = obj._class;\n\t\t\tif (name && !obj._compactSerialize && (isRoot || !compact)\n\t\t\t\t\t&& res[0] !== name) {\n\t\t\t\tres.unshift(name);\n\t\t\t}\n\t\t} else if (Array.isArray(obj)) {\n\t\t\tres = [];\n\t\t\tfor (var i = 0, l = obj.length; i < l; i++)\n\t\t\t\tres[i] = Base.serialize(obj[i], options, compact, dictionary);\n\t\t} else if (Base.isPlainObject(obj)) {\n\t\t\tres = {};\n\t\t\tvar keys = Object.keys(obj);\n\t\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\t\tvar key = keys[i];\n\t\t\t\tres[key] = Base.serialize(obj[key], options, compact,\n\t\t\t\t\t\tdictionary);\n\t\t\t}\n\t\t} else if (typeof obj === 'number') {\n\t\t\tres = options.formatter.number(obj, options.precision);\n\t\t} else {\n\t\t\tres = obj;\n\t\t}\n\t\treturn isRoot && dictionary.length > 0\n\t\t\t\t? [['dictionary', dictionary.definitions], res]\n\t\t\t\t: res;\n\t},\n\n\tdeserialize: function(json, create, _data, _setDictionary, _isRoot) {\n\t\tvar res = json,\n\t\t\tisFirst = !_data,\n\t\t\thasDictionary = isFirst && json && json.length\n\t\t\t\t&& json[0][0] === 'dictionary';\n\t\t_data = _data || {};\n\t\tif (Array.isArray(json)) {\n\t\t\tvar type = json[0],\n\t\t\t\tisDictionary = type === 'dictionary';\n\t\t\tif (json.length == 1 && /^#/.test(type)) {\n\t\t\t\treturn _data.dictionary[type];\n\t\t\t}\n\t\t\ttype = Base.exports[type];\n\t\t\tres = [];\n\t\t\tfor (var i = type ? 1 : 0, l = json.length; i < l; i++) {\n\t\t\t\tres.push(Base.deserialize(json[i], create, _data,\n\t\t\t\t\t\tisDictionary, hasDictionary));\n\t\t\t}\n\t\t\tif (type) {\n\t\t\t\tvar args = res;\n\t\t\t\tif (create) {\n\t\t\t\t\tres = create(type, args, isFirst || _isRoot);\n\t\t\t\t} else {\n\t\t\t\t\tres = new type(args);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (Base.isPlainObject(json)) {\n\t\t\tres = {};\n\t\t\tif (_setDictionary)\n\t\t\t\t_data.dictionary = res;\n\t\t\tfor (var key in json)\n\t\t\t\tres[key] = Base.deserialize(json[key], create, _data);\n\t\t}\n\t\treturn hasDictionary ? res[1] : res;\n\t},\n\n\texportJSON: function(obj, options) {\n\t\tvar json = Base.serialize(obj, options);\n\t\treturn options && options.asString == false\n\t\t\t\t? json\n\t\t\t\t: JSON.stringify(json);\n\t},\n\n\timportJSON: function(json, target) {\n\t\treturn Base.deserialize(\n\t\t\t\ttypeof json === 'string' ? JSON.parse(json) : json,\n\t\t\t\tfunction(ctor, args, isRoot) {\n\t\t\t\t\tvar useTarget = isRoot && target\n\t\t\t\t\t\t\t&& target.constructor === ctor,\n\t\t\t\t\t\tobj = useTarget ? target\n\t\t\t\t\t\t\t: Base.create(ctor.prototype);\n\t\t\t\t\tif (args.length === 1 && obj instanceof Item\n\t\t\t\t\t\t\t&& (useTarget || !(obj instanceof Layer))) {\n\t\t\t\t\t\tvar arg = args[0];\n\t\t\t\t\t\tif (Base.isPlainObject(arg)) {\n\t\t\t\t\t\t\targ.insert = false;\n\t\t\t\t\t\t\tif (useTarget) {\n\t\t\t\t\t\t\t\targs = args.concat([{ insert: true }]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t(useTarget ? obj.set : ctor).apply(obj, args);\n\t\t\t\t\tif (useTarget)\n\t\t\t\t\t\ttarget = null;\n\t\t\t\t\treturn obj;\n\t\t\t\t});\n\t},\n\n\tpush: function(list, items) {\n\t\tvar itemsLength = items.length;\n\t\tif (itemsLength < 4096) {\n\t\t\tlist.push.apply(list, items);\n\t\t} else {\n\t\t\tvar startLength = list.length;\n\t\t\tlist.length += itemsLength;\n\t\t\tfor (var i = 0; i < itemsLength; i++) {\n\t\t\t\tlist[startLength + i] = items[i];\n\t\t\t}\n\t\t}\n\t\treturn list;\n\t},\n\n\tsplice: function(list, items, index, remove) {\n\t\tvar amount = items && items.length,\n\t\t\tappend = index === undefined;\n\t\tindex = append ? list.length : index;\n\t\tif (index > list.length)\n\t\t\tindex = list.length;\n\t\tfor (var i = 0; i < amount; i++)\n\t\t\titems[i]._index = index + i;\n\t\tif (append) {\n\t\t\tBase.push(list, items);\n\t\t\treturn [];\n\t\t} else {\n\t\t\tvar args = [index, remove];\n\t\t\tif (items)\n\t\t\t\tBase.push(args, items);\n\t\t\tvar removed = list.splice.apply(list, args);\n\t\t\tfor (var i = 0, l = removed.length; i < l; i++)\n\t\t\t\tremoved[i]._index = undefined;\n\t\t\tfor (var i = index + amount, l = list.length; i < l; i++)\n\t\t\t\tlist[i]._index = i;\n\t\t\treturn removed;\n\t\t}\n\t},\n\n\tcapitalize: function(str) {\n\t\treturn str.replace(/\\b[a-z]/g, function(match) {\n\t\t\treturn match.toUpperCase();\n\t\t});\n\t},\n\n\tcamelize: function(str) {\n\t\treturn str.replace(/-(.)/g, function(match, chr) {\n\t\t\treturn chr.toUpperCase();\n\t\t});\n\t},\n\n\thyphenate: function(str) {\n\t\treturn str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n\t}\n}});\n\nvar Emitter = {\n\ton: function(type, func) {\n\t\tif (typeof type !== 'string') {\n\t\t\tBase.each(type, function(value, key) {\n\t\t\t\tthis.on(key, value);\n\t\t\t}, this);\n\t\t} else {\n\t\t\tvar types = this._eventTypes,\n\t\t\t\tentry = types && types[type],\n\t\t\t\thandlers = this._callbacks = this._callbacks || {};\n\t\t\thandlers = handlers[type] = handlers[type] || [];\n\t\t\tif (handlers.indexOf(func) === -1) {\n\t\t\t\thandlers.push(func);\n\t\t\t\tif (entry && entry.install && handlers.length === 1)\n\t\t\t\t\tentry.install.call(this, type);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\toff: function(type, func) {\n\t\tif (typeof type !== 'string') {\n\t\t\tBase.each(type, function(value, key) {\n\t\t\t\tthis.off(key, value);\n\t\t\t}, this);\n\t\t\treturn;\n\t\t}\n\t\tvar types = this._eventTypes,\n\t\t\tentry = types && types[type],\n\t\t\thandlers = this._callbacks && this._callbacks[type],\n\t\t\tindex;\n\t\tif (handlers) {\n\t\t\tif (!func || (index = handlers.indexOf(func)) !== -1\n\t\t\t\t\t&& handlers.length === 1) {\n\t\t\t\tif (entry && entry.uninstall)\n\t\t\t\t\tentry.uninstall.call(this, type);\n\t\t\t\tdelete this._callbacks[type];\n\t\t\t} else if (index !== -1) {\n\t\t\t\thandlers.splice(index, 1);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\tonce: function(type, func) {\n\t\treturn this.on(type, function handler() {\n\t\t\tfunc.apply(this, arguments);\n\t\t\tthis.off(type, handler);\n\t\t});\n\t},\n\n\temit: function(type, event) {\n\t\tvar handlers = this._callbacks && this._callbacks[type];\n\t\tif (!handlers)\n\t\t\treturn false;\n\t\tvar args = Base.slice(arguments, 1),\n\t\t\tsetTarget = event && event.target && !event.currentTarget;\n\t\thandlers = handlers.slice();\n\t\tif (setTarget)\n\t\t\tevent.currentTarget = this;\n\t\tfor (var i = 0, l = handlers.length; i < l; i++) {\n\t\t\tif (handlers[i].apply(this, args) == false) {\n\t\t\t\tif (event && event.stop)\n\t\t\t\t\tevent.stop();\n\t\t\t\tbreak;\n\t\t   }\n\t\t}\n\t\tif (setTarget)\n\t\t\tdelete event.currentTarget;\n\t\treturn true;\n\t},\n\n\tresponds: function(type) {\n\t\treturn !!(this._callbacks && this._callbacks[type]);\n\t},\n\n\tattach: '#on',\n\tdetach: '#off',\n\tfire: '#emit',\n\n\t_installEvents: function(install) {\n\t\tvar types = this._eventTypes,\n\t\t\thandlers = this._callbacks,\n\t\t\tkey = install ? 'install' : 'uninstall';\n\t\tif (types) {\n\t\t\tfor (var type in handlers) {\n\t\t\t\tif (handlers[type].length > 0) {\n\t\t\t\t\tvar entry = types[type],\n\t\t\t\t\t\tfunc = entry && entry[key];\n\t\t\t\t\tif (func)\n\t\t\t\t\t\tfunc.call(this, type);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tstatics: {\n\t\tinject: function inject(src) {\n\t\t\tvar events = src._events;\n\t\t\tif (events) {\n\t\t\t\tvar types = {};\n\t\t\t\tBase.each(events, function(entry, key) {\n\t\t\t\t\tvar isString = typeof entry === 'string',\n\t\t\t\t\t\tname = isString ? entry : key,\n\t\t\t\t\t\tpart = Base.capitalize(name),\n\t\t\t\t\t\ttype = name.substring(2).toLowerCase();\n\t\t\t\t\ttypes[type] = isString ? {} : entry;\n\t\t\t\t\tname = '_' + name;\n\t\t\t\t\tsrc['get' + part] = function() {\n\t\t\t\t\t\treturn this[name];\n\t\t\t\t\t};\n\t\t\t\t\tsrc['set' + part] = function(func) {\n\t\t\t\t\t\tvar prev = this[name];\n\t\t\t\t\t\tif (prev)\n\t\t\t\t\t\t\tthis.off(type, prev);\n\t\t\t\t\t\tif (func)\n\t\t\t\t\t\t\tthis.on(type, func);\n\t\t\t\t\t\tthis[name] = func;\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tsrc._eventTypes = types;\n\t\t\t}\n\t\t\treturn inject.base.apply(this, arguments);\n\t\t}\n\t}\n};\n\nvar PaperScope = Base.extend({\n\t_class: 'PaperScope',\n\n\tinitialize: function PaperScope() {\n\t\tpaper = this;\n\t\tthis.settings = new Base({\n\t\t\tapplyMatrix: true,\n\t\t\tinsertItems: true,\n\t\t\thandleSize: 4,\n\t\t\thitTolerance: 0\n\t\t});\n\t\tthis.project = null;\n\t\tthis.projects = [];\n\t\tthis.tools = [];\n\t\tthis._id = PaperScope._id++;\n\t\tPaperScope._scopes[this._id] = this;\n\t\tvar proto = PaperScope.prototype;\n\t\tif (!this.support) {\n\t\t\tvar ctx = CanvasProvider.getContext(1, 1) || {};\n\t\t\tproto.support = {\n\t\t\t\tnativeDash: 'setLineDash' in ctx || 'mozDash' in ctx,\n\t\t\t\tnativeBlendModes: BlendMode.nativeModes\n\t\t\t};\n\t\t\tCanvasProvider.release(ctx);\n\t\t}\n\t\tif (!this.agent) {\n\t\t\tvar user = self.navigator.userAgent.toLowerCase(),\n\t\t\t\tos = (/(darwin|win|mac|linux|freebsd|sunos)/.exec(user)||[])[0],\n\t\t\t\tplatform = os === 'darwin' ? 'mac' : os,\n\t\t\t\tagent = proto.agent = proto.browser = { platform: platform };\n\t\t\tif (platform)\n\t\t\t\tagent[platform] = true;\n\t\t\tuser.replace(\n\t\t\t\t/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\\/?\\s*([.\\d]+)(?:.*version\\/([.\\d]+))?(?:.*rv\\:v?([.\\d]+))?/g,\n\t\t\t\tfunction(match, n, v1, v2, rv) {\n\t\t\t\t\tif (!agent.chrome) {\n\t\t\t\t\t\tvar v = n === 'opera' ? v2 :\n\t\t\t\t\t\t\t\t/^(node|trident)$/.test(n) ? rv : v1;\n\t\t\t\t\t\tagent.version = v;\n\t\t\t\t\t\tagent.versionNumber = parseFloat(v);\n\t\t\t\t\t\tn = { trident: 'msie', jsdom: 'node' }[n] || n;\n\t\t\t\t\t\tagent.name = n;\n\t\t\t\t\t\tagent[n] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\tif (agent.chrome)\n\t\t\t\tdelete agent.webkit;\n\t\t\tif (agent.atom)\n\t\t\t\tdelete agent.chrome;\n\t\t}\n\t},\n\n\tversion: \"0.12.15\",\n\n\tgetView: function() {\n\t\tvar project = this.project;\n\t\treturn project && project._view;\n\t},\n\n\tgetPaper: function() {\n\t\treturn this;\n\t},\n\n\texecute: function(code, options) {\n\t},\n\n\tinstall: function(scope) {\n\t\tvar that = this;\n\t\tBase.each(['project', 'view', 'tool'], function(key) {\n\t\t\tBase.define(scope, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\tget: function() {\n\t\t\t\t\treturn that[key];\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tfor (var key in this)\n\t\t\tif (!/^_/.test(key) && this[key])\n\t\t\t\tscope[key] = this[key];\n\t},\n\n\tsetup: function(element) {\n\t\tpaper = this;\n\t\tthis.project = new Project(element);\n\t\treturn this;\n\t},\n\n\tcreateCanvas: function(width, height) {\n\t\treturn CanvasProvider.getCanvas(width, height);\n\t},\n\n\tactivate: function() {\n\t\tpaper = this;\n\t},\n\n\tclear: function() {\n\t\tvar projects = this.projects,\n\t\t\ttools = this.tools;\n\t\tfor (var i = projects.length - 1; i >= 0; i--)\n\t\t\tprojects[i].remove();\n\t\tfor (var i = tools.length - 1; i >= 0; i--)\n\t\t\ttools[i].remove();\n\t},\n\n\tremove: function() {\n\t\tthis.clear();\n\t\tdelete PaperScope._scopes[this._id];\n\t},\n\n\tstatics: new function() {\n\t\tfunction handleAttribute(name) {\n\t\t\tname += 'Attribute';\n\t\t\treturn function(el, attr) {\n\t\t\t\treturn el[name](attr) || el[name]('data-paper-' + attr);\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\t_scopes: {},\n\t\t\t_id: 0,\n\n\t\t\tget: function(id) {\n\t\t\t\treturn this._scopes[id] || null;\n\t\t\t},\n\n\t\t\tgetAttribute: handleAttribute('get'),\n\t\t\thasAttribute: handleAttribute('has')\n\t\t};\n\t}\n});\n\nvar PaperScopeItem = Base.extend(Emitter, {\n\n\tinitialize: function(activate) {\n\t\tthis._scope = paper;\n\t\tthis._index = this._scope[this._list].push(this) - 1;\n\t\tif (activate || !this._scope[this._reference])\n\t\t\tthis.activate();\n\t},\n\n\tactivate: function() {\n\t\tif (!this._scope)\n\t\t\treturn false;\n\t\tvar prev = this._scope[this._reference];\n\t\tif (prev && prev !== this)\n\t\t\tprev.emit('deactivate');\n\t\tthis._scope[this._reference] = this;\n\t\tthis.emit('activate', prev);\n\t\treturn true;\n\t},\n\n\tisActive: function() {\n\t\treturn this._scope[this._reference] === this;\n\t},\n\n\tremove: function() {\n\t\tif (this._index == null)\n\t\t\treturn false;\n\t\tBase.splice(this._scope[this._list], null, this._index, 1);\n\t\tif (this._scope[this._reference] == this)\n\t\t\tthis._scope[this._reference] = null;\n\t\tthis._scope = null;\n\t\treturn true;\n\t},\n\n\tgetView: function() {\n\t\treturn this._scope.getView();\n\t}\n});\n\nvar CollisionDetection = {\n\tfindItemBoundsCollisions: function(items1, items2, tolerance) {\n\t\tfunction getBounds(items) {\n\t\t\tvar bounds = new Array(items.length);\n\t\t\tfor (var i = 0; i < items.length; i++) {\n\t\t\t\tvar rect = items[i].getBounds();\n\t\t\t\tbounds[i] = [rect.left, rect.top, rect.right, rect.bottom];\n\t\t\t}\n\t\t\treturn bounds;\n\t\t}\n\n\t\tvar bounds1 = getBounds(items1),\n\t\t\tbounds2 = !items2 || items2 === items1\n\t\t\t\t? bounds1\n\t\t\t\t: getBounds(items2);\n\t\treturn this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n\t},\n\n\tfindCurveBoundsCollisions: function(curves1, curves2, tolerance, bothAxis) {\n\t\tfunction getBounds(curves) {\n\t\t\tvar min = Math.min,\n\t\t\t\tmax = Math.max,\n\t\t\t\tbounds = new Array(curves.length);\n\t\t\tfor (var i = 0; i < curves.length; i++) {\n\t\t\t\tvar v = curves[i];\n\t\t\t\tbounds[i] = [\n\t\t\t\t\tmin(v[0], v[2], v[4], v[6]),\n\t\t\t\t\tmin(v[1], v[3], v[5], v[7]),\n\t\t\t\t\tmax(v[0], v[2], v[4], v[6]),\n\t\t\t\t\tmax(v[1], v[3], v[5], v[7])\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn bounds;\n\t\t}\n\n\t\tvar bounds1 = getBounds(curves1),\n\t\t\tbounds2 = !curves2 || curves2 === curves1\n\t\t\t\t? bounds1\n\t\t\t\t: getBounds(curves2);\n\t\tif (bothAxis) {\n\t\t\tvar hor = this.findBoundsCollisions(\n\t\t\t\t\tbounds1, bounds2, tolerance || 0, false, true),\n\t\t\t\tver = this.findBoundsCollisions(\n\t\t\t\t\tbounds1, bounds2, tolerance || 0, true, true),\n\t\t\t\tlist = [];\n\t\t\tfor (var i = 0, l = hor.length; i < l; i++) {\n\t\t\t\tlist[i] = { hor: hor[i], ver: ver[i] };\n\t\t\t}\n\t\t\treturn list;\n\t\t}\n\t\treturn this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n\t},\n\n\tfindBoundsCollisions: function(boundsA, boundsB, tolerance,\n\t\tsweepVertical, onlySweepAxisCollisions) {\n\t\tvar self = !boundsB || boundsA === boundsB,\n\t\t\tallBounds = self ? boundsA : boundsA.concat(boundsB),\n\t\t\tlengthA = boundsA.length,\n\t\t\tlengthAll = allBounds.length;\n\n\t\tfunction binarySearch(indices, coord, value) {\n\t\t\tvar lo = 0,\n\t\t\t\thi = indices.length;\n\t\t\twhile (lo < hi) {\n\t\t\t\tvar mid = (hi + lo) >>> 1;\n\t\t\t\tif (allBounds[indices[mid]][coord] < value) {\n\t\t\t\t\tlo = mid + 1;\n\t\t\t\t} else {\n\t\t\t\t\thi = mid;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn lo - 1;\n\t\t}\n\n\t\tvar pri0 = sweepVertical ? 1 : 0,\n\t\t\tpri1 = pri0 + 2,\n\t\t\tsec0 = sweepVertical ? 0 : 1,\n\t\t\tsec1 = sec0 + 2;\n\t\tvar allIndicesByPri0 = new Array(lengthAll);\n\t\tfor (var i = 0; i < lengthAll; i++) {\n\t\t\tallIndicesByPri0[i] = i;\n\t\t}\n\t\tallIndicesByPri0.sort(function(i1, i2) {\n\t\t\treturn allBounds[i1][pri0] - allBounds[i2][pri0];\n\t\t});\n\t\tvar activeIndicesByPri1 = [],\n\t\t\tallCollisions = new Array(lengthA);\n\t\tfor (var i = 0; i < lengthAll; i++) {\n\t\t\tvar curIndex = allIndicesByPri0[i],\n\t\t\t\tcurBounds = allBounds[curIndex],\n\t\t\t\torigIndex = self ? curIndex : curIndex - lengthA,\n\t\t\t\tisCurrentA = curIndex < lengthA,\n\t\t\t\tisCurrentB = self || !isCurrentA,\n\t\t\t\tcurCollisions = isCurrentA ? [] : null;\n\t\t\tif (activeIndicesByPri1.length) {\n\t\t\t\tvar pruneCount = binarySearch(activeIndicesByPri1, pri1,\n\t\t\t\t\t\tcurBounds[pri0] - tolerance) + 1;\n\t\t\t\tactiveIndicesByPri1.splice(0, pruneCount);\n\t\t\t\tif (self && onlySweepAxisCollisions) {\n\t\t\t\t\tcurCollisions = curCollisions.concat(activeIndicesByPri1);\n\t\t\t\t\tfor (var j = 0; j < activeIndicesByPri1.length; j++) {\n\t\t\t\t\t\tvar activeIndex = activeIndicesByPri1[j];\n\t\t\t\t\t\tallCollisions[activeIndex].push(origIndex);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar curSec1 = curBounds[sec1],\n\t\t\t\t\t\tcurSec0 = curBounds[sec0];\n\t\t\t\t\tfor (var j = 0; j < activeIndicesByPri1.length; j++) {\n\t\t\t\t\t\tvar activeIndex = activeIndicesByPri1[j],\n\t\t\t\t\t\t\tactiveBounds = allBounds[activeIndex],\n\t\t\t\t\t\t\tisActiveA = activeIndex < lengthA,\n\t\t\t\t\t\t\tisActiveB = self || activeIndex >= lengthA;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tonlySweepAxisCollisions ||\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tisCurrentA && isActiveB ||\n\t\t\t\t\t\t\t\tisCurrentB && isActiveA\n\t\t\t\t\t\t\t) && (\n\t\t\t\t\t\t\t\tcurSec1 >= activeBounds[sec0] - tolerance &&\n\t\t\t\t\t\t\t\tcurSec0 <= activeBounds[sec1] + tolerance\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (isCurrentA && isActiveB) {\n\t\t\t\t\t\t\t\tcurCollisions.push(\n\t\t\t\t\t\t\t\t\tself ? activeIndex : activeIndex - lengthA);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (isCurrentB && isActiveA) {\n\t\t\t\t\t\t\t\tallCollisions[activeIndex].push(origIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isCurrentA) {\n\t\t\t\tif (boundsA === boundsB) {\n\t\t\t\t\tcurCollisions.push(curIndex);\n\t\t\t\t}\n\t\t\t\tallCollisions[curIndex] = curCollisions;\n\t\t\t}\n\t\t\tif (activeIndicesByPri1.length) {\n\t\t\t\tvar curPri1 = curBounds[pri1],\n\t\t\t\t\tindex = binarySearch(activeIndicesByPri1, pri1, curPri1);\n\t\t\t\tactiveIndicesByPri1.splice(index + 1, 0, curIndex);\n\t\t\t} else {\n\t\t\t\tactiveIndicesByPri1.push(curIndex);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < allCollisions.length; i++) {\n\t\t\tvar collisions = allCollisions[i];\n\t\t\tif (collisions) {\n\t\t\t\tcollisions.sort(function(i1, i2) { return i1 - i2; });\n\t\t\t}\n\t\t}\n\t\treturn allCollisions;\n\t}\n};\n\nvar Formatter = Base.extend({\n\tinitialize: function(precision) {\n\t\tthis.precision = Base.pick(precision, 5);\n\t\tthis.multiplier = Math.pow(10, this.precision);\n\t},\n\n\tnumber: function(val) {\n\t\treturn this.precision < 16\n\t\t\t\t? Math.round(val * this.multiplier) / this.multiplier : val;\n\t},\n\n\tpair: function(val1, val2, separator) {\n\t\treturn this.number(val1) + (separator || ',') + this.number(val2);\n\t},\n\n\tpoint: function(val, separator) {\n\t\treturn this.number(val.x) + (separator || ',') + this.number(val.y);\n\t},\n\n\tsize: function(val, separator) {\n\t\treturn this.number(val.width) + (separator || ',')\n\t\t\t\t+ this.number(val.height);\n\t},\n\n\trectangle: function(val, separator) {\n\t\treturn this.point(val, separator) + (separator || ',')\n\t\t\t\t+ this.size(val, separator);\n\t}\n});\n\nFormatter.instance = new Formatter();\n\nvar Numerical = new function() {\n\n\tvar abscissas = [\n\t\t[  0.5773502691896257645091488],\n\t\t[0,0.7745966692414833770358531],\n\t\t[  0.3399810435848562648026658,0.8611363115940525752239465],\n\t\t[0,0.5384693101056830910363144,0.9061798459386639927976269],\n\t\t[  0.2386191860831969086305017,0.6612093864662645136613996,0.9324695142031520278123016],\n\t\t[0,0.4058451513773971669066064,0.7415311855993944398638648,0.9491079123427585245261897],\n\t\t[  0.1834346424956498049394761,0.5255324099163289858177390,0.7966664774136267395915539,0.9602898564975362316835609],\n\t\t[0,0.3242534234038089290385380,0.6133714327005903973087020,0.8360311073266357942994298,0.9681602395076260898355762],\n\t\t[  0.1488743389816312108848260,0.4333953941292471907992659,0.6794095682990244062343274,0.8650633666889845107320967,0.9739065285171717200779640],\n\t\t[0,0.2695431559523449723315320,0.5190961292068118159257257,0.7301520055740493240934163,0.8870625997680952990751578,0.9782286581460569928039380],\n\t\t[  0.1252334085114689154724414,0.3678314989981801937526915,0.5873179542866174472967024,0.7699026741943046870368938,0.9041172563704748566784659,0.9815606342467192506905491],\n\t\t[0,0.2304583159551347940655281,0.4484927510364468528779129,0.6423493394403402206439846,0.8015780907333099127942065,0.9175983992229779652065478,0.9841830547185881494728294],\n\t\t[  0.1080549487073436620662447,0.3191123689278897604356718,0.5152486363581540919652907,0.6872929048116854701480198,0.8272013150697649931897947,0.9284348836635735173363911,0.9862838086968123388415973],\n\t\t[0,0.2011940939974345223006283,0.3941513470775633698972074,0.5709721726085388475372267,0.7244177313601700474161861,0.8482065834104272162006483,0.9372733924007059043077589,0.9879925180204854284895657],\n\t\t[  0.0950125098376374401853193,0.2816035507792589132304605,0.4580167776572273863424194,0.6178762444026437484466718,0.7554044083550030338951012,0.8656312023878317438804679,0.9445750230732325760779884,0.9894009349916499325961542]\n\t];\n\n\tvar weights = [\n\t\t[1],\n\t\t[0.8888888888888888888888889,0.5555555555555555555555556],\n\t\t[0.6521451548625461426269361,0.3478548451374538573730639],\n\t\t[0.5688888888888888888888889,0.4786286704993664680412915,0.2369268850561890875142640],\n\t\t[0.4679139345726910473898703,0.3607615730481386075698335,0.1713244923791703450402961],\n\t\t[0.4179591836734693877551020,0.3818300505051189449503698,0.2797053914892766679014678,0.1294849661688696932706114],\n\t\t[0.3626837833783619829651504,0.3137066458778872873379622,0.2223810344533744705443560,0.1012285362903762591525314],\n\t\t[0.3302393550012597631645251,0.3123470770400028400686304,0.2606106964029354623187429,0.1806481606948574040584720,0.0812743883615744119718922],\n\t\t[0.2955242247147528701738930,0.2692667193099963550912269,0.2190863625159820439955349,0.1494513491505805931457763,0.0666713443086881375935688],\n\t\t[0.2729250867779006307144835,0.2628045445102466621806889,0.2331937645919904799185237,0.1862902109277342514260976,0.1255803694649046246346943,0.0556685671161736664827537],\n\t\t[0.2491470458134027850005624,0.2334925365383548087608499,0.2031674267230659217490645,0.1600783285433462263346525,0.1069393259953184309602547,0.0471753363865118271946160],\n\t\t[0.2325515532308739101945895,0.2262831802628972384120902,0.2078160475368885023125232,0.1781459807619457382800467,0.1388735102197872384636018,0.0921214998377284479144218,0.0404840047653158795200216],\n\t\t[0.2152638534631577901958764,0.2051984637212956039659241,0.1855383974779378137417166,0.1572031671581935345696019,0.1215185706879031846894148,0.0801580871597602098056333,0.0351194603317518630318329],\n\t\t[0.2025782419255612728806202,0.1984314853271115764561183,0.1861610000155622110268006,0.1662692058169939335532009,0.1395706779261543144478048,0.1071592204671719350118695,0.0703660474881081247092674,0.0307532419961172683546284],\n\t\t[0.1894506104550684962853967,0.1826034150449235888667637,0.1691565193950025381893121,0.1495959888165767320815017,0.1246289712555338720524763,0.0951585116824927848099251,0.0622535239386478928628438,0.0271524594117540948517806]\n\t];\n\n\tvar abs = Math.abs,\n\t\tsqrt = Math.sqrt,\n\t\tpow = Math.pow,\n\t\tlog2 = Math.log2 || function(x) {\n\t\t\treturn Math.log(x) * Math.LOG2E;\n\t\t},\n\t\tEPSILON = 1e-12,\n\t\tMACHINE_EPSILON = 1.12e-16;\n\n\tfunction clamp(value, min, max) {\n\t\treturn value < min ? min : value > max ? max : value;\n\t}\n\n\tfunction getDiscriminant(a, b, c) {\n\t\tfunction split(v) {\n\t\t\tvar x = v * 134217729,\n\t\t\t\ty = v - x,\n\t\t\t\thi = y + x,\n\t\t\t\tlo = v - hi;\n\t\t\treturn [hi, lo];\n\t\t}\n\n\t\tvar D = b * b - a * c,\n\t\t\tE = b * b + a * c;\n\t\tif (abs(D) * 3 < E) {\n\t\t\tvar ad = split(a),\n\t\t\t\tbd = split(b),\n\t\t\t\tcd = split(c),\n\t\t\t\tp = b * b,\n\t\t\t\tdp = (bd[0] * bd[0] - p + 2 * bd[0] * bd[1]) + bd[1] * bd[1],\n\t\t\t\tq = a * c,\n\t\t\t\tdq = (ad[0] * cd[0] - q + ad[0] * cd[1] + ad[1] * cd[0])\n\t\t\t\t\t\t+ ad[1] * cd[1];\n\t\t\tD = (p - q) + (dp - dq);\n\t\t}\n\t\treturn D;\n\t}\n\n\tfunction getNormalizationFactor() {\n\t\tvar norm = Math.max.apply(Math, arguments);\n\t\treturn norm && (norm < 1e-8 || norm > 1e8)\n\t\t\t\t? pow(2, -Math.round(log2(norm)))\n\t\t\t\t: 0;\n\t}\n\n\treturn {\n\t\tEPSILON: EPSILON,\n\t\tMACHINE_EPSILON: MACHINE_EPSILON,\n\t\tCURVETIME_EPSILON: 1e-8,\n\t\tGEOMETRIC_EPSILON: 1e-7,\n\t\tTRIGONOMETRIC_EPSILON: 1e-8,\n\t\tKAPPA: 4 * (sqrt(2) - 1) / 3,\n\n\t\tisZero: function(val) {\n\t\t\treturn val >= -EPSILON && val <= EPSILON;\n\t\t},\n\n\t\tisMachineZero: function(val) {\n\t\t\treturn val >= -MACHINE_EPSILON && val <= MACHINE_EPSILON;\n\t\t},\n\n\t\tclamp: clamp,\n\n\t\tintegrate: function(f, a, b, n) {\n\t\t\tvar x = abscissas[n - 2],\n\t\t\t\tw = weights[n - 2],\n\t\t\t\tA = (b - a) * 0.5,\n\t\t\t\tB = A + a,\n\t\t\t\ti = 0,\n\t\t\t\tm = (n + 1) >> 1,\n\t\t\t\tsum = n & 1 ? w[i++] * f(B) : 0;\n\t\t\twhile (i < m) {\n\t\t\t\tvar Ax = A * x[i];\n\t\t\t\tsum += w[i++] * (f(B + Ax) + f(B - Ax));\n\t\t\t}\n\t\t\treturn A * sum;\n\t\t},\n\n\t\tfindRoot: function(f, df, x, a, b, n, tolerance) {\n\t\t\tfor (var i = 0; i < n; i++) {\n\t\t\t\tvar fx = f(x),\n\t\t\t\t\tdx = fx / df(x),\n\t\t\t\t\tnx = x - dx;\n\t\t\t\tif (abs(dx) < tolerance) {\n\t\t\t\t\tx = nx;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (fx > 0) {\n\t\t\t\t\tb = x;\n\t\t\t\t\tx = nx <= a ? (a + b) * 0.5 : nx;\n\t\t\t\t} else {\n\t\t\t\t\ta = x;\n\t\t\t\t\tx = nx >= b ? (a + b) * 0.5 : nx;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn clamp(x, a, b);\n\t\t},\n\n\t\tsolveQuadratic: function(a, b, c, roots, min, max) {\n\t\t\tvar x1, x2 = Infinity;\n\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\tif (abs(b) < EPSILON)\n\t\t\t\t\treturn abs(c) < EPSILON ? -1 : 0;\n\t\t\t\tx1 = -c / b;\n\t\t\t} else {\n\t\t\t\tb *= -0.5;\n\t\t\t\tvar D = getDiscriminant(a, b, c);\n\t\t\t\tif (D && abs(D) < MACHINE_EPSILON) {\n\t\t\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c));\n\t\t\t\t\tif (f) {\n\t\t\t\t\t\ta *= f;\n\t\t\t\t\t\tb *= f;\n\t\t\t\t\t\tc *= f;\n\t\t\t\t\t\tD = getDiscriminant(a, b, c);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (D >= -MACHINE_EPSILON) {\n\t\t\t\t\tvar Q = D < 0 ? 0 : sqrt(D),\n\t\t\t\t\t\tR = b + (b < 0 ? -Q : Q);\n\t\t\t\t\tif (R === 0) {\n\t\t\t\t\t\tx1 = c / a;\n\t\t\t\t\t\tx2 = -x1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tx1 = R / a;\n\t\t\t\t\t\tx2 = c / R;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar count = 0,\n\t\t\t\tboundless = min == null,\n\t\t\t\tminB = min - EPSILON,\n\t\t\t\tmaxB = max + EPSILON;\n\t\t\tif (isFinite(x1) && (boundless || x1 > minB && x1 < maxB))\n\t\t\t\troots[count++] = boundless ? x1 : clamp(x1, min, max);\n\t\t\tif (x2 !== x1\n\t\t\t\t\t&& isFinite(x2) && (boundless || x2 > minB && x2 < maxB))\n\t\t\t\troots[count++] = boundless ? x2 : clamp(x2, min, max);\n\t\t\treturn count;\n\t\t},\n\n\t\tsolveCubic: function(a, b, c, d, roots, min, max) {\n\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c), abs(d)),\n\t\t\t\tx, b1, c2, qd, q;\n\t\t\tif (f) {\n\t\t\t\ta *= f;\n\t\t\t\tb *= f;\n\t\t\t\tc *= f;\n\t\t\t\td *= f;\n\t\t\t}\n\n\t\t\tfunction evaluate(x0) {\n\t\t\t\tx = x0;\n\t\t\t\tvar tmp = a * x;\n\t\t\t\tb1 = tmp + b;\n\t\t\t\tc2 = b1 * x + c;\n\t\t\t\tqd = (tmp + b1) * x + c2;\n\t\t\t\tq = c2 * x + d;\n\t\t\t}\n\n\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\ta = b;\n\t\t\t\tb1 = c;\n\t\t\t\tc2 = d;\n\t\t\t\tx = Infinity;\n\t\t\t} else if (abs(d) < EPSILON) {\n\t\t\t\tb1 = b;\n\t\t\t\tc2 = c;\n\t\t\t\tx = 0;\n\t\t\t} else {\n\t\t\t\tevaluate(-(b / a) / 3);\n\t\t\t\tvar t = q / a,\n\t\t\t\t\tr = pow(abs(t), 1/3),\n\t\t\t\t\ts = t < 0 ? -1 : 1,\n\t\t\t\t\ttd = -qd / a,\n\t\t\t\t\trd = td > 0 ? 1.324717957244746 * Math.max(r, sqrt(td)) : r,\n\t\t\t\t\tx0 = x - s * rd;\n\t\t\t\tif (x0 !== x) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tevaluate(x0);\n\t\t\t\t\t\tx0 = qd === 0 ? x : x - q / qd / (1 + MACHINE_EPSILON);\n\t\t\t\t\t} while (s * x0 > s * x);\n\t\t\t\t\tif (abs(a) * x * x > abs(d / x)) {\n\t\t\t\t\t\tc2 = -d / x;\n\t\t\t\t\t\tb1 = (c2 - c) / x;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar count = Numerical.solveQuadratic(a, b1, c2, roots, min, max),\n\t\t\t\tboundless = min == null;\n\t\t\tif (isFinite(x) && (count === 0\n\t\t\t\t\t|| count > 0 && x !== roots[0] && x !== roots[1])\n\t\t\t\t\t&& (boundless || x > min - EPSILON && x < max + EPSILON))\n\t\t\t\troots[count++] = boundless ? x : clamp(x, min, max);\n\t\t\treturn count;\n\t\t}\n\t};\n};\n\nvar UID = {\n\t_id: 1,\n\t_pools: {},\n\n\tget: function(name) {\n\t\tif (name) {\n\t\t\tvar pool = this._pools[name];\n\t\t\tif (!pool)\n\t\t\t\tpool = this._pools[name] = { _id: 1 };\n\t\t\treturn pool._id++;\n\t\t} else {\n\t\t\treturn this._id++;\n\t\t}\n\t}\n};\n\nvar Point = Base.extend({\n\t_class: 'Point',\n\t_readIndex: true,\n\n\tinitialize: function Point(arg0, arg1) {\n\t\tvar type = typeof arg0,\n\t\t\treading = this.__read,\n\t\t\tread = 0;\n\t\tif (type === 'number') {\n\t\t\tvar hasY = typeof arg1 === 'number';\n\t\t\tthis._set(arg0, hasY ? arg1 : arg0);\n\t\t\tif (reading)\n\t\t\t\tread = hasY ? 2 : 1;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0);\n\t\t\tif (reading)\n\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else {\n\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\tread = 1;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t} else if ('x' in obj) {\n\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t} else if ('width' in obj) {\n\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t} else if ('angle' in obj) {\n\t\t\t\tthis._set(obj.length || 0, 0);\n\t\t\t\tthis.setAngle(obj.angle || 0);\n\t\t\t} else {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tread = 0;\n\t\t\t}\n\t\t}\n\t\tif (reading)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(x, y) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\treturn this;\n\t},\n\n\tequals: function(point) {\n\t\treturn this === point || point\n\t\t\t\t&& (this.x === point.x && this.y === point.y\n\t\t\t\t\t|| Array.isArray(point)\n\t\t\t\t\t\t&& this.x === point[0] && this.y === point[1])\n\t\t\t\t|| false;\n\t},\n\n\tclone: function() {\n\t\treturn new Point(this.x, this.y);\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ x: ' + f.number(this.x) + ', y: ' + f.number(this.y) + ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.x), f.number(this.y)];\n\t},\n\n\tgetLength: function() {\n\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\n\t},\n\n\tsetLength: function(length) {\n\t\tif (this.isZero()) {\n\t\t\tvar angle = this._angle || 0;\n\t\t\tthis._set(\n\t\t\t\tMath.cos(angle) * length,\n\t\t\t\tMath.sin(angle) * length\n\t\t\t);\n\t\t} else {\n\t\t\tvar scale = length / this.getLength();\n\t\t\tif (Numerical.isZero(scale))\n\t\t\t\tthis.getAngle();\n\t\t\tthis._set(\n\t\t\t\tthis.x * scale,\n\t\t\t\tthis.y * scale\n\t\t\t);\n\t\t}\n\t},\n\tgetAngle: function() {\n\t\treturn this.getAngleInRadians.apply(this, arguments) * 180 / Math.PI;\n\t},\n\n\tsetAngle: function(angle) {\n\t\tthis.setAngleInRadians.call(this, angle * Math.PI / 180);\n\t},\n\n\tgetAngleInDegrees: '#getAngle',\n\tsetAngleInDegrees: '#setAngle',\n\n\tgetAngleInRadians: function() {\n\t\tif (!arguments.length) {\n\t\t\treturn this.isZero()\n\t\t\t\t\t? this._angle || 0\n\t\t\t\t\t: this._angle = Math.atan2(this.y, this.x);\n\t\t} else {\n\t\t\tvar point = Point.read(arguments),\n\t\t\t\tdiv = this.getLength() * point.getLength();\n\t\t\tif (Numerical.isZero(div)) {\n\t\t\t\treturn NaN;\n\t\t\t} else {\n\t\t\t\tvar a = this.dot(point) / div;\n\t\t\t\treturn Math.acos(a < -1 ? -1 : a > 1 ? 1 : a);\n\t\t\t}\n\t\t}\n\t},\n\n\tsetAngleInRadians: function(angle) {\n\t\tthis._angle = angle;\n\t\tif (!this.isZero()) {\n\t\t\tvar length = this.getLength();\n\t\t\tthis._set(\n\t\t\t\tMath.cos(angle) * length,\n\t\t\t\tMath.sin(angle) * length\n\t\t\t);\n\t\t}\n\t},\n\n\tgetQuadrant: function() {\n\t\treturn this.x >= 0 ? this.y >= 0 ? 1 : 4 : this.y >= 0 ? 2 : 3;\n\t}\n}, {\n\tbeans: false,\n\n\tgetDirectedAngle: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Math.atan2(this.cross(point), this.dot(point)) * 180 / Math.PI;\n\t},\n\n\tgetDistance: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\tx = point.x - this.x,\n\t\t\ty = point.y - this.y,\n\t\t\td = x * x + y * y,\n\t\t\tsquared = Base.read(args);\n\t\treturn squared ? d : Math.sqrt(d);\n\t},\n\n\tnormalize: function(length) {\n\t\tif (length === undefined)\n\t\t\tlength = 1;\n\t\tvar current = this.getLength(),\n\t\t\tscale = current !== 0 ? length / current : 0,\n\t\t\tpoint = new Point(this.x * scale, this.y * scale);\n\t\tif (scale >= 0)\n\t\t\tpoint._angle = this._angle;\n\t\treturn point;\n\t},\n\n\trotate: function(angle, center) {\n\t\tif (angle === 0)\n\t\t\treturn this.clone();\n\t\tangle = angle * Math.PI / 180;\n\t\tvar point = center ? this.subtract(center) : this,\n\t\t\tsin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle);\n\t\tpoint = new Point(\n\t\t\tpoint.x * cos - point.y * sin,\n\t\t\tpoint.x * sin + point.y * cos\n\t\t);\n\t\treturn center ? point.add(center) : point;\n\t},\n\n\ttransform: function(matrix) {\n\t\treturn matrix ? matrix._transformPoint(this) : this;\n\t},\n\n\tadd: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x + point.x, this.y + point.y);\n\t},\n\n\tsubtract: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x - point.x, this.y - point.y);\n\t},\n\n\tmultiply: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x * point.x, this.y * point.y);\n\t},\n\n\tdivide: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x / point.x, this.y / point.y);\n\t},\n\n\tmodulo: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x % point.x, this.y % point.y);\n\t},\n\n\tnegate: function() {\n\t\treturn new Point(-this.x, -this.y);\n\t},\n\n\tisInside: function() {\n\t\treturn Rectangle.read(arguments).contains(this);\n\t},\n\n\tisClose: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\ttolerance = Base.read(args);\n\t\treturn this.getDistance(point) <= tolerance;\n\t},\n\n\tisCollinear: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Point.isCollinear(this.x, this.y, point.x, point.y);\n\t},\n\n\tisColinear: '#isCollinear',\n\n\tisOrthogonal: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Point.isOrthogonal(this.x, this.y, point.x, point.y);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this.x) && isZero(this.y);\n\t},\n\n\tisNaN: function() {\n\t\treturn isNaN(this.x) || isNaN(this.y);\n\t},\n\n\tisInQuadrant: function(q) {\n\t\treturn this.x * (q > 1 && q < 4 ? -1 : 1) >= 0\n\t\t\t&& this.y * (q > 2 ? -1 : 1) >= 0;\n\t},\n\n\tdot: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn this.x * point.x + this.y * point.y;\n\t},\n\n\tcross: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn this.x * point.y - this.y * point.x;\n\t},\n\n\tproject: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tscale = point.isZero() ? 0 : this.dot(point) / point.dot(point);\n\t\treturn new Point(\n\t\t\tpoint.x * scale,\n\t\t\tpoint.y * scale\n\t\t);\n\t},\n\n\tstatics: {\n\t\tmin: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tpoint1 = Point.read(args),\n\t\t\t\tpoint2 = Point.read(args);\n\t\t\treturn new Point(\n\t\t\t\tMath.min(point1.x, point2.x),\n\t\t\t\tMath.min(point1.y, point2.y)\n\t\t\t);\n\t\t},\n\n\t\tmax: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tpoint1 = Point.read(args),\n\t\t\t\tpoint2 = Point.read(args);\n\t\t\treturn new Point(\n\t\t\t\tMath.max(point1.x, point2.x),\n\t\t\t\tMath.max(point1.y, point2.y)\n\t\t\t);\n\t\t},\n\n\t\trandom: function() {\n\t\t\treturn new Point(Math.random(), Math.random());\n\t\t},\n\n\t\tisCollinear: function(x1, y1, x2, y2) {\n\t\t\treturn Math.abs(x1 * y2 - y1 * x2)\n\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t* 1e-8;\n\t\t},\n\n\t\tisOrthogonal: function(x1, y1, x2, y2) {\n\t\t\treturn Math.abs(x1 * x2 + y1 * y2)\n\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t* 1e-8;\n\t\t}\n\t}\n}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\tvar op = Math[key];\n\tthis[key] = function() {\n\t\treturn new Point(op(this.x), op(this.y));\n\t};\n}, {}));\n\nvar LinkedPoint = Point.extend({\n\tinitialize: function Point(x, y, owner, setter) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(x, y, _dontNotify) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t},\n\n\tgetX: function() {\n\t\treturn this._x;\n\t},\n\n\tsetX: function(x) {\n\t\tthis._x = x;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tgetY: function() {\n\t\treturn this._y;\n\t},\n\n\tsetY: function(y) {\n\t\tthis._y = y;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._owner._selection & this._getSelection());\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._owner._changeSelection(this._getSelection(), selected);\n\t},\n\n\t_getSelection: function() {\n\t\treturn this._setter === 'setPosition' ? 4 : 0;\n\t}\n});\n\nvar Size = Base.extend({\n\t_class: 'Size',\n\t_readIndex: true,\n\n\tinitialize: function Size(arg0, arg1) {\n\t\tvar type = typeof arg0,\n\t\t\treading = this.__read,\n\t\t\tread = 0;\n\t\tif (type === 'number') {\n\t\t\tvar hasHeight = typeof arg1 === 'number';\n\t\t\tthis._set(arg0, hasHeight ? arg1 : arg0);\n\t\t\tif (reading)\n\t\t\t\tread = hasHeight ? 2 : 1;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0);\n\t\t\tif (reading)\n\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else {\n\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\tread = 1;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t} else if ('width' in obj) {\n\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t} else if ('x' in obj) {\n\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t} else {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tread = 0;\n\t\t\t}\n\t\t}\n\t\tif (reading)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(width, height) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t},\n\n\tequals: function(size) {\n\t\treturn size === this || size && (this.width === size.width\n\t\t\t\t&& this.height === size.height\n\t\t\t\t|| Array.isArray(size) && this.width === size[0]\n\t\t\t\t\t&& this.height === size[1]) || false;\n\t},\n\n\tclone: function() {\n\t\treturn new Size(this.width, this.height);\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ width: ' + f.number(this.width)\n\t\t\t\t+ ', height: ' + f.number(this.height) + ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.width),\n\t\t\t\tf.number(this.height)];\n\t},\n\n\tadd: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width + size.width, this.height + size.height);\n\t},\n\n\tsubtract: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width - size.width, this.height - size.height);\n\t},\n\n\tmultiply: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width * size.width, this.height * size.height);\n\t},\n\n\tdivide: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width / size.width, this.height / size.height);\n\t},\n\n\tmodulo: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width % size.width, this.height % size.height);\n\t},\n\n\tnegate: function() {\n\t\treturn new Size(-this.width, -this.height);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this.width) && isZero(this.height);\n\t},\n\n\tisNaN: function() {\n\t\treturn isNaN(this.width) || isNaN(this.height);\n\t},\n\n\tstatics: {\n\t\tmin: function(size1, size2) {\n\t\t\treturn new Size(\n\t\t\t\tMath.min(size1.width, size2.width),\n\t\t\t\tMath.min(size1.height, size2.height));\n\t\t},\n\n\t\tmax: function(size1, size2) {\n\t\t\treturn new Size(\n\t\t\t\tMath.max(size1.width, size2.width),\n\t\t\t\tMath.max(size1.height, size2.height));\n\t\t},\n\n\t\trandom: function() {\n\t\t\treturn new Size(Math.random(), Math.random());\n\t\t}\n\t}\n}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\tvar op = Math[key];\n\tthis[key] = function() {\n\t\treturn new Size(op(this.width), op(this.height));\n\t};\n}, {}));\n\nvar LinkedSize = Size.extend({\n\tinitialize: function Size(width, height, owner, setter) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(width, height, _dontNotify) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t},\n\n\tgetWidth: function() {\n\t\treturn this._width;\n\t},\n\n\tsetWidth: function(width) {\n\t\tthis._width = width;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tgetHeight: function() {\n\t\treturn this._height;\n\t},\n\n\tsetHeight: function(height) {\n\t\tthis._height = height;\n\t\tthis._owner[this._setter](this);\n\t}\n});\n\nvar Rectangle = Base.extend({\n\t_class: 'Rectangle',\n\t_readIndex: true,\n\tbeans: true,\n\n\tinitialize: function Rectangle(arg0, arg1, arg2, arg3) {\n\t\tvar args = arguments,\n\t\t\ttype = typeof arg0,\n\t\t\tread;\n\t\tif (type === 'number') {\n\t\t\tthis._set(arg0, arg1, arg2, arg3);\n\t\t\tread = 4;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0, 0, 0);\n\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else if (args.length === 1) {\n\t\t\tif (Array.isArray(arg0)) {\n\t\t\t\tthis._set.apply(this, arg0);\n\t\t\t\tread = 1;\n\t\t\t} else if (arg0.x !== undefined || arg0.width !== undefined) {\n\t\t\t\tthis._set(arg0.x || 0, arg0.y || 0,\n\t\t\t\t\t\targ0.width || 0, arg0.height || 0);\n\t\t\t\tread = 1;\n\t\t\t} else if (arg0.from === undefined && arg0.to === undefined) {\n\t\t\t\tthis._set(0, 0, 0, 0);\n\t\t\t\tif (Base.readSupported(args, this)) {\n\t\t\t\t\tread = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (read === undefined) {\n\t\t\tvar frm = Point.readNamed(args, 'from'),\n\t\t\t\tnext = Base.peek(args),\n\t\t\t\tx = frm.x,\n\t\t\t\ty = frm.y,\n\t\t\t\twidth,\n\t\t\t\theight;\n\t\t\tif (next && next.x !== undefined || Base.hasNamed(args, 'to')) {\n\t\t\t\tvar to = Point.readNamed(args, 'to');\n\t\t\t\twidth = to.x - x;\n\t\t\t\theight = to.y - y;\n\t\t\t\tif (width < 0) {\n\t\t\t\t\tx = to.x;\n\t\t\t\t\twidth = -width;\n\t\t\t\t}\n\t\t\t\tif (height < 0) {\n\t\t\t\t\ty = to.y;\n\t\t\t\t\theight = -height;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar size = Size.read(args);\n\t\t\t\twidth = size.width;\n\t\t\t\theight = size.height;\n\t\t\t}\n\t\t\tthis._set(x, y, width, height);\n\t\t\tread = args.__index;\n\t\t}\n\t\tvar filtered = args.__filtered;\n\t\tif (filtered)\n\t\t\tthis.__filtered = filtered;\n\t\tif (this.__read)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(x, y, width, height) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t},\n\n\tclone: function() {\n\t\treturn new Rectangle(this.x, this.y, this.width, this.height);\n\t},\n\n\tequals: function(rect) {\n\t\tvar rt = Base.isPlainValue(rect)\n\t\t\t\t? Rectangle.read(arguments)\n\t\t\t\t: rect;\n\t\treturn rt === this\n\t\t\t\t|| rt && this.x === rt.x && this.y === rt.y\n\t\t\t\t\t&& this.width === rt.width && this.height === rt.height\n\t\t\t\t|| false;\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ x: ' + f.number(this.x)\n\t\t\t\t+ ', y: ' + f.number(this.y)\n\t\t\t\t+ ', width: ' + f.number(this.width)\n\t\t\t\t+ ', height: ' + f.number(this.height)\n\t\t\t\t+ ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.x),\n\t\t\t\tf.number(this.y),\n\t\t\t\tf.number(this.width),\n\t\t\t\tf.number(this.height)];\n\t},\n\n\tgetPoint: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\treturn new ctor(this.x, this.y, this, 'setPoint');\n\t},\n\n\tsetPoint: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.x = point.x;\n\t\tthis.y = point.y;\n\t},\n\n\tgetSize: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Size : LinkedSize;\n\t\treturn new ctor(this.width, this.height, this, 'setSize');\n\t},\n\n\t_fw: 1,\n\t_fh: 1,\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments),\n\t\t\tsx = this._sx,\n\t\t\tsy = this._sy,\n\t\t\tw = size.width,\n\t\t\th = size.height;\n\t\tif (sx) {\n\t\t\tthis.x += (this.width - w) * sx;\n\t\t}\n\t\tif (sy) {\n\t\t\tthis.y += (this.height - h) * sy;\n\t\t}\n\t\tthis.width = w;\n\t\tthis.height = h;\n\t\tthis._fw = this._fh = 1;\n\t},\n\n\tgetLeft: function() {\n\t\treturn this.x;\n\t},\n\n\tsetLeft: function(left) {\n\t\tif (!this._fw) {\n\t\t\tvar amount = left - this.x;\n\t\t\tthis.width -= this._sx === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.x = left;\n\t\tthis._sx = this._fw = 0;\n\t},\n\n\tgetTop: function() {\n\t\treturn this.y;\n\t},\n\n\tsetTop: function(top) {\n\t\tif (!this._fh) {\n\t\t\tvar amount = top - this.y;\n\t\t\tthis.height -= this._sy === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.y = top;\n\t\tthis._sy = this._fh = 0;\n\t},\n\n\tgetRight: function() {\n\t\treturn this.x + this.width;\n\t},\n\n\tsetRight: function(right) {\n\t\tif (!this._fw) {\n\t\t\tvar amount = right - this.x;\n\t\t\tthis.width = this._sx === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.x = right - this.width;\n\t\tthis._sx = 1;\n\t\tthis._fw = 0;\n\t},\n\n\tgetBottom: function() {\n\t\treturn this.y + this.height;\n\t},\n\n\tsetBottom: function(bottom) {\n\t\tif (!this._fh) {\n\t\t\tvar amount = bottom - this.y;\n\t\t\tthis.height = this._sy === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.y = bottom - this.height;\n\t\tthis._sy = 1;\n\t\tthis._fh = 0;\n\t},\n\n\tgetCenterX: function() {\n\t\treturn this.x + this.width / 2;\n\t},\n\n\tsetCenterX: function(x) {\n\t\tif (this._fw || this._sx === 0.5) {\n\t\t\tthis.x = x - this.width / 2;\n\t\t} else {\n\t\t\tif (this._sx) {\n\t\t\t\tthis.x += (x - this.x) * 2 * this._sx;\n\t\t\t}\n\t\t\tthis.width = (x - this.x) * 2;\n\t\t}\n\t\tthis._sx = 0.5;\n\t\tthis._fw = 0;\n\t},\n\n\tgetCenterY: function() {\n\t\treturn this.y + this.height / 2;\n\t},\n\n\tsetCenterY: function(y) {\n\t\tif (this._fh || this._sy === 0.5) {\n\t\t\tthis.y = y - this.height / 2;\n\t\t} else {\n\t\t\tif (this._sy) {\n\t\t\t\tthis.y += (y - this.y) * 2 * this._sy;\n\t\t\t}\n\t\t\tthis.height = (y - this.y) * 2;\n\t\t}\n\t\tthis._sy = 0.5;\n\t\tthis._fh = 0;\n\t},\n\n\tgetCenter: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\treturn new ctor(this.getCenterX(), this.getCenterY(), this, 'setCenter');\n\t},\n\n\tsetCenter: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.setCenterX(point.x);\n\t\tthis.setCenterY(point.y);\n\t\treturn this;\n\t},\n\n\tgetArea: function() {\n\t\treturn this.width * this.height;\n\t},\n\n\tisEmpty: function() {\n\t\treturn this.width === 0 || this.height === 0;\n\t},\n\n\tcontains: function(arg) {\n\t\treturn arg && arg.width !== undefined\n\t\t\t\t|| (Array.isArray(arg) ? arg : arguments).length === 4\n\t\t\t\t? this._containsRectangle(Rectangle.read(arguments))\n\t\t\t\t: this._containsPoint(Point.read(arguments));\n\t},\n\n\t_containsPoint: function(point) {\n\t\tvar x = point.x,\n\t\t\ty = point.y;\n\t\treturn x >= this.x && y >= this.y\n\t\t\t\t&& x <= this.x + this.width\n\t\t\t\t&& y <= this.y + this.height;\n\t},\n\n\t_containsRectangle: function(rect) {\n\t\tvar x = rect.x,\n\t\t\ty = rect.y;\n\t\treturn x >= this.x && y >= this.y\n\t\t\t\t&& x + rect.width <= this.x + this.width\n\t\t\t\t&& y + rect.height <= this.y + this.height;\n\t},\n\n\tintersects: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tepsilon = Base.read(arguments) || 0;\n\t\treturn rect.x + rect.width > this.x - epsilon\n\t\t\t\t&& rect.y + rect.height > this.y - epsilon\n\t\t\t\t&& rect.x < this.x + this.width + epsilon\n\t\t\t\t&& rect.y < this.y + this.height + epsilon;\n\t},\n\n\tintersect: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tx1 = Math.max(this.x, rect.x),\n\t\t\ty1 = Math.max(this.y, rect.y),\n\t\t\tx2 = Math.min(this.x + this.width, rect.x + rect.width),\n\t\t\ty2 = Math.min(this.y + this.height, rect.y + rect.height);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\tunite: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tx1 = Math.min(this.x, rect.x),\n\t\t\ty1 = Math.min(this.y, rect.y),\n\t\t\tx2 = Math.max(this.x + this.width, rect.x + rect.width),\n\t\t\ty2 = Math.max(this.y + this.height, rect.y + rect.height);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\tinclude: function() {\n\t\tvar point = Point.read(arguments);\n\t\tvar x1 = Math.min(this.x, point.x),\n\t\t\ty1 = Math.min(this.y, point.y),\n\t\t\tx2 = Math.max(this.x + this.width, point.x),\n\t\t\ty2 = Math.max(this.y + this.height, point.y);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\texpand: function() {\n\t\tvar amount = Size.read(arguments),\n\t\t\thor = amount.width,\n\t\t\tver = amount.height;\n\t\treturn new Rectangle(this.x - hor / 2, this.y - ver / 2,\n\t\t\t\tthis.width + hor, this.height + ver);\n\t},\n\n\tscale: function(hor, ver) {\n\t\treturn this.expand(this.width * hor - this.width,\n\t\t\t\tthis.height * (ver === undefined ? hor : ver) - this.height);\n\t}\n}, Base.each([\n\t\t['Top', 'Left'], ['Top', 'Right'],\n\t\t['Bottom', 'Left'], ['Bottom', 'Right'],\n\t\t['Left', 'Center'], ['Top', 'Center'],\n\t\t['Right', 'Center'], ['Bottom', 'Center']\n\t],\n\tfunction(parts, index) {\n\t\tvar part = parts.join(''),\n\t\t\txFirst = /^[RL]/.test(part);\n\t\tif (index >= 4)\n\t\t\tparts[1] += xFirst ? 'Y' : 'X';\n\t\tvar x = parts[xFirst ? 0 : 1],\n\t\t\ty = parts[xFirst ? 1 : 0],\n\t\t\tgetX = 'get' + x,\n\t\t\tgetY = 'get' + y,\n\t\t\tsetX = 'set' + x,\n\t\t\tsetY = 'set' + y,\n\t\t\tget = 'get' + part,\n\t\t\tset = 'set' + part;\n\t\tthis[get] = function(_dontLink) {\n\t\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\t\treturn new ctor(this[getX](), this[getY](), this, set);\n\t\t};\n\t\tthis[set] = function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\tthis[setX](point.x);\n\t\t\tthis[setY](point.y);\n\t\t};\n\t}, {\n\t\tbeans: true\n\t}\n));\n\nvar LinkedRectangle = Rectangle.extend({\n\tinitialize: function Rectangle(x, y, width, height, owner, setter) {\n\t\tthis._set(x, y, width, height, true);\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(x, y, width, height, _dontNotify) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t}\n},\nnew function() {\n\tvar proto = Rectangle.prototype;\n\n\treturn Base.each(['x', 'y', 'width', 'height'], function(key) {\n\t\tvar part = Base.capitalize(key),\n\t\t\tinternal = '_' + key;\n\t\tthis['get' + part] = function() {\n\t\t\treturn this[internal];\n\t\t};\n\n\t\tthis['set' + part] = function(value) {\n\t\t\tthis[internal] = value;\n\t\t\tif (!this._dontNotify)\n\t\t\t\tthis._owner[this._setter](this);\n\t\t};\n\t}, Base.each(['Point', 'Size', 'Center',\n\t\t\t'Left', 'Top', 'Right', 'Bottom', 'CenterX', 'CenterY',\n\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'],\n\t\tfunction(key) {\n\t\t\tvar name = 'set' + key;\n\t\t\tthis[name] = function() {\n\t\t\t\tthis._dontNotify = true;\n\t\t\t\tproto[name].apply(this, arguments);\n\t\t\t\tthis._dontNotify = false;\n\t\t\t\tthis._owner[this._setter](this);\n\t\t\t};\n\t\t}, {\n\t\t\tisSelected: function() {\n\t\t\t\treturn !!(this._owner._selection & 2);\n\t\t\t},\n\n\t\t\tsetSelected: function(selected) {\n\t\t\t\tvar owner = this._owner;\n\t\t\t\tif (owner._changeSelection) {\n\t\t\t\t\towner._changeSelection(2, selected);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t);\n});\n\nvar Matrix = Base.extend({\n\t_class: 'Matrix',\n\n\tinitialize: function Matrix(arg, _dontNotify) {\n\t\tvar args = arguments,\n\t\t\tcount = args.length,\n\t\t\tok = true;\n\t\tif (count >= 6) {\n\t\t\tthis._set.apply(this, args);\n\t\t} else if (count === 1 || count === 2) {\n\t\t\tif (arg instanceof Matrix) {\n\t\t\t\tthis._set(arg._a, arg._b, arg._c, arg._d, arg._tx, arg._ty,\n\t\t\t\t\t\t_dontNotify);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tthis._set.apply(this,\n\t\t\t\t\t\t_dontNotify ? arg.concat([_dontNotify]) : arg);\n\t\t\t} else {\n\t\t\t\tok = false;\n\t\t\t}\n\t\t} else if (!count) {\n\t\t\tthis.reset();\n\t\t} else {\n\t\t\tok = false;\n\t\t}\n\t\tif (!ok) {\n\t\t\tthrow new Error('Unsupported matrix parameters');\n\t\t}\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(a, b, c, d, tx, ty, _dontNotify) {\n\t\tthis._a = a;\n\t\tthis._b = b;\n\t\tthis._c = c;\n\t\tthis._d = d;\n\t\tthis._tx = tx;\n\t\tthis._ty = ty;\n\t\tif (!_dontNotify)\n\t\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this.getValues(), options, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tvar owner = this._owner;\n\t\tif (owner) {\n\t\t\tif (owner._applyMatrix) {\n\t\t\t\towner.transform(null, true);\n\t\t\t} else {\n\t\t\t\towner._changed(25);\n\t\t\t}\n\t\t}\n\t},\n\n\tclone: function() {\n\t\treturn new Matrix(this._a, this._b, this._c, this._d,\n\t\t\t\tthis._tx, this._ty);\n\t},\n\n\tequals: function(mx) {\n\t\treturn mx === this || mx && this._a === mx._a && this._b === mx._b\n\t\t\t\t&& this._c === mx._c && this._d === mx._d\n\t\t\t\t&& this._tx === mx._tx && this._ty === mx._ty;\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '[[' + [f.number(this._a), f.number(this._c),\n\t\t\t\t\tf.number(this._tx)].join(', ') + '], ['\n\t\t\t\t+ [f.number(this._b), f.number(this._d),\n\t\t\t\t\tf.number(this._ty)].join(', ') + ']]';\n\t},\n\n\treset: function(_dontNotify) {\n\t\tthis._a = this._d = 1;\n\t\tthis._b = this._c = this._tx = this._ty = 0;\n\t\tif (!_dontNotify)\n\t\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tapply: function(recursively, _setApplyMatrix) {\n\t\tvar owner = this._owner;\n\t\tif (owner) {\n\t\t\towner.transform(null, Base.pick(recursively, true), _setApplyMatrix);\n\t\t\treturn this.isIdentity();\n\t\t}\n\t\treturn false;\n\t},\n\n\ttranslate: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tx = point.x,\n\t\t\ty = point.y;\n\t\tthis._tx += x * this._a + y * this._c;\n\t\tthis._ty += x * this._b + y * this._d;\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tscale: function() {\n\t\tvar args = arguments,\n\t\t\tscale = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\tif (center)\n\t\t\tthis.translate(center);\n\t\tthis._a *= scale.x;\n\t\tthis._b *= scale.x;\n\t\tthis._c *= scale.y;\n\t\tthis._d *= scale.y;\n\t\tif (center)\n\t\t\tthis.translate(center.negate());\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\trotate: function(angle ) {\n\t\tangle *= Math.PI / 180;\n\t\tvar center = Point.read(arguments, 1),\n\t\t\tx = center.x,\n\t\t\ty = center.y,\n\t\t\tcos = Math.cos(angle),\n\t\t\tsin = Math.sin(angle),\n\t\t\ttx = x - x * cos + y * sin,\n\t\t\tty = y - x * sin - y * cos,\n\t\t\ta = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d;\n\t\tthis._a = cos * a + sin * c;\n\t\tthis._b = cos * b + sin * d;\n\t\tthis._c = -sin * a + cos * c;\n\t\tthis._d = -sin * b + cos * d;\n\t\tthis._tx += tx * a + ty * c;\n\t\tthis._ty += tx * b + ty * d;\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tshear: function() {\n\t\tvar args = arguments,\n\t\t\tshear = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\tif (center)\n\t\t\tthis.translate(center);\n\t\tvar a = this._a,\n\t\t\tb = this._b;\n\t\tthis._a += shear.y * this._c;\n\t\tthis._b += shear.y * this._d;\n\t\tthis._c += shear.x * a;\n\t\tthis._d += shear.x * b;\n\t\tif (center)\n\t\t\tthis.translate(center.negate());\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tskew: function() {\n\t\tvar args = arguments,\n\t\t\tskew = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true }),\n\t\t\ttoRadians = Math.PI / 180,\n\t\t\tshear = new Point(Math.tan(skew.x * toRadians),\n\t\t\t\tMath.tan(skew.y * toRadians));\n\t\treturn this.shear(shear, center);\n\t},\n\n\tappend: function(mx, _dontNotify) {\n\t\tif (mx) {\n\t\t\tvar a1 = this._a,\n\t\t\t\tb1 = this._b,\n\t\t\t\tc1 = this._c,\n\t\t\t\td1 = this._d,\n\t\t\t\ta2 = mx._a,\n\t\t\t\tb2 = mx._c,\n\t\t\t\tc2 = mx._b,\n\t\t\t\td2 = mx._d,\n\t\t\t\ttx2 = mx._tx,\n\t\t\t\tty2 = mx._ty;\n\t\t\tthis._a = a2 * a1 + c2 * c1;\n\t\t\tthis._c = b2 * a1 + d2 * c1;\n\t\t\tthis._b = a2 * b1 + c2 * d1;\n\t\t\tthis._d = b2 * b1 + d2 * d1;\n\t\t\tthis._tx += tx2 * a1 + ty2 * c1;\n\t\t\tthis._ty += tx2 * b1 + ty2 * d1;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._changed();\n\t\t}\n\t\treturn this;\n\t},\n\n\tprepend: function(mx, _dontNotify) {\n\t\tif (mx) {\n\t\t\tvar a1 = this._a,\n\t\t\t\tb1 = this._b,\n\t\t\t\tc1 = this._c,\n\t\t\t\td1 = this._d,\n\t\t\t\ttx1 = this._tx,\n\t\t\t\tty1 = this._ty,\n\t\t\t\ta2 = mx._a,\n\t\t\t\tb2 = mx._c,\n\t\t\t\tc2 = mx._b,\n\t\t\t\td2 = mx._d,\n\t\t\t\ttx2 = mx._tx,\n\t\t\t\tty2 = mx._ty;\n\t\t\tthis._a = a2 * a1 + b2 * b1;\n\t\t\tthis._c = a2 * c1 + b2 * d1;\n\t\t\tthis._b = c2 * a1 + d2 * b1;\n\t\t\tthis._d = c2 * c1 + d2 * d1;\n\t\t\tthis._tx = a2 * tx1 + b2 * ty1 + tx2;\n\t\t\tthis._ty = c2 * tx1 + d2 * ty1 + ty2;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._changed();\n\t\t}\n\t\treturn this;\n\t},\n\n\tappended: function(mx) {\n\t\treturn this.clone().append(mx);\n\t},\n\n\tprepended: function(mx) {\n\t\treturn this.clone().prepend(mx);\n\t},\n\n\tinvert: function() {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\ttx = this._tx,\n\t\t\tty = this._ty,\n\t\t\tdet = a * d - b * c,\n\t\t\tres = null;\n\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\tthis._a = d / det;\n\t\t\tthis._b = -b / det;\n\t\t\tthis._c = -c / det;\n\t\t\tthis._d = a / det;\n\t\t\tthis._tx = (c * ty - d * tx) / det;\n\t\t\tthis._ty = (b * tx - a * ty) / det;\n\t\t\tres = this;\n\t\t}\n\t\treturn res;\n\t},\n\n\tinverted: function() {\n\t\treturn this.clone().invert();\n\t},\n\n\tconcatenate: '#append',\n\tpreConcatenate: '#prepend',\n\tchain: '#appended',\n\n\t_shiftless: function() {\n\t\treturn new Matrix(this._a, this._b, this._c, this._d, 0, 0);\n\t},\n\n\t_orNullIfIdentity: function() {\n\t\treturn this.isIdentity() ? null : this;\n\t},\n\n\tisIdentity: function() {\n\t\treturn this._a === 1 && this._b === 0 && this._c === 0 && this._d === 1\n\t\t\t\t&& this._tx === 0 && this._ty === 0;\n\t},\n\n\tisInvertible: function() {\n\t\tvar det = this._a * this._d - this._c * this._b;\n\t\treturn det && !isNaN(det) && isFinite(this._tx) && isFinite(this._ty);\n\t},\n\n\tisSingular: function() {\n\t\treturn !this.isInvertible();\n\t},\n\n\ttransform: function( src, dst, count) {\n\t\treturn arguments.length < 3\n\t\t\t? this._transformPoint(Point.read(arguments))\n\t\t\t: this._transformCoordinates(src, dst, count);\n\t},\n\n\t_transformPoint: function(point, dest, _dontNotify) {\n\t\tvar x = point.x,\n\t\t\ty = point.y;\n\t\tif (!dest)\n\t\t\tdest = new Point();\n\t\treturn dest._set(\n\t\t\t\tx * this._a + y * this._c + this._tx,\n\t\t\t\tx * this._b + y * this._d + this._ty,\n\t\t\t\t_dontNotify);\n\t},\n\n\t_transformCoordinates: function(src, dst, count) {\n\t\tfor (var i = 0, max = 2 * count; i < max; i += 2) {\n\t\t\tvar x = src[i],\n\t\t\t\ty = src[i + 1];\n\t\t\tdst[i] = x * this._a + y * this._c + this._tx;\n\t\t\tdst[i + 1] = x * this._b + y * this._d + this._ty;\n\t\t}\n\t\treturn dst;\n\t},\n\n\t_transformCorners: function(rect) {\n\t\tvar x1 = rect.x,\n\t\t\ty1 = rect.y,\n\t\t\tx2 = x1 + rect.width,\n\t\t\ty2 = y1 + rect.height,\n\t\t\tcoords = [ x1, y1, x2, y1, x2, y2, x1, y2 ];\n\t\treturn this._transformCoordinates(coords, coords, 4);\n\t},\n\n\t_transformBounds: function(bounds, dest, _dontNotify) {\n\t\tvar coords = this._transformCorners(bounds),\n\t\t\tmin = coords.slice(0, 2),\n\t\t\tmax = min.slice();\n\t\tfor (var i = 2; i < 8; i++) {\n\t\t\tvar val = coords[i],\n\t\t\t\tj = i & 1;\n\t\t\tif (val < min[j]) {\n\t\t\t\tmin[j] = val;\n\t\t\t} else if (val > max[j]) {\n\t\t\t\tmax[j] = val;\n\t\t\t}\n\t\t}\n\t\tif (!dest)\n\t\t\tdest = new Rectangle();\n\t\treturn dest._set(min[0], min[1], max[0] - min[0], max[1] - min[1],\n\t\t\t\t_dontNotify);\n\t},\n\n\tinverseTransform: function() {\n\t\treturn this._inverseTransform(Point.read(arguments));\n\t},\n\n\t_inverseTransform: function(point, dest, _dontNotify) {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\ttx = this._tx,\n\t\t\tty = this._ty,\n\t\t\tdet = a * d - b * c,\n\t\t\tres = null;\n\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\tvar x = point.x - this._tx,\n\t\t\t\ty = point.y - this._ty;\n\t\t\tif (!dest)\n\t\t\t\tdest = new Point();\n\t\t\tres = dest._set(\n\t\t\t\t\t(x * d - y * c) / det,\n\t\t\t\t\t(y * a - x * b) / det,\n\t\t\t\t\t_dontNotify);\n\t\t}\n\t\treturn res;\n\t},\n\n\tdecompose: function() {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\tdet = a * d - b * c,\n\t\t\tsqrt = Math.sqrt,\n\t\t\tatan2 = Math.atan2,\n\t\t\tdegrees = 180 / Math.PI,\n\t\t\trotate,\n\t\t\tscale,\n\t\t\tskew;\n\t\tif (a !== 0 || b !== 0) {\n\t\t\tvar r = sqrt(a * a + b * b);\n\t\t\trotate = Math.acos(a / r) * (b > 0 ? 1 : -1);\n\t\t\tscale = [r, det / r];\n\t\t\tskew = [atan2(a * c + b * d, r * r), 0];\n\t\t} else if (c !== 0 || d !== 0) {\n\t\t\tvar s = sqrt(c * c + d * d);\n\t\t\trotate = Math.asin(c / s)  * (d > 0 ? 1 : -1);\n\t\t\tscale = [det / s, s];\n\t\t\tskew = [0, atan2(a * c + b * d, s * s)];\n\t\t} else {\n\t\t\trotate = 0;\n\t\t\tskew = scale = [0, 0];\n\t\t}\n\t\treturn {\n\t\t\ttranslation: this.getTranslation(),\n\t\t\trotation: rotate * degrees,\n\t\t\tscaling: new Point(scale),\n\t\t\tskewing: new Point(skew[0] * degrees, skew[1] * degrees)\n\t\t};\n\t},\n\n\tgetValues: function() {\n\t\treturn [ this._a, this._b, this._c, this._d, this._tx, this._ty ];\n\t},\n\n\tgetTranslation: function() {\n\t\treturn new Point(this._tx, this._ty);\n\t},\n\n\tgetScaling: function() {\n\t\treturn this.decompose().scaling;\n\t},\n\n\tgetRotation: function() {\n\t\treturn this.decompose().rotation;\n\t},\n\n\tapplyToContext: function(ctx) {\n\t\tif (!this.isIdentity()) {\n\t\t\tctx.transform(this._a, this._b, this._c, this._d,\n\t\t\t\t\tthis._tx, this._ty);\n\t\t}\n\t}\n}, Base.each(['a', 'b', 'c', 'd', 'tx', 'ty'], function(key) {\n\tvar part = Base.capitalize(key),\n\t\tprop = '_' + key;\n\tthis['get' + part] = function() {\n\t\treturn this[prop];\n\t};\n\tthis['set' + part] = function(value) {\n\t\tthis[prop] = value;\n\t\tthis._changed();\n\t};\n}, {}));\n\nvar Line = Base.extend({\n\t_class: 'Line',\n\n\tinitialize: function Line(arg0, arg1, arg2, arg3, arg4) {\n\t\tvar asVector = false;\n\t\tif (arguments.length >= 4) {\n\t\t\tthis._px = arg0;\n\t\t\tthis._py = arg1;\n\t\t\tthis._vx = arg2;\n\t\t\tthis._vy = arg3;\n\t\t\tasVector = arg4;\n\t\t} else {\n\t\t\tthis._px = arg0.x;\n\t\t\tthis._py = arg0.y;\n\t\t\tthis._vx = arg1.x;\n\t\t\tthis._vy = arg1.y;\n\t\t\tasVector = arg2;\n\t\t}\n\t\tif (!asVector) {\n\t\t\tthis._vx -= this._px;\n\t\t\tthis._vy -= this._py;\n\t\t}\n\t},\n\n\tgetPoint: function() {\n\t\treturn new Point(this._px, this._py);\n\t},\n\n\tgetVector: function() {\n\t\treturn new Point(this._vx, this._vy);\n\t},\n\n\tgetLength: function() {\n\t\treturn this.getVector().getLength();\n\t},\n\n\tintersect: function(line, isInfinite) {\n\t\treturn Line.intersect(\n\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\tline._px, line._py, line._vx, line._vy,\n\t\t\t\ttrue, isInfinite);\n\t},\n\n\tgetSide: function(point, isInfinite) {\n\t\treturn Line.getSide(\n\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\tpoint.x, point.y, true, isInfinite);\n\t},\n\n\tgetDistance: function(point) {\n\t\treturn Math.abs(this.getSignedDistance(point));\n\t},\n\n\tgetSignedDistance: function(point) {\n\t\treturn Line.getSignedDistance(this._px, this._py, this._vx, this._vy,\n\t\t\t\tpoint.x, point.y, true);\n\t},\n\n\tisCollinear: function(line) {\n\t\treturn Point.isCollinear(this._vx, this._vy, line._vx, line._vy);\n\t},\n\n\tisOrthogonal: function(line) {\n\t\treturn Point.isOrthogonal(this._vx, this._vy, line._vx, line._vy);\n\t},\n\n\tstatics: {\n\t\tintersect: function(p1x, p1y, v1x, v1y, p2x, p2y, v2x, v2y, asVector,\n\t\t\t\tisInfinite) {\n\t\t\tif (!asVector) {\n\t\t\t\tv1x -= p1x;\n\t\t\t\tv1y -= p1y;\n\t\t\t\tv2x -= p2x;\n\t\t\t\tv2y -= p2y;\n\t\t\t}\n\t\t\tvar cross = v1x * v2y - v1y * v2x;\n\t\t\tif (!Numerical.isMachineZero(cross)) {\n\t\t\t\tvar dx = p1x - p2x,\n\t\t\t\t\tdy = p1y - p2y,\n\t\t\t\t\tu1 = (v2x * dy - v2y * dx) / cross,\n\t\t\t\t\tu2 = (v1x * dy - v1y * dx) / cross,\n\t\t\t\t\tepsilon = 1e-12,\n\t\t\t\t\tuMin = -epsilon,\n\t\t\t\t\tuMax = 1 + epsilon;\n\t\t\t\tif (isInfinite\n\t\t\t\t\t\t|| uMin < u1 && u1 < uMax && uMin < u2 && u2 < uMax) {\n\t\t\t\t\tif (!isInfinite) {\n\t\t\t\t\t\tu1 = u1 <= 0 ? 0 : u1 >= 1 ? 1 : u1;\n\t\t\t\t\t}\n\t\t\t\t\treturn new Point(\n\t\t\t\t\t\t\tp1x + u1 * v1x,\n\t\t\t\t\t\t\tp1y + u1 * v1y);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetSide: function(px, py, vx, vy, x, y, asVector, isInfinite) {\n\t\t\tif (!asVector) {\n\t\t\t\tvx -= px;\n\t\t\t\tvy -= py;\n\t\t\t}\n\t\t\tvar v2x = x - px,\n\t\t\t\tv2y = y - py,\n\t\t\t\tccw = v2x * vy - v2y * vx;\n\t\t\tif (!isInfinite && Numerical.isMachineZero(ccw)) {\n\t\t\t\tccw = (v2x * vx + v2x * vx) / (vx * vx + vy * vy);\n\t\t\t\tif (ccw >= 0 && ccw <= 1)\n\t\t\t\t\tccw = 0;\n\t\t\t}\n\t\t\treturn ccw < 0 ? -1 : ccw > 0 ? 1 : 0;\n\t\t},\n\n\t\tgetSignedDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\tif (!asVector) {\n\t\t\t\tvx -= px;\n\t\t\t\tvy -= py;\n\t\t\t}\n\t\t\t  return  vx === 0 ? (vy > 0 ? x - px : px - x)\n\t\t\t\t\t: vy === 0 ? (vx < 0 ? y - py : py - y)\n\t\t\t\t\t: ((x - px) * vy - (y - py) * vx) / (\n\t\t\t\t\t\tvy > vx\n\t\t\t\t\t\t\t? vy * Math.sqrt(1 + (vx * vx) / (vy * vy))\n\t\t\t\t\t\t\t: vx * Math.sqrt(1 + (vy * vy) / (vx * vx))\n\t\t\t\t\t);\n\t\t},\n\n\t\tgetDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\treturn Math.abs(\n\t\t\t\t\tLine.getSignedDistance(px, py, vx, vy, x, y, asVector));\n\t\t}\n\t}\n});\n\nvar Project = PaperScopeItem.extend({\n\t_class: 'Project',\n\t_list: 'projects',\n\t_reference: 'project',\n\t_compactSerialize: true,\n\n\tinitialize: function Project(element) {\n\t\tPaperScopeItem.call(this, true);\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tthis._activeLayer = null;\n\t\tthis._currentStyle = new Style(null, null, this);\n\t\tthis._view = View.create(this,\n\t\t\t\telement || CanvasProvider.getCanvas(1, 1));\n\t\tthis._selectionItems = {};\n\t\tthis._selectionCount = 0;\n\t\tthis._updateVersion = 0;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this._children, options, true, dictionary);\n\t},\n\n\t_changed: function(flags, item) {\n\t\tif (flags & 1) {\n\t\t\tvar view = this._view;\n\t\t\tif (view) {\n\t\t\t\tview._needsUpdate = true;\n\t\t\t\tif (!view._requested && view._autoUpdate)\n\t\t\t\t\tview.requestUpdate();\n\t\t\t}\n\t\t}\n\t\tvar changes = this._changes;\n\t\tif (changes && item) {\n\t\t\tvar changesById = this._changesById,\n\t\t\t\tid = item._id,\n\t\t\t\tentry = changesById[id];\n\t\t\tif (entry) {\n\t\t\t\tentry.flags |= flags;\n\t\t\t} else {\n\t\t\t\tchanges.push(changesById[id] = { item: item, flags: flags });\n\t\t\t}\n\t\t}\n\t},\n\n\tclear: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = children.length - 1; i >= 0; i--)\n\t\t\tchildren[i].remove();\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._children.length;\n\t},\n\n\tremove: function remove() {\n\t\tif (!remove.base.call(this))\n\t\t\treturn false;\n\t\tif (this._view)\n\t\t\tthis._view.remove();\n\t\treturn true;\n\t},\n\n\tgetView: function() {\n\t\treturn this._view;\n\t},\n\n\tgetCurrentStyle: function() {\n\t\treturn this._currentStyle;\n\t},\n\n\tsetCurrentStyle: function(style) {\n\t\tthis._currentStyle.set(style);\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index;\n\t},\n\n\tgetOptions: function() {\n\t\treturn this._scope.settings;\n\t},\n\n\tgetLayers: function() {\n\t\treturn this._children;\n\t},\n\n\tgetActiveLayer: function() {\n\t\treturn this._activeLayer || new Layer({ project: this, insert: true });\n\t},\n\n\tgetSymbolDefinitions: function() {\n\t\tvar definitions = [],\n\t\t\tids = {};\n\t\tthis.getItems({\n\t\t\tclass: SymbolItem,\n\t\t\tmatch: function(item) {\n\t\t\t\tvar definition = item._definition,\n\t\t\t\t\tid = definition._id;\n\t\t\t\tif (!ids[id]) {\n\t\t\t\t\tids[id] = true;\n\t\t\t\t\tdefinitions.push(definition);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\treturn definitions;\n\t},\n\n\tgetSymbols: 'getSymbolDefinitions',\n\n\tgetSelectedItems: function() {\n\t\tvar selectionItems = this._selectionItems,\n\t\t\titems = [];\n\t\tfor (var id in selectionItems) {\n\t\t\tvar item = selectionItems[id],\n\t\t\t\tselection = item._selection;\n\t\t\tif ((selection & 1) && item.isInserted()) {\n\t\t\t\titems.push(item);\n\t\t\t} else if (!selection) {\n\t\t\t\tthis._updateSelection(item);\n\t\t\t}\n\t\t}\n\t\treturn items;\n\t},\n\n\t_updateSelection: function(item) {\n\t\tvar id = item._id,\n\t\t\tselectionItems = this._selectionItems;\n\t\tif (item._selection) {\n\t\t\tif (selectionItems[id] !== item) {\n\t\t\t\tthis._selectionCount++;\n\t\t\t\tselectionItems[id] = item;\n\t\t\t}\n\t\t} else if (selectionItems[id] === item) {\n\t\t\tthis._selectionCount--;\n\t\t\tdelete selectionItems[id];\n\t\t}\n\t},\n\n\tselectAll: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tchildren[i].setFullySelected(true);\n\t},\n\n\tdeselectAll: function() {\n\t\tvar selectionItems = this._selectionItems;\n\t\tfor (var i in selectionItems)\n\t\t\tselectionItems[i].setFullySelected(false);\n\t},\n\n\taddLayer: function(layer) {\n\t\treturn this.insertLayer(undefined, layer);\n\t},\n\n\tinsertLayer: function(index, layer) {\n\t\tif (layer instanceof Layer) {\n\t\t\tlayer._remove(false, true);\n\t\t\tBase.splice(this._children, [layer], index, 0);\n\t\t\tlayer._setProject(this, true);\n\t\t\tvar name = layer._name;\n\t\t\tif (name)\n\t\t\t\tlayer.setName(name);\n\t\t\tif (this._changes)\n\t\t\t\tlayer._changed(5);\n\t\t\tif (!this._activeLayer)\n\t\t\t\tthis._activeLayer = layer;\n\t\t} else {\n\t\t\tlayer = null;\n\t\t}\n\t\treturn layer;\n\t},\n\n\t_insertItem: function(index, item, _created) {\n\t\titem = this.insertLayer(index, item)\n\t\t\t\t|| (this._activeLayer || this._insertItem(undefined,\n\t\t\t\t\t\tnew Layer(Item.NO_INSERT), true))\n\t\t\t\t\t\t.insertChild(index, item);\n\t\tif (_created && item.activate)\n\t\t\titem.activate();\n\t\treturn item;\n\t},\n\n\tgetItems: function(options) {\n\t\treturn Item._getItems(this, options);\n\t},\n\n\tgetItem: function(options) {\n\t\treturn Item._getItems(this, options, null, null, true)[0] || null;\n\t},\n\n\timportJSON: function(json) {\n\t\tthis.activate();\n\t\tvar layer = this._activeLayer;\n\t\treturn Base.importJSON(json, layer && layer.isEmpty() && layer);\n\t},\n\n\tremoveOn: function(type) {\n\t\tvar sets = this._removeSets;\n\t\tif (sets) {\n\t\t\tif (type === 'mouseup')\n\t\t\t\tsets.mousedrag = null;\n\t\t\tvar set = sets[type];\n\t\t\tif (set) {\n\t\t\t\tfor (var id in set) {\n\t\t\t\t\tvar item = set[id];\n\t\t\t\t\tfor (var key in sets) {\n\t\t\t\t\t\tvar other = sets[key];\n\t\t\t\t\t\tif (other && other != set)\n\t\t\t\t\t\t\tdelete other[item._id];\n\t\t\t\t\t}\n\t\t\t\t\titem.remove();\n\t\t\t\t}\n\t\t\t\tsets[type] = null;\n\t\t\t}\n\t\t}\n\t},\n\n\tdraw: function(ctx, matrix, pixelRatio) {\n\t\tthis._updateVersion++;\n\t\tctx.save();\n\t\tmatrix.applyToContext(ctx);\n\t\tvar children = this._children,\n\t\t\tparam = new Base({\n\t\t\t\toffset: new Point(0, 0),\n\t\t\t\tpixelRatio: pixelRatio,\n\t\t\t\tviewMatrix: matrix.isIdentity() ? null : matrix,\n\t\t\t\tmatrices: [new Matrix()],\n\t\t\t\tupdateMatrix: true\n\t\t\t});\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tchildren[i].draw(ctx, param);\n\t\t}\n\t\tctx.restore();\n\n\t\tif (this._selectionCount > 0) {\n\t\t\tctx.save();\n\t\t\tctx.strokeWidth = 1;\n\t\t\tvar items = this._selectionItems,\n\t\t\t\tsize = this._scope.settings.handleSize,\n\t\t\t\tversion = this._updateVersion;\n\t\t\tfor (var id in items) {\n\t\t\t\titems[id]._drawSelection(ctx, matrix, size, items, version);\n\t\t\t}\n\t\t\tctx.restore();\n\t\t}\n\t}\n});\n\nvar Item = Base.extend(Emitter, {\n\tstatics: {\n\t\textend: function extend(src) {\n\t\t\tif (src._serializeFields)\n\t\t\t\tsrc._serializeFields = Base.set({},\n\t\t\t\t\tthis.prototype._serializeFields, src._serializeFields);\n\t\t\treturn extend.base.apply(this, arguments);\n\t\t},\n\n\t\tNO_INSERT: { insert: false }\n\t},\n\n\t_class: 'Item',\n\t_name: null,\n\t_applyMatrix: true,\n\t_canApplyMatrix: true,\n\t_canScaleStroke: false,\n\t_pivot: null,\n\t_visible: true,\n\t_blendMode: 'normal',\n\t_opacity: 1,\n\t_locked: false,\n\t_guide: false,\n\t_clipMask: false,\n\t_selection: 0,\n\t_selectBounds: true,\n\t_selectChildren: false,\n\t_serializeFields: {\n\t\tname: null,\n\t\tapplyMatrix: null,\n\t\tmatrix: new Matrix(),\n\t\tpivot: null,\n\t\tvisible: true,\n\t\tblendMode: 'normal',\n\t\topacity: 1,\n\t\tlocked: false,\n\t\tguide: false,\n\t\tclipMask: false,\n\t\tselected: false,\n\t\tdata: {}\n\t},\n\t_prioritize: ['applyMatrix']\n},\nnew function() {\n\tvar handlers = ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onClick',\n\t\t\t'onDoubleClick', 'onMouseMove', 'onMouseEnter', 'onMouseLeave'];\n\treturn Base.each(handlers,\n\t\tfunction(name) {\n\t\t\tthis._events[name] = {\n\t\t\t\tinstall: function(type) {\n\t\t\t\t\tthis.getView()._countItemEvent(type, 1);\n\t\t\t\t},\n\n\t\t\t\tuninstall: function(type) {\n\t\t\t\t\tthis.getView()._countItemEvent(type, -1);\n\t\t\t\t}\n\t\t\t};\n\t\t}, {\n\t\t\t_events: {\n\t\t\t\tonFrame: {\n\t\t\t\t\tinstall: function() {\n\t\t\t\t\t\tthis.getView()._animateItem(this, true);\n\t\t\t\t\t},\n\n\t\t\t\t\tuninstall: function() {\n\t\t\t\t\t\tthis.getView()._animateItem(this, false);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tonLoad: {},\n\t\t\t\tonError: {}\n\t\t\t},\n\t\t\tstatics: {\n\t\t\t\t_itemHandlers: handlers\n\t\t\t}\n\t\t}\n\t);\n}, {\n\tinitialize: function Item() {\n\t},\n\n\t_initialize: function(props, point) {\n\t\tvar hasProps = props && Base.isPlainObject(props),\n\t\t\tinternal = hasProps && props.internal === true,\n\t\t\tmatrix = this._matrix = new Matrix(),\n\t\t\tproject = hasProps && props.project || paper.project,\n\t\t\tsettings = paper.settings;\n\t\tthis._id = internal ? null : UID.get();\n\t\tthis._parent = this._index = null;\n\t\tthis._applyMatrix = this._canApplyMatrix && settings.applyMatrix;\n\t\tif (point)\n\t\t\tmatrix.translate(point);\n\t\tmatrix._owner = this;\n\t\tthis._style = new Style(project._currentStyle, this, project);\n\t\tif (internal || hasProps && props.insert == false\n\t\t\t|| !settings.insertItems && !(hasProps && props.insert === true)) {\n\t\t\tthis._setProject(project);\n\t\t} else {\n\t\t\t(hasProps && props.parent || project)\n\t\t\t\t\t._insertItem(undefined, this, true);\n\t\t}\n\t\tif (hasProps && props !== Item.NO_INSERT) {\n\t\t\tthis.set(props, {\n\t\t\t\tinternal: true, insert: true, project: true, parent: true\n\t\t\t});\n\t\t}\n\t\treturn hasProps;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar props = {},\n\t\t\tthat = this;\n\n\t\tfunction serialize(fields) {\n\t\t\tfor (var key in fields) {\n\t\t\t\tvar value = that[key];\n\t\t\t\tif (!Base.equals(value, key === 'leading'\n\t\t\t\t\t\t? fields.fontSize * 1.2 : fields[key])) {\n\t\t\t\t\tprops[key] = Base.serialize(value, options,\n\t\t\t\t\t\t\tkey !== 'data', dictionary);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tserialize(this._serializeFields);\n\t\tif (!(this instanceof Group))\n\t\t\tserialize(this._style._defaults);\n\t\treturn [ this._class, props ];\n\t},\n\n\t_changed: function(flags) {\n\t\tvar symbol = this._symbol,\n\t\t\tcacheParent = this._parent || symbol,\n\t\t\tproject = this._project;\n\t\tif (flags & 8) {\n\t\t\tthis._bounds = this._position = this._decomposed = undefined;\n\t\t}\n\t\tif (flags & 16) {\n\t\t\tthis._globalMatrix = undefined;\n\t\t}\n\t\tif (cacheParent\n\t\t\t\t&& (flags & 72)) {\n\t\t\tItem._clearBoundsCache(cacheParent);\n\t\t}\n\t\tif (flags & 2) {\n\t\t\tItem._clearBoundsCache(this);\n\t\t}\n\t\tif (project)\n\t\t\tproject._changed(flags, this);\n\t\tif (symbol)\n\t\t\tsymbol._changed(flags);\n\t},\n\n\tgetId: function() {\n\t\treturn this._id;\n\t},\n\n\tgetName: function() {\n\t\treturn this._name;\n\t},\n\n\tsetName: function(name) {\n\n\t\tif (this._name)\n\t\t\tthis._removeNamed();\n\t\tif (name === (+name) + '')\n\t\t\tthrow new Error(\n\t\t\t\t\t'Names consisting only of numbers are not supported.');\n\t\tvar owner = this._getOwner();\n\t\tif (name && owner) {\n\t\t\tvar children = owner._children,\n\t\t\t\tnamedChildren = owner._namedChildren;\n\t\t\t(namedChildren[name] = namedChildren[name] || []).push(this);\n\t\t\tif (!(name in children))\n\t\t\t\tchildren[name] = this;\n\t\t}\n\t\tthis._name = name || undefined;\n\t\tthis._changed(256);\n\t},\n\n\tgetStyle: function() {\n\t\treturn this._style;\n\t},\n\n\tsetStyle: function(style) {\n\t\tthis.getStyle().set(style);\n\t}\n}, Base.each(['locked', 'visible', 'blendMode', 'opacity', 'guide'],\n\tfunction(name) {\n\t\tvar part = Base.capitalize(name),\n\t\t\tkey = '_' + name,\n\t\t\tflags = {\n\t\t\t\tlocked: 256,\n\t\t\t\tvisible: 265\n\t\t\t};\n\t\tthis['get' + part] = function() {\n\t\t\treturn this[key];\n\t\t};\n\t\tthis['set' + part] = function(value) {\n\t\t\tif (value != this[key]) {\n\t\t\t\tthis[key] = value;\n\t\t\t\tthis._changed(flags[name] || 257);\n\t\t\t}\n\t\t};\n\t},\n{}), {\n\tbeans: true,\n\n\tgetSelection: function() {\n\t\treturn this._selection;\n\t},\n\n\tsetSelection: function(selection) {\n\t\tif (selection !== this._selection) {\n\t\t\tthis._selection = selection;\n\t\t\tvar project = this._project;\n\t\t\tif (project) {\n\t\t\t\tproject._updateSelection(this);\n\t\t\t\tthis._changed(257);\n\t\t\t}\n\t\t}\n\t},\n\n\t_changeSelection: function(flag, selected) {\n\t\tvar selection = this._selection;\n\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t},\n\n\tisSelected: function() {\n\t\tif (this._selectChildren) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tif (children[i].isSelected())\n\t\t\t\t\treturn true;\n\t\t}\n\t\treturn !!(this._selection & 1);\n\t},\n\n\tsetSelected: function(selected) {\n\t\tif (this._selectChildren) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].setSelected(selected);\n\t\t}\n\t\tthis._changeSelection(1, selected);\n\t},\n\n\tisFullySelected: function() {\n\t\tvar children = this._children,\n\t\t\tselected = !!(this._selection & 1);\n\t\tif (children && selected) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tif (!children[i].isFullySelected())\n\t\t\t\t\treturn false;\n\t\t\treturn true;\n\t\t}\n\t\treturn selected;\n\t},\n\n\tsetFullySelected: function(selected) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].setFullySelected(selected);\n\t\t}\n\t\tthis._changeSelection(1, selected);\n\t},\n\n\tisClipMask: function() {\n\t\treturn this._clipMask;\n\t},\n\n\tsetClipMask: function(clipMask) {\n\t\tif (this._clipMask != (clipMask = !!clipMask)) {\n\t\t\tthis._clipMask = clipMask;\n\t\t\tif (clipMask) {\n\t\t\t\tthis.setFillColor(null);\n\t\t\t\tthis.setStrokeColor(null);\n\t\t\t}\n\t\t\tthis._changed(257);\n\t\t\tif (this._parent)\n\t\t\t\tthis._parent._changed(2048);\n\t\t}\n\t},\n\n\tgetData: function() {\n\t\tif (!this._data)\n\t\t\tthis._data = {};\n\t\treturn this._data;\n\t},\n\n\tsetData: function(data) {\n\t\tthis._data = data;\n\t},\n\n\tgetPosition: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\tvar position = this._position ||\n\t\t\t(this._position = this._getPositionFromBounds());\n\t\treturn new ctor(position.x, position.y, this, 'setPosition');\n\t},\n\n\tsetPosition: function() {\n\t\tthis.translate(Point.read(arguments).subtract(this.getPosition(true)));\n\t},\n\n\t_getPositionFromBounds: function(bounds) {\n\t\treturn this._pivot\n\t\t\t\t? this._matrix._transformPoint(this._pivot)\n\t\t\t\t: (bounds || this.getBounds()).getCenter(true);\n\t},\n\n\tgetPivot: function() {\n\t\tvar pivot = this._pivot;\n\t\treturn pivot\n\t\t\t\t? new LinkedPoint(pivot.x, pivot.y, this, 'setPivot')\n\t\t\t\t: null;\n\t},\n\n\tsetPivot: function() {\n\t\tthis._pivot = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tthis._position = undefined;\n\t}\n}, Base.each({\n\t\tgetStrokeBounds: { stroke: true },\n\t\tgetHandleBounds: { handle: true },\n\t\tgetInternalBounds: { internal: true }\n\t},\n\tfunction(options, key) {\n\t\tthis[key] = function(matrix) {\n\t\t\treturn this.getBounds(matrix, options);\n\t\t};\n\t},\n{\n\tbeans: true,\n\n\tgetBounds: function(matrix, options) {\n\t\tvar hasMatrix = options || matrix instanceof Matrix,\n\t\t\topts = Base.set({}, hasMatrix ? options : matrix,\n\t\t\t\t\tthis._boundsOptions);\n\t\tif (!opts.stroke || this.getStrokeScaling())\n\t\t\topts.cacheItem = this;\n\t\tvar rect = this._getCachedBounds(hasMatrix && matrix, opts).rect;\n\t\treturn !arguments.length\n\t\t\t\t? new LinkedRectangle(rect.x, rect.y, rect.width, rect.height,\n\t\t\t\t\tthis, 'setBounds')\n\t\t\t\t: rect;\n\t},\n\n\tsetBounds: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tbounds = this.getBounds(),\n\t\t\t_matrix = this._matrix,\n\t\t\tmatrix = new Matrix(),\n\t\t\tcenter = rect.getCenter();\n\t\tmatrix.translate(center);\n\t\tif (rect.width != bounds.width || rect.height != bounds.height) {\n\t\t\tif (!_matrix.isInvertible()) {\n\t\t\t\t_matrix.set(_matrix._backup\n\t\t\t\t\t\t|| new Matrix().translate(_matrix.getTranslation()));\n\t\t\t\tbounds = this.getBounds();\n\t\t\t}\n\t\t\tmatrix.scale(\n\t\t\t\t\tbounds.width !== 0 ? rect.width / bounds.width : 0,\n\t\t\t\t\tbounds.height !== 0 ? rect.height / bounds.height : 0);\n\t\t}\n\t\tcenter = bounds.getCenter();\n\t\tmatrix.translate(-center.x, -center.y);\n\t\tthis.transform(matrix);\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar children = this._children;\n\t\tif (!children || !children.length)\n\t\t\treturn new Rectangle();\n\t\tItem._updateBoundsCache(this, options.cacheItem);\n\t\treturn Item._getBounds(children, matrix, options);\n\t},\n\n\t_getBoundsCacheKey: function(options, internal) {\n\t\treturn [\n\t\t\toptions.stroke ? 1 : 0,\n\t\t\toptions.handle ? 1 : 0,\n\t\t\tinternal ? 1 : 0\n\t\t].join('');\n\t},\n\n\t_getCachedBounds: function(matrix, options, noInternal) {\n\t\tmatrix = matrix && matrix._orNullIfIdentity();\n\t\tvar internal = options.internal && !noInternal,\n\t\t\tcacheItem = options.cacheItem,\n\t\t\t_matrix = internal ? null : this._matrix._orNullIfIdentity(),\n\t\t\tcacheKey = cacheItem && (!matrix || matrix.equals(_matrix))\n\t\t\t\t&& this._getBoundsCacheKey(options, internal),\n\t\t\tbounds = this._bounds;\n\t\tItem._updateBoundsCache(this._parent || this._symbol, cacheItem);\n\t\tif (cacheKey && bounds && cacheKey in bounds) {\n\t\t\tvar cached = bounds[cacheKey];\n\t\t\treturn {\n\t\t\t\trect: cached.rect.clone(),\n\t\t\t\tnonscaling: cached.nonscaling\n\t\t\t};\n\t\t}\n\t\tvar res = this._getBounds(matrix || _matrix, options),\n\t\t\trect = res.rect || res,\n\t\t\tstyle = this._style,\n\t\t\tnonscaling = res.nonscaling || style.hasStroke()\n\t\t\t\t&& !style.getStrokeScaling();\n\t\tif (cacheKey) {\n\t\t\tif (!bounds) {\n\t\t\t\tthis._bounds = bounds = {};\n\t\t\t}\n\t\t\tvar cached = bounds[cacheKey] = {\n\t\t\t\trect: rect.clone(),\n\t\t\t\tnonscaling: nonscaling,\n\t\t\t\tinternal: internal\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\trect: rect,\n\t\t\tnonscaling: nonscaling\n\t\t};\n\t},\n\n\t_getStrokeMatrix: function(matrix, options) {\n\t\tvar parent = this.getStrokeScaling() ? null\n\t\t\t\t: options && options.internal ? this\n\t\t\t\t\t: this._parent || this._symbol && this._symbol._item,\n\t\t\tmx = parent ? parent.getViewMatrix().invert() : matrix;\n\t\treturn mx && mx._shiftless();\n\t},\n\n\tstatics: {\n\t\t_updateBoundsCache: function(parent, item) {\n\t\t\tif (parent && item) {\n\t\t\t\tvar id = item._id,\n\t\t\t\t\tref = parent._boundsCache = parent._boundsCache || {\n\t\t\t\t\t\tids: {},\n\t\t\t\t\t\tlist: []\n\t\t\t\t\t};\n\t\t\t\tif (!ref.ids[id]) {\n\t\t\t\t\tref.list.push(item);\n\t\t\t\t\tref.ids[id] = item;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_clearBoundsCache: function(item) {\n\t\t\tvar cache = item._boundsCache;\n\t\t\tif (cache) {\n\t\t\t\titem._bounds = item._position = item._boundsCache = undefined;\n\t\t\t\tfor (var i = 0, list = cache.list, l = list.length; i < l; i++){\n\t\t\t\t\tvar other = list[i];\n\t\t\t\t\tif (other !== item) {\n\t\t\t\t\t\tother._bounds = other._position = undefined;\n\t\t\t\t\t\tif (other._boundsCache)\n\t\t\t\t\t\t\tItem._clearBoundsCache(other);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_getBounds: function(items, matrix, options) {\n\t\t\tvar x1 = Infinity,\n\t\t\t\tx2 = -x1,\n\t\t\t\ty1 = x1,\n\t\t\t\ty2 = x2,\n\t\t\t\tnonscaling = false;\n\t\t\toptions = options || {};\n\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\tvar item = items[i];\n\t\t\t\tif (item._visible && !item.isEmpty(true)) {\n\t\t\t\t\tvar bounds = item._getCachedBounds(\n\t\t\t\t\t\tmatrix && matrix.appended(item._matrix), options, true),\n\t\t\t\t\t\trect = bounds.rect;\n\t\t\t\t\tx1 = Math.min(rect.x, x1);\n\t\t\t\t\ty1 = Math.min(rect.y, y1);\n\t\t\t\t\tx2 = Math.max(rect.x + rect.width, x2);\n\t\t\t\t\ty2 = Math.max(rect.y + rect.height, y2);\n\t\t\t\t\tif (bounds.nonscaling)\n\t\t\t\t\t\tnonscaling = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\trect: isFinite(x1)\n\t\t\t\t\t? new Rectangle(x1, y1, x2 - x1, y2 - y1)\n\t\t\t\t\t: new Rectangle(),\n\t\t\t\tnonscaling: nonscaling\n\t\t\t};\n\t\t}\n\t}\n\n}), {\n\tbeans: true,\n\n\t_decompose: function() {\n\t\treturn this._applyMatrix\n\t\t\t? null\n\t\t\t: this._decomposed || (this._decomposed = this._matrix.decompose());\n\t},\n\n\tgetRotation: function() {\n\t\tvar decomposed = this._decompose();\n\t\treturn decomposed ? decomposed.rotation : 0;\n\t},\n\n\tsetRotation: function(rotation) {\n\t\tvar current = this.getRotation();\n\t\tif (current != null && rotation != null) {\n\t\t\tvar decomposed = this._decomposed;\n\t\t\tthis.rotate(rotation - current);\n\t\t\tif (decomposed) {\n\t\t\t\tdecomposed.rotation = rotation;\n\t\t\t\tthis._decomposed = decomposed;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetScaling: function() {\n\t\tvar decomposed = this._decompose(),\n\t\t\ts = decomposed && decomposed.scaling;\n\t\treturn new LinkedPoint(s ? s.x : 1, s ? s.y : 1, this, 'setScaling');\n\t},\n\n\tsetScaling: function() {\n\t\tvar current = this.getScaling(),\n\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tif (current && scaling && !current.equals(scaling)) {\n\t\t\tvar rotation = this.getRotation(),\n\t\t\t\tdecomposed = this._decomposed,\n\t\t\t\tmatrix = new Matrix(),\n\t\t\t\tisZero = Numerical.isZero;\n\t\t\tif (isZero(current.x) || isZero(current.y)) {\n\t\t\t\tmatrix.translate(decomposed.translation);\n\t\t\t\tif (rotation) {\n\t\t\t\t\tmatrix.rotate(rotation);\n\t\t\t\t}\n\t\t\t\tmatrix.scale(scaling.x, scaling.y);\n\t\t\t\tthis._matrix.set(matrix);\n\t\t\t} else {\n\t\t\t\tvar center = this.getPosition(true);\n\t\t\t\tmatrix.translate(center);\n\t\t\t\tif (rotation)\n\t\t\t\t\tmatrix.rotate(rotation);\n\t\t\t\tmatrix.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t\t\tif (rotation)\n\t\t\t\t\tmatrix.rotate(-rotation);\n\t\t\t\tmatrix.translate(center.negate());\n\t\t\t\tthis.transform(matrix);\n\t\t\t}\n\t\t\tif (decomposed) {\n\t\t\t\tdecomposed.scaling = scaling;\n\t\t\t\tthis._decomposed = decomposed;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetMatrix: function() {\n\t\treturn this._matrix;\n\t},\n\n\tsetMatrix: function() {\n\t\tvar matrix = this._matrix;\n\t\tmatrix.set.apply(matrix, arguments);\n\t},\n\n\tgetGlobalMatrix: function(_dontClone) {\n\t\tvar matrix = this._globalMatrix;\n\t\tif (matrix) {\n\t\t\tvar parent = this._parent;\n\t\t\tvar parents = [];\n\t\t\twhile (parent) {\n\t\t\t\tif (!parent._globalMatrix) {\n\t\t\t\t\tmatrix = null;\n\t\t\t\t\tfor (var i = 0, l = parents.length; i < l; i++) {\n\t\t\t\t\t\tparents[i]._globalMatrix = null;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tparents.push(parent);\n\t\t\t\tparent = parent._parent;\n\t\t\t}\n\t\t}\n\t\tif (!matrix) {\n\t\t\tmatrix = this._globalMatrix = this._matrix.clone();\n\t\t\tvar parent = this._parent;\n\t\t\tif (parent)\n\t\t\t\tmatrix.prepend(parent.getGlobalMatrix(true));\n\t\t}\n\t\treturn _dontClone ? matrix : matrix.clone();\n\t},\n\n\tgetViewMatrix: function() {\n\t\treturn this.getGlobalMatrix().prepend(this.getView()._matrix);\n\t},\n\n\tgetApplyMatrix: function() {\n\t\treturn this._applyMatrix;\n\t},\n\n\tsetApplyMatrix: function(apply) {\n\t\tif (this._applyMatrix = this._canApplyMatrix && !!apply)\n\t\t\tthis.transform(null, true);\n\t},\n\n\tgetTransformContent: '#getApplyMatrix',\n\tsetTransformContent: '#setApplyMatrix',\n}, {\n\tgetProject: function() {\n\t\treturn this._project;\n\t},\n\n\t_setProject: function(project, installEvents) {\n\t\tif (this._project !== project) {\n\t\t\tif (this._project)\n\t\t\t\tthis._installEvents(false);\n\t\t\tthis._project = project;\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\t\tchildren[i]._setProject(project);\n\t\t\tinstallEvents = true;\n\t\t}\n\t\tif (installEvents)\n\t\t\tthis._installEvents(true);\n\t},\n\n\tgetView: function() {\n\t\treturn this._project._view;\n\t},\n\n\t_installEvents: function _installEvents(install) {\n\t\t_installEvents.base.call(this, install);\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\tchildren[i]._installEvents(install);\n\t},\n\n\tgetLayer: function() {\n\t\tvar parent = this;\n\t\twhile (parent = parent._parent) {\n\t\t\tif (parent instanceof Layer)\n\t\t\t\treturn parent;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetParent: function() {\n\t\treturn this._parent;\n\t},\n\n\tsetParent: function(item) {\n\t\treturn item.addChild(this);\n\t},\n\n\t_getOwner: '#getParent',\n\n\tgetChildren: function() {\n\t\treturn this._children;\n\t},\n\n\tsetChildren: function(items) {\n\t\tthis.removeChildren();\n\t\tthis.addChildren(items);\n\t},\n\n\tgetFirstChild: function() {\n\t\treturn this._children && this._children[0] || null;\n\t},\n\n\tgetLastChild: function() {\n\t\treturn this._children && this._children[this._children.length - 1]\n\t\t\t\t|| null;\n\t},\n\n\tgetNextSibling: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner && owner._children[this._index + 1] || null;\n\t},\n\n\tgetPreviousSibling: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner && owner._children[this._index - 1] || null;\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index;\n\t},\n\n\tequals: function(item) {\n\t\treturn item === this || item && this._class === item._class\n\t\t\t\t&& this._style.equals(item._style)\n\t\t\t\t&& this._matrix.equals(item._matrix)\n\t\t\t\t&& this._locked === item._locked\n\t\t\t\t&& this._visible === item._visible\n\t\t\t\t&& this._blendMode === item._blendMode\n\t\t\t\t&& this._opacity === item._opacity\n\t\t\t\t&& this._clipMask === item._clipMask\n\t\t\t\t&& this._guide === item._guide\n\t\t\t\t&& this._equals(item)\n\t\t\t\t|| false;\n\t},\n\n\t_equals: function(item) {\n\t\treturn Base.equals(this._children, item._children);\n\t},\n\n\tclone: function(options) {\n\t\tvar copy = new this.constructor(Item.NO_INSERT),\n\t\t\tchildren = this._children,\n\t\t\tinsert = Base.pick(options ? options.insert : undefined,\n\t\t\t\t\toptions === undefined || options === true),\n\t\t\tdeep = Base.pick(options ? options.deep : undefined, true);\n\t\tif (children)\n\t\t\tcopy.copyAttributes(this);\n\t\tif (!children || deep)\n\t\t\tcopy.copyContent(this);\n\t\tif (!children)\n\t\t\tcopy.copyAttributes(this);\n\t\tif (insert)\n\t\t\tcopy.insertAbove(this);\n\t\tvar name = this._name,\n\t\t\tparent = this._parent;\n\t\tif (name && parent) {\n\t\t\tvar children = parent._children,\n\t\t\t\torig = name,\n\t\t\t\ti = 1;\n\t\t\twhile (children[name])\n\t\t\t\tname = orig + ' ' + (i++);\n\t\t\tif (name !== orig)\n\t\t\t\tcopy.setName(name);\n\t\t}\n\t\treturn copy;\n\t},\n\n\tcopyContent: function(source) {\n\t\tvar children = source._children;\n\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\tthis.addChild(children[i].clone(false), true);\n\t\t}\n\t},\n\n\tcopyAttributes: function(source, excludeMatrix) {\n\t\tthis.setStyle(source._style);\n\t\tvar keys = ['_locked', '_visible', '_blendMode', '_opacity',\n\t\t\t\t'_clipMask', '_guide'];\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i];\n\t\t\tif (source.hasOwnProperty(key))\n\t\t\t\tthis[key] = source[key];\n\t\t}\n\t\tif (!excludeMatrix)\n\t\t\tthis._matrix.set(source._matrix, true);\n\t\tthis.setApplyMatrix(source._applyMatrix);\n\t\tthis.setPivot(source._pivot);\n\t\tthis.setSelection(source._selection);\n\t\tvar data = source._data,\n\t\t\tname = source._name;\n\t\tthis._data = data ? Base.clone(data) : null;\n\t\tif (name)\n\t\t\tthis.setName(name);\n\t},\n\n\trasterize: function(arg0, arg1) {\n\t\tvar resolution,\n\t\t\tinsert,\n\t\t\traster;\n\t\tif (Base.isPlainObject(arg0)) {\n\t\t\tresolution = arg0.resolution;\n\t\t\tinsert = arg0.insert;\n\t\t\traster = arg0.raster;\n\t\t} else {\n\t\t\tresolution = arg0;\n\t\t\tinsert = arg1;\n\t\t}\n\t\tif (raster) {\n\t\t\traster.matrix.reset(true);\n\t\t} else {\n\t\t\traster = new Raster(Item.NO_INSERT);\n\t\t}\n\t\tvar bounds = this.getStrokeBounds(),\n\t\t\tscale = (resolution || this.getView().getResolution()) / 72,\n\t\t\ttopLeft = bounds.getTopLeft().floor(),\n\t\t\tbottomRight = bounds.getBottomRight().ceil(),\n\t\t\tboundsSize = new Size(bottomRight.subtract(topLeft)),\n\t\t\trasterSize = boundsSize.multiply(scale);\n\t\traster.setSize(rasterSize, true);\n\n\t\tif (!rasterSize.isZero()) {\n\t\t\tvar ctx = raster.getContext(true),\n\t\t\t\tmatrix = new Matrix().scale(scale).translate(topLeft.negate());\n\t\t\tctx.save();\n\t\t\tmatrix.applyToContext(ctx);\n\t\t\tthis.draw(ctx, new Base({ matrices: [matrix] }));\n\t\t\tctx.restore();\n\t\t}\n\t\traster.transform(\n\t\t\tnew Matrix()\n\t\t\t\t.translate(topLeft.add(boundsSize.divide(2)))\n\t\t\t\t.scale(1 / scale)\n\t\t);\n\t\tif (insert === undefined || insert) {\n\t\t\traster.insertAbove(this);\n\t\t}\n\t\treturn raster;\n\t},\n\n\tcontains: function() {\n\t\tvar matrix = this._matrix;\n\t\treturn (\n\t\t\tmatrix.isInvertible() &&\n\t\t\t!!this._contains(matrix._inverseTransform(Point.read(arguments)))\n\t\t);\n\t},\n\n\t_contains: function(point) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\tif (children[i].contains(point))\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn point.isInside(this.getInternalBounds());\n\t},\n\n\tisInside: function() {\n\t\treturn Rectangle.read(arguments).contains(this.getBounds());\n\t},\n\n\t_asPathItem: function() {\n\t\treturn new Path.Rectangle({\n\t\t\trectangle: this.getInternalBounds(),\n\t\t\tmatrix: this._matrix,\n\t\t\tinsert: false,\n\t\t});\n\t},\n\n\tintersects: function(item, _matrix) {\n\t\tif (!(item instanceof Item))\n\t\t\treturn false;\n\t\treturn this._asPathItem().getIntersections(item._asPathItem(), null,\n\t\t\t\t_matrix, true).length > 0;\n\t}\n},\nnew function() {\n\tfunction hitTest() {\n\t\tvar args = arguments;\n\t\treturn this._hitTest(\n\t\t\t\tPoint.read(args),\n\t\t\t\tHitResult.getOptions(args));\n\t}\n\n\tfunction hitTestAll() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\toptions = HitResult.getOptions(args),\n\t\t\tall = [];\n\t\tthis._hitTest(point, new Base({ all: all }, options));\n\t\treturn all;\n\t}\n\n\tfunction hitTestChildren(point, options, viewMatrix, _exclude) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\tvar child = children[i];\n\t\t\t\tvar res = child !== _exclude && child._hitTest(point, options,\n\t\t\t\t\t\tviewMatrix);\n\t\t\t\tif (res && !options.all)\n\t\t\t\t\treturn res;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tProject.inject({\n\t\thitTest: hitTest,\n\t\thitTestAll: hitTestAll,\n\t\t_hitTest: hitTestChildren\n\t});\n\n\treturn {\n\t\thitTest: hitTest,\n\t\thitTestAll: hitTestAll,\n\t\t_hitTestChildren: hitTestChildren,\n\t};\n}, {\n\n\t_hitTest: function(point, options, parentViewMatrix) {\n\t\tif (this._locked || !this._visible || this._guide && !options.guides\n\t\t\t\t|| this.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar matrix = this._matrix,\n\t\t\tviewMatrix = parentViewMatrix\n\t\t\t\t\t? parentViewMatrix.appended(matrix)\n\t\t\t\t\t: this.getGlobalMatrix().prepend(this.getView()._matrix),\n\t\t\ttolerance = Math.max(options.tolerance, 1e-12),\n\t\t\ttolerancePadding = options._tolerancePadding = new Size(\n\t\t\t\t\tPath._getStrokePadding(tolerance,\n\t\t\t\t\t\tmatrix._shiftless().invert()));\n\t\tpoint = matrix._inverseTransform(point);\n\t\tif (!point || !this._children &&\n\t\t\t!this.getBounds({ internal: true, stroke: true, handle: true })\n\t\t\t\t.expand(tolerancePadding.multiply(2))._containsPoint(point)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar checkSelf = !(options.guides && !this._guide\n\t\t\t\t|| options.selected && !this.isSelected()\n\t\t\t\t|| options.type && options.type !== Base.hyphenate(this._class)\n\t\t\t\t|| options.class && !(this instanceof options.class)),\n\t\t\tmatch = options.match,\n\t\t\tthat = this,\n\t\t\tbounds,\n\t\t\tres;\n\n\t\tfunction filter(hit) {\n\t\t\tif (hit && match && !match(hit))\n\t\t\t\thit = null;\n\t\t\tif (hit && options.all)\n\t\t\t\toptions.all.push(hit);\n\t\t\treturn hit;\n\t\t}\n\n\t\tfunction checkPoint(type, part) {\n\t\t\tvar pt = part ? bounds['get' + part]() : that.getPosition();\n\t\t\tif (point.subtract(pt).divide(tolerancePadding).length <= 1) {\n\t\t\t\treturn new HitResult(type, that, {\n\t\t\t\t\tname: part ? Base.hyphenate(part) : type,\n\t\t\t\t\tpoint: pt\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tvar checkPosition = options.position,\n\t\t\tcheckCenter = options.center,\n\t\t\tcheckBounds = options.bounds;\n\t\tif (checkSelf && this._parent\n\t\t\t\t&& (checkPosition || checkCenter || checkBounds)) {\n\t\t\tif (checkCenter || checkBounds) {\n\t\t\t\tbounds = this.getInternalBounds();\n\t\t\t}\n\t\t\tres = checkPosition && checkPoint('position') ||\n\t\t\t\t\tcheckCenter && checkPoint('center', 'Center');\n\t\t\tif (!res && checkBounds) {\n\t\t\t\tvar points = [\n\t\t\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'\n\t\t\t\t];\n\t\t\t\tfor (var i = 0; i < 8 && !res; i++) {\n\t\t\t\t\tres = checkPoint('bounds', points[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = filter(res);\n\t\t}\n\n\t\tif (!res) {\n\t\t\tres = this._hitTestChildren(point, options, viewMatrix)\n\t\t\t\t|| checkSelf\n\t\t\t\t\t&& filter(this._hitTestSelf(point, options, viewMatrix,\n\t\t\t\t\t\tthis.getStrokeScaling() ? null\n\t\t\t\t\t\t\t: viewMatrix._shiftless().invert()))\n\t\t\t\t|| null;\n\t\t}\n\t\tif (res && res.point) {\n\t\t\tres.point = matrix.transform(res.point);\n\t\t}\n\t\treturn res;\n\t},\n\n\t_hitTestSelf: function(point, options) {\n\t\tif (options.fill && this.hasFill() && this._contains(point))\n\t\t\treturn new HitResult('fill', this);\n\t},\n\n\tmatches: function(name, compare) {\n\t\tfunction matchObject(obj1, obj2) {\n\t\t\tfor (var i in obj1) {\n\t\t\t\tif (obj1.hasOwnProperty(i)) {\n\t\t\t\t\tvar val1 = obj1[i],\n\t\t\t\t\t\tval2 = obj2[i];\n\t\t\t\t\tif (Base.isPlainObject(val1) && Base.isPlainObject(val2)) {\n\t\t\t\t\t\tif (!matchObject(val1, val2))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (!Base.equals(val1, val2)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\tvar type = typeof name;\n\t\tif (type === 'object') {\n\t\t\tfor (var key in name) {\n\t\t\t\tif (name.hasOwnProperty(key) && !this.matches(key, name[key]))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t} else if (type === 'function') {\n\t\t\treturn name(this);\n\t\t} else if (name === 'match') {\n\t\t\treturn compare(this);\n\t\t} else {\n\t\t\tvar value = /^(empty|editable)$/.test(name)\n\t\t\t\t\t? this['is' + Base.capitalize(name)]()\n\t\t\t\t\t: name === 'type'\n\t\t\t\t\t\t? Base.hyphenate(this._class)\n\t\t\t\t\t\t: this[name];\n\t\t\tif (name === 'class') {\n\t\t\t\tif (typeof compare === 'function')\n\t\t\t\t\treturn this instanceof compare;\n\t\t\t\tvalue = this._class;\n\t\t\t}\n\t\t\tif (typeof compare === 'function') {\n\t\t\t\treturn !!compare(value);\n\t\t\t} else if (compare) {\n\t\t\t\tif (compare.test) {\n\t\t\t\t\treturn compare.test(value);\n\t\t\t\t} else if (Base.isPlainObject(compare)) {\n\t\t\t\t\treturn matchObject(compare, value);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn Base.equals(value, compare);\n\t\t}\n\t},\n\n\tgetItems: function(options) {\n\t\treturn Item._getItems(this, options, this._matrix);\n\t},\n\n\tgetItem: function(options) {\n\t\treturn Item._getItems(this, options, this._matrix, null, true)[0]\n\t\t\t\t|| null;\n\t},\n\n\tstatics: {\n\t\t_getItems: function _getItems(item, options, matrix, param, firstOnly) {\n\t\t\tif (!param) {\n\t\t\t\tvar obj = typeof options === 'object' && options,\n\t\t\t\t\toverlapping = obj && obj.overlapping,\n\t\t\t\t\tinside = obj && obj.inside,\n\t\t\t\t\tbounds = overlapping || inside,\n\t\t\t\t\trect = bounds && Rectangle.read([bounds]);\n\t\t\t\tparam = {\n\t\t\t\t\titems: [],\n\t\t\t\t\trecursive: obj && obj.recursive !== false,\n\t\t\t\t\tinside: !!inside,\n\t\t\t\t\toverlapping: !!overlapping,\n\t\t\t\t\trect: rect,\n\t\t\t\t\tpath: overlapping && new Path.Rectangle({\n\t\t\t\t\t\trectangle: rect,\n\t\t\t\t\t\tinsert: false\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t\tif (obj) {\n\t\t\t\t\toptions = Base.filter({}, options, {\n\t\t\t\t\t\trecursive: true, inside: true, overlapping: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar children = item._children,\n\t\t\t\titems = param.items,\n\t\t\t\trect = param.rect;\n\t\t\tmatrix = rect && (matrix || new Matrix());\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\t\tvar child = children[i],\n\t\t\t\t\tchildMatrix = matrix && matrix.appended(child._matrix),\n\t\t\t\t\tadd = true;\n\t\t\t\tif (rect) {\n\t\t\t\t\tvar bounds = child.getBounds(childMatrix);\n\t\t\t\t\tif (!rect.intersects(bounds))\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif (!(rect.contains(bounds)\n\t\t\t\t\t\t\t|| param.overlapping && (bounds.contains(rect)\n\t\t\t\t\t\t\t\t|| param.path.intersects(child, childMatrix))))\n\t\t\t\t\t\tadd = false;\n\t\t\t\t}\n\t\t\t\tif (add && child.matches(options)) {\n\t\t\t\t\titems.push(child);\n\t\t\t\t\tif (firstOnly)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (param.recursive !== false) {\n\t\t\t\t\t_getItems(child, options, childMatrix, param, firstOnly);\n\t\t\t\t}\n\t\t\t\tif (firstOnly && items.length > 0)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn items;\n\t\t}\n\t}\n}, {\n\n\timportJSON: function(json) {\n\t\tvar res = Base.importJSON(json, this);\n\t\treturn res !== this ? this.addChild(res) : res;\n\t},\n\n\taddChild: function(item) {\n\t\treturn this.insertChild(undefined, item);\n\t},\n\n\tinsertChild: function(index, item) {\n\t\tvar res = item ? this.insertChildren(index, [item]) : null;\n\t\treturn res && res[0];\n\t},\n\n\taddChildren: function(items) {\n\t\treturn this.insertChildren(this._children.length, items);\n\t},\n\n\tinsertChildren: function(index, items) {\n\t\tvar children = this._children;\n\t\tif (children && items && items.length > 0) {\n\t\t\titems = Base.slice(items);\n\t\t\tvar inserted = {};\n\t\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\t\tvar item = items[i],\n\t\t\t\t\tid = item && item._id;\n\t\t\t\tif (!item || inserted[id]) {\n\t\t\t\t\titems.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\titem._remove(false, true);\n\t\t\t\t\tinserted[id] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tBase.splice(children, items, index, 0);\n\t\t\tvar project = this._project,\n\t\t\t\tnotifySelf = project._changes;\n\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\tvar item = items[i],\n\t\t\t\t\tname = item._name;\n\t\t\t\titem._parent = this;\n\t\t\t\titem._setProject(project, true);\n\t\t\t\tif (name)\n\t\t\t\t\titem.setName(name);\n\t\t\t\tif (notifySelf)\n\t\t\t\t\titem._changed(5);\n\t\t\t}\n\t\t\tthis._changed(11);\n\t\t} else {\n\t\t\titems = null;\n\t\t}\n\t\treturn items;\n\t},\n\n\t_insertItem: '#insertChild',\n\n\t_insertAt: function(item, offset) {\n\t\tvar owner = item && item._getOwner(),\n\t\t\tres = item !== this && owner ? this : null;\n\t\tif (res) {\n\t\t\tres._remove(false, true);\n\t\t\towner._insertItem(item._index + offset, res);\n\t\t}\n\t\treturn res;\n\t},\n\n\tinsertAbove: function(item) {\n\t\treturn this._insertAt(item, 1);\n\t},\n\n\tinsertBelow: function(item) {\n\t\treturn this._insertAt(item, 0);\n\t},\n\n\tsendToBack: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner ? owner._insertItem(0, this) : null;\n\t},\n\n\tbringToFront: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner ? owner._insertItem(undefined, this) : null;\n\t},\n\n\tappendTop: '#addChild',\n\n\tappendBottom: function(item) {\n\t\treturn this.insertChild(0, item);\n\t},\n\n\tmoveAbove: '#insertAbove',\n\n\tmoveBelow: '#insertBelow',\n\n\taddTo: function(owner) {\n\t\treturn owner._insertItem(undefined, this);\n\t},\n\n\tcopyTo: function(owner) {\n\t\treturn this.clone(false).addTo(owner);\n\t},\n\n\treduce: function(options) {\n\t\tvar children = this._children;\n\t\tif (children && children.length === 1) {\n\t\t\tvar child = children[0].reduce(options);\n\t\t\tif (this._parent) {\n\t\t\t\tchild.insertAbove(this);\n\t\t\t\tthis.remove();\n\t\t\t} else {\n\t\t\t\tchild.remove();\n\t\t\t}\n\t\t\treturn child;\n\t\t}\n\t\treturn this;\n\t},\n\n\t_removeNamed: function() {\n\t\tvar owner = this._getOwner();\n\t\tif (owner) {\n\t\t\tvar children = owner._children,\n\t\t\t\tnamedChildren = owner._namedChildren,\n\t\t\t\tname = this._name,\n\t\t\t\tnamedArray = namedChildren[name],\n\t\t\t\tindex = namedArray ? namedArray.indexOf(this) : -1;\n\t\t\tif (index !== -1) {\n\t\t\t\tif (children[name] == this)\n\t\t\t\t\tdelete children[name];\n\t\t\t\tnamedArray.splice(index, 1);\n\t\t\t\tif (namedArray.length) {\n\t\t\t\t\tchildren[name] = namedArray[0];\n\t\t\t\t} else {\n\t\t\t\t\tdelete namedChildren[name];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_remove: function(notifySelf, notifyParent) {\n\t\tvar owner = this._getOwner(),\n\t\t\tproject = this._project,\n\t\t\tindex = this._index;\n\t\tif (this._style)\n\t\t\tthis._style._dispose();\n\t\tif (owner) {\n\t\t\tif (this._name)\n\t\t\t\tthis._removeNamed();\n\t\t\tif (index != null) {\n\t\t\t\tif (project._activeLayer === this)\n\t\t\t\t\tproject._activeLayer = this.getNextSibling()\n\t\t\t\t\t\t\t|| this.getPreviousSibling();\n\t\t\t\tBase.splice(owner._children, null, index, 1);\n\t\t\t}\n\t\t\tthis._installEvents(false);\n\t\t\tif (notifySelf && project._changes)\n\t\t\t\tthis._changed(5);\n\t\t\tif (notifyParent)\n\t\t\t\towner._changed(11, this);\n\t\t\tthis._parent = null;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tremove: function() {\n\t\treturn this._remove(true, true);\n\t},\n\n\treplaceWith: function(item) {\n\t\tvar ok = item && item.insertBelow(this);\n\t\tif (ok)\n\t\t\tthis.remove();\n\t\treturn ok;\n\t},\n\n\tremoveChildren: function(start, end) {\n\t\tif (!this._children)\n\t\t\treturn null;\n\t\tstart = start || 0;\n\t\tend = Base.pick(end, this._children.length);\n\t\tvar removed = Base.splice(this._children, null, start, end - start);\n\t\tfor (var i = removed.length - 1; i >= 0; i--) {\n\t\t\tremoved[i]._remove(true, false);\n\t\t}\n\t\tif (removed.length > 0)\n\t\t\tthis._changed(11);\n\t\treturn removed;\n\t},\n\n\tclear: '#removeChildren',\n\n\treverseChildren: function() {\n\t\tif (this._children) {\n\t\t\tthis._children.reverse();\n\t\t\tfor (var i = 0, l = this._children.length; i < l; i++)\n\t\t\t\tthis._children[i]._index = i;\n\t\t\tthis._changed(11);\n\t\t}\n\t},\n\n\tisEmpty: function(recursively) {\n\t\tvar children = this._children;\n\t\tvar numChildren = children ? children.length : 0;\n\t\tif (recursively) {\n\t\t\tfor (var i = 0; i < numChildren; i++) {\n\t\t\t\tif (!children[i].isEmpty(recursively)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn !numChildren;\n\t},\n\n\tisEditable: function() {\n\t\tvar item = this;\n\t\twhile (item) {\n\t\t\tif (!item._visible || item._locked)\n\t\t\t\treturn false;\n\t\t\titem = item._parent;\n\t\t}\n\t\treturn true;\n\t},\n\n\thasFill: function() {\n\t\treturn this.getStyle().hasFill();\n\t},\n\n\thasStroke: function() {\n\t\treturn this.getStyle().hasStroke();\n\t},\n\n\thasShadow: function() {\n\t\treturn this.getStyle().hasShadow();\n\t},\n\n\t_getOrder: function(item) {\n\t\tfunction getList(item) {\n\t\t\tvar list = [];\n\t\t\tdo {\n\t\t\t\tlist.unshift(item);\n\t\t\t} while (item = item._parent);\n\t\t\treturn list;\n\t\t}\n\t\tvar list1 = getList(this),\n\t\t\tlist2 = getList(item);\n\t\tfor (var i = 0, l = Math.min(list1.length, list2.length); i < l; i++) {\n\t\t\tif (list1[i] != list2[i]) {\n\t\t\t\treturn list1[i]._index < list2[i]._index ? 1 : -1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t},\n\n\thasChildren: function() {\n\t\treturn this._children && this._children.length > 0;\n\t},\n\n\tisInserted: function() {\n\t\treturn this._parent ? this._parent.isInserted() : false;\n\t},\n\n\tisAbove: function(item) {\n\t\treturn this._getOrder(item) === -1;\n\t},\n\n\tisBelow: function(item) {\n\t\treturn this._getOrder(item) === 1;\n\t},\n\n\tisParent: function(item) {\n\t\treturn this._parent === item;\n\t},\n\n\tisChild: function(item) {\n\t\treturn item && item._parent === this;\n\t},\n\n\tisDescendant: function(item) {\n\t\tvar parent = this;\n\t\twhile (parent = parent._parent) {\n\t\t\tif (parent === item)\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tisAncestor: function(item) {\n\t\treturn item ? item.isDescendant(this) : false;\n\t},\n\n\tisSibling: function(item) {\n\t\treturn this._parent === item._parent;\n\t},\n\n\tisGroupedWith: function(item) {\n\t\tvar parent = this._parent;\n\t\twhile (parent) {\n\t\t\tif (parent._parent\n\t\t\t\t&& /^(Group|Layer|CompoundPath)$/.test(parent._class)\n\t\t\t\t&& item.isDescendant(parent))\n\t\t\t\t\treturn true;\n\t\t\tparent = parent._parent;\n\t\t}\n\t\treturn false;\n\t},\n\n}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\tvar rotate = key === 'rotate';\n\tthis[key] = function() {\n\t\tvar args = arguments,\n\t\t\tvalue = (rotate ? Base : Point).read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\tcenter || this.getPosition(true)));\n\t};\n}, {\n\ttranslate: function() {\n\t\tvar mx = new Matrix();\n\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t},\n\n\ttransform: function(matrix, _applyRecursively, _setApplyMatrix) {\n\t\tvar _matrix = this._matrix,\n\t\t\ttransformMatrix = matrix && !matrix.isIdentity(),\n\t\t\tapplyMatrix = (\n\t\t\t\t_setApplyMatrix && this._canApplyMatrix ||\n\t\t\t\tthis._applyMatrix && (\n\t\t\t\t\ttransformMatrix || !_matrix.isIdentity() ||\n\t\t\t\t\t_applyRecursively && this._children\n\t\t\t\t)\n\t\t\t);\n\t\tif (!transformMatrix && !applyMatrix)\n\t\t\treturn this;\n\t\tif (transformMatrix) {\n\t\t\tif (!matrix.isInvertible() && _matrix.isInvertible())\n\t\t\t\t_matrix._backup = _matrix.getValues();\n\t\t\t_matrix.prepend(matrix, true);\n\t\t\tvar style = this._style,\n\t\t\t\tfillColor = style.getFillColor(true),\n\t\t\t\tstrokeColor = style.getStrokeColor(true);\n\t\t\tif (fillColor)\n\t\t\t\tfillColor.transform(matrix);\n\t\t\tif (strokeColor)\n\t\t\t\tstrokeColor.transform(matrix);\n\t\t}\n\n\t\tif (applyMatrix && (applyMatrix = this._transformContent(\n\t\t\t\t_matrix, _applyRecursively, _setApplyMatrix))) {\n\t\t\tvar pivot = this._pivot;\n\t\t\tif (pivot)\n\t\t\t\t_matrix._transformPoint(pivot, pivot, true);\n\t\t\t_matrix.reset(true);\n\t\t\tif (_setApplyMatrix && this._canApplyMatrix)\n\t\t\t\tthis._applyMatrix = true;\n\t\t}\n\t\tvar bounds = this._bounds,\n\t\t\tposition = this._position;\n\t\tif (transformMatrix || applyMatrix) {\n\t\t\tthis._changed(25);\n\t\t}\n\t\tvar decomp = transformMatrix && bounds && matrix.decompose();\n\t\tif (decomp && decomp.skewing.isZero() && decomp.rotation % 90 === 0) {\n\t\t\tfor (var key in bounds) {\n\t\t\t\tvar cache = bounds[key];\n\t\t\t\tif (cache.nonscaling) {\n\t\t\t\t\tdelete bounds[key];\n\t\t\t\t} else if (applyMatrix || !cache.internal) {\n\t\t\t\t\tvar rect = cache.rect;\n\t\t\t\t\tmatrix._transformBounds(rect, rect);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._bounds = bounds;\n\t\t\tvar cached = bounds[this._getBoundsCacheKey(\n\t\t\t\tthis._boundsOptions || {})];\n\t\t\tif (cached) {\n\t\t\t\tthis._position = this._getPositionFromBounds(cached.rect);\n\t\t\t}\n\t\t} else if (transformMatrix && position && this._pivot) {\n\t\t\tthis._position = matrix._transformPoint(position, position);\n\t\t}\n\t\treturn this;\n\t},\n\n\t_transformContent: function(matrix, applyRecursively, setApplyMatrix) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tchildren[i].transform(matrix, applyRecursively, setApplyMatrix);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t},\n\n\tglobalToLocal: function() {\n\t\treturn this.getGlobalMatrix(true)._inverseTransform(\n\t\t\t\tPoint.read(arguments));\n\t},\n\n\tlocalToGlobal: function() {\n\t\treturn this.getGlobalMatrix(true)._transformPoint(\n\t\t\t\tPoint.read(arguments));\n\t},\n\n\tparentToLocal: function() {\n\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t},\n\n\tlocalToParent: function() {\n\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t},\n\n\tfitBounds: function(rectangle, fill) {\n\t\trectangle = Rectangle.read(arguments);\n\t\tvar bounds = this.getBounds(),\n\t\t\titemRatio = bounds.height / bounds.width,\n\t\t\trectRatio = rectangle.height / rectangle.width,\n\t\t\tscale = (fill ? itemRatio > rectRatio : itemRatio < rectRatio)\n\t\t\t\t\t? rectangle.width / bounds.width\n\t\t\t\t\t: rectangle.height / bounds.height,\n\t\t\tnewBounds = new Rectangle(new Point(),\n\t\t\t\t\tnew Size(bounds.width * scale, bounds.height * scale));\n\t\tnewBounds.setCenter(rectangle.getCenter());\n\t\tthis.setBounds(newBounds);\n\t}\n}), {\n\n\t_setStyles: function(ctx, param, viewMatrix) {\n\t\tvar style = this._style,\n\t\t\tmatrix = this._matrix;\n\t\tif (style.hasFill()) {\n\t\t\tctx.fillStyle = style.getFillColor().toCanvasStyle(ctx, matrix);\n\t\t}\n\t\tif (style.hasStroke()) {\n\t\t\tctx.strokeStyle = style.getStrokeColor().toCanvasStyle(ctx, matrix);\n\t\t\tctx.lineWidth = style.getStrokeWidth();\n\t\t\tvar strokeJoin = style.getStrokeJoin(),\n\t\t\t\tstrokeCap = style.getStrokeCap(),\n\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\tif (strokeJoin)\n\t\t\t\tctx.lineJoin = strokeJoin;\n\t\t\tif (strokeCap)\n\t\t\t\tctx.lineCap = strokeCap;\n\t\t\tif (miterLimit)\n\t\t\t\tctx.miterLimit = miterLimit;\n\t\t\tif (paper.support.nativeDash) {\n\t\t\t\tvar dashArray = style.getDashArray(),\n\t\t\t\t\tdashOffset = style.getDashOffset();\n\t\t\t\tif (dashArray && dashArray.length) {\n\t\t\t\t\tif ('setLineDash' in ctx) {\n\t\t\t\t\t\tctx.setLineDash(dashArray);\n\t\t\t\t\t\tctx.lineDashOffset = dashOffset;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.mozDash = dashArray;\n\t\t\t\t\t\tctx.mozDashOffset = dashOffset;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (style.hasShadow()) {\n\t\t\tvar pixelRatio = param.pixelRatio || 1,\n\t\t\t\tmx = viewMatrix._shiftless().prepend(\n\t\t\t\t\tnew Matrix().scale(pixelRatio, pixelRatio)),\n\t\t\t\tblur = mx.transform(new Point(style.getShadowBlur(), 0)),\n\t\t\t\toffset = mx.transform(this.getShadowOffset());\n\t\t\tctx.shadowColor = style.getShadowColor().toCanvasStyle(ctx);\n\t\t\tctx.shadowBlur = blur.getLength();\n\t\t\tctx.shadowOffsetX = offset.x;\n\t\t\tctx.shadowOffsetY = offset.y;\n\t\t}\n\t},\n\n\tdraw: function(ctx, param, parentStrokeMatrix) {\n\t\tvar updateVersion = this._updateVersion = this._project._updateVersion;\n\t\tif (!this._visible || this._opacity === 0)\n\t\t\treturn;\n\t\tvar matrices = param.matrices,\n\t\t\tviewMatrix = param.viewMatrix,\n\t\t\tmatrix = this._matrix,\n\t\t\tglobalMatrix = matrices[matrices.length - 1].appended(matrix);\n\t\tif (!globalMatrix.isInvertible())\n\t\t\treturn;\n\n\t\tviewMatrix = viewMatrix ? viewMatrix.appended(globalMatrix)\n\t\t\t\t: globalMatrix;\n\n\t\tmatrices.push(globalMatrix);\n\t\tif (param.updateMatrix) {\n\t\t\tthis._globalMatrix = globalMatrix;\n\t\t}\n\n\t\tvar blendMode = this._blendMode,\n\t\t\topacity = Numerical.clamp(this._opacity, 0, 1),\n\t\t\tnormalBlend = blendMode === 'normal',\n\t\t\tnativeBlend = BlendMode.nativeModes[blendMode],\n\t\t\tdirect = normalBlend && opacity === 1\n\t\t\t\t\t|| param.dontStart\n\t\t\t\t\t|| param.clip\n\t\t\t\t\t|| (nativeBlend || normalBlend && opacity < 1)\n\t\t\t\t\t\t&& this._canComposite(),\n\t\t\tpixelRatio = param.pixelRatio || 1,\n\t\t\tmainCtx, itemOffset, prevOffset;\n\t\tif (!direct) {\n\t\t\tvar bounds = this.getStrokeBounds(viewMatrix);\n\t\t\tif (!bounds.width || !bounds.height) {\n\t\t\t\tmatrices.pop();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tprevOffset = param.offset;\n\t\t\titemOffset = param.offset = bounds.getTopLeft().floor();\n\t\t\tmainCtx = ctx;\n\t\t\tctx = CanvasProvider.getContext(bounds.getSize().ceil().add(1)\n\t\t\t\t\t.multiply(pixelRatio));\n\t\t\tif (pixelRatio !== 1)\n\t\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t}\n\t\tctx.save();\n\t\tvar strokeMatrix = parentStrokeMatrix\n\t\t\t\t? parentStrokeMatrix.appended(matrix)\n\t\t\t\t: this._canScaleStroke && !this.getStrokeScaling(true)\n\t\t\t\t\t&& viewMatrix,\n\t\t\tclip = !direct && param.clipItem,\n\t\t\ttransform = !strokeMatrix || clip;\n\t\tif (direct) {\n\t\t\tctx.globalAlpha = opacity;\n\t\t\tif (nativeBlend)\n\t\t\t\tctx.globalCompositeOperation = blendMode;\n\t\t} else if (transform) {\n\t\t\tctx.translate(-itemOffset.x, -itemOffset.y);\n\t\t}\n\t\tif (transform) {\n\t\t\t(direct ? matrix : viewMatrix).applyToContext(ctx);\n\t\t}\n\t\tif (clip) {\n\t\t\tparam.clipItem.draw(ctx, param.extend({ clip: true }));\n\t\t}\n\t\tif (strokeMatrix) {\n\t\t\tctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n\t\t\tvar offset = param.offset;\n\t\t\tif (offset)\n\t\t\t\tctx.translate(-offset.x, -offset.y);\n\t\t}\n\t\tthis._draw(ctx, param, viewMatrix, strokeMatrix);\n\t\tctx.restore();\n\t\tmatrices.pop();\n\t\tif (param.clip && !param.dontFinish) {\n\t\t\tctx.clip(this.getFillRule());\n\t\t}\n\t\tif (!direct) {\n\t\t\tBlendMode.process(blendMode, ctx, mainCtx, opacity,\n\t\t\t\t\titemOffset.subtract(prevOffset).multiply(pixelRatio));\n\t\t\tCanvasProvider.release(ctx);\n\t\t\tparam.offset = prevOffset;\n\t\t}\n\t},\n\n\t_isUpdated: function(updateVersion) {\n\t\tvar parent = this._parent;\n\t\tif (parent instanceof CompoundPath)\n\t\t\treturn parent._isUpdated(updateVersion);\n\t\tvar updated = this._updateVersion === updateVersion;\n\t\tif (!updated && parent && parent._visible\n\t\t\t\t&& parent._isUpdated(updateVersion)) {\n\t\t\tthis._updateVersion = updateVersion;\n\t\t\tupdated = true;\n\t\t}\n\t\treturn updated;\n\t},\n\n\t_drawSelection: function(ctx, matrix, size, selectionItems, updateVersion) {\n\t\tvar selection = this._selection,\n\t\t\titemSelected = selection & 1,\n\t\t\tboundsSelected = selection & 2\n\t\t\t\t\t|| itemSelected && this._selectBounds,\n\t\t\tpositionSelected = selection & 4;\n\t\tif (!this._drawSelected)\n\t\t\titemSelected = false;\n\t\tif ((itemSelected || boundsSelected || positionSelected)\n\t\t\t\t&& this._isUpdated(updateVersion)) {\n\t\t\tvar layer,\n\t\t\t\tcolor = this.getSelectedColor(true) || (layer = this.getLayer())\n\t\t\t\t\t&& layer.getSelectedColor(true),\n\t\t\t\tmx = matrix.appended(this.getGlobalMatrix(true)),\n\t\t\t\thalf = size / 2;\n\t\t\tctx.strokeStyle = ctx.fillStyle = color\n\t\t\t\t\t? color.toCanvasStyle(ctx) : '#009dec';\n\t\t\tif (itemSelected)\n\t\t\t\tthis._drawSelected(ctx, mx, selectionItems);\n\t\t\tif (positionSelected) {\n\t\t\t\tvar pos = this.getPosition(true),\n\t\t\t\t\tparent = this._parent,\n\t\t\t\t\tpoint = parent ? parent.localToGlobal(pos) : pos,\n\t\t\t\t\tx = point.x,\n\t\t\t\t\ty = point.y;\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(x, y, half, 0, Math.PI * 2, true);\n\t\t\t\tctx.stroke();\n\t\t\t\tvar deltas = [[0, -1], [1, 0], [0, 1], [-1, 0]],\n\t\t\t\t\tstart = half,\n\t\t\t\t\tend = size + 1;\n\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\tvar delta = deltas[i],\n\t\t\t\t\t\tdx = delta[0],\n\t\t\t\t\t\tdy = delta[1];\n\t\t\t\t\tctx.moveTo(x + dx * start, y + dy * start);\n\t\t\t\t\tctx.lineTo(x + dx * end, y + dy * end);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (boundsSelected) {\n\t\t\t\tvar coords = mx._transformCorners(this.getInternalBounds());\n\t\t\t\tctx.beginPath();\n\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\tctx[!i ? 'moveTo' : 'lineTo'](coords[i], coords[++i]);\n\t\t\t\t}\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.stroke();\n\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\tctx.fillRect(coords[i] - half, coords[++i] - half,\n\t\t\t\t\t\t\tsize, size);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn false;\n\t}\n}, Base.each(['down', 'drag', 'up', 'move'], function(key) {\n\tthis['removeOn' + Base.capitalize(key)] = function() {\n\t\tvar hash = {};\n\t\thash[key] = true;\n\t\treturn this.removeOn(hash);\n\t};\n}, {\n\n\tremoveOn: function(obj) {\n\t\tfor (var name in obj) {\n\t\t\tif (obj[name]) {\n\t\t\t\tvar key = 'mouse' + name,\n\t\t\t\t\tproject = this._project,\n\t\t\t\t\tsets = project._removeSets = project._removeSets || {};\n\t\t\t\tsets[key] = sets[key] || {};\n\t\t\t\tsets[key][this._id] = this;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n}), {\n\ttween: function(from, to, options) {\n\t\tif (!options) {\n\t\t\toptions = to;\n\t\t\tto = from;\n\t\t\tfrom = null;\n\t\t\tif (!options) {\n\t\t\t\toptions = to;\n\t\t\t\tto = null;\n\t\t\t}\n\t\t}\n\t\tvar easing = options && options.easing,\n\t\t\tstart = options && options.start,\n\t\t\tduration = options != null && (\n\t\t\t\ttypeof options === 'number' ? options : options.duration\n\t\t\t),\n\t\t\ttween = new Tween(this, from, to, duration, easing, start);\n\t\tfunction onFrame(event) {\n\t\t\ttween._handleFrame(event.time * 1000);\n\t\t\tif (!tween.running) {\n\t\t\t\tthis.off('frame', onFrame);\n\t\t\t}\n\t\t}\n\t\tif (duration) {\n\t\t\tthis.on('frame', onFrame);\n\t\t}\n\t\treturn tween;\n\t},\n\n\ttweenTo: function(to, options) {\n\t\treturn this.tween(null, to, options);\n\t},\n\n\ttweenFrom: function(from, options) {\n\t\treturn this.tween(from, null, options);\n\t}\n});\n\nvar Group = Item.extend({\n\t_class: 'Group',\n\t_selectBounds: false,\n\t_selectChildren: true,\n\t_serializeFields: {\n\t\tchildren: []\n\t},\n\n\tinitialize: function Group(arg) {\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tif (!this._initialize(arg))\n\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t},\n\n\t_changed: function _changed(flags) {\n\t\t_changed.base.call(this, flags);\n\t\tif (flags & 2050) {\n\t\t\tthis._clipItem = undefined;\n\t\t}\n\t},\n\n\t_getClipItem: function() {\n\t\tvar clipItem = this._clipItem;\n\t\tif (clipItem === undefined) {\n\t\t\tclipItem = null;\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tif (children[i]._clipMask) {\n\t\t\t\t\tclipItem = children[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._clipItem = clipItem;\n\t\t}\n\t\treturn clipItem;\n\t},\n\n\tisClipped: function() {\n\t\treturn !!this._getClipItem();\n\t},\n\n\tsetClipped: function(clipped) {\n\t\tvar child = this.getFirstChild();\n\t\tif (child)\n\t\t\tchild.setClipMask(clipped);\n\t},\n\n\t_getBounds: function _getBounds(matrix, options) {\n\t\tvar clipItem = this._getClipItem();\n\t\treturn clipItem\n\t\t\t? clipItem._getCachedBounds(clipItem._matrix.prepended(matrix),\n\t\t\t\tBase.set({}, options, { stroke: false }))\n\t\t\t: _getBounds.base.call(this, matrix, options);\n\t},\n\n\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\tvar clipItem = this._getClipItem();\n\t\treturn (!clipItem || clipItem.contains(point))\n\t\t\t\t&& _hitTestChildren.base.call(this, point, options, viewMatrix,\n\t\t\t\t\tclipItem);\n\t},\n\n\t_draw: function(ctx, param) {\n\t\tvar clip = param.clip,\n\t\t\tclipItem = !clip && this._getClipItem();\n\t\tparam = param.extend({ clipItem: clipItem, clip: false });\n\t\tif (clip) {\n\t\t\tctx.beginPath();\n\t\t\tparam.dontStart = param.dontFinish = true;\n\t\t} else if (clipItem) {\n\t\t\tclipItem.draw(ctx, param.extend({ clip: true }));\n\t\t}\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar item = children[i];\n\t\t\tif (item !== clipItem)\n\t\t\t\titem.draw(ctx, param);\n\t\t}\n\t}\n});\n\nvar Layer = Group.extend({\n\t_class: 'Layer',\n\n\tinitialize: function Layer() {\n\t\tGroup.apply(this, arguments);\n\t},\n\n\t_getOwner: function() {\n\t\treturn this._parent || this._index != null && this._project;\n\t},\n\n\tisInserted: function isInserted() {\n\t\treturn this._parent ? isInserted.base.call(this) : this._index != null;\n\t},\n\n\tactivate: function() {\n\t\tthis._project._activeLayer = this;\n\t},\n\n\t_hitTestSelf: function() {\n\t}\n});\n\nvar Shape = Item.extend({\n\t_class: 'Shape',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_canScaleStroke: true,\n\t_serializeFields: {\n\t\ttype: null,\n\t\tsize: null,\n\t\tradius: null\n\t},\n\n\tinitialize: function Shape(props, point) {\n\t\tthis._initialize(props, point);\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._type === item._type\n\t\t\t&& this._size.equals(item._size)\n\t\t\t&& Base.equals(this._radius, item._radius);\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setType(source._type);\n\t\tthis.setSize(source._size);\n\t\tthis.setRadius(source._radius);\n\t},\n\n\tgetType: function() {\n\t\treturn this._type;\n\t},\n\n\tsetType: function(type) {\n\t\tthis._type = type;\n\t},\n\n\tgetShape: '#getType',\n\tsetShape: '#setType',\n\n\tgetSize: function() {\n\t\tvar size = this._size;\n\t\treturn new LinkedSize(size.width, size.height, this, 'setSize');\n\t},\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments);\n\t\tif (!this._size) {\n\t\t\tthis._size = size.clone();\n\t\t} else if (!this._size.equals(size)) {\n\t\t\tvar type = this._type,\n\t\t\t\twidth = size.width,\n\t\t\t\theight = size.height;\n\t\t\tif (type === 'rectangle') {\n\t\t\t\tthis._radius.set(Size.min(this._radius, size.divide(2).abs()));\n\t\t\t} else if (type === 'circle') {\n\t\t\t\twidth = height = (width + height) / 2;\n\t\t\t\tthis._radius = width / 2;\n\t\t\t} else if (type === 'ellipse') {\n\t\t\t\tthis._radius._set(width / 2, height / 2);\n\t\t\t}\n\t\t\tthis._size._set(width, height);\n\t\t\tthis._changed(9);\n\t\t}\n\t},\n\n\tgetRadius: function() {\n\t\tvar rad = this._radius;\n\t\treturn this._type === 'circle'\n\t\t\t\t? rad\n\t\t\t\t: new LinkedSize(rad.width, rad.height, this, 'setRadius');\n\t},\n\n\tsetRadius: function(radius) {\n\t\tvar type = this._type;\n\t\tif (type === 'circle') {\n\t\t\tif (radius === this._radius)\n\t\t\t\treturn;\n\t\t\tvar size = radius * 2;\n\t\t\tthis._radius = radius;\n\t\t\tthis._size._set(size, size);\n\t\t} else {\n\t\t\tradius = Size.read(arguments);\n\t\t\tif (!this._radius) {\n\t\t\t\tthis._radius = radius.clone();\n\t\t\t} else {\n\t\t\t\tif (this._radius.equals(radius))\n\t\t\t\t\treturn;\n\t\t\t\tthis._radius.set(radius);\n\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\tvar size = Size.max(this._size, radius.multiply(2));\n\t\t\t\t\tthis._size.set(size);\n\t\t\t\t} else if (type === 'ellipse') {\n\t\t\t\t\tthis._size._set(radius.width * 2, radius.height * 2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis._changed(9);\n\t},\n\n\tisEmpty: function() {\n\t\treturn false;\n\t},\n\n\ttoPath: function(insert) {\n\t\tvar path = new Path[Base.capitalize(this._type)]({\n\t\t\tcenter: new Point(),\n\t\t\tsize: this._size,\n\t\t\tradius: this._radius,\n\t\t\tinsert: false\n\t\t});\n\t\tpath.copyAttributes(this);\n\t\tif (paper.settings.applyMatrix)\n\t\t\tpath.setApplyMatrix(true);\n\t\tif (insert === undefined || insert)\n\t\t\tpath.insertAbove(this);\n\t\treturn path;\n\t},\n\n\ttoShape: '#clone',\n\n\t_asPathItem: function() {\n\t\treturn this.toPath(false);\n\t},\n\n\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\tvar style = this._style,\n\t\t\thasFill = style.hasFill(),\n\t\t\thasStroke = style.hasStroke(),\n\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\tuntransformed = !strokeMatrix;\n\t\tif (hasFill || hasStroke || dontPaint) {\n\t\t\tvar type = this._type,\n\t\t\t\tradius = this._radius,\n\t\t\t\tisCircle = type === 'circle';\n\t\t\tif (!param.dontStart)\n\t\t\t\tctx.beginPath();\n\t\t\tif (untransformed && isCircle) {\n\t\t\t\tctx.arc(0, 0, radius, 0, Math.PI * 2, true);\n\t\t\t} else {\n\t\t\t\tvar rx = isCircle ? radius : radius.width,\n\t\t\t\t\try = isCircle ? radius : radius.height,\n\t\t\t\t\tsize = this._size,\n\t\t\t\t\twidth = size.width,\n\t\t\t\t\theight = size.height;\n\t\t\t\tif (untransformed && type === 'rectangle' && rx === 0 && ry === 0) {\n\t\t\t\t\tctx.rect(-width / 2, -height / 2, width, height);\n\t\t\t\t} else {\n\t\t\t\t\tvar x = width / 2,\n\t\t\t\t\t\ty = height / 2,\n\t\t\t\t\t\tkappa = 1 - 0.5522847498307936,\n\t\t\t\t\t\tcx = rx * kappa,\n\t\t\t\t\t\tcy = ry * kappa,\n\t\t\t\t\t\tc = [\n\t\t\t\t\t\t\t-x, -y + ry,\n\t\t\t\t\t\t\t-x, -y + cy,\n\t\t\t\t\t\t\t-x + cx, -y,\n\t\t\t\t\t\t\t-x + rx, -y,\n\t\t\t\t\t\t\tx - rx, -y,\n\t\t\t\t\t\t\tx - cx, -y,\n\t\t\t\t\t\t\tx, -y + cy,\n\t\t\t\t\t\t\tx, -y + ry,\n\t\t\t\t\t\t\tx, y - ry,\n\t\t\t\t\t\t\tx, y - cy,\n\t\t\t\t\t\t\tx - cx, y,\n\t\t\t\t\t\t\tx - rx, y,\n\t\t\t\t\t\t\t-x + rx, y,\n\t\t\t\t\t\t\t-x + cx, y,\n\t\t\t\t\t\t\t-x, y - cy,\n\t\t\t\t\t\t\t-x, y - ry\n\t\t\t\t\t\t];\n\t\t\t\t\tif (strokeMatrix)\n\t\t\t\t\t\tstrokeMatrix.transform(c, c, 32);\n\t\t\t\t\tctx.moveTo(c[0], c[1]);\n\t\t\t\t\tctx.bezierCurveTo(c[2], c[3], c[4], c[5], c[6], c[7]);\n\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\tctx.lineTo(c[8], c[9]);\n\t\t\t\t\tctx.bezierCurveTo(c[10], c[11], c[12], c[13], c[14], c[15]);\n\t\t\t\t\tif (y !== ry)\n\t\t\t\t\t\tctx.lineTo(c[16], c[17]);\n\t\t\t\t\tctx.bezierCurveTo(c[18], c[19], c[20], c[21], c[22], c[23]);\n\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\tctx.lineTo(c[24], c[25]);\n\t\t\t\t\tctx.bezierCurveTo(c[26], c[27], c[28], c[29], c[30], c[31]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tctx.closePath();\n\t\t}\n\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\tif (hasFill) {\n\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (hasStroke)\n\t\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn !(this.hasFill() && this.hasStroke());\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\tstyle = this._style,\n\t\t\tstrokeWidth = options.stroke && style.hasStroke()\n\t\t\t\t\t&& style.getStrokeWidth();\n\t\tif (matrix)\n\t\t\trect = matrix._transformBounds(rect);\n\t\treturn strokeWidth\n\t\t\t\t? rect.expand(Path._getStrokePadding(strokeWidth,\n\t\t\t\t\tthis._getStrokeMatrix(matrix, options)))\n\t\t\t\t: rect;\n\t}\n},\nnew function() {\n\tfunction getCornerCenter(that, point, expand) {\n\t\tvar radius = that._radius;\n\t\tif (!radius.isZero()) {\n\t\t\tvar halfSize = that._size.divide(2);\n\t\t\tfor (var q = 1; q <= 4; q++) {\n\t\t\t\tvar dir = new Point(q > 1 && q < 4 ? -1 : 1, q > 2 ? -1 : 1),\n\t\t\t\t\tcorner = dir.multiply(halfSize),\n\t\t\t\t\tcenter = corner.subtract(dir.multiply(radius)),\n\t\t\t\t\trect = new Rectangle(\n\t\t\t\t\t\t\texpand ? corner.add(dir.multiply(expand)) : corner,\n\t\t\t\t\t\t\tcenter);\n\t\t\t\tif (rect.contains(point))\n\t\t\t\t\treturn { point: center, quadrant: q };\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction isOnEllipseStroke(point, radius, padding, quadrant) {\n\t\tvar vector = point.divide(radius);\n\t\treturn (!quadrant || vector.isInQuadrant(quadrant)) &&\n\t\t\t\tvector.subtract(vector.normalize()).multiply(radius)\n\t\t\t\t\t.divide(padding).length <= 1;\n\t}\n\n\treturn {\n\t\t_contains: function _contains(point) {\n\t\t\tif (this._type === 'rectangle') {\n\t\t\t\tvar center = getCornerCenter(this, point);\n\t\t\t\treturn center\n\t\t\t\t\t\t? point.subtract(center.point).divide(this._radius)\n\t\t\t\t\t\t\t.getLength() <= 1\n\t\t\t\t\t\t: _contains.base.call(this, point);\n\t\t\t} else {\n\t\t\t\treturn point.divide(this.size).getLength() <= 0.5;\n\t\t\t}\n\t\t},\n\n\t\t_hitTestSelf: function _hitTestSelf(point, options, viewMatrix,\n\t\t\t\tstrokeMatrix) {\n\t\t\tvar hit = false,\n\t\t\t\tstyle = this._style,\n\t\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\t\thitFill = options.fill && style.hasFill();\n\t\t\tif (hitStroke || hitFill) {\n\t\t\t\tvar type = this._type,\n\t\t\t\t\tradius = this._radius,\n\t\t\t\t\tstrokeRadius = hitStroke ? style.getStrokeWidth() / 2 : 0,\n\t\t\t\t\tstrokePadding = options._tolerancePadding.add(\n\t\t\t\t\t\tPath._getStrokePadding(strokeRadius,\n\t\t\t\t\t\t\t!style.getStrokeScaling() && strokeMatrix));\n\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\tvar padding = strokePadding.multiply(2),\n\t\t\t\t\t\tcenter = getCornerCenter(this, point, padding);\n\t\t\t\t\tif (center) {\n\t\t\t\t\t\thit = isOnEllipseStroke(point.subtract(center.point),\n\t\t\t\t\t\t\t\tradius, strokePadding, center.quadrant);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\t\t\t\t\touter = rect.expand(padding),\n\t\t\t\t\t\t\tinner = rect.expand(padding.negate());\n\t\t\t\t\t\thit = outer._containsPoint(point)\n\t\t\t\t\t\t\t\t&& !inner._containsPoint(point);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\thit = isOnEllipseStroke(point, radius, strokePadding);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn hit ? new HitResult(hitStroke ? 'stroke' : 'fill', this)\n\t\t\t\t\t: _hitTestSelf.base.apply(this, arguments);\n\t\t}\n\t};\n}, {\n\nstatics: new function() {\n\tfunction createShape(type, point, size, radius, args) {\n\t\tvar item = Base.create(Shape.prototype);\n\t\titem._type = type;\n\t\titem._size = size;\n\t\titem._radius = radius;\n\t\titem._initialize(Base.getNamed(args), point);\n\t\treturn item;\n\t}\n\n\treturn {\n\t\tCircle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tradius = Base.readNamed(args, 'radius');\n\t\t\treturn createShape('circle', center, new Size(radius * 2), radius,\n\t\t\t\t\targs);\n\t\t},\n\n\t\tRectangle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\trect = Rectangle.readNamed(args, 'rectangle'),\n\t\t\t\tradius = Size.min(Size.readNamed(args, 'radius'),\n\t\t\t\t\t\trect.getSize(true).divide(2));\n\t\t\treturn createShape('rectangle', rect.getCenter(true),\n\t\t\t\t\trect.getSize(true), radius, args);\n\t\t},\n\n\t\tEllipse: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tellipse = Shape._readEllipse(args),\n\t\t\t\tradius = ellipse.radius;\n\t\t\treturn createShape('ellipse', ellipse.center, radius.multiply(2),\n\t\t\t\t\tradius, args);\n\t\t},\n\n\t\t_readEllipse: function(args) {\n\t\t\tvar center,\n\t\t\t\tradius;\n\t\t\tif (Base.hasNamed(args, 'radius')) {\n\t\t\t\tcenter = Point.readNamed(args, 'center');\n\t\t\t\tradius = Size.readNamed(args, 'radius');\n\t\t\t} else {\n\t\t\t\tvar rect = Rectangle.readNamed(args, 'rectangle');\n\t\t\t\tcenter = rect.getCenter(true);\n\t\t\t\tradius = rect.getSize(true).divide(2);\n\t\t\t}\n\t\t\treturn { center: center, radius: radius };\n\t\t}\n\t};\n}});\n\nvar Raster = Item.extend({\n\t_class: 'Raster',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_boundsOptions: { stroke: false, handle: false },\n\t_serializeFields: {\n\t\tcrossOrigin: null,\n\t\tsource: null\n\t},\n\t_prioritize: ['crossOrigin'],\n\t_smoothing: 'low',\n\tbeans: true,\n\n\tinitialize: function Raster(source, position) {\n\t\tif (!this._initialize(source,\n\t\t\t\tposition !== undefined && Point.read(arguments))) {\n\t\t\tvar image,\n\t\t\t\ttype = typeof source,\n\t\t\t\tobject = type === 'string'\n\t\t\t\t\t? document.getElementById(source)\n\t\t\t\t\t: type  === 'object'\n\t\t\t\t\t\t? source\n\t\t\t\t\t\t: null;\n\t\t\tif (object && object !== Item.NO_INSERT) {\n\t\t\t\tif (object.getContext || object.naturalHeight != null) {\n\t\t\t\t\timage = object;\n\t\t\t\t} else if (object) {\n\t\t\t\t\tvar size = Size.read(arguments);\n\t\t\t\t\tif (!size.isZero()) {\n\t\t\t\t\t\timage = CanvasProvider.getCanvas(size);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (image) {\n\t\t\t\tthis.setImage(image);\n\t\t\t} else {\n\t\t\t\tthis.setSource(source);\n\t\t\t}\n\t\t}\n\t\tif (!this._size) {\n\t\t\tthis._size = new Size();\n\t\t\tthis._loaded = false;\n\t\t}\n\t},\n\n\t_equals: function(item) {\n\t\treturn this.getSource() === item.getSource();\n\t},\n\n\tcopyContent: function(source) {\n\t\tvar image = source._image,\n\t\t\tcanvas = source._canvas;\n\t\tif (image) {\n\t\t\tthis._setImage(image);\n\t\t} else if (canvas) {\n\t\t\tvar copyCanvas = CanvasProvider.getCanvas(source._size);\n\t\t\tcopyCanvas.getContext('2d').drawImage(canvas, 0, 0);\n\t\t\tthis._setImage(copyCanvas);\n\t\t}\n\t\tthis._crossOrigin = source._crossOrigin;\n\t},\n\n\tgetSize: function() {\n\t\tvar size = this._size;\n\t\treturn new LinkedSize(size ? size.width : 0, size ? size.height : 0,\n\t\t\t\tthis, 'setSize');\n\t},\n\n\tsetSize: function(_size, _clear) {\n\t\tvar size = Size.read(arguments);\n\t\tif (!size.equals(this._size)) {\n\t\t\tif (size.width > 0 && size.height > 0) {\n\t\t\t\tvar element = !_clear && this.getElement();\n\t\t\t\tthis._setImage(CanvasProvider.getCanvas(size));\n\t\t\t\tif (element) {\n\t\t\t\t\tthis.getContext(true).drawImage(element, 0, 0,\n\t\t\t\t\t\t\tsize.width, size.height);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this._canvas)\n\t\t\t\t\tCanvasProvider.release(this._canvas);\n\t\t\t\tthis._size = size.clone();\n\t\t\t}\n\t\t} else if (_clear) {\n\t\t\tthis.clear();\n\t\t}\n\t},\n\n\tgetWidth: function() {\n\t\treturn this._size ? this._size.width : 0;\n\t},\n\n\tsetWidth: function(width) {\n\t\tthis.setSize(width, this.getHeight());\n\t},\n\n\tgetHeight: function() {\n\t\treturn this._size ? this._size.height : 0;\n\t},\n\n\tsetHeight: function(height) {\n\t\tthis.setSize(this.getWidth(), height);\n\t},\n\n\tgetLoaded: function() {\n\t\treturn this._loaded;\n\t},\n\n\tisEmpty: function() {\n\t\tvar size = this._size;\n\t\treturn !size || size.width === 0 && size.height === 0;\n\t},\n\n\tgetResolution: function() {\n\t\tvar matrix = this._matrix,\n\t\t\torig = new Point(0, 0).transform(matrix),\n\t\t\tu = new Point(1, 0).transform(matrix).subtract(orig),\n\t\t\tv = new Point(0, 1).transform(matrix).subtract(orig);\n\t\treturn new Size(\n\t\t\t72 / u.getLength(),\n\t\t\t72 / v.getLength()\n\t\t);\n\t},\n\n\tgetPpi: '#getResolution',\n\n\tgetImage: function() {\n\t\treturn this._image;\n\t},\n\n\tsetImage: function(image) {\n\t\tvar that = this;\n\n\t\tfunction emit(event) {\n\t\t\tvar view = that.getView(),\n\t\t\t\ttype = event && event.type || 'load';\n\t\t\tif (view && that.responds(type)) {\n\t\t\t\tpaper = view._scope;\n\t\t\t\tthat.emit(type, new Event(event));\n\t\t\t}\n\t\t}\n\n\t\tthis._setImage(image);\n\t\tif (this._loaded) {\n\t\t\tsetTimeout(emit, 0);\n\t\t} else if (image) {\n\t\t\tDomEvent.add(image, {\n\t\t\t\tload: function(event) {\n\t\t\t\t\tthat._setImage(image);\n\t\t\t\t\temit(event);\n\t\t\t\t},\n\t\t\t\terror: emit\n\t\t\t});\n\t\t}\n\t},\n\n\t_setImage: function(image) {\n\t\tif (this._canvas)\n\t\t\tCanvasProvider.release(this._canvas);\n\t\tif (image && image.getContext) {\n\t\t\tthis._image = null;\n\t\t\tthis._canvas = image;\n\t\t\tthis._loaded = true;\n\t\t} else {\n\t\t\tthis._image = image;\n\t\t\tthis._canvas = null;\n\t\t\tthis._loaded = !!(image && image.src && image.complete);\n\t\t}\n\t\tthis._size = new Size(\n\t\t\t\timage ? image.naturalWidth || image.width : 0,\n\t\t\t\timage ? image.naturalHeight || image.height : 0);\n\t\tthis._context = null;\n\t\tthis._changed(1033);\n\t},\n\n\tgetCanvas: function() {\n\t\tif (!this._canvas) {\n\t\t\tvar ctx = CanvasProvider.getContext(this._size);\n\t\t\ttry {\n\t\t\t\tif (this._image)\n\t\t\t\t\tctx.drawImage(this._image, 0, 0);\n\t\t\t\tthis._canvas = ctx.canvas;\n\t\t\t} catch (e) {\n\t\t\t\tCanvasProvider.release(ctx);\n\t\t\t}\n\t\t}\n\t\treturn this._canvas;\n\t},\n\n\tsetCanvas: '#setImage',\n\n\tgetContext: function(_change) {\n\t\tif (!this._context)\n\t\t\tthis._context = this.getCanvas().getContext('2d');\n\t\tif (_change) {\n\t\t\tthis._image = null;\n\t\t\tthis._changed(1025);\n\t\t}\n\t\treturn this._context;\n\t},\n\n\tsetContext: function(context) {\n\t\tthis._context = context;\n\t},\n\n\tgetSource: function() {\n\t\tvar image = this._image;\n\t\treturn image && image.src || this.toDataURL();\n\t},\n\n\tsetSource: function(src) {\n\t\tvar image = new self.Image(),\n\t\t\tcrossOrigin = this._crossOrigin;\n\t\tif (crossOrigin)\n\t\t\timage.crossOrigin = crossOrigin;\n\t\tif (src)\n\t\t\timage.src = src;\n\t\tthis.setImage(image);\n\t},\n\n\tgetCrossOrigin: function() {\n\t\tvar image = this._image;\n\t\treturn image && image.crossOrigin || this._crossOrigin || '';\n\t},\n\n\tsetCrossOrigin: function(crossOrigin) {\n\t\tthis._crossOrigin = crossOrigin;\n\t\tvar image = this._image;\n\t\tif (image)\n\t\t\timage.crossOrigin = crossOrigin;\n\t},\n\n\tgetSmoothing: function() {\n\t\treturn this._smoothing;\n\t},\n\n\tsetSmoothing: function(smoothing) {\n\t\tthis._smoothing = typeof smoothing === 'string'\n\t\t\t? smoothing\n\t\t\t: smoothing ? 'low' : 'off';\n\t\tthis._changed(257);\n\t},\n\n\tgetElement: function() {\n\t\treturn this._canvas || this._loaded && this._image;\n\t}\n}, {\n\tbeans: false,\n\n\tgetSubCanvas: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tctx = CanvasProvider.getContext(rect.getSize());\n\t\tctx.drawImage(this.getCanvas(), rect.x, rect.y,\n\t\t\t\trect.width, rect.height, 0, 0, rect.width, rect.height);\n\t\treturn ctx.canvas;\n\t},\n\n\tgetSubRaster: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\traster = new Raster(Item.NO_INSERT);\n\t\traster._setImage(this.getSubCanvas(rect));\n\t\traster.translate(rect.getCenter().subtract(this.getSize().divide(2)));\n\t\traster._matrix.prepend(this._matrix);\n\t\traster.insertAbove(this);\n\t\treturn raster;\n\t},\n\n\ttoDataURL: function() {\n\t\tvar image = this._image,\n\t\t\tsrc = image && image.src;\n\t\tif (/^data:/.test(src))\n\t\t\treturn src;\n\t\tvar canvas = this.getCanvas();\n\t\treturn canvas ? canvas.toDataURL.apply(canvas, arguments) : null;\n\t},\n\n\tdrawImage: function(image ) {\n\t\tvar point = Point.read(arguments, 1);\n\t\tthis.getContext(true).drawImage(image, point.x, point.y);\n\t},\n\n\tgetAverageColor: function(object) {\n\t\tvar bounds, path;\n\t\tif (!object) {\n\t\t\tbounds = this.getBounds();\n\t\t} else if (object instanceof PathItem) {\n\t\t\tpath = object;\n\t\t\tbounds = object.getBounds();\n\t\t} else if (typeof object === 'object') {\n\t\t\tif ('width' in object) {\n\t\t\t\tbounds = new Rectangle(object);\n\t\t\t} else if ('x' in object) {\n\t\t\t\tbounds = new Rectangle(object.x - 0.5, object.y - 0.5, 1, 1);\n\t\t\t}\n\t\t}\n\t\tif (!bounds)\n\t\t\treturn null;\n\t\tvar sampleSize = 32,\n\t\t\twidth = Math.min(bounds.width, sampleSize),\n\t\t\theight = Math.min(bounds.height, sampleSize);\n\t\tvar ctx = Raster._sampleContext;\n\t\tif (!ctx) {\n\t\t\tctx = Raster._sampleContext = CanvasProvider.getContext(\n\t\t\t\t\tnew Size(sampleSize));\n\t\t} else {\n\t\t\tctx.clearRect(0, 0, sampleSize + 1, sampleSize + 1);\n\t\t}\n\t\tctx.save();\n\t\tvar matrix = new Matrix()\n\t\t\t\t.scale(width / bounds.width, height / bounds.height)\n\t\t\t\t.translate(-bounds.x, -bounds.y);\n\t\tmatrix.applyToContext(ctx);\n\t\tif (path)\n\t\t\tpath.draw(ctx, new Base({ clip: true, matrices: [matrix] }));\n\t\tthis._matrix.applyToContext(ctx);\n\t\tvar element = this.getElement(),\n\t\t\tsize = this._size;\n\t\tif (element)\n\t\t\tctx.drawImage(element, -size.width / 2, -size.height / 2);\n\t\tctx.restore();\n\t\tvar pixels = ctx.getImageData(0.5, 0.5, Math.ceil(width),\n\t\t\t\tMath.ceil(height)).data,\n\t\t\tchannels = [0, 0, 0],\n\t\t\ttotal = 0;\n\t\tfor (var i = 0, l = pixels.length; i < l; i += 4) {\n\t\t\tvar alpha = pixels[i + 3];\n\t\t\ttotal += alpha;\n\t\t\talpha /= 255;\n\t\t\tchannels[0] += pixels[i] * alpha;\n\t\t\tchannels[1] += pixels[i + 1] * alpha;\n\t\t\tchannels[2] += pixels[i + 2] * alpha;\n\t\t}\n\t\tfor (var i = 0; i < 3; i++)\n\t\t\tchannels[i] /= total;\n\t\treturn total ? Color.read(channels) : null;\n\t},\n\n\tgetPixel: function() {\n\t\tvar point = Point.read(arguments);\n\t\tvar data = this.getContext().getImageData(point.x, point.y, 1, 1).data;\n\t\treturn new Color('rgb', [data[0] / 255, data[1] / 255, data[2] / 255],\n\t\t\t\tdata[3] / 255);\n\t},\n\n\tsetPixel: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\tcolor = Color.read(args),\n\t\t\tcomponents = color._convert('rgb'),\n\t\t\talpha = color._alpha,\n\t\t\tctx = this.getContext(true),\n\t\t\timageData = ctx.createImageData(1, 1),\n\t\t\tdata = imageData.data;\n\t\tdata[0] = components[0] * 255;\n\t\tdata[1] = components[1] * 255;\n\t\tdata[2] = components[2] * 255;\n\t\tdata[3] = alpha != null ? alpha * 255 : 255;\n\t\tctx.putImageData(imageData, point.x, point.y);\n\t},\n\n\tclear: function() {\n\t\tvar size = this._size;\n\t\tthis.getContext(true).clearRect(0, 0, size.width + 1, size.height + 1);\n\t},\n\n\tcreateImageData: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn this.getContext().createImageData(size.width, size.height);\n\t},\n\n\tgetImageData: function() {\n\t\tvar rect = Rectangle.read(arguments);\n\t\tif (rect.isEmpty())\n\t\t\trect = new Rectangle(this._size);\n\t\treturn this.getContext().getImageData(rect.x, rect.y,\n\t\t\t\trect.width, rect.height);\n\t},\n\n\tsetImageData: function(data ) {\n\t\tvar point = Point.read(arguments, 1);\n\t\tthis.getContext(true).putImageData(data, point.x, point.y);\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar rect = new Rectangle(this._size).setCenter(0, 0);\n\t\treturn matrix ? matrix._transformBounds(rect) : rect;\n\t},\n\n\t_hitTestSelf: function(point) {\n\t\tif (this._contains(point)) {\n\t\t\tvar that = this;\n\t\t\treturn new HitResult('pixel', that, {\n\t\t\t\toffset: point.add(that._size.divide(2)).round(),\n\t\t\t\tcolor: {\n\t\t\t\t\tget: function() {\n\t\t\t\t\t\treturn that.getPixel(this.offset);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\n\t_draw: function(ctx, param, viewMatrix) {\n\t\tvar element = this.getElement();\n\t\tif (element && element.width > 0 && element.height > 0) {\n\t\t\tctx.globalAlpha = Numerical.clamp(this._opacity, 0, 1);\n\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\n\t\t\tvar smoothing = this._smoothing,\n\t\t\t\tdisabled = smoothing === 'off';\n\t\t\tDomElement.setPrefixed(\n\t\t\t\tctx,\n\t\t\t\tdisabled ? 'imageSmoothingEnabled' : 'imageSmoothingQuality',\n\t\t\t\tdisabled ? false : smoothing\n\t\t\t);\n\n\t\t\tctx.drawImage(element,\n\t\t\t\t\t-this._size.width / 2, -this._size.height / 2);\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn true;\n\t}\n});\n\nvar SymbolItem = Item.extend({\n\t_class: 'SymbolItem',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_boundsOptions: { stroke: true },\n\t_serializeFields: {\n\t\tsymbol: null\n\t},\n\n\tinitialize: function SymbolItem(arg0, arg1) {\n\t\tif (!this._initialize(arg0,\n\t\t\t\targ1 !== undefined && Point.read(arguments, 1)))\n\t\t\tthis.setDefinition(arg0 instanceof SymbolDefinition ?\n\t\t\t\t\targ0 : new SymbolDefinition(arg0));\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._definition === item._definition;\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setDefinition(source._definition);\n\t},\n\n\tgetDefinition: function() {\n\t\treturn this._definition;\n\t},\n\n\tsetDefinition: function(definition) {\n\t\tthis._definition = definition;\n\t\tthis._changed(9);\n\t},\n\n\tgetSymbol: '#getDefinition',\n\tsetSymbol: '#setDefinition',\n\n\tisEmpty: function() {\n\t\treturn this._definition._item.isEmpty();\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar item = this._definition._item;\n\t\treturn item._getCachedBounds(item._matrix.prepended(matrix), options);\n\t},\n\n\t_hitTestSelf: function(point, options, viewMatrix) {\n\t\tvar opts = options.extend({ all: false });\n\t\tvar res = this._definition._item._hitTest(point, opts, viewMatrix);\n\t\tif (res)\n\t\t\tres.item = this;\n\t\treturn res;\n\t},\n\n\t_draw: function(ctx, param) {\n\t\tthis._definition._item.draw(ctx, param);\n\t}\n\n});\n\nvar SymbolDefinition = Base.extend({\n\t_class: 'SymbolDefinition',\n\n\tinitialize: function SymbolDefinition(item, dontCenter) {\n\t\tthis._id = UID.get();\n\t\tthis.project = paper.project;\n\t\tif (item)\n\t\t\tthis.setItem(item, dontCenter);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn dictionary.add(this, function() {\n\t\t\treturn Base.serialize([this._class, this._item],\n\t\t\t\t\toptions, false, dictionary);\n\t\t});\n\t},\n\n\t_changed: function(flags) {\n\t\tif (flags & 8)\n\t\t\tItem._clearBoundsCache(this);\n\t\tif (flags & 1)\n\t\t\tthis.project._changed(flags);\n\t},\n\n\tgetItem: function() {\n\t\treturn this._item;\n\t},\n\n\tsetItem: function(item, _dontCenter) {\n\t\tif (item._symbol)\n\t\t\titem = item.clone();\n\t\tif (this._item)\n\t\t\tthis._item._symbol = null;\n\t\tthis._item = item;\n\t\titem.remove();\n\t\titem.setSelected(false);\n\t\tif (!_dontCenter)\n\t\t\titem.setPosition(new Point());\n\t\titem._symbol = this;\n\t\tthis._changed(9);\n\t},\n\n\tgetDefinition: '#getItem',\n\tsetDefinition: '#setItem',\n\n\tplace: function(position) {\n\t\treturn new SymbolItem(this, position);\n\t},\n\n\tclone: function() {\n\t\treturn new SymbolDefinition(this._item.clone(false));\n\t},\n\n\tequals: function(symbol) {\n\t\treturn symbol === this\n\t\t\t\t|| symbol && this._item.equals(symbol._item)\n\t\t\t\t|| false;\n\t}\n});\n\nvar HitResult = Base.extend({\n\t_class: 'HitResult',\n\n\tinitialize: function HitResult(type, item, values) {\n\t\tthis.type = type;\n\t\tthis.item = item;\n\t\tif (values)\n\t\t\tthis.inject(values);\n\t},\n\n\tstatics: {\n\t\tgetOptions: function(args) {\n\t\t\tvar options = args && Base.read(args);\n\t\t\treturn new Base({\n\t\t\t\ttype: null,\n\t\t\t\ttolerance: paper.settings.hitTolerance,\n\t\t\t\tfill: !options,\n\t\t\t\tstroke: !options,\n\t\t\t\tsegments: !options,\n\t\t\t\thandles: false,\n\t\t\t\tends: false,\n\t\t\t\tposition: false,\n\t\t\t\tcenter: false,\n\t\t\t\tbounds: false,\n\t\t\t\tguides: false,\n\t\t\t\tselected: false\n\t\t\t}, options);\n\t\t}\n\t}\n});\n\nvar Segment = Base.extend({\n\t_class: 'Segment',\n\tbeans: true,\n\t_selection: 0,\n\n\tinitialize: function Segment(arg0, arg1, arg2, arg3, arg4, arg5) {\n\t\tvar count = arguments.length,\n\t\t\tpoint, handleIn, handleOut, selection;\n\t\tif (count > 0) {\n\t\t\tif (arg0 == null || typeof arg0 === 'object') {\n\t\t\t\tif (count === 1 && arg0 && 'point' in arg0) {\n\t\t\t\t\tpoint = arg0.point;\n\t\t\t\t\thandleIn = arg0.handleIn;\n\t\t\t\t\thandleOut = arg0.handleOut;\n\t\t\t\t\tselection = arg0.selection;\n\t\t\t\t} else {\n\t\t\t\t\tpoint = arg0;\n\t\t\t\t\thandleIn = arg1;\n\t\t\t\t\thandleOut = arg2;\n\t\t\t\t\tselection = arg3;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tpoint = [ arg0, arg1 ];\n\t\t\t\thandleIn = arg2 !== undefined ? [ arg2, arg3 ] : null;\n\t\t\t\thandleOut = arg4 !== undefined ? [ arg4, arg5 ] : null;\n\t\t\t}\n\t\t}\n\t\tnew SegmentPoint(point, this, '_point');\n\t\tnew SegmentPoint(handleIn, this, '_handleIn');\n\t\tnew SegmentPoint(handleOut, this, '_handleOut');\n\t\tif (selection)\n\t\t\tthis.setSelection(selection);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar point = this._point,\n\t\t\tselection = this._selection,\n\t\t\tobj = selection || this.hasHandles()\n\t\t\t\t\t? [point, this._handleIn, this._handleOut]\n\t\t\t\t\t: point;\n\t\tif (selection)\n\t\t\tobj.push(selection);\n\t\treturn Base.serialize(obj, options, true, dictionary);\n\t},\n\n\t_changed: function(point) {\n\t\tvar path = this._path;\n\t\tif (!path)\n\t\t\treturn;\n\t\tvar curves = path._curves,\n\t\t\tindex = this._index,\n\t\t\tcurve;\n\t\tif (curves) {\n\t\t\tif ((!point || point === this._point || point === this._handleIn)\n\t\t\t\t\t&& (curve = index > 0 ? curves[index - 1] : path._closed\n\t\t\t\t\t\t? curves[curves.length - 1] : null))\n\t\t\t\tcurve._changed();\n\t\t\tif ((!point || point === this._point || point === this._handleOut)\n\t\t\t\t\t&& (curve = curves[index]))\n\t\t\t\tcurve._changed();\n\t\t}\n\t\tpath._changed(41);\n\t},\n\n\tgetPoint: function() {\n\t\treturn this._point;\n\t},\n\n\tsetPoint: function() {\n\t\tthis._point.set(Point.read(arguments));\n\t},\n\n\tgetHandleIn: function() {\n\t\treturn this._handleIn;\n\t},\n\n\tsetHandleIn: function() {\n\t\tthis._handleIn.set(Point.read(arguments));\n\t},\n\n\tgetHandleOut: function() {\n\t\treturn this._handleOut;\n\t},\n\n\tsetHandleOut: function() {\n\t\tthis._handleOut.set(Point.read(arguments));\n\t},\n\n\thasHandles: function() {\n\t\treturn !this._handleIn.isZero() || !this._handleOut.isZero();\n\t},\n\n\tisSmooth: function() {\n\t\tvar handleIn = this._handleIn,\n\t\t\thandleOut = this._handleOut;\n\t\treturn !handleIn.isZero() && !handleOut.isZero()\n\t\t\t\t&& handleIn.isCollinear(handleOut);\n\t},\n\n\tclearHandles: function() {\n\t\tthis._handleIn._set(0, 0);\n\t\tthis._handleOut._set(0, 0);\n\t},\n\n\tgetSelection: function() {\n\t\treturn this._selection;\n\t},\n\n\tsetSelection: function(selection) {\n\t\tvar oldSelection = this._selection,\n\t\t\tpath = this._path;\n\t\tthis._selection = selection = selection || 0;\n\t\tif (path && selection !== oldSelection) {\n\t\t\tpath._updateSelection(this, oldSelection, selection);\n\t\t\tpath._changed(257);\n\t\t}\n\t},\n\n\t_changeSelection: function(flag, selected) {\n\t\tvar selection = this._selection;\n\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._selection & 7);\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._changeSelection(7, selected);\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index !== undefined ? this._index : null;\n\t},\n\n\tgetPath: function() {\n\t\treturn this._path || null;\n\t},\n\n\tgetCurve: function() {\n\t\tvar path = this._path,\n\t\t\tindex = this._index;\n\t\tif (path) {\n\t\t\tif (index > 0 && !path._closed\n\t\t\t\t\t&& index === path._segments.length - 1)\n\t\t\t\tindex--;\n\t\t\treturn path.getCurves()[index] || null;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetLocation: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve\n\t\t\t\t? new CurveLocation(curve, this === curve._segment1 ? 0 : 1)\n\t\t\t\t: null;\n\t},\n\n\tgetNext: function() {\n\t\tvar segments = this._path && this._path._segments;\n\t\treturn segments && (segments[this._index + 1]\n\t\t\t\t|| this._path._closed && segments[0]) || null;\n\t},\n\n\tsmooth: function(options, _first, _last) {\n\t\tvar opts = options || {},\n\t\t\ttype = opts.type,\n\t\t\tfactor = opts.factor,\n\t\t\tprev = this.getPrevious(),\n\t\t\tnext = this.getNext(),\n\t\t\tp0 = (prev || this)._point,\n\t\t\tp1 = this._point,\n\t\t\tp2 = (next || this)._point,\n\t\t\td1 = p0.getDistance(p1),\n\t\t\td2 = p1.getDistance(p2);\n\t\tif (!type || type === 'catmull-rom') {\n\t\t\tvar a = factor === undefined ? 0.5 : factor,\n\t\t\t\td1_a = Math.pow(d1, a),\n\t\t\t\td1_2a = d1_a * d1_a,\n\t\t\t\td2_a = Math.pow(d2, a),\n\t\t\t\td2_2a = d2_a * d2_a;\n\t\t\tif (!_first && prev) {\n\t\t\t\tvar A = 2 * d2_2a + 3 * d2_a * d1_a + d1_2a,\n\t\t\t\t\tN = 3 * d2_a * (d2_a + d1_a);\n\t\t\t\tthis.setHandleIn(N !== 0\n\t\t\t\t\t? new Point(\n\t\t\t\t\t\t(d2_2a * p0._x + A * p1._x - d1_2a * p2._x) / N - p1._x,\n\t\t\t\t\t\t(d2_2a * p0._y + A * p1._y - d1_2a * p2._y) / N - p1._y)\n\t\t\t\t\t: new Point());\n\t\t\t}\n\t\t\tif (!_last && next) {\n\t\t\t\tvar A = 2 * d1_2a + 3 * d1_a * d2_a + d2_2a,\n\t\t\t\t\tN = 3 * d1_a * (d1_a + d2_a);\n\t\t\t\tthis.setHandleOut(N !== 0\n\t\t\t\t\t? new Point(\n\t\t\t\t\t\t(d1_2a * p2._x + A * p1._x - d2_2a * p0._x) / N - p1._x,\n\t\t\t\t\t\t(d1_2a * p2._y + A * p1._y - d2_2a * p0._y) / N - p1._y)\n\t\t\t\t\t: new Point());\n\t\t\t}\n\t\t} else if (type === 'geometric') {\n\t\t\tif (prev && next) {\n\t\t\t\tvar vector = p0.subtract(p2),\n\t\t\t\t\tt = factor === undefined ? 0.4 : factor,\n\t\t\t\t\tk = t * d1 / (d1 + d2);\n\t\t\t\tif (!_first)\n\t\t\t\t\tthis.setHandleIn(vector.multiply(k));\n\t\t\t\tif (!_last)\n\t\t\t\t\tthis.setHandleOut(vector.multiply(k - t));\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error('Smoothing method \\'' + type + '\\' not supported.');\n\t\t}\n\t},\n\n\tgetPrevious: function() {\n\t\tvar segments = this._path && this._path._segments;\n\t\treturn segments && (segments[this._index - 1]\n\t\t\t\t|| this._path._closed && segments[segments.length - 1]) || null;\n\t},\n\n\tisFirst: function() {\n\t\treturn !this._index;\n\t},\n\n\tisLast: function() {\n\t\tvar path = this._path;\n\t\treturn path && this._index === path._segments.length - 1 || false;\n\t},\n\n\treverse: function() {\n\t\tvar handleIn = this._handleIn,\n\t\t\thandleOut = this._handleOut,\n\t\t\ttmp = handleIn.clone();\n\t\thandleIn.set(handleOut);\n\t\thandleOut.set(tmp);\n\t},\n\n\treversed: function() {\n\t\treturn new Segment(this._point, this._handleOut, this._handleIn);\n\t},\n\n\tremove: function() {\n\t\treturn this._path ? !!this._path.removeSegment(this._index) : false;\n\t},\n\n\tclone: function() {\n\t\treturn new Segment(this._point, this._handleIn, this._handleOut);\n\t},\n\n\tequals: function(segment) {\n\t\treturn segment === this || segment && this._class === segment._class\n\t\t\t\t&& this._point.equals(segment._point)\n\t\t\t\t&& this._handleIn.equals(segment._handleIn)\n\t\t\t\t&& this._handleOut.equals(segment._handleOut)\n\t\t\t\t|| false;\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [ 'point: ' + this._point ];\n\t\tif (!this._handleIn.isZero())\n\t\t\tparts.push('handleIn: ' + this._handleIn);\n\t\tif (!this._handleOut.isZero())\n\t\t\tparts.push('handleOut: ' + this._handleOut);\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\ttransform: function(matrix) {\n\t\tthis._transformCoordinates(matrix, new Array(6), true);\n\t\tthis._changed();\n\t},\n\n\tinterpolate: function(from, to, factor) {\n\t\tvar u = 1 - factor,\n\t\t\tv = factor,\n\t\t\tpoint1 = from._point,\n\t\t\tpoint2 = to._point,\n\t\t\thandleIn1 = from._handleIn,\n\t\t\thandleIn2 = to._handleIn,\n\t\t\thandleOut2 = to._handleOut,\n\t\t\thandleOut1 = from._handleOut;\n\t\tthis._point._set(\n\t\t\t\tu * point1._x + v * point2._x,\n\t\t\t\tu * point1._y + v * point2._y, true);\n\t\tthis._handleIn._set(\n\t\t\t\tu * handleIn1._x + v * handleIn2._x,\n\t\t\t\tu * handleIn1._y + v * handleIn2._y, true);\n\t\tthis._handleOut._set(\n\t\t\t\tu * handleOut1._x + v * handleOut2._x,\n\t\t\t\tu * handleOut1._y + v * handleOut2._y, true);\n\t\tthis._changed();\n\t},\n\n\t_transformCoordinates: function(matrix, coords, change) {\n\t\tvar point = this._point,\n\t\t\thandleIn = !change || !this._handleIn.isZero()\n\t\t\t\t\t? this._handleIn : null,\n\t\t\thandleOut = !change || !this._handleOut.isZero()\n\t\t\t\t\t? this._handleOut : null,\n\t\t\tx = point._x,\n\t\t\ty = point._y,\n\t\t\ti = 2;\n\t\tcoords[0] = x;\n\t\tcoords[1] = y;\n\t\tif (handleIn) {\n\t\t\tcoords[i++] = handleIn._x + x;\n\t\t\tcoords[i++] = handleIn._y + y;\n\t\t}\n\t\tif (handleOut) {\n\t\t\tcoords[i++] = handleOut._x + x;\n\t\t\tcoords[i++] = handleOut._y + y;\n\t\t}\n\t\tif (matrix) {\n\t\t\tmatrix._transformCoordinates(coords, coords, i / 2);\n\t\t\tx = coords[0];\n\t\t\ty = coords[1];\n\t\t\tif (change) {\n\t\t\t\tpoint._x = x;\n\t\t\t\tpoint._y = y;\n\t\t\t\ti = 2;\n\t\t\t\tif (handleIn) {\n\t\t\t\t\thandleIn._x = coords[i++] - x;\n\t\t\t\t\thandleIn._y = coords[i++] - y;\n\t\t\t\t}\n\t\t\t\tif (handleOut) {\n\t\t\t\t\thandleOut._x = coords[i++] - x;\n\t\t\t\t\thandleOut._y = coords[i++] - y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!handleIn) {\n\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t}\n\t\t\t\tif (!handleOut) {\n\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn coords;\n\t}\n});\n\nvar SegmentPoint = Point.extend({\n\tinitialize: function SegmentPoint(point, owner, key) {\n\t\tvar x, y,\n\t\t\tselected;\n\t\tif (!point) {\n\t\t\tx = y = 0;\n\t\t} else if ((x = point[0]) !== undefined) {\n\t\t\ty = point[1];\n\t\t} else {\n\t\t\tvar pt = point;\n\t\t\tif ((x = pt.x) === undefined) {\n\t\t\t\tpt = Point.read(arguments);\n\t\t\t\tx = pt.x;\n\t\t\t}\n\t\t\ty = pt.y;\n\t\t\tselected = pt.selected;\n\t\t}\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner = owner;\n\t\towner[key] = this;\n\t\tif (selected)\n\t\t\tthis.setSelected(true);\n\t},\n\n\t_set: function(x, y) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner._changed(this);\n\t\treturn this;\n\t},\n\n\tgetX: function() {\n\t\treturn this._x;\n\t},\n\n\tsetX: function(x) {\n\t\tthis._x = x;\n\t\tthis._owner._changed(this);\n\t},\n\n\tgetY: function() {\n\t\treturn this._y;\n\t},\n\n\tsetY: function(y) {\n\t\tthis._y = y;\n\t\tthis._owner._changed(this);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this._x) && isZero(this._y);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._owner._selection & this._getSelection());\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._owner._changeSelection(this._getSelection(), selected);\n\t},\n\n\t_getSelection: function() {\n\t\tvar owner = this._owner;\n\t\treturn this === owner._point ? 1\n\t\t\t: this === owner._handleIn ? 2\n\t\t\t: this === owner._handleOut ? 4\n\t\t\t: 0;\n\t}\n});\n\nvar Curve = Base.extend({\n\t_class: 'Curve',\n\tbeans: true,\n\n\tinitialize: function Curve(arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7) {\n\t\tvar count = arguments.length,\n\t\t\tseg1, seg2,\n\t\t\tpoint1, point2,\n\t\t\thandle1, handle2;\n\t\tif (count === 3) {\n\t\t\tthis._path = arg0;\n\t\t\tseg1 = arg1;\n\t\t\tseg2 = arg2;\n\t\t} else if (!count) {\n\t\t\tseg1 = new Segment();\n\t\t\tseg2 = new Segment();\n\t\t} else if (count === 1) {\n\t\t\tif ('segment1' in arg0) {\n\t\t\t\tseg1 = new Segment(arg0.segment1);\n\t\t\t\tseg2 = new Segment(arg0.segment2);\n\t\t\t} else if ('point1' in arg0) {\n\t\t\t\tpoint1 = arg0.point1;\n\t\t\t\thandle1 = arg0.handle1;\n\t\t\t\thandle2 = arg0.handle2;\n\t\t\t\tpoint2 = arg0.point2;\n\t\t\t} else if (Array.isArray(arg0)) {\n\t\t\t\tpoint1 = [arg0[0], arg0[1]];\n\t\t\t\tpoint2 = [arg0[6], arg0[7]];\n\t\t\t\thandle1 = [arg0[2] - arg0[0], arg0[3] - arg0[1]];\n\t\t\t\thandle2 = [arg0[4] - arg0[6], arg0[5] - arg0[7]];\n\t\t\t}\n\t\t} else if (count === 2) {\n\t\t\tseg1 = new Segment(arg0);\n\t\t\tseg2 = new Segment(arg1);\n\t\t} else if (count === 4) {\n\t\t\tpoint1 = arg0;\n\t\t\thandle1 = arg1;\n\t\t\thandle2 = arg2;\n\t\t\tpoint2 = arg3;\n\t\t} else if (count === 8) {\n\t\t\tpoint1 = [arg0, arg1];\n\t\t\tpoint2 = [arg6, arg7];\n\t\t\thandle1 = [arg2 - arg0, arg3 - arg1];\n\t\t\thandle2 = [arg4 - arg6, arg5 - arg7];\n\t\t}\n\t\tthis._segment1 = seg1 || new Segment(point1, null, handle1);\n\t\tthis._segment2 = seg2 || new Segment(point2, handle2, null);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this.hasHandles()\n\t\t\t\t? [this.getPoint1(), this.getHandle1(), this.getHandle2(),\n\t\t\t\t\tthis.getPoint2()]\n\t\t\t\t: [this.getPoint1(), this.getPoint2()],\n\t\t\t\toptions, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tthis._length = this._bounds = undefined;\n\t},\n\n\tclone: function() {\n\t\treturn new Curve(this._segment1, this._segment2);\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [ 'point1: ' + this._segment1._point ];\n\t\tif (!this._segment1._handleOut.isZero())\n\t\t\tparts.push('handle1: ' + this._segment1._handleOut);\n\t\tif (!this._segment2._handleIn.isZero())\n\t\t\tparts.push('handle2: ' + this._segment2._handleIn);\n\t\tparts.push('point2: ' + this._segment2._point);\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\tclassify: function() {\n\t\treturn Curve.classify(this.getValues());\n\t},\n\n\tremove: function() {\n\t\tvar removed = false;\n\t\tif (this._path) {\n\t\t\tvar segment2 = this._segment2,\n\t\t\t\thandleOut = segment2._handleOut;\n\t\t\tremoved = segment2.remove();\n\t\t\tif (removed)\n\t\t\t\tthis._segment1._handleOut.set(handleOut);\n\t\t}\n\t\treturn removed;\n\t},\n\n\tgetPoint1: function() {\n\t\treturn this._segment1._point;\n\t},\n\n\tsetPoint1: function() {\n\t\tthis._segment1._point.set(Point.read(arguments));\n\t},\n\n\tgetPoint2: function() {\n\t\treturn this._segment2._point;\n\t},\n\n\tsetPoint2: function() {\n\t\tthis._segment2._point.set(Point.read(arguments));\n\t},\n\n\tgetHandle1: function() {\n\t\treturn this._segment1._handleOut;\n\t},\n\n\tsetHandle1: function() {\n\t\tthis._segment1._handleOut.set(Point.read(arguments));\n\t},\n\n\tgetHandle2: function() {\n\t\treturn this._segment2._handleIn;\n\t},\n\n\tsetHandle2: function() {\n\t\tthis._segment2._handleIn.set(Point.read(arguments));\n\t},\n\n\tgetSegment1: function() {\n\t\treturn this._segment1;\n\t},\n\n\tgetSegment2: function() {\n\t\treturn this._segment2;\n\t},\n\n\tgetPath: function() {\n\t\treturn this._path;\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._segment1._index;\n\t},\n\n\tgetNext: function() {\n\t\tvar curves = this._path && this._path._curves;\n\t\treturn curves && (curves[this._segment1._index + 1]\n\t\t\t\t|| this._path._closed && curves[0]) || null;\n\t},\n\n\tgetPrevious: function() {\n\t\tvar curves = this._path && this._path._curves;\n\t\treturn curves && (curves[this._segment1._index - 1]\n\t\t\t\t|| this._path._closed && curves[curves.length - 1]) || null;\n\t},\n\n\tisFirst: function() {\n\t\treturn !this._segment1._index;\n\t},\n\n\tisLast: function() {\n\t\tvar path = this._path;\n\t\treturn path && this._segment1._index === path._curves.length - 1\n\t\t\t\t|| false;\n\t},\n\n\tisSelected: function() {\n\t\treturn this.getPoint1().isSelected()\n\t\t\t\t&& this.getHandle1().isSelected()\n\t\t\t\t&& this.getHandle2().isSelected()\n\t\t\t\t&& this.getPoint2().isSelected();\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis.getPoint1().setSelected(selected);\n\t\tthis.getHandle1().setSelected(selected);\n\t\tthis.getHandle2().setSelected(selected);\n\t\tthis.getPoint2().setSelected(selected);\n\t},\n\n\tgetValues: function(matrix) {\n\t\treturn Curve.getValues(this._segment1, this._segment2, matrix);\n\t},\n\n\tgetPoints: function() {\n\t\tvar coords = this.getValues(),\n\t\t\tpoints = [];\n\t\tfor (var i = 0; i < 8; i += 2)\n\t\t\tpoints.push(new Point(coords[i], coords[i + 1]));\n\t\treturn points;\n\t}\n}, {\n\tgetLength: function() {\n\t\tif (this._length == null)\n\t\t\tthis._length = Curve.getLength(this.getValues(), 0, 1);\n\t\treturn this._length;\n\t},\n\n\tgetArea: function() {\n\t\treturn Curve.getArea(this.getValues());\n\t},\n\n\tgetLine: function() {\n\t\treturn new Line(this._segment1._point, this._segment2._point);\n\t},\n\n\tgetPart: function(from, to) {\n\t\treturn new Curve(Curve.getPart(this.getValues(), from, to));\n\t},\n\n\tgetPartLength: function(from, to) {\n\t\treturn Curve.getLength(this.getValues(), from, to);\n\t},\n\n\tdivideAt: function(location) {\n\t\treturn this.divideAtTime(location && location.curve === this\n\t\t\t\t? location.time : this.getTimeAt(location));\n\t},\n\n\tdivideAtTime: function(time, _setHandles) {\n\t\tvar tMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tres = null;\n\t\tif (time >= tMin && time <= tMax) {\n\t\t\tvar parts = Curve.subdivide(this.getValues(), time),\n\t\t\t\tleft = parts[0],\n\t\t\t\tright = parts[1],\n\t\t\t\tsetHandles = _setHandles || this.hasHandles(),\n\t\t\t\tseg1 = this._segment1,\n\t\t\t\tseg2 = this._segment2,\n\t\t\t\tpath = this._path;\n\t\t\tif (setHandles) {\n\t\t\t\tseg1._handleOut._set(left[2] - left[0], left[3] - left[1]);\n\t\t\t\tseg2._handleIn._set(right[4] - right[6],right[5] - right[7]);\n\t\t\t}\n\t\t\tvar x = left[6], y = left[7],\n\t\t\t\tsegment = new Segment(new Point(x, y),\n\t\t\t\t\t\tsetHandles && new Point(left[4] - x, left[5] - y),\n\t\t\t\t\t\tsetHandles && new Point(right[2] - x, right[3] - y));\n\t\t\tif (path) {\n\t\t\t\tpath.insert(seg1._index + 1, segment);\n\t\t\t\tres = this.getNext();\n\t\t\t} else {\n\t\t\t\tthis._segment2 = segment;\n\t\t\t\tthis._changed();\n\t\t\t\tres = new Curve(segment, seg2);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\n\tsplitAt: function(location) {\n\t\tvar path = this._path;\n\t\treturn path ? path.splitAt(location) : null;\n\t},\n\n\tsplitAtTime: function(time) {\n\t\treturn this.splitAt(this.getLocationAtTime(time));\n\t},\n\n\tdivide: function(offset, isTime) {\n\t\treturn this.divideAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t: this.getTimeAt(offset));\n\t},\n\n\tsplit: function(offset, isTime) {\n\t\treturn this.splitAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t: this.getTimeAt(offset));\n\t},\n\n\treversed: function() {\n\t\treturn new Curve(this._segment2.reversed(), this._segment1.reversed());\n\t},\n\n\tclearHandles: function() {\n\t\tthis._segment1._handleOut._set(0, 0);\n\t\tthis._segment2._handleIn._set(0, 0);\n\t},\n\nstatics: {\n\tgetValues: function(segment1, segment2, matrix, straight) {\n\t\tvar p1 = segment1._point,\n\t\t\th1 = segment1._handleOut,\n\t\t\th2 = segment2._handleIn,\n\t\t\tp2 = segment2._point,\n\t\t\tx1 = p1.x, y1 = p1.y,\n\t\t\tx2 = p2.x, y2 = p2.y,\n\t\t\tvalues = straight\n\t\t\t\t? [ x1, y1, x1, y1, x2, y2, x2, y2 ]\n\t\t\t\t: [\n\t\t\t\t\tx1, y1,\n\t\t\t\t\tx1 + h1._x, y1 + h1._y,\n\t\t\t\t\tx2 + h2._x, y2 + h2._y,\n\t\t\t\t\tx2, y2\n\t\t\t\t];\n\t\tif (matrix)\n\t\t\tmatrix._transformCoordinates(values, values, 4);\n\t\treturn values;\n\t},\n\n\tsubdivide: function(v, t) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\tif (t === undefined)\n\t\t\tt = 0.5;\n\t\tvar u = 1 - t,\n\t\t\tx4 = u * x0 + t * x1, y4 = u * y0 + t * y1,\n\t\t\tx5 = u * x1 + t * x2, y5 = u * y1 + t * y2,\n\t\t\tx6 = u * x2 + t * x3, y6 = u * y2 + t * y3,\n\t\t\tx7 = u * x4 + t * x5, y7 = u * y4 + t * y5,\n\t\t\tx8 = u * x5 + t * x6, y8 = u * y5 + t * y6,\n\t\t\tx9 = u * x7 + t * x8, y9 = u * y7 + t * y8;\n\t\treturn [\n\t\t\t[x0, y0, x4, y4, x7, y7, x9, y9],\n\t\t\t[x9, y9, x8, y8, x6, y6, x3, y3]\n\t\t];\n\t},\n\n\tgetMonoCurves: function(v, dir) {\n\t\tvar curves = [],\n\t\t\tio = dir ? 0 : 1,\n\t\t\to0 = v[io + 0],\n\t\t\to1 = v[io + 2],\n\t\t\to2 = v[io + 4],\n\t\t\to3 = v[io + 6];\n\t\tif ((o0 >= o1) === (o1 >= o2) && (o1 >= o2) === (o2 >= o3)\n\t\t\t\t|| Curve.isStraight(v)) {\n\t\t\tcurves.push(v);\n\t\t} else {\n\t\t\tvar a = 3 * (o1 - o2) - o0 + o3,\n\t\t\t\tb = 2 * (o0 + o2) - 4 * o1,\n\t\t\t\tc = o1 - o0,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\troots = [],\n\t\t\t\tn = Numerical.solveQuadratic(a, b, c, roots, tMin, tMax);\n\t\t\tif (!n) {\n\t\t\t\tcurves.push(v);\n\t\t\t} else {\n\t\t\t\troots.sort();\n\t\t\t\tvar t = roots[0],\n\t\t\t\t\tparts = Curve.subdivide(v, t);\n\t\t\t\tcurves.push(parts[0]);\n\t\t\t\tif (n > 1) {\n\t\t\t\t\tt = (roots[1] - t) / (1 - t);\n\t\t\t\t\tparts = Curve.subdivide(parts[1], t);\n\t\t\t\t\tcurves.push(parts[0]);\n\t\t\t\t}\n\t\t\t\tcurves.push(parts[1]);\n\t\t\t}\n\t\t}\n\t\treturn curves;\n\t},\n\n\tsolveCubic: function (v, coord, val, roots, min, max) {\n\t\tvar v0 = v[coord],\n\t\t\tv1 = v[coord + 2],\n\t\t\tv2 = v[coord + 4],\n\t\t\tv3 = v[coord + 6],\n\t\t\tres = 0;\n\t\tif (  !(v0 < val && v3 < val && v1 < val && v2 < val ||\n\t\t\t\tv0 > val && v3 > val && v1 > val && v2 > val)) {\n\t\t\tvar c = 3 * (v1 - v0),\n\t\t\t\tb = 3 * (v2 - v1) - c,\n\t\t\t\ta = v3 - v0 - c - b;\n\t\t\tres = Numerical.solveCubic(a, b, c, v0 - val, roots, min, max);\n\t\t}\n\t\treturn res;\n\t},\n\n\tgetTimeOf: function(v, point) {\n\t\tvar p0 = new Point(v[0], v[1]),\n\t\t\tp3 = new Point(v[6], v[7]),\n\t\t\tepsilon = 1e-12,\n\t\t\tgeomEpsilon = 1e-7,\n\t\t\tt = point.isClose(p0, epsilon) ? 0\n\t\t\t  : point.isClose(p3, epsilon) ? 1\n\t\t\t  : null;\n\t\tif (t === null) {\n\t\t\tvar coords = [point.x, point.y],\n\t\t\t\troots = [];\n\t\t\tfor (var c = 0; c < 2; c++) {\n\t\t\t\tvar count = Curve.solveCubic(v, c, coords[c], roots, 0, 1);\n\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\tvar u = roots[i];\n\t\t\t\t\tif (point.isClose(Curve.getPoint(v, u), geomEpsilon))\n\t\t\t\t\t\treturn u;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn point.isClose(p0, geomEpsilon) ? 0\n\t\t\t : point.isClose(p3, geomEpsilon) ? 1\n\t\t\t : null;\n\t},\n\n\tgetNearestTime: function(v, point) {\n\t\tif (Curve.isStraight(v)) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tvx = x3 - x0, vy = y3 - y0,\n\t\t\t\tdet = vx * vx + vy * vy;\n\t\t\tif (det === 0)\n\t\t\t\treturn 0;\n\t\t\tvar u = ((point.x - x0) * vx + (point.y - y0) * vy) / det;\n\t\t\treturn u < 1e-12 ? 0\n\t\t\t\t : u > 0.999999999999 ? 1\n\t\t\t\t : Curve.getTimeOf(v,\n\t\t\t\t\tnew Point(x0 + u * vx, y0 + u * vy));\n\t\t}\n\n\t\tvar count = 100,\n\t\t\tminDist = Infinity,\n\t\t\tminT = 0;\n\n\t\tfunction refine(t) {\n\t\t\tif (t >= 0 && t <= 1) {\n\t\t\t\tvar dist = point.getDistance(Curve.getPoint(v, t), true);\n\t\t\t\tif (dist < minDist) {\n\t\t\t\t\tminDist = dist;\n\t\t\t\t\tminT = t;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i <= count; i++)\n\t\t\trefine(i / count);\n\n\t\tvar step = 1 / (count * 2);\n\t\twhile (step > 1e-8) {\n\t\t\tif (!refine(minT - step) && !refine(minT + step))\n\t\t\t\tstep /= 2;\n\t\t}\n\t\treturn minT;\n\t},\n\n\tgetPart: function(v, from, to) {\n\t\tvar flip = from > to;\n\t\tif (flip) {\n\t\t\tvar tmp = from;\n\t\t\tfrom = to;\n\t\t\tto = tmp;\n\t\t}\n\t\tif (from > 0)\n\t\t\tv = Curve.subdivide(v, from)[1];\n\t\tif (to < 1)\n\t\t\tv = Curve.subdivide(v, (to - from) / (1 - from))[0];\n\t\treturn flip\n\t\t\t\t? [v[6], v[7], v[4], v[5], v[2], v[3], v[0], v[1]]\n\t\t\t\t: v;\n\t},\n\n\tisFlatEnough: function(v, flatness) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tux = 3 * x1 - 2 * x0 - x3,\n\t\t\tuy = 3 * y1 - 2 * y0 - y3,\n\t\t\tvx = 3 * x2 - 2 * x3 - x0,\n\t\t\tvy = 3 * y2 - 2 * y3 - y0;\n\t\treturn Math.max(ux * ux, vx * vx) + Math.max(uy * uy, vy * vy)\n\t\t\t\t<= 16 * flatness * flatness;\n\t},\n\n\tgetArea: function(v) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\treturn 3 * ((y3 - y0) * (x1 + x2) - (x3 - x0) * (y1 + y2)\n\t\t\t\t+ y1 * (x0 - x2) - x1 * (y0 - y2)\n\t\t\t\t+ y3 * (x2 + x0 / 3) - x3 * (y2 + y0 / 3)) / 20;\n\t},\n\n\tgetBounds: function(v) {\n\t\tvar min = v.slice(0, 2),\n\t\t\tmax = min.slice(),\n\t\t\troots = [0, 0];\n\t\tfor (var i = 0; i < 2; i++)\n\t\t\tCurve._addBounds(v[i], v[i + 2], v[i + 4], v[i + 6],\n\t\t\t\t\ti, 0, min, max, roots);\n\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t},\n\n\t_addBounds: function(v0, v1, v2, v3, coord, padding, min, max, roots) {\n\t\tfunction add(value, padding) {\n\t\t\tvar left = value - padding,\n\t\t\t\tright = value + padding;\n\t\t\tif (left < min[coord])\n\t\t\t\tmin[coord] = left;\n\t\t\tif (right > max[coord])\n\t\t\t\tmax[coord] = right;\n\t\t}\n\n\t\tpadding /= 2;\n\t\tvar minPad = min[coord] + padding,\n\t\t\tmaxPad = max[coord] - padding;\n\t\tif (    v0 < minPad || v1 < minPad || v2 < minPad || v3 < minPad ||\n\t\t\t\tv0 > maxPad || v1 > maxPad || v2 > maxPad || v3 > maxPad) {\n\t\t\tif (v1 < v0 != v1 < v3 && v2 < v0 != v2 < v3) {\n\t\t\t\tadd(v0, 0);\n\t\t\t\tadd(v3, 0);\n\t\t\t} else {\n\t\t\t\tvar a = 3 * (v1 - v2) - v0 + v3,\n\t\t\t\t\tb = 2 * (v0 + v2) - 4 * v1,\n\t\t\t\t\tc = v1 - v0,\n\t\t\t\t\tcount = Numerical.solveQuadratic(a, b, c, roots),\n\t\t\t\t\ttMin = 1e-8,\n\t\t\t\t\ttMax = 1 - tMin;\n\t\t\t\tadd(v3, 0);\n\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\tvar t = roots[i],\n\t\t\t\t\t\tu = 1 - t;\n\t\t\t\t\tif (tMin <= t && t <= tMax)\n\t\t\t\t\t\tadd(u * u * u * v0\n\t\t\t\t\t\t\t+ 3 * u * u * t * v1\n\t\t\t\t\t\t\t+ 3 * u * t * t * v2\n\t\t\t\t\t\t\t+ t * t * t * v3,\n\t\t\t\t\t\t\tpadding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}}, Base.each(\n\t['getBounds', 'getStrokeBounds', 'getHandleBounds'],\n\tfunction(name) {\n\t\tthis[name] = function() {\n\t\t\tif (!this._bounds)\n\t\t\t\tthis._bounds = {};\n\t\t\tvar bounds = this._bounds[name];\n\t\t\tif (!bounds) {\n\t\t\t\tbounds = this._bounds[name] = Path[name](\n\t\t\t\t\t\t[this._segment1, this._segment2], false, this._path);\n\t\t\t}\n\t\t\treturn bounds.clone();\n\t\t};\n\t},\n{\n\n}), Base.each({\n\tisStraight: function(p1, h1, h2, p2) {\n\t\tif (h1.isZero() && h2.isZero()) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tvar v = p2.subtract(p1);\n\t\t\tif (v.isZero()) {\n\t\t\t\treturn false;\n\t\t\t} else if (v.isCollinear(h1) && v.isCollinear(h2)) {\n\t\t\t\tvar l = new Line(p1, p2),\n\t\t\t\t\tepsilon = 1e-7;\n\t\t\t\tif (l.getDistance(p1.add(h1)) < epsilon &&\n\t\t\t\t\tl.getDistance(p2.add(h2)) < epsilon) {\n\t\t\t\t\tvar div = v.dot(v),\n\t\t\t\t\t\ts1 = v.dot(h1) / div,\n\t\t\t\t\t\ts2 = v.dot(h2) / div;\n\t\t\t\t\treturn s1 >= 0 && s1 <= 1 && s2 <= 0 && s2 >= -1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\tisLinear: function(p1, h1, h2, p2) {\n\t\tvar third = p2.subtract(p1).divide(3);\n\t\treturn h1.equals(third) && h2.negate().equals(third);\n\t}\n}, function(test, name) {\n\tthis[name] = function(epsilon) {\n\t\tvar seg1 = this._segment1,\n\t\t\tseg2 = this._segment2;\n\t\treturn test(seg1._point, seg1._handleOut, seg2._handleIn, seg2._point,\n\t\t\t\tepsilon);\n\t};\n\n\tthis.statics[name] = function(v, epsilon) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\treturn test(\n\t\t\t\tnew Point(x0, y0),\n\t\t\t\tnew Point(v[2] - x0, v[3] - y0),\n\t\t\t\tnew Point(v[4] - x3, v[5] - y3),\n\t\t\t\tnew Point(x3, y3), epsilon);\n\t};\n}, {\n\tstatics: {},\n\n\thasHandles: function() {\n\t\treturn !this._segment1._handleOut.isZero()\n\t\t\t\t|| !this._segment2._handleIn.isZero();\n\t},\n\n\thasLength: function(epsilon) {\n\t\treturn (!this.getPoint1().equals(this.getPoint2()) || this.hasHandles())\n\t\t\t\t&& this.getLength() > (epsilon || 0);\n\t},\n\n\tisCollinear: function(curve) {\n\t\treturn curve && this.isStraight() && curve.isStraight()\n\t\t\t\t&& this.getLine().isCollinear(curve.getLine());\n\t},\n\n\tisHorizontal: function() {\n\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).y)\n\t\t\t\t< 1e-8;\n\t},\n\n\tisVertical: function() {\n\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).x)\n\t\t\t\t< 1e-8;\n\t}\n}), {\n\tbeans: false,\n\n\tgetLocationAt: function(offset, _isTime) {\n\t\treturn this.getLocationAtTime(\n\t\t\t\t_isTime ? offset : this.getTimeAt(offset));\n\t},\n\n\tgetLocationAtTime: function(t) {\n\t\treturn t != null && t >= 0 && t <= 1\n\t\t\t\t? new CurveLocation(this, t)\n\t\t\t\t: null;\n\t},\n\n\tgetTimeAt: function(offset, start) {\n\t\treturn Curve.getTimeAt(this.getValues(), offset, start);\n\t},\n\n\tgetParameterAt: '#getTimeAt',\n\n\tgetTimesWithTangent: function () {\n\t\tvar tangent = Point.read(arguments);\n\t\treturn tangent.isZero()\n\t\t\t\t? []\n\t\t\t\t: Curve.getTimesWithTangent(this.getValues(), tangent);\n\t},\n\n\tgetOffsetAtTime: function(t) {\n\t\treturn this.getPartLength(0, t);\n\t},\n\n\tgetLocationOf: function() {\n\t\treturn this.getLocationAtTime(this.getTimeOf(Point.read(arguments)));\n\t},\n\n\tgetOffsetOf: function() {\n\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\treturn loc ? loc.getOffset() : null;\n\t},\n\n\tgetTimeOf: function() {\n\t\treturn Curve.getTimeOf(this.getValues(), Point.read(arguments));\n\t},\n\n\tgetParameterOf: '#getTimeOf',\n\n\tgetNearestLocation: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tvalues = this.getValues(),\n\t\t\tt = Curve.getNearestTime(values, point),\n\t\t\tpt = Curve.getPoint(values, t);\n\t\treturn new CurveLocation(this, t, pt, null, point.getDistance(pt));\n\t},\n\n\tgetNearestPoint: function() {\n\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\treturn loc ? loc.getPoint() : loc;\n\t}\n\n},\nnew function() {\n\tvar methods = ['getPoint', 'getTangent', 'getNormal', 'getWeightedTangent',\n\t\t'getWeightedNormal', 'getCurvature'];\n\treturn Base.each(methods,\n\t\tfunction(name) {\n\t\t\tthis[name + 'At'] = function(location, _isTime) {\n\t\t\t\tvar values = this.getValues();\n\t\t\t\treturn Curve[name](values, _isTime ? location\n\t\t\t\t\t\t: Curve.getTimeAt(values, location));\n\t\t\t};\n\n\t\t\tthis[name + 'AtTime'] = function(time) {\n\t\t\t\treturn Curve[name](this.getValues(), time);\n\t\t\t};\n\t\t}, {\n\t\t\tstatics: {\n\t\t\t\t_evaluateMethods: methods\n\t\t\t}\n\t\t}\n\t);\n},\nnew function() {\n\n\tfunction getLengthIntegrand(v) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\n\t\t\tax = 9 * (x1 - x2) + 3 * (x3 - x0),\n\t\t\tbx = 6 * (x0 + x2) - 12 * x1,\n\t\t\tcx = 3 * (x1 - x0),\n\n\t\t\tay = 9 * (y1 - y2) + 3 * (y3 - y0),\n\t\t\tby = 6 * (y0 + y2) - 12 * y1,\n\t\t\tcy = 3 * (y1 - y0);\n\n\t\treturn function(t) {\n\t\t\tvar dx = (ax * t + bx) * t + cx,\n\t\t\t\tdy = (ay * t + by) * t + cy;\n\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t};\n\t}\n\n\tfunction getIterations(a, b) {\n\t\treturn Math.max(2, Math.min(16, Math.ceil(Math.abs(b - a) * 32)));\n\t}\n\n\tfunction evaluate(v, t, type, normalized) {\n\t\tif (t == null || t < 0 || t > 1)\n\t\t\treturn null;\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tisZero = Numerical.isZero;\n\t\tif (isZero(x1 - x0) && isZero(y1 - y0)) {\n\t\t\tx1 = x0;\n\t\t\ty1 = y0;\n\t\t}\n\t\tif (isZero(x2 - x3) && isZero(y2 - y3)) {\n\t\t\tx2 = x3;\n\t\t\ty2 = y3;\n\t\t}\n\t\tvar cx = 3 * (x1 - x0),\n\t\t\tbx = 3 * (x2 - x1) - cx,\n\t\t\tax = x3 - x0 - cx - bx,\n\t\t\tcy = 3 * (y1 - y0),\n\t\t\tby = 3 * (y2 - y1) - cy,\n\t\t\tay = y3 - y0 - cy - by,\n\t\t\tx, y;\n\t\tif (type === 0) {\n\t\t\tx = t === 0 ? x0 : t === 1 ? x3\n\t\t\t\t\t: ((ax * t + bx) * t + cx) * t + x0;\n\t\t\ty = t === 0 ? y0 : t === 1 ? y3\n\t\t\t\t\t: ((ay * t + by) * t + cy) * t + y0;\n\t\t} else {\n\t\t\tvar tMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin;\n\t\t\tif (t < tMin) {\n\t\t\t\tx = cx;\n\t\t\t\ty = cy;\n\t\t\t} else if (t > tMax) {\n\t\t\t\tx = 3 * (x3 - x2);\n\t\t\t\ty = 3 * (y3 - y2);\n\t\t\t} else {\n\t\t\t\tx = (3 * ax * t + 2 * bx) * t + cx;\n\t\t\t\ty = (3 * ay * t + 2 * by) * t + cy;\n\t\t\t}\n\t\t\tif (normalized) {\n\t\t\t\tif (x === 0 && y === 0 && (t < tMin || t > tMax)) {\n\t\t\t\t\tx = x2 - x1;\n\t\t\t\t\ty = y2 - y1;\n\t\t\t\t}\n\t\t\t\tvar len = Math.sqrt(x * x + y * y);\n\t\t\t\tif (len) {\n\t\t\t\t\tx /= len;\n\t\t\t\t\ty /= len;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (type === 3) {\n\t\t\t\tvar x2 = 6 * ax * t + 2 * bx,\n\t\t\t\t\ty2 = 6 * ay * t + 2 * by,\n\t\t\t\t\td = Math.pow(x * x + y * y, 3 / 2);\n\t\t\t\tx = d !== 0 ? (x * y2 - y * x2) / d : 0;\n\t\t\t\ty = 0;\n\t\t\t}\n\t\t}\n\t\treturn type === 2 ? new Point(y, -x) : new Point(x, y);\n\t}\n\n\treturn { statics: {\n\n\t\tclassify: function(v) {\n\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\ta1 = x0 * (y3 - y2) + y0 * (x2 - x3) + x3 * y2 - y3 * x2,\n\t\t\t\ta2 = x1 * (y0 - y3) + y1 * (x3 - x0) + x0 * y3 - y0 * x3,\n\t\t\t\ta3 = x2 * (y1 - y0) + y2 * (x0 - x1) + x1 * y0 - y1 * x0,\n\t\t\t\td3 = 3 * a3,\n\t\t\t\td2 = d3 - a2,\n\t\t\t\td1 = d2 - a2 + a1,\n\t\t\t\tl = Math.sqrt(d1 * d1 + d2 * d2 + d3 * d3),\n\t\t\t\ts = l !== 0 ? 1 / l : 0,\n\t\t\t\tisZero = Numerical.isZero,\n\t\t\t\tserpentine = 'serpentine';\n\t\t\td1 *= s;\n\t\t\td2 *= s;\n\t\t\td3 *= s;\n\n\t\t\tfunction type(type, t1, t2) {\n\t\t\t\tvar hasRoots = t1 !== undefined,\n\t\t\t\t\tt1Ok = hasRoots && t1 > 0 && t1 < 1,\n\t\t\t\t\tt2Ok = hasRoots && t2 > 0 && t2 < 1;\n\t\t\t\tif (hasRoots && (!(t1Ok || t2Ok)\n\t\t\t\t\t\t|| type === 'loop' && !(t1Ok && t2Ok))) {\n\t\t\t\t\ttype = 'arch';\n\t\t\t\t\tt1Ok = t2Ok = false;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\ttype: type,\n\t\t\t\t\troots: t1Ok || t2Ok\n\t\t\t\t\t\t\t? t1Ok && t2Ok\n\t\t\t\t\t\t\t\t? t1 < t2 ? [t1, t2] : [t2, t1]\n\t\t\t\t\t\t\t\t: [t1Ok ? t1 : t2]\n\t\t\t\t\t\t\t: null\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (isZero(d1)) {\n\t\t\t\treturn isZero(d2)\n\t\t\t\t\t\t? type(isZero(d3) ? 'line' : 'quadratic')\n\t\t\t\t\t\t: type(serpentine, d3 / (3 * d2));\n\t\t\t}\n\t\t\tvar d = 3 * d2 * d2 - 4 * d1 * d3;\n\t\t\tif (isZero(d)) {\n\t\t\t\treturn type('cusp', d2 / (2 * d1));\n\t\t\t}\n\t\t\tvar f1 = d > 0 ? Math.sqrt(d / 3) : Math.sqrt(-d),\n\t\t\t\tf2 = 2 * d1;\n\t\t\treturn type(d > 0 ? serpentine : 'loop',\n\t\t\t\t\t(d2 + f1) / f2,\n\t\t\t\t\t(d2 - f1) / f2);\n\t\t},\n\n\t\tgetLength: function(v, a, b, ds) {\n\t\t\tif (a === undefined)\n\t\t\t\ta = 0;\n\t\t\tif (b === undefined)\n\t\t\t\tb = 1;\n\t\t\tif (Curve.isStraight(v)) {\n\t\t\t\tvar c = v;\n\t\t\t\tif (b < 1) {\n\t\t\t\t\tc = Curve.subdivide(c, b)[0];\n\t\t\t\t\ta /= b;\n\t\t\t\t}\n\t\t\t\tif (a > 0) {\n\t\t\t\t\tc = Curve.subdivide(c, a)[1];\n\t\t\t\t}\n\t\t\t\tvar dx = c[6] - c[0],\n\t\t\t\t\tdy = c[7] - c[1];\n\t\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t\t}\n\t\t\treturn Numerical.integrate(ds || getLengthIntegrand(v), a, b,\n\t\t\t\t\tgetIterations(a, b));\n\t\t},\n\n\t\tgetTimeAt: function(v, offset, start) {\n\t\t\tif (start === undefined)\n\t\t\t\tstart = offset < 0 ? 1 : 0;\n\t\t\tif (offset === 0)\n\t\t\t\treturn start;\n\t\t\tvar abs = Math.abs,\n\t\t\t\tepsilon = 1e-12,\n\t\t\t\tforward = offset > 0,\n\t\t\t\ta = forward ? start : 0,\n\t\t\t\tb = forward ? 1 : start,\n\t\t\t\tds = getLengthIntegrand(v),\n\t\t\t\trangeLength = Curve.getLength(v, a, b, ds),\n\t\t\t\tdiff = abs(offset) - rangeLength;\n\t\t\tif (abs(diff) < epsilon) {\n\t\t\t\treturn forward ? b : a;\n\t\t\t} else if (diff > epsilon) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar guess = offset / rangeLength,\n\t\t\t\tlength = 0;\n\t\t\tfunction f(t) {\n\t\t\t\tlength += Numerical.integrate(ds, start, t,\n\t\t\t\t\t\tgetIterations(start, t));\n\t\t\t\tstart = t;\n\t\t\t\treturn length - offset;\n\t\t\t}\n\t\t\treturn Numerical.findRoot(f, ds, start + guess, a, b, 32,\n\t\t\t\t\t1e-12);\n\t\t},\n\n\t\tgetPoint: function(v, t) {\n\t\t\treturn evaluate(v, t, 0, false);\n\t\t},\n\n\t\tgetTangent: function(v, t) {\n\t\t\treturn evaluate(v, t, 1, true);\n\t\t},\n\n\t\tgetWeightedTangent: function(v, t) {\n\t\t\treturn evaluate(v, t, 1, false);\n\t\t},\n\n\t\tgetNormal: function(v, t) {\n\t\t\treturn evaluate(v, t, 2, true);\n\t\t},\n\n\t\tgetWeightedNormal: function(v, t) {\n\t\t\treturn evaluate(v, t, 2, false);\n\t\t},\n\n\t\tgetCurvature: function(v, t) {\n\t\t\treturn evaluate(v, t, 3, false).x;\n\t\t},\n\n\t\tgetPeaks: function(v) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tax =     -x0 + 3 * x1 - 3 * x2 + x3,\n\t\t\t\tbx =  3 * x0 - 6 * x1 + 3 * x2,\n\t\t\t\tcx = -3 * x0 + 3 * x1,\n\t\t\t\tay =     -y0 + 3 * y1 - 3 * y2 + y3,\n\t\t\t\tby =  3 * y0 - 6 * y1 + 3 * y2,\n\t\t\t\tcy = -3 * y0 + 3 * y1,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\troots = [];\n\t\t\tNumerical.solveCubic(\n\t\t\t\t\t9 * (ax * ax + ay * ay),\n\t\t\t\t\t9 * (ax * bx + by * ay),\n\t\t\t\t\t2 * (bx * bx + by * by) + 3 * (cx * ax + cy * ay),\n\t\t\t\t\t(cx * bx + by * cy),\n\t\t\t\t\troots, tMin, tMax);\n\t\t\treturn roots.sort();\n\t\t}\n\t}};\n},\nnew function() {\n\n\tfunction addLocation(locations, include, c1, t1, c2, t2, overlap) {\n\t\tvar excludeStart = !overlap && c1.getPrevious() === c2,\n\t\t\texcludeEnd = !overlap && c1 !== c2 && c1.getNext() === c2,\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin;\n\t\tif (t1 !== null && t1 >= (excludeStart ? tMin : 0) &&\n\t\t\tt1 <= (excludeEnd ? tMax : 1)) {\n\t\t\tif (t2 !== null && t2 >= (excludeEnd ? tMin : 0) &&\n\t\t\t\tt2 <= (excludeStart ? tMax : 1)) {\n\t\t\t\tvar loc1 = new CurveLocation(c1, t1, null, overlap),\n\t\t\t\t\tloc2 = new CurveLocation(c2, t2, null, overlap);\n\t\t\t\tloc1._intersection = loc2;\n\t\t\t\tloc2._intersection = loc1;\n\t\t\t\tif (!include || include(loc1)) {\n\t\t\t\t\tCurveLocation.insert(locations, loc1, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addCurveIntersections(v1, v2, c1, c2, locations, include, flip,\n\t\t\trecursion, calls, tMin, tMax, uMin, uMax) {\n\t\tif (++calls >= 4096 || ++recursion >= 40)\n\t\t\treturn calls;\n\t\tvar fatLineEpsilon = 1e-9,\n\t\t\tq0x = v2[0], q0y = v2[1], q3x = v2[6], q3y = v2[7],\n\t\t\tgetSignedDistance = Line.getSignedDistance,\n\t\t\td1 = getSignedDistance(q0x, q0y, q3x, q3y, v2[2], v2[3]),\n\t\t\td2 = getSignedDistance(q0x, q0y, q3x, q3y, v2[4], v2[5]),\n\t\t\tfactor = d1 * d2 > 0 ? 3 / 4 : 4 / 9,\n\t\t\tdMin = factor * Math.min(0, d1, d2),\n\t\t\tdMax = factor * Math.max(0, d1, d2),\n\t\t\tdp0 = getSignedDistance(q0x, q0y, q3x, q3y, v1[0], v1[1]),\n\t\t\tdp1 = getSignedDistance(q0x, q0y, q3x, q3y, v1[2], v1[3]),\n\t\t\tdp2 = getSignedDistance(q0x, q0y, q3x, q3y, v1[4], v1[5]),\n\t\t\tdp3 = getSignedDistance(q0x, q0y, q3x, q3y, v1[6], v1[7]),\n\t\t\thull = getConvexHull(dp0, dp1, dp2, dp3),\n\t\t\ttop = hull[0],\n\t\t\tbottom = hull[1],\n\t\t\ttMinClip,\n\t\t\ttMaxClip;\n\t\tif (d1 === 0 && d2 === 0\n\t\t\t\t&& dp0 === 0 && dp1 === 0 && dp2 === 0 && dp3 === 0\n\t\t\t|| (tMinClip = clipConvexHull(top, bottom, dMin, dMax)) == null\n\t\t\t|| (tMaxClip = clipConvexHull(top.reverse(), bottom.reverse(),\n\t\t\t\tdMin, dMax)) == null)\n\t\t\treturn calls;\n\t\tvar tMinNew = tMin + (tMax - tMin) * tMinClip,\n\t\t\ttMaxNew = tMin + (tMax - tMin) * tMaxClip;\n\t\tif (Math.max(uMax - uMin, tMaxNew - tMinNew) < fatLineEpsilon) {\n\t\t\tvar t = (tMinNew + tMaxNew) / 2,\n\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tflip ? c2 : c1, flip ? u : t,\n\t\t\t\t\tflip ? c1 : c2, flip ? t : u);\n\t\t} else {\n\t\t\tv1 = Curve.getPart(v1, tMinClip, tMaxClip);\n\t\t\tvar uDiff = uMax - uMin;\n\t\t\tif (tMaxClip - tMinClip > 0.8) {\n\t\t\t\tif (tMaxNew - tMinNew > uDiff) {\n\t\t\t\t\tvar parts = Curve.subdivide(v1, 0.5),\n\t\t\t\t\t\tt = (tMinNew + tMaxNew) / 2;\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, parts[0], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, t);\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, parts[1], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, t, tMaxNew);\n\t\t\t\t} else {\n\t\t\t\t\tvar parts = Curve.subdivide(v2, 0.5),\n\t\t\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tparts[0], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, u, tMinNew, tMaxNew);\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tparts[1], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, u, uMax, tMinNew, tMaxNew);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (uDiff === 0 || uDiff >= fatLineEpsilon) {\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, tMaxNew);\n\t\t\t\t} else {\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv1, v2, c1, c2, locations, include, flip,\n\t\t\t\t\t\t\trecursion, calls, tMinNew, tMaxNew, uMin, uMax);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn calls;\n\t}\n\n\tfunction getConvexHull(dq0, dq1, dq2, dq3) {\n\t\tvar p0 = [ 0, dq0 ],\n\t\t\tp1 = [ 1 / 3, dq1 ],\n\t\t\tp2 = [ 2 / 3, dq2 ],\n\t\t\tp3 = [ 1, dq3 ],\n\t\t\tdist1 = dq1 - (2 * dq0 + dq3) / 3,\n\t\t\tdist2 = dq2 - (dq0 + 2 * dq3) / 3,\n\t\t\thull;\n\t\tif (dist1 * dist2 < 0) {\n\t\t\thull = [[p0, p1, p3], [p0, p2, p3]];\n\t\t} else {\n\t\t\tvar distRatio = dist1 / dist2;\n\t\t\thull = [\n\t\t\t\tdistRatio >= 2 ? [p0, p1, p3]\n\t\t\t\t: distRatio <= 0.5 ? [p0, p2, p3]\n\t\t\t\t: [p0, p1, p2, p3],\n\t\t\t\t[p0, p3]\n\t\t\t];\n\t\t}\n\t\treturn (dist1 || dist2) < 0 ? hull.reverse() : hull;\n\t}\n\n\tfunction clipConvexHull(hullTop, hullBottom, dMin, dMax) {\n\t\tif (hullTop[0][1] < dMin) {\n\t\t\treturn clipConvexHullPart(hullTop, true, dMin);\n\t\t} else if (hullBottom[0][1] > dMax) {\n\t\t\treturn clipConvexHullPart(hullBottom, false, dMax);\n\t\t} else {\n\t\t\treturn hullTop[0][0];\n\t\t}\n\t}\n\n\tfunction clipConvexHullPart(part, top, threshold) {\n\t\tvar px = part[0][0],\n\t\t\tpy = part[0][1];\n\t\tfor (var i = 1, l = part.length; i < l; i++) {\n\t\t\tvar qx = part[i][0],\n\t\t\t\tqy = part[i][1];\n\t\t\tif (top ? qy >= threshold : qy <= threshold) {\n\t\t\t\treturn qy === threshold ? qx\n\t\t\t\t\t\t: px + (threshold - py) * (qx - px) / (qy - py);\n\t\t\t}\n\t\t\tpx = qx;\n\t\t\tpy = qy;\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction getCurveLineIntersections(v, px, py, vx, vy) {\n\t\tvar isZero = Numerical.isZero;\n\t\tif (isZero(vx) && isZero(vy)) {\n\t\t\tvar t = Curve.getTimeOf(v, new Point(px, py));\n\t\t\treturn t === null ? [] : [t];\n\t\t}\n\t\tvar angle = Math.atan2(-vy, vx),\n\t\t\tsin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle),\n\t\t\trv = [],\n\t\t\troots = [];\n\t\tfor (var i = 0; i < 8; i += 2) {\n\t\t\tvar x = v[i] - px,\n\t\t\t\ty = v[i + 1] - py;\n\t\t\trv.push(\n\t\t\t\tx * cos - y * sin,\n\t\t\t\tx * sin + y * cos);\n\t\t}\n\t\tCurve.solveCubic(rv, 1, 0, roots, 0, 1);\n\t\treturn roots;\n\t}\n\n\tfunction addCurveLineIntersections(v1, v2, c1, c2, locations, include,\n\t\t\tflip) {\n\t\tvar x1 = v2[0], y1 = v2[1],\n\t\t\tx2 = v2[6], y2 = v2[7],\n\t\t\troots = getCurveLineIntersections(v1, x1, y1, x2 - x1, y2 - y1);\n\t\tfor (var i = 0, l = roots.length; i < l; i++) {\n\t\t\tvar t1 = roots[i],\n\t\t\t\tp1 = Curve.getPoint(v1, t1),\n\t\t\t\tt2 = Curve.getTimeOf(v2, p1);\n\t\t\tif (t2 !== null) {\n\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\tflip ? c2 : c1, flip ? t2 : t1,\n\t\t\t\t\t\tflip ? c1 : c2, flip ? t1 : t2);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addLineIntersection(v1, v2, c1, c2, locations, include) {\n\t\tvar pt = Line.intersect(\n\t\t\t\tv1[0], v1[1], v1[6], v1[7],\n\t\t\t\tv2[0], v2[1], v2[6], v2[7]);\n\t\tif (pt) {\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tc1, Curve.getTimeOf(v1, pt),\n\t\t\t\t\tc2, Curve.getTimeOf(v2, pt));\n\t\t}\n\t}\n\n\tfunction getCurveIntersections(v1, v2, c1, c2, locations, include) {\n\t\tvar epsilon = 1e-12,\n\t\t\tmin = Math.min,\n\t\t\tmax = Math.max;\n\n\t\tif (max(v1[0], v1[2], v1[4], v1[6]) + epsilon >\n\t\t\tmin(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\tmin(v1[0], v1[2], v1[4], v1[6]) - epsilon <\n\t\t\tmax(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\tmax(v1[1], v1[3], v1[5], v1[7]) + epsilon >\n\t\t\tmin(v2[1], v2[3], v2[5], v2[7]) &&\n\t\t\tmin(v1[1], v1[3], v1[5], v1[7]) - epsilon <\n\t\t\tmax(v2[1], v2[3], v2[5], v2[7])) {\n\t\t\tvar overlaps = getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\t\tvar overlap = overlaps[i];\n\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\tc1, overlap[0],\n\t\t\t\t\t\t\tc2, overlap[1], true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar straight1 = Curve.isStraight(v1),\n\t\t\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\t\t\tstraight = straight1 && straight2,\n\t\t\t\t\tflip = straight1 && !straight2,\n\t\t\t\t\tbefore = locations.length;\n\t\t\t\t(straight\n\t\t\t\t\t? addLineIntersection\n\t\t\t\t\t: straight1 || straight2\n\t\t\t\t\t\t? addCurveLineIntersections\n\t\t\t\t\t\t: addCurveIntersections)(\n\t\t\t\t\t\t\tflip ? v2 : v1, flip ? v1 : v2,\n\t\t\t\t\t\t\tflip ? c2 : c1, flip ? c1 : c2,\n\t\t\t\t\t\t\tlocations, include, flip,\n\t\t\t\t\t\t\t0, 0, 0, 1, 0, 1);\n\t\t\t\tif (!straight || locations.length === before) {\n\t\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\t\tvar t1 = i >> 1,\n\t\t\t\t\t\t\tt2 = i & 1,\n\t\t\t\t\t\t\ti1 = t1 * 6,\n\t\t\t\t\t\t\ti2 = t2 * 6,\n\t\t\t\t\t\t\tp1 = new Point(v1[i1], v1[i1 + 1]),\n\t\t\t\t\t\t\tp2 = new Point(v2[i2], v2[i2 + 1]);\n\t\t\t\t\t\tif (p1.isClose(p2, epsilon)) {\n\t\t\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\t\t\tc1, t1,\n\t\t\t\t\t\t\t\t\tc2, t2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn locations;\n\t}\n\n\tfunction getSelfIntersection(v1, c1, locations, include) {\n\t\tvar info = Curve.classify(v1);\n\t\tif (info.type === 'loop') {\n\t\t\tvar roots = info.roots;\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tc1, roots[0],\n\t\t\t\t\tc1, roots[1]);\n\t\t}\n\t  return locations;\n\t}\n\n\tfunction getIntersections(curves1, curves2, include, matrix1, matrix2,\n\t\t\t_returnFirst) {\n\t\tvar epsilon = 1e-7,\n\t\t\tself = !curves2;\n\t\tif (self)\n\t\t\tcurves2 = curves1;\n\t\tvar length1 = curves1.length,\n\t\t\tlength2 = curves2.length,\n\t\t\tvalues1 = new Array(length1),\n\t\t\tvalues2 = self ? values1 : new Array(length2),\n\t\t\tlocations = [];\n\n\t\tfor (var i = 0; i < length1; i++) {\n\t\t\tvalues1[i] = curves1[i].getValues(matrix1);\n\t\t}\n\t\tif (!self) {\n\t\t\tfor (var i = 0; i < length2; i++) {\n\t\t\t\tvalues2[i] = curves2[i].getValues(matrix2);\n\t\t\t}\n\t\t}\n\t\tvar boundsCollisions = CollisionDetection.findCurveBoundsCollisions(\n\t\t\t\tvalues1, values2, epsilon);\n\t\tfor (var index1 = 0; index1 < length1; index1++) {\n\t\t\tvar curve1 = curves1[index1],\n\t\t\t\tv1 = values1[index1];\n\t\t\tif (self) {\n\t\t\t\tgetSelfIntersection(v1, curve1, locations, include);\n\t\t\t}\n\t\t\tvar collisions1 = boundsCollisions[index1];\n\t\t\tif (collisions1) {\n\t\t\t\tfor (var j = 0; j < collisions1.length; j++) {\n\t\t\t\t\tif (_returnFirst && locations.length)\n\t\t\t\t\t\treturn locations;\n\t\t\t\t\tvar index2 = collisions1[j];\n\t\t\t\t\tif (!self || index2 > index1) {\n\t\t\t\t\t\tvar curve2 = curves2[index2],\n\t\t\t\t\t\t\tv2 = values2[index2];\n\t\t\t\t\t\tgetCurveIntersections(\n\t\t\t\t\t\t\t\tv1, v2, curve1, curve2, locations, include);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn locations;\n\t}\n\n\tfunction getOverlaps(v1, v2) {\n\n\t\tfunction getSquaredLineLength(v) {\n\t\t\tvar x = v[6] - v[0],\n\t\t\t\ty = v[7] - v[1];\n\t\t\treturn x * x + y * y;\n\t\t}\n\n\t\tvar abs = Math.abs,\n\t\t\tgetDistance = Line.getDistance,\n\t\t\ttimeEpsilon = 1e-8,\n\t\t\tgeomEpsilon = 1e-7,\n\t\t\tstraight1 = Curve.isStraight(v1),\n\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\tstraightBoth = straight1 && straight2,\n\t\t\tflip = getSquaredLineLength(v1) < getSquaredLineLength(v2),\n\t\t\tl1 = flip ? v2 : v1,\n\t\t\tl2 = flip ? v1 : v2,\n\t\t\tpx = l1[0], py = l1[1],\n\t\t\tvx = l1[6] - px, vy = l1[7] - py;\n\t\tif (getDistance(px, py, vx, vy, l2[0], l2[1], true) < geomEpsilon &&\n\t\t\tgetDistance(px, py, vx, vy, l2[6], l2[7], true) < geomEpsilon) {\n\t\t\tif (!straightBoth &&\n\t\t\t\tgetDistance(px, py, vx, vy, l1[2], l1[3], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l1[4], l1[5], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l2[2], l2[3], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l2[4], l2[5], true) < geomEpsilon) {\n\t\t\t\tstraight1 = straight2 = straightBoth = true;\n\t\t\t}\n\t\t} else if (straightBoth) {\n\t\t\treturn null;\n\t\t}\n\t\tif (straight1 ^ straight2) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar v = [v1, v2],\n\t\t\tpairs = [];\n\t\tfor (var i = 0; i < 4 && pairs.length < 2; i++) {\n\t\t\tvar i1 = i & 1,\n\t\t\t\ti2 = i1 ^ 1,\n\t\t\t\tt1 = i >> 1,\n\t\t\t\tt2 = Curve.getTimeOf(v[i1], new Point(\n\t\t\t\t\tv[i2][t1 ? 6 : 0],\n\t\t\t\t\tv[i2][t1 ? 7 : 1]));\n\t\t\tif (t2 != null) {\n\t\t\t\tvar pair = i1 ? [t1, t2] : [t2, t1];\n\t\t\t\tif (!pairs.length ||\n\t\t\t\t\tabs(pair[0] - pairs[0][0]) > timeEpsilon &&\n\t\t\t\t\tabs(pair[1] - pairs[0][1]) > timeEpsilon) {\n\t\t\t\t\tpairs.push(pair);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (i > 2 && !pairs.length)\n\t\t\t\tbreak;\n\t\t}\n\t\tif (pairs.length !== 2) {\n\t\t\tpairs = null;\n\t\t} else if (!straightBoth) {\n\t\t\tvar o1 = Curve.getPart(v1, pairs[0][0], pairs[1][0]),\n\t\t\t\to2 = Curve.getPart(v2, pairs[0][1], pairs[1][1]);\n\t\t\tif (abs(o2[2] - o1[2]) > geomEpsilon ||\n\t\t\t\tabs(o2[3] - o1[3]) > geomEpsilon ||\n\t\t\t\tabs(o2[4] - o1[4]) > geomEpsilon ||\n\t\t\t\tabs(o2[5] - o1[5]) > geomEpsilon)\n\t\t\t\tpairs = null;\n\t\t}\n\t\treturn pairs;\n\t}\n\n\tfunction getTimesWithTangent(v, tangent) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tnormalized = tangent.normalize(),\n\t\t\ttx = normalized.x,\n\t\t\tty = normalized.y,\n\t\t\tax = 3 * x3 - 9 * x2 + 9 * x1 - 3 * x0,\n\t\t\tay = 3 * y3 - 9 * y2 + 9 * y1 - 3 * y0,\n\t\t\tbx = 6 * x2 - 12 * x1 + 6 * x0,\n\t\t\tby = 6 * y2 - 12 * y1 + 6 * y0,\n\t\t\tcx = 3 * x1 - 3 * x0,\n\t\t\tcy = 3 * y1 - 3 * y0,\n\t\t\tden = 2 * ax * ty - 2 * ay * tx,\n\t\t\ttimes = [];\n\t\tif (Math.abs(den) < Numerical.CURVETIME_EPSILON) {\n\t\t\tvar num = ax * cy - ay * cx,\n\t\t\t\tden = ax * by - ay * bx;\n\t\t\tif (den != 0) {\n\t\t\t\tvar t = -num / den;\n\t\t\t\tif (t >= 0 && t <= 1) times.push(t);\n\t\t\t}\n\t\t} else {\n\t\t\tvar delta = (bx * bx - 4 * ax * cx) * ty * ty +\n\t\t\t\t(-2 * bx * by + 4 * ay * cx + 4 * ax * cy) * tx * ty +\n\t\t\t\t(by * by - 4 * ay * cy) * tx * tx,\n\t\t\t\tk = bx * ty - by * tx;\n\t\t\tif (delta >= 0 && den != 0) {\n\t\t\t\tvar d = Math.sqrt(delta),\n\t\t\t\t\tt0 = -(k + d) / den,\n\t\t\t\t\tt1 = (-k + d) / den;\n\t\t\t\tif (t0 >= 0 && t0 <= 1) times.push(t0);\n\t\t\t\tif (t1 >= 0 && t1 <= 1) times.push(t1);\n\t\t\t}\n\t\t}\n\t\treturn times;\n\t}\n\n\treturn {\n\t\tgetIntersections: function(curve) {\n\t\t\tvar v1 = this.getValues(),\n\t\t\t\tv2 = curve && curve !== this && curve.getValues();\n\t\t\treturn v2 ? getCurveIntersections(v1, v2, this, curve, [])\n\t\t\t\t\t  : getSelfIntersection(v1, this, []);\n\t\t},\n\n\t\tstatics: {\n\t\t\tgetOverlaps: getOverlaps,\n\t\t\tgetIntersections: getIntersections,\n\t\t\tgetCurveLineIntersections: getCurveLineIntersections,\n\t\t\tgetTimesWithTangent: getTimesWithTangent\n\t\t}\n\t};\n});\n\nvar CurveLocation = Base.extend({\n\t_class: 'CurveLocation',\n\n\tinitialize: function CurveLocation(curve, time, point, _overlap, _distance) {\n\t\tif (time >= 0.99999999) {\n\t\t\tvar next = curve.getNext();\n\t\t\tif (next) {\n\t\t\t\ttime = 0;\n\t\t\t\tcurve = next;\n\t\t\t}\n\t\t}\n\t\tthis._setCurve(curve);\n\t\tthis._time = time;\n\t\tthis._point = point || curve.getPointAtTime(time);\n\t\tthis._overlap = _overlap;\n\t\tthis._distance = _distance;\n\t\tthis._intersection = this._next = this._previous = null;\n\t},\n\n\t_setPath: function(path) {\n\t\tthis._path = path;\n\t\tthis._version = path ? path._version : 0;\n\t},\n\n\t_setCurve: function(curve) {\n\t\tthis._setPath(curve._path);\n\t\tthis._curve = curve;\n\t\tthis._segment = null;\n\t\tthis._segment1 = curve._segment1;\n\t\tthis._segment2 = curve._segment2;\n\t},\n\n\t_setSegment: function(segment) {\n\t\tvar curve = segment.getCurve();\n\t\tif (curve) {\n\t\t\tthis._setCurve(curve);\n\t\t} else {\n\t\t\tthis._setPath(segment._path);\n\t\t\tthis._segment1 = segment;\n\t\t\tthis._segment2 = null;\n\t\t}\n\t\tthis._segment = segment;\n\t\tthis._time = segment === this._segment1 ? 0 : 1;\n\t\tthis._point = segment._point.clone();\n\t},\n\n\tgetSegment: function() {\n\t\tvar segment = this._segment;\n\t\tif (!segment) {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this.getTime();\n\t\t\tif (time === 0) {\n\t\t\t\tsegment = curve._segment1;\n\t\t\t} else if (time === 1) {\n\t\t\t\tsegment = curve._segment2;\n\t\t\t} else if (time != null) {\n\t\t\t\tsegment = curve.getPartLength(0, time)\n\t\t\t\t\t< curve.getPartLength(time, 1)\n\t\t\t\t\t\t? curve._segment1\n\t\t\t\t\t\t: curve._segment2;\n\t\t\t}\n\t\t\tthis._segment = segment;\n\t\t}\n\t\treturn segment;\n\t},\n\n\tgetCurve: function() {\n\t\tvar path = this._path,\n\t\t\tthat = this;\n\t\tif (path && path._version !== this._version) {\n\t\t\tthis._time = this._offset = this._curveOffset = this._curve = null;\n\t\t}\n\n\t\tfunction trySegment(segment) {\n\t\t\tvar curve = segment && segment.getCurve();\n\t\t\tif (curve && (that._time = curve.getTimeOf(that._point)) != null) {\n\t\t\t\tthat._setCurve(curve);\n\t\t\t\treturn curve;\n\t\t\t}\n\t\t}\n\n\t\treturn this._curve\n\t\t\t|| trySegment(this._segment)\n\t\t\t|| trySegment(this._segment1)\n\t\t\t|| trySegment(this._segment2.getPrevious());\n\t},\n\n\tgetPath: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve && curve._path;\n\t},\n\n\tgetIndex: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve && curve.getIndex();\n\t},\n\n\tgetTime: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\ttime = this._time;\n\t\treturn curve && time == null\n\t\t\t? this._time = curve.getTimeOf(this._point)\n\t\t\t: time;\n\t},\n\n\tgetParameter: '#getTime',\n\n\tgetPoint: function() {\n\t\treturn this._point;\n\t},\n\n\tgetOffset: function() {\n\t\tvar offset = this._offset;\n\t\tif (offset == null) {\n\t\t\toffset = 0;\n\t\t\tvar path = this.getPath(),\n\t\t\t\tindex = this.getIndex();\n\t\t\tif (path && index != null) {\n\t\t\t\tvar curves = path.getCurves();\n\t\t\t\tfor (var i = 0; i < index; i++)\n\t\t\t\t\toffset += curves[i].getLength();\n\t\t\t}\n\t\t\tthis._offset = offset += this.getCurveOffset();\n\t\t}\n\t\treturn offset;\n\t},\n\n\tgetCurveOffset: function() {\n\t\tvar offset = this._curveOffset;\n\t\tif (offset == null) {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this.getTime();\n\t\t\tthis._curveOffset = offset = time != null && curve\n\t\t\t\t\t&& curve.getPartLength(0, time);\n\t\t}\n\t\treturn offset;\n\t},\n\n\tgetIntersection: function() {\n\t\treturn this._intersection;\n\t},\n\n\tgetDistance: function() {\n\t\treturn this._distance;\n\t},\n\n\tdivide: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\tres = curve && curve.divideAtTime(this.getTime());\n\t\tif (res) {\n\t\t\tthis._setSegment(res._segment1);\n\t\t}\n\t\treturn res;\n\t},\n\n\tsplit: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\tpath = curve._path,\n\t\t\tres = curve && curve.splitAtTime(this.getTime());\n\t\tif (res) {\n\t\t\tthis._setSegment(path.getLastSegment());\n\t\t}\n\t\treturn  res;\n\t},\n\n\tequals: function(loc, _ignoreOther) {\n\t\tvar res = this === loc;\n\t\tif (!res && loc instanceof CurveLocation) {\n\t\t\tvar c1 = this.getCurve(),\n\t\t\t\tc2 = loc.getCurve(),\n\t\t\t\tp1 = c1._path,\n\t\t\t\tp2 = c2._path;\n\t\t\tif (p1 === p2) {\n\t\t\t\tvar abs = Math.abs,\n\t\t\t\t\tepsilon = 1e-7,\n\t\t\t\t\tdiff = abs(this.getOffset() - loc.getOffset()),\n\t\t\t\t\ti1 = !_ignoreOther && this._intersection,\n\t\t\t\t\ti2 = !_ignoreOther && loc._intersection;\n\t\t\t\tres = (diff < epsilon\n\t\t\t\t\t\t|| p1 && abs(p1.getLength() - diff) < epsilon)\n\t\t\t\t\t&& (!i1 && !i2 || i1 && i2 && i1.equals(i2, true));\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [],\n\t\t\tpoint = this.getPoint(),\n\t\t\tf = Formatter.instance;\n\t\tif (point)\n\t\t\tparts.push('point: ' + point);\n\t\tvar index = this.getIndex();\n\t\tif (index != null)\n\t\t\tparts.push('index: ' + index);\n\t\tvar time = this.getTime();\n\t\tif (time != null)\n\t\t\tparts.push('time: ' + f.number(time));\n\t\tif (this._distance != null)\n\t\t\tparts.push('distance: ' + f.number(this._distance));\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\tisTouching: function() {\n\t\tvar inter = this._intersection;\n\t\tif (inter && this.getTangent().isCollinear(inter.getTangent())) {\n\t\t\tvar curve1 = this.getCurve(),\n\t\t\t\tcurve2 = inter.getCurve();\n\t\t\treturn !(curve1.isStraight() && curve2.isStraight()\n\t\t\t\t\t&& curve1.getLine().intersect(curve2.getLine()));\n\t\t}\n\t\treturn false;\n\t},\n\n\tisCrossing: function() {\n\t\tvar inter = this._intersection;\n\t\tif (!inter)\n\t\t\treturn false;\n\t\tvar t1 = this.getTime(),\n\t\t\tt2 = inter.getTime(),\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tt1Inside = t1 >= tMin && t1 <= tMax,\n\t\t\tt2Inside = t2 >= tMin && t2 <= tMax;\n\t\tif (t1Inside && t2Inside)\n\t\t\treturn !this.isTouching();\n\t\tvar c2 = this.getCurve(),\n\t\t\tc1 = c2 && t1 < tMin ? c2.getPrevious() : c2,\n\t\t\tc4 = inter.getCurve(),\n\t\t\tc3 = c4 && t2 < tMin ? c4.getPrevious() : c4;\n\t\tif (t1 > tMax)\n\t\t\tc2 = c2.getNext();\n\t\tif (t2 > tMax)\n\t\t\tc4 = c4.getNext();\n\t\tif (!c1 || !c2 || !c3 || !c4)\n\t\t\treturn false;\n\n\t\tvar offsets = [];\n\n\t\tfunction addOffsets(curve, end) {\n\t\t\tvar v = curve.getValues(),\n\t\t\t\troots = Curve.classify(v).roots || Curve.getPeaks(v),\n\t\t\t\tcount = roots.length,\n\t\t\t\toffset = Curve.getLength(v,\n\t\t\t\t\tend && count ? roots[count - 1] : 0,\n\t\t\t\t\t!end && count ? roots[0] : 1);\n\t\t\toffsets.push(count ? offset : offset / 32);\n\t\t}\n\n\t\tfunction isInRange(angle, min, max) {\n\t\t\treturn min < max\n\t\t\t\t\t? angle > min && angle < max\n\t\t\t\t\t: angle > min || angle < max;\n\t\t}\n\n\t\tif (!t1Inside) {\n\t\t\taddOffsets(c1, true);\n\t\t\taddOffsets(c2, false);\n\t\t}\n\t\tif (!t2Inside) {\n\t\t\taddOffsets(c3, true);\n\t\t\taddOffsets(c4, false);\n\t\t}\n\t\tvar pt = this.getPoint(),\n\t\t\toffset = Math.min.apply(Math, offsets),\n\t\t\tv2 = t1Inside ? c2.getTangentAtTime(t1)\n\t\t\t\t\t: c2.getPointAt(offset).subtract(pt),\n\t\t\tv1 = t1Inside ? v2.negate()\n\t\t\t\t\t: c1.getPointAt(-offset).subtract(pt),\n\t\t\tv4 = t2Inside ? c4.getTangentAtTime(t2)\n\t\t\t\t\t: c4.getPointAt(offset).subtract(pt),\n\t\t\tv3 = t2Inside ? v4.negate()\n\t\t\t\t\t: c3.getPointAt(-offset).subtract(pt),\n\t\t\ta1 = v1.getAngle(),\n\t\t\ta2 = v2.getAngle(),\n\t\t\ta3 = v3.getAngle(),\n\t\t\ta4 = v4.getAngle();\n\t\treturn !!(t1Inside\n\t\t\t\t? (isInRange(a1, a3, a4) ^ isInRange(a2, a3, a4)) &&\n\t\t\t\t  (isInRange(a1, a4, a3) ^ isInRange(a2, a4, a3))\n\t\t\t\t: (isInRange(a3, a1, a2) ^ isInRange(a4, a1, a2)) &&\n\t\t\t\t  (isInRange(a3, a2, a1) ^ isInRange(a4, a2, a1)));\n\t},\n\n\thasOverlap: function() {\n\t\treturn !!this._overlap;\n\t}\n}, Base.each(Curve._evaluateMethods, function(name) {\n\tvar get = name + 'At';\n\tthis[name] = function() {\n\t\tvar curve = this.getCurve(),\n\t\t\ttime = this.getTime();\n\t\treturn time != null && curve && curve[get](time, true);\n\t};\n}, {\n\tpreserve: true\n}),\nnew function() {\n\n\tfunction insert(locations, loc, merge) {\n\t\tvar length = locations.length,\n\t\t\tl = 0,\n\t\t\tr = length - 1;\n\n\t\tfunction search(index, dir) {\n\t\t\tfor (var i = index + dir; i >= -1 && i <= length; i += dir) {\n\t\t\t\tvar loc2 = locations[((i % length) + length) % length];\n\t\t\t\tif (!loc.getPoint().isClose(loc2.getPoint(),\n\t\t\t\t\t\t1e-7))\n\t\t\t\t\tbreak;\n\t\t\t\tif (loc.equals(loc2))\n\t\t\t\t\treturn loc2;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\twhile (l <= r) {\n\t\t\tvar m = (l + r) >>> 1,\n\t\t\t\tloc2 = locations[m],\n\t\t\t\tfound;\n\t\t\tif (merge && (found = loc.equals(loc2) ? loc2\n\t\t\t\t\t: (search(m, -1) || search(m, 1)))) {\n\t\t\t\tif (loc._overlap) {\n\t\t\t\t\tfound._overlap = found._intersection._overlap = true;\n\t\t\t\t}\n\t\t\t\treturn found;\n\t\t\t}\n\t\tvar path1 = loc.getPath(),\n\t\t\tpath2 = loc2.getPath(),\n\t\t\tdiff = path1 !== path2\n\t\t\t\t? path1._id - path2._id\n\t\t\t\t: (loc.getIndex() + loc.getTime())\n\t\t\t\t- (loc2.getIndex() + loc2.getTime());\n\t\t\tif (diff < 0) {\n\t\t\t\tr = m - 1;\n\t\t\t} else {\n\t\t\t\tl = m + 1;\n\t\t\t}\n\t\t}\n\t\tlocations.splice(l, 0, loc);\n\t\treturn loc;\n\t}\n\n\treturn { statics: {\n\t\tinsert: insert,\n\n\t\texpand: function(locations) {\n\t\t\tvar expanded = locations.slice();\n\t\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\t\tinsert(expanded, locations[i]._intersection, false);\n\t\t\t}\n\t\t\treturn expanded;\n\t\t}\n\t}};\n});\n\nvar PathItem = Item.extend({\n\t_class: 'PathItem',\n\t_selectBounds: false,\n\t_canScaleStroke: true,\n\tbeans: true,\n\n\tinitialize: function PathItem() {\n\t},\n\n\tstatics: {\n\t\tcreate: function(arg) {\n\t\t\tvar data,\n\t\t\t\tsegments,\n\t\t\t\tcompound;\n\t\t\tif (Base.isPlainObject(arg)) {\n\t\t\t\tsegments = arg.segments;\n\t\t\t\tdata = arg.pathData;\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tsegments = arg;\n\t\t\t} else if (typeof arg === 'string') {\n\t\t\t\tdata = arg;\n\t\t\t}\n\t\t\tif (segments) {\n\t\t\t\tvar first = segments[0];\n\t\t\t\tcompound = first && Array.isArray(first[0]);\n\t\t\t} else if (data) {\n\t\t\t\tcompound = (data.match(/m/gi) || []).length > 1\n\t\t\t\t\t\t|| /z\\s*\\S+/i.test(data);\n\t\t\t}\n\t\t\tvar ctor = compound ? CompoundPath : Path;\n\t\t\treturn new ctor(arg);\n\t\t}\n\t},\n\n\t_asPathItem: function() {\n\t\treturn this;\n\t},\n\n\tisClockwise: function() {\n\t\treturn this.getArea() >= 0;\n\t},\n\n\tsetClockwise: function(clockwise) {\n\t\tif (this.isClockwise() != (clockwise = !!clockwise))\n\t\t\tthis.reverse();\n\t},\n\n\tsetPathData: function(data) {\n\n\t\tvar parts = data && data.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),\n\t\t\tcoords,\n\t\t\trelative = false,\n\t\t\tprevious,\n\t\t\tcontrol,\n\t\t\tcurrent = new Point(),\n\t\t\tstart = new Point();\n\n\t\tfunction getCoord(index, coord) {\n\t\t\tvar val = +coords[index];\n\t\t\tif (relative)\n\t\t\t\tval += current[coord];\n\t\t\treturn val;\n\t\t}\n\n\t\tfunction getPoint(index) {\n\t\t\treturn new Point(\n\t\t\t\tgetCoord(index, 'x'),\n\t\t\t\tgetCoord(index + 1, 'y')\n\t\t\t);\n\t\t}\n\n\t\tthis.clear();\n\n\t\tfor (var i = 0, l = parts && parts.length; i < l; i++) {\n\t\t\tvar part = parts[i],\n\t\t\t\tcommand = part[0],\n\t\t\t\tlower = command.toLowerCase();\n\t\t\tcoords = part.match(/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g);\n\t\t\tvar length = coords && coords.length;\n\t\t\trelative = command === lower;\n\t\t\tif (previous === 'z' && !/[mz]/.test(lower))\n\t\t\t\tthis.moveTo(current);\n\t\t\tswitch (lower) {\n\t\t\tcase 'm':\n\t\t\tcase 'l':\n\t\t\t\tvar move = lower === 'm';\n\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\tthis[move ? 'moveTo' : 'lineTo'](current = getPoint(j));\n\t\t\t\t\tif (move) {\n\t\t\t\t\t\tstart = current;\n\t\t\t\t\t\tmove = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontrol = current;\n\t\t\t\tbreak;\n\t\t\tcase 'h':\n\t\t\tcase 'v':\n\t\t\t\tvar coord = lower === 'h' ? 'x' : 'y';\n\t\t\t\tcurrent = current.clone();\n\t\t\t\tfor (var j = 0; j < length; j++) {\n\t\t\t\t\tcurrent[coord] = getCoord(j, coord);\n\t\t\t\t\tthis.lineTo(current);\n\t\t\t\t}\n\t\t\t\tcontrol = current;\n\t\t\t\tbreak;\n\t\t\tcase 'c':\n\t\t\t\tfor (var j = 0; j < length; j += 6) {\n\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\tgetPoint(j),\n\t\t\t\t\t\t\tcontrol = getPoint(j + 2),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 4));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 's':\n\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\t/[cs]/.test(previous)\n\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t: current,\n\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t\tprevious = lower;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'q':\n\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 't':\n\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\tcontrol = (/[qt]/.test(previous)\n\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t: current),\n\t\t\t\t\t\t\tcurrent = getPoint(j));\n\t\t\t\t\tprevious = lower;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'a':\n\t\t\t\tfor (var j = 0; j < length; j += 7) {\n\t\t\t\t\tthis.arcTo(current = getPoint(j + 5),\n\t\t\t\t\t\t\tnew Size(+coords[j], +coords[j + 1]),\n\t\t\t\t\t\t\t+coords[j + 2], +coords[j + 4], +coords[j + 3]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'z':\n\t\t\t\tthis.closePath(1e-12);\n\t\t\t\tcurrent = start;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tprevious = lower;\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn !(this.hasFill() && this.hasStroke());\n\t},\n\n\t_contains: function(point) {\n\t\tvar winding = point.isInside(\n\t\t\t\tthis.getBounds({ internal: true, handle: true }))\n\t\t\t\t\t? this._getWinding(point)\n\t\t\t\t\t: {};\n\t\treturn winding.onPath || !!(this.getFillRule() === 'evenodd'\n\t\t\t\t? winding.windingL & 1 || winding.windingR & 1\n\t\t\t\t: winding.winding);\n\t},\n\n\tgetIntersections: function(path, include, _matrix, _returnFirst) {\n\t\tvar self = this === path || !path,\n\t\t\tmatrix1 = this._matrix._orNullIfIdentity(),\n\t\t\tmatrix2 = self ? matrix1\n\t\t\t\t: (_matrix || path._matrix)._orNullIfIdentity();\n\t\treturn self || this.getBounds(matrix1).intersects(\n\t\t\t\tpath.getBounds(matrix2), 1e-12)\n\t\t\t\t? Curve.getIntersections(\n\t\t\t\t\t\tthis.getCurves(), !self && path.getCurves(), include,\n\t\t\t\t\t\tmatrix1, matrix2, _returnFirst)\n\t\t\t\t: [];\n\t},\n\n\tgetCrossings: function(path) {\n\t\treturn this.getIntersections(path, function(inter) {\n\t\t\treturn inter.isCrossing();\n\t\t});\n\t},\n\n\tgetNearestLocation: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tcurves = this.getCurves(),\n\t\t\tminDist = Infinity,\n\t\t\tminLoc = null;\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar loc = curves[i].getNearestLocation(point);\n\t\t\tif (loc._distance < minDist) {\n\t\t\t\tminDist = loc._distance;\n\t\t\t\tminLoc = loc;\n\t\t\t}\n\t\t}\n\t\treturn minLoc;\n\t},\n\n\tgetNearestPoint: function() {\n\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\treturn loc ? loc.getPoint() : loc;\n\t},\n\n\tinterpolate: function(from, to, factor) {\n\t\tvar isPath = !this._children,\n\t\t\tname = isPath ? '_segments' : '_children',\n\t\t\titemsFrom = from[name],\n\t\t\titemsTo = to[name],\n\t\t\titems = this[name];\n\t\tif (!itemsFrom || !itemsTo || itemsFrom.length !== itemsTo.length) {\n\t\t\tthrow new Error('Invalid operands in interpolate() call: ' +\n\t\t\t\t\tfrom + ', ' + to);\n\t\t}\n\t\tvar current = items.length,\n\t\t\tlength = itemsTo.length;\n\t\tif (current < length) {\n\t\t\tvar ctor = isPath ? Segment : Path;\n\t\t\tfor (var i = current; i < length; i++) {\n\t\t\t\tthis.add(new ctor());\n\t\t\t}\n\t\t} else if (current > length) {\n\t\t\tthis[isPath ? 'removeSegments' : 'removeChildren'](length, current);\n\t\t}\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\titems[i].interpolate(itemsFrom[i], itemsTo[i], factor);\n\t\t}\n\t\tif (isPath) {\n\t\t\tthis.setClosed(from._closed);\n\t\t\tthis._changed(9);\n\t\t}\n\t},\n\n\tcompare: function(path) {\n\t\tvar ok = false;\n\t\tif (path) {\n\t\t\tvar paths1 = this._children || [this],\n\t\t\t\tpaths2 = path._children ? path._children.slice() : [path],\n\t\t\t\tlength1 = paths1.length,\n\t\t\t\tlength2 = paths2.length,\n\t\t\t\tmatched = [],\n\t\t\t\tcount = 0;\n\t\t\tok = true;\n\t\t\tvar boundsOverlaps = CollisionDetection.findItemBoundsCollisions(paths1, paths2, Numerical.GEOMETRIC_EPSILON);\n\t\t\tfor (var i1 = length1 - 1; i1 >= 0 && ok; i1--) {\n\t\t\t\tvar path1 = paths1[i1];\n\t\t\t\tok = false;\n\t\t\t\tvar pathBoundsOverlaps = boundsOverlaps[i1];\n\t\t\t\tif (pathBoundsOverlaps) {\n\t\t\t\t\tfor (var i2 = pathBoundsOverlaps.length - 1; i2 >= 0 && !ok; i2--) {\n\t\t\t\t\t\tif (path1.compare(paths2[pathBoundsOverlaps[i2]])) {\n\t\t\t\t\t\t\tif (!matched[pathBoundsOverlaps[i2]]) {\n\t\t\t\t\t\t\t\tmatched[pathBoundsOverlaps[i2]] = true;\n\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tok = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tok = ok && count === length2;\n\t\t}\n\t\treturn ok;\n\t},\n\n});\n\nvar Path = PathItem.extend({\n\t_class: 'Path',\n\t_serializeFields: {\n\t\tsegments: [],\n\t\tclosed: false\n\t},\n\n\tinitialize: function Path(arg) {\n\t\tthis._closed = false;\n\t\tthis._segments = [];\n\t\tthis._version = 0;\n\t\tvar args = arguments,\n\t\t\tsegments = Array.isArray(arg)\n\t\t\t? typeof arg[0] === 'object'\n\t\t\t\t? arg\n\t\t\t\t: args\n\t\t\t: arg && (arg.size === undefined && (arg.x !== undefined\n\t\t\t\t\t|| arg.point !== undefined))\n\t\t\t\t? args\n\t\t\t\t: null;\n\t\tif (segments && segments.length > 0) {\n\t\t\tthis.setSegments(segments);\n\t\t} else {\n\t\t\tthis._curves = undefined;\n\t\t\tthis._segmentSelection = 0;\n\t\t\tif (!segments && typeof arg === 'string') {\n\t\t\t\tthis.setPathData(arg);\n\t\t\t\targ = null;\n\t\t\t}\n\t\t}\n\t\tthis._initialize(!segments && arg);\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._closed === item._closed\n\t\t\t\t&& Base.equals(this._segments, item._segments);\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setSegments(source._segments);\n\t\tthis._closed = source._closed;\n\t},\n\n\t_changed: function _changed(flags) {\n\t\t_changed.base.call(this, flags);\n\t\tif (flags & 8) {\n\t\t\tthis._length = this._area = undefined;\n\t\t\tif (flags & 32) {\n\t\t\t\tthis._version++;\n\t\t\t} else if (this._curves) {\n\t\t\t   for (var i = 0, l = this._curves.length; i < l; i++)\n\t\t\t\t\tthis._curves[i]._changed();\n\t\t\t}\n\t\t} else if (flags & 64) {\n\t\t\tthis._bounds = undefined;\n\t\t}\n\t},\n\n\tgetStyle: function() {\n\t\tvar parent = this._parent;\n\t\treturn (parent instanceof CompoundPath ? parent : this)._style;\n\t},\n\n\tgetSegments: function() {\n\t\treturn this._segments;\n\t},\n\n\tsetSegments: function(segments) {\n\t\tvar fullySelected = this.isFullySelected(),\n\t\t\tlength = segments && segments.length;\n\t\tthis._segments.length = 0;\n\t\tthis._segmentSelection = 0;\n\t\tthis._curves = undefined;\n\t\tif (length) {\n\t\t\tvar last = segments[length - 1];\n\t\t\tif (typeof last === 'boolean') {\n\t\t\t\tthis.setClosed(last);\n\t\t\t\tlength--;\n\t\t\t}\n\t\t\tthis._add(Segment.readList(segments, 0, {}, length));\n\t\t}\n\t\tif (fullySelected)\n\t\t\tthis.setFullySelected(true);\n\t},\n\n\tgetFirstSegment: function() {\n\t\treturn this._segments[0];\n\t},\n\n\tgetLastSegment: function() {\n\t\treturn this._segments[this._segments.length - 1];\n\t},\n\n\tgetCurves: function() {\n\t\tvar curves = this._curves,\n\t\t\tsegments = this._segments;\n\t\tif (!curves) {\n\t\t\tvar length = this._countCurves();\n\t\t\tcurves = this._curves = new Array(length);\n\t\t\tfor (var i = 0; i < length; i++)\n\t\t\t\tcurves[i] = new Curve(this, segments[i],\n\t\t\t\t\tsegments[i + 1] || segments[0]);\n\t\t}\n\t\treturn curves;\n\t},\n\n\tgetFirstCurve: function() {\n\t\treturn this.getCurves()[0];\n\t},\n\n\tgetLastCurve: function() {\n\t\tvar curves = this.getCurves();\n\t\treturn curves[curves.length - 1];\n\t},\n\n\tisClosed: function() {\n\t\treturn this._closed;\n\t},\n\n\tsetClosed: function(closed) {\n\t\tif (this._closed != (closed = !!closed)) {\n\t\t\tthis._closed = closed;\n\t\t\tif (this._curves) {\n\t\t\t\tvar length = this._curves.length = this._countCurves();\n\t\t\t\tif (closed)\n\t\t\t\t\tthis._curves[length - 1] = new Curve(this,\n\t\t\t\t\t\tthis._segments[length - 1], this._segments[0]);\n\t\t\t}\n\t\t\tthis._changed(41);\n\t\t}\n\t}\n}, {\n\tbeans: true,\n\n\tgetPathData: function(_matrix, _precision) {\n\t\tvar segments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tf = new Formatter(_precision),\n\t\t\tcoords = new Array(6),\n\t\t\tfirst = true,\n\t\t\tcurX, curY,\n\t\t\tprevX, prevY,\n\t\t\tinX, inY,\n\t\t\toutX, outY,\n\t\t\tparts = [];\n\n\t\tfunction addSegment(segment, skipLine) {\n\t\t\tsegment._transformCoordinates(_matrix, coords);\n\t\t\tcurX = coords[0];\n\t\t\tcurY = coords[1];\n\t\t\tif (first) {\n\t\t\t\tparts.push('M' + f.pair(curX, curY));\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tinX = coords[2];\n\t\t\t\tinY = coords[3];\n\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\tif (!skipLine) {\n\t\t\t\t\t\tvar dx = curX - prevX,\n\t\t\t\t\t\t\tdy = curY - prevY;\n\t\t\t\t\t\tparts.push(\n\t\t\t\t\t\t\t  dx === 0 ? 'v' + f.number(dy)\n\t\t\t\t\t\t\t: dy === 0 ? 'h' + f.number(dx)\n\t\t\t\t\t\t\t: 'l' + f.pair(dx, dy));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tparts.push('c' + f.pair(outX - prevX, outY - prevY)\n\t\t\t\t\t\t\t + ' ' + f.pair( inX - prevX,  inY - prevY)\n\t\t\t\t\t\t\t + ' ' + f.pair(curX - prevX, curY - prevY));\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevX = curX;\n\t\t\tprevY = curY;\n\t\t\toutX = coords[4];\n\t\t\toutY = coords[5];\n\t\t}\n\n\t\tif (!length)\n\t\t\treturn '';\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\taddSegment(segments[i]);\n\t\tif (this._closed && length > 0) {\n\t\t\taddSegment(segments[0], true);\n\t\t\tparts.push('z');\n\t\t}\n\t\treturn parts.join('');\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._segments.length;\n\t},\n\n\t_transformContent: function(matrix) {\n\t\tvar segments = this._segments,\n\t\t\tcoords = new Array(6);\n\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\tsegments[i]._transformCoordinates(matrix, coords, true);\n\t\treturn true;\n\t},\n\n\t_add: function(segs, index) {\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tamount = segs.length,\n\t\t\tappend = index == null,\n\t\t\tindex = append ? segments.length : index;\n\t\tfor (var i = 0; i < amount; i++) {\n\t\t\tvar segment = segs[i];\n\t\t\tif (segment._path)\n\t\t\t\tsegment = segs[i] = segment.clone();\n\t\t\tsegment._path = this;\n\t\t\tsegment._index = index + i;\n\t\t\tif (segment._selection)\n\t\t\t\tthis._updateSelection(segment, 0, segment._selection);\n\t\t}\n\t\tif (append) {\n\t\t\tBase.push(segments, segs);\n\t\t} else {\n\t\t\tsegments.splice.apply(segments, [index, 0].concat(segs));\n\t\t\tfor (var i = index + amount, l = segments.length; i < l; i++)\n\t\t\t\tsegments[i]._index = i;\n\t\t}\n\t\tif (curves) {\n\t\t\tvar total = this._countCurves(),\n\t\t\t\tstart = index > 0 && index + amount - 1 === total ? index - 1\n\t\t\t\t\t: index,\n\t\t\t\tinsert = start,\n\t\t\t\tend = Math.min(start + amount, total);\n\t\t\tif (segs._curves) {\n\t\t\t\tcurves.splice.apply(curves, [start, 0].concat(segs._curves));\n\t\t\t\tinsert += segs._curves.length;\n\t\t\t}\n\t\t\tfor (var i = insert; i < end; i++)\n\t\t\t\tcurves.splice(i, 0, new Curve(this, null, null));\n\t\t\tthis._adjustCurves(start, end);\n\t\t}\n\t\tthis._changed(41);\n\t\treturn segs;\n\t},\n\n\t_adjustCurves: function(start, end) {\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tcurve;\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tcurve = curves[i];\n\t\t\tcurve._path = this;\n\t\t\tcurve._segment1 = segments[i];\n\t\t\tcurve._segment2 = segments[i + 1] || segments[0];\n\t\t\tcurve._changed();\n\t\t}\n\t\tif (curve = curves[this._closed && !start ? segments.length - 1\n\t\t\t\t: start - 1]) {\n\t\t\tcurve._segment2 = segments[start] || segments[0];\n\t\t\tcurve._changed();\n\t\t}\n\t\tif (curve = curves[end]) {\n\t\t\tcurve._segment1 = segments[end];\n\t\t\tcurve._changed();\n\t\t}\n\t},\n\n\t_countCurves: function() {\n\t\tvar length = this._segments.length;\n\t\treturn !this._closed && length > 0 ? length - 1 : length;\n\t},\n\n\tadd: function(segment1 ) {\n\t\tvar args = arguments;\n\t\treturn args.length > 1 && typeof segment1 !== 'number'\n\t\t\t? this._add(Segment.readList(args))\n\t\t\t: this._add([ Segment.read(args) ])[0];\n\t},\n\n\tinsert: function(index, segment1 ) {\n\t\tvar args = arguments;\n\t\treturn args.length > 2 && typeof segment1 !== 'number'\n\t\t\t? this._add(Segment.readList(args, 1), index)\n\t\t\t: this._add([ Segment.read(args, 1) ], index)[0];\n\t},\n\n\taddSegment: function() {\n\t\treturn this._add([ Segment.read(arguments) ])[0];\n\t},\n\n\tinsertSegment: function(index ) {\n\t\treturn this._add([ Segment.read(arguments, 1) ], index)[0];\n\t},\n\n\taddSegments: function(segments) {\n\t\treturn this._add(Segment.readList(segments));\n\t},\n\n\tinsertSegments: function(index, segments) {\n\t\treturn this._add(Segment.readList(segments), index);\n\t},\n\n\tremoveSegment: function(index) {\n\t\treturn this.removeSegments(index, index + 1)[0] || null;\n\t},\n\n\tremoveSegments: function(start, end, _includeCurves) {\n\t\tstart = start || 0;\n\t\tend = Base.pick(end, this._segments.length);\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tcount = segments.length,\n\t\t\tremoved = segments.splice(start, end - start),\n\t\t\tamount = removed.length;\n\t\tif (!amount)\n\t\t\treturn removed;\n\t\tfor (var i = 0; i < amount; i++) {\n\t\t\tvar segment = removed[i];\n\t\t\tif (segment._selection)\n\t\t\t\tthis._updateSelection(segment, segment._selection, 0);\n\t\t\tsegment._index = segment._path = null;\n\t\t}\n\t\tfor (var i = start, l = segments.length; i < l; i++)\n\t\t\tsegments[i]._index = i;\n\t\tif (curves) {\n\t\t\tvar index = start > 0 && end === count + (this._closed ? 1 : 0)\n\t\t\t\t\t? start - 1\n\t\t\t\t\t: start,\n\t\t\t\tcurves = curves.splice(index, amount);\n\t\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\t\tcurves[i]._path = null;\n\t\t\tif (_includeCurves)\n\t\t\t\tremoved._curves = curves.slice(1);\n\t\t\tthis._adjustCurves(index, index);\n\t\t}\n\t\tthis._changed(41);\n\t\treturn removed;\n\t},\n\n\tclear: '#removeSegments',\n\n\thasHandles: function() {\n\t\tvar segments = this._segments;\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tif (segments[i].hasHandles())\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tclearHandles: function() {\n\t\tvar segments = this._segments;\n\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\tsegments[i].clearHandles();\n\t},\n\n\tgetLength: function() {\n\t\tif (this._length == null) {\n\t\t\tvar curves = this.getCurves(),\n\t\t\t\tlength = 0;\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++)\n\t\t\t\tlength += curves[i].getLength();\n\t\t\tthis._length = length;\n\t\t}\n\t\treturn this._length;\n\t},\n\n\tgetArea: function() {\n\t\tvar area = this._area;\n\t\tif (area == null) {\n\t\t\tvar segments = this._segments,\n\t\t\t\tclosed = this._closed;\n\t\t\tarea = 0;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar last = i + 1 === l;\n\t\t\t\tarea += Curve.getArea(Curve.getValues(\n\t\t\t\t\t\tsegments[i], segments[last ? 0 : i + 1],\n\t\t\t\t\t\tnull, last && !closed));\n\t\t\t}\n\t\t\tthis._area = area;\n\t\t}\n\t\treturn area;\n\t},\n\n\tisFullySelected: function() {\n\t\tvar length = this._segments.length;\n\t\treturn this.isSelected() && length > 0 && this._segmentSelection\n\t\t\t\t=== length * 7;\n\t},\n\n\tsetFullySelected: function(selected) {\n\t\tif (selected)\n\t\t\tthis._selectSegments(true);\n\t\tthis.setSelected(selected);\n\t},\n\n\tsetSelection: function setSelection(selection) {\n\t\tif (!(selection & 1))\n\t\t\tthis._selectSegments(false);\n\t\tsetSelection.base.call(this, selection);\n\t},\n\n\t_selectSegments: function(selected) {\n\t\tvar segments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tselection = selected ? 7 : 0;\n\t\tthis._segmentSelection = selection * length;\n\t\tfor (var i = 0; i < length; i++)\n\t\t\tsegments[i]._selection = selection;\n\t},\n\n\t_updateSelection: function(segment, oldSelection, newSelection) {\n\t\tsegment._selection = newSelection;\n\t\tvar selection = this._segmentSelection += newSelection - oldSelection;\n\t\tif (selection > 0)\n\t\t\tthis.setSelected(true);\n\t},\n\n\tdivideAt: function(location) {\n\t\tvar loc = this.getLocationAt(location),\n\t\t\tcurve;\n\t\treturn loc && (curve = loc.getCurve().divideAt(loc.getCurveOffset()))\n\t\t\t\t? curve._segment1\n\t\t\t\t: null;\n\t},\n\n\tsplitAt: function(location) {\n\t\tvar loc = this.getLocationAt(location),\n\t\t\tindex = loc && loc.index,\n\t\t\ttime = loc && loc.time,\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin;\n\t\tif (time > tMax) {\n\t\t\tindex++;\n\t\t\ttime = 0;\n\t\t}\n\t\tvar curves = this.getCurves();\n\t\tif (index >= 0 && index < curves.length) {\n\t\t\tif (time >= tMin) {\n\t\t\t\tcurves[index++].divideAtTime(time);\n\t\t\t}\n\t\t\tvar segs = this.removeSegments(index, this._segments.length, true),\n\t\t\t\tpath;\n\t\t\tif (this._closed) {\n\t\t\t\tthis.setClosed(false);\n\t\t\t\tpath = this;\n\t\t\t} else {\n\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\tpath.insertAbove(this);\n\t\t\t\tpath.copyAttributes(this);\n\t\t\t}\n\t\t\tpath._add(segs, 0);\n\t\t\tthis.addSegment(segs[0]);\n\t\t\treturn path;\n\t\t}\n\t\treturn null;\n\t},\n\n\tsplit: function(index, time) {\n\t\tvar curve,\n\t\t\tlocation = time === undefined ? index\n\t\t\t\t: (curve = this.getCurves()[index])\n\t\t\t\t\t&& curve.getLocationAtTime(time);\n\t\treturn location != null ? this.splitAt(location) : null;\n\t},\n\n\tjoin: function(path, tolerance) {\n\t\tvar epsilon = tolerance || 0;\n\t\tif (path && path !== this) {\n\t\t\tvar segments = path._segments,\n\t\t\t\tlast1 = this.getLastSegment(),\n\t\t\t\tlast2 = path.getLastSegment();\n\t\t\tif (!last2)\n\t\t\t\treturn this;\n\t\t\tif (last1 && last1._point.isClose(last2._point, epsilon))\n\t\t\t\tpath.reverse();\n\t\t\tvar first2 = path.getFirstSegment();\n\t\t\tif (last1 && last1._point.isClose(first2._point, epsilon)) {\n\t\t\t\tlast1.setHandleOut(first2._handleOut);\n\t\t\t\tthis._add(segments.slice(1));\n\t\t\t} else {\n\t\t\t\tvar first1 = this.getFirstSegment();\n\t\t\t\tif (first1 && first1._point.isClose(first2._point, epsilon))\n\t\t\t\t\tpath.reverse();\n\t\t\t\tlast2 = path.getLastSegment();\n\t\t\t\tif (first1 && first1._point.isClose(last2._point, epsilon)) {\n\t\t\t\t\tfirst1.setHandleIn(last2._handleIn);\n\t\t\t\t\tthis._add(segments.slice(0, segments.length - 1), 0);\n\t\t\t\t} else {\n\t\t\t\t\tthis._add(segments.slice());\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (path._closed)\n\t\t\t\tthis._add([segments[0]]);\n\t\t\tpath.remove();\n\t\t}\n\t\tvar first = this.getFirstSegment(),\n\t\t\tlast = this.getLastSegment();\n\t\tif (first !== last && first._point.isClose(last._point, epsilon)) {\n\t\t\tfirst.setHandleIn(last._handleIn);\n\t\t\tlast.remove();\n\t\t\tthis.setClosed(true);\n\t\t}\n\t\treturn this;\n\t},\n\n\treduce: function(options) {\n\t\tvar curves = this.getCurves(),\n\t\t\tsimplify = options && options.simplify,\n\t\t\ttolerance = simplify ? 1e-7 : 0;\n\t\tfor (var i = curves.length - 1; i >= 0; i--) {\n\t\t\tvar curve = curves[i];\n\t\t\tif (!curve.hasHandles() && (!curve.hasLength(tolerance)\n\t\t\t\t\t|| simplify && curve.isCollinear(curve.getNext())))\n\t\t\t\tcurve.remove();\n\t\t}\n\t\treturn this;\n\t},\n\n\treverse: function() {\n\t\tthis._segments.reverse();\n\t\tfor (var i = 0, l = this._segments.length; i < l; i++) {\n\t\t\tvar segment = this._segments[i];\n\t\t\tvar handleIn = segment._handleIn;\n\t\t\tsegment._handleIn = segment._handleOut;\n\t\t\tsegment._handleOut = handleIn;\n\t\t\tsegment._index = i;\n\t\t}\n\t\tthis._curves = null;\n\t\tthis._changed(9);\n\t},\n\n\tflatten: function(flatness) {\n\t\tvar flattener = new PathFlattener(this, flatness || 0.25, 256, true),\n\t\t\tparts = flattener.parts,\n\t\t\tlength = parts.length,\n\t\t\tsegments = [];\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tsegments.push(new Segment(parts[i].curve.slice(0, 2)));\n\t\t}\n\t\tif (!this._closed && length > 0) {\n\t\t\tsegments.push(new Segment(parts[length - 1].curve.slice(6)));\n\t\t}\n\t\tthis.setSegments(segments);\n\t},\n\n\tsimplify: function(tolerance) {\n\t\tvar segments = new PathFitter(this).fit(tolerance || 2.5);\n\t\tif (segments)\n\t\t\tthis.setSegments(segments);\n\t\treturn !!segments;\n\t},\n\n\tsmooth: function(options) {\n\t\tvar that = this,\n\t\t\topts = options || {},\n\t\t\ttype = opts.type || 'asymmetric',\n\t\t\tsegments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tclosed = this._closed;\n\n\t\tfunction getIndex(value, _default) {\n\t\t\tvar index = value && value.index;\n\t\t\tif (index != null) {\n\t\t\t\tvar path = value.path;\n\t\t\t\tif (path && path !== that)\n\t\t\t\t\tthrow new Error(value._class + ' ' + index + ' of ' + path\n\t\t\t\t\t\t\t+ ' is not part of ' + that);\n\t\t\t\tif (_default && value instanceof Curve)\n\t\t\t\t\tindex++;\n\t\t\t} else {\n\t\t\t\tindex = typeof value === 'number' ? value : _default;\n\t\t\t}\n\t\t\treturn Math.min(index < 0 && closed\n\t\t\t\t\t? index % length\n\t\t\t\t\t: index < 0 ? index + length : index, length - 1);\n\t\t}\n\n\t\tvar loop = closed && opts.from === undefined && opts.to === undefined,\n\t\t\tfrom = getIndex(opts.from, 0),\n\t\t\tto = getIndex(opts.to, length - 1);\n\n\t\tif (from > to) {\n\t\t\tif (closed) {\n\t\t\t\tfrom -= length;\n\t\t\t} else {\n\t\t\t\tvar tmp = from;\n\t\t\t\tfrom = to;\n\t\t\t\tto = tmp;\n\t\t\t}\n\t\t}\n\t\tif (/^(?:asymmetric|continuous)$/.test(type)) {\n\t\t\tvar asymmetric = type === 'asymmetric',\n\t\t\t\tmin = Math.min,\n\t\t\t\tamount = to - from + 1,\n\t\t\t\tn = amount - 1,\n\t\t\t\tpadding = loop ? min(amount, 4) : 1,\n\t\t\t\tpaddingLeft = padding,\n\t\t\t\tpaddingRight = padding,\n\t\t\t\tknots = [];\n\t\t\tif (!closed) {\n\t\t\t\tpaddingLeft = min(1, from);\n\t\t\t\tpaddingRight = min(1, length - to - 1);\n\t\t\t}\n\t\t\tn += paddingLeft + paddingRight;\n\t\t\tif (n <= 1)\n\t\t\t\treturn;\n\t\t\tfor (var i = 0, j = from - paddingLeft; i <= n; i++, j++) {\n\t\t\t\tknots[i] = segments[(j < 0 ? j + length : j) % length]._point;\n\t\t\t}\n\n\t\t\tvar x = knots[0]._x + 2 * knots[1]._x,\n\t\t\t\ty = knots[0]._y + 2 * knots[1]._y,\n\t\t\t\tf = 2,\n\t\t\t\tn_1 = n - 1,\n\t\t\t\trx = [x],\n\t\t\t\try = [y],\n\t\t\t\trf = [f],\n\t\t\t\tpx = [],\n\t\t\t\tpy = [];\n\t\t\tfor (var i = 1; i < n; i++) {\n\t\t\t\tvar internal = i < n_1,\n\t\t\t\t\ta = internal ? 1 : asymmetric ? 1 : 2,\n\t\t\t\t\tb = internal ? 4 : asymmetric ? 2 : 7,\n\t\t\t\t\tu = internal ? 4 : asymmetric ? 3 : 8,\n\t\t\t\t\tv = internal ? 2 : asymmetric ? 0 : 1,\n\t\t\t\t\tm = a / f;\n\t\t\t\tf = rf[i] = b - m;\n\t\t\t\tx = rx[i] = u * knots[i]._x + v * knots[i + 1]._x - m * x;\n\t\t\t\ty = ry[i] = u * knots[i]._y + v * knots[i + 1]._y - m * y;\n\t\t\t}\n\n\t\t\tpx[n_1] = rx[n_1] / rf[n_1];\n\t\t\tpy[n_1] = ry[n_1] / rf[n_1];\n\t\t\tfor (var i = n - 2; i >= 0; i--) {\n\t\t\t\tpx[i] = (rx[i] - px[i + 1]) / rf[i];\n\t\t\t\tpy[i] = (ry[i] - py[i + 1]) / rf[i];\n\t\t\t}\n\t\t\tpx[n] = (3 * knots[n]._x - px[n_1]) / 2;\n\t\t\tpy[n] = (3 * knots[n]._y - py[n_1]) / 2;\n\n\t\t\tfor (var i = paddingLeft, max = n - paddingRight, j = from;\n\t\t\t\t\ti <= max; i++, j++) {\n\t\t\t\tvar segment = segments[j < 0 ? j + length : j],\n\t\t\t\t\tpt = segment._point,\n\t\t\t\t\thx = px[i] - pt._x,\n\t\t\t\t\thy = py[i] - pt._y;\n\t\t\t\tif (loop || i < max)\n\t\t\t\t\tsegment.setHandleOut(hx, hy);\n\t\t\t\tif (loop || i > paddingLeft)\n\t\t\t\t\tsegment.setHandleIn(-hx, -hy);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var i = from; i <= to; i++) {\n\t\t\t\tsegments[i < 0 ? i + length : i].smooth(opts,\n\t\t\t\t\t\t!loop && i === from, !loop && i === to);\n\t\t\t}\n\t\t}\n\t},\n\n\ttoShape: function(insert) {\n\t\tif (!this._closed)\n\t\t\treturn null;\n\n\t\tvar segments = this._segments,\n\t\t\ttype,\n\t\t\tsize,\n\t\t\tradius,\n\t\t\ttopCenter;\n\n\t\tfunction isCollinear(i, j) {\n\t\t\tvar seg1 = segments[i],\n\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\tseg3 = segments[j],\n\t\t\t\tseg4 = seg3.getNext();\n\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t&& seg3._handleOut.isZero() && seg4._handleIn.isZero()\n\t\t\t\t\t&& seg2._point.subtract(seg1._point).isCollinear(\n\t\t\t\t\t\tseg4._point.subtract(seg3._point));\n\t\t}\n\n\t\tfunction isOrthogonal(i) {\n\t\t\tvar seg2 = segments[i],\n\t\t\t\tseg1 = seg2.getPrevious(),\n\t\t\t\tseg3 = seg2.getNext();\n\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t&& seg2._handleOut.isZero() && seg3._handleIn.isZero()\n\t\t\t\t\t&& seg2._point.subtract(seg1._point).isOrthogonal(\n\t\t\t\t\t\tseg3._point.subtract(seg2._point));\n\t\t}\n\n\t\tfunction isArc(i) {\n\t\t\tvar seg1 = segments[i],\n\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\thandle1 = seg1._handleOut,\n\t\t\t\thandle2 = seg2._handleIn,\n\t\t\t\tkappa = 0.5522847498307936;\n\t\t\tif (handle1.isOrthogonal(handle2)) {\n\t\t\t\tvar pt1 = seg1._point,\n\t\t\t\t\tpt2 = seg2._point,\n\t\t\t\t\tcorner = new Line(pt1, handle1, true).intersect(\n\t\t\t\t\t\t\tnew Line(pt2, handle2, true), true);\n\t\t\t\treturn corner && Numerical.isZero(handle1.getLength() /\n\t\t\t\t\t\tcorner.subtract(pt1).getLength() - kappa)\n\t\t\t\t\t&& Numerical.isZero(handle2.getLength() /\n\t\t\t\t\t\tcorner.subtract(pt2).getLength() - kappa);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction getDistance(i, j) {\n\t\t\treturn segments[i]._point.getDistance(segments[j]._point);\n\t\t}\n\n\t\tif (!this.hasHandles() && segments.length === 4\n\t\t\t\t&& isCollinear(0, 2) && isCollinear(1, 3) && isOrthogonal(1)) {\n\t\t\ttype = Shape.Rectangle;\n\t\t\tsize = new Size(getDistance(0, 3), getDistance(0, 1));\n\t\t\ttopCenter = segments[1]._point.add(segments[2]._point).divide(2);\n\t\t} else if (segments.length === 8 && isArc(0) && isArc(2) && isArc(4)\n\t\t\t\t&& isArc(6) && isCollinear(1, 5) && isCollinear(3, 7)) {\n\t\t\ttype = Shape.Rectangle;\n\t\t\tsize = new Size(getDistance(1, 6), getDistance(0, 3));\n\t\t\tradius = size.subtract(new Size(getDistance(0, 7),\n\t\t\t\t\tgetDistance(1, 2))).divide(2);\n\t\t\ttopCenter = segments[3]._point.add(segments[4]._point).divide(2);\n\t\t} else if (segments.length === 4\n\t\t\t\t&& isArc(0) && isArc(1) && isArc(2) && isArc(3)) {\n\t\t\tif (Numerical.isZero(getDistance(0, 2) - getDistance(1, 3))) {\n\t\t\t\ttype = Shape.Circle;\n\t\t\t\tradius = getDistance(0, 2) / 2;\n\t\t\t} else {\n\t\t\t\ttype = Shape.Ellipse;\n\t\t\t\tradius = new Size(getDistance(2, 0) / 2, getDistance(3, 1) / 2);\n\t\t\t}\n\t\t\ttopCenter = segments[1]._point;\n\t\t}\n\n\t\tif (type) {\n\t\t\tvar center = this.getPosition(true),\n\t\t\t\tshape = new type({\n\t\t\t\t\tcenter: center,\n\t\t\t\t\tsize: size,\n\t\t\t\t\tradius: radius,\n\t\t\t\t\tinsert: false\n\t\t\t\t});\n\t\t\tshape.copyAttributes(this, true);\n\t\t\tshape._matrix.prepend(this._matrix);\n\t\t\tshape.rotate(topCenter.subtract(center).getAngle() + 90);\n\t\t\tif (insert === undefined || insert)\n\t\t\t\tshape.insertAbove(this);\n\t\t\treturn shape;\n\t\t}\n\t\treturn null;\n\t},\n\n\ttoPath: '#clone',\n\n\tcompare: function compare(path) {\n\t\tif (!path || path instanceof CompoundPath)\n\t\t\treturn compare.base.call(this, path);\n\t\tvar curves1 = this.getCurves(),\n\t\t\tcurves2 = path.getCurves(),\n\t\t\tlength1 = curves1.length,\n\t\t\tlength2 = curves2.length;\n\t\tif (!length1 || !length2) {\n\t\t\treturn length1 == length2;\n\t\t}\n\t\tvar v1 = curves1[0].getValues(),\n\t\t\tvalues2 = [],\n\t\t\tpos1 = 0, pos2,\n\t\t\tend1 = 0, end2;\n\t\tfor (var i = 0; i < length2; i++) {\n\t\t\tvar v2 = curves2[i].getValues();\n\t\t\tvalues2.push(v2);\n\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tpos2 = !i && overlaps[0][0] > 0 ? length2 - 1 : i;\n\t\t\t\tend2 = overlaps[0][1];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar abs = Math.abs,\n\t\t\tepsilon = 1e-8,\n\t\t\tv2 = values2[pos2],\n\t\t\tstart2;\n\t\twhile (v1 && v2) {\n\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tvar t1 = overlaps[0][0];\n\t\t\t\tif (abs(t1 - end1) < epsilon) {\n\t\t\t\t\tend1 = overlaps[1][0];\n\t\t\t\t\tif (end1 === 1) {\n\t\t\t\t\t\tv1 = ++pos1 < length1 ? curves1[pos1].getValues() : null;\n\t\t\t\t\t\tend1 = 0;\n\t\t\t\t\t}\n\t\t\t\t\tvar t2 = overlaps[0][1];\n\t\t\t\t\tif (abs(t2 - end2) < epsilon) {\n\t\t\t\t\t\tif (!start2)\n\t\t\t\t\t\t\tstart2 = [pos2, t2];\n\t\t\t\t\t\tend2 = overlaps[1][1];\n\t\t\t\t\t\tif (end2 === 1) {\n\t\t\t\t\t\t\tif (++pos2 >= length2)\n\t\t\t\t\t\t\t\tpos2 = 0;\n\t\t\t\t\t\t\tv2 = values2[pos2] || curves2[pos2].getValues();\n\t\t\t\t\t\t\tend2 = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!v1) {\n\t\t\t\t\t\t\treturn start2[0] === pos2 && start2[1] === end2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\treturn false;\n\t},\n\n\t_hitTestSelf: function(point, options, viewMatrix, strokeMatrix) {\n\t\tvar that = this,\n\t\t\tstyle = this.getStyle(),\n\t\t\tsegments = this._segments,\n\t\t\tnumSegments = segments.length,\n\t\t\tclosed = this._closed,\n\t\t\ttolerancePadding = options._tolerancePadding,\n\t\t\tstrokePadding = tolerancePadding,\n\t\t\tjoin, cap, miterLimit,\n\t\t\tarea, loc, res,\n\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\thitFill = options.fill && style.hasFill(),\n\t\t\thitCurves = options.curves,\n\t\t\tstrokeRadius = hitStroke\n\t\t\t\t\t? style.getStrokeWidth() / 2\n\t\t\t\t\t: hitFill && options.tolerance > 0 || hitCurves\n\t\t\t\t\t\t? 0 : null;\n\t\tif (strokeRadius !== null) {\n\t\t\tif (strokeRadius > 0) {\n\t\t\t\tjoin = style.getStrokeJoin();\n\t\t\t\tcap = style.getStrokeCap();\n\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\t\tstrokePadding = strokePadding.add(\n\t\t\t\t\tPath._getStrokePadding(strokeRadius, strokeMatrix));\n\t\t\t} else {\n\t\t\t\tjoin = cap = 'round';\n\t\t\t}\n\t\t}\n\n\t\tfunction isCloseEnough(pt, padding) {\n\t\t\treturn point.subtract(pt).divide(padding).length <= 1;\n\t\t}\n\n\t\tfunction checkSegmentPoint(seg, pt, name) {\n\t\t\tif (!options.selected || pt.isSelected()) {\n\t\t\t\tvar anchor = seg._point;\n\t\t\t\tif (pt !== anchor)\n\t\t\t\t\tpt = pt.add(anchor);\n\t\t\t\tif (isCloseEnough(pt, strokePadding)) {\n\t\t\t\t\treturn new HitResult(name, that, {\n\t\t\t\t\t\tsegment: seg,\n\t\t\t\t\t\tpoint: pt\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction checkSegmentPoints(seg, ends) {\n\t\t\treturn (ends || options.segments)\n\t\t\t\t&& checkSegmentPoint(seg, seg._point, 'segment')\n\t\t\t\t|| (!ends && options.handles) && (\n\t\t\t\t\tcheckSegmentPoint(seg, seg._handleIn, 'handle-in') ||\n\t\t\t\t\tcheckSegmentPoint(seg, seg._handleOut, 'handle-out'));\n\t\t}\n\n\t\tfunction addToArea(point) {\n\t\t\tarea.add(point);\n\t\t}\n\n\t\tfunction checkSegmentStroke(segment) {\n\t\t\tvar isJoin = closed || segment._index > 0\n\t\t\t\t\t&& segment._index < numSegments - 1;\n\t\t\tif ((isJoin ? join : cap) === 'round') {\n\t\t\t\treturn isCloseEnough(segment._point, strokePadding);\n\t\t\t} else {\n\t\t\t\tarea = new Path({ internal: true, closed: true });\n\t\t\t\tif (isJoin) {\n\t\t\t\t\tif (!segment.isSmooth()) {\n\t\t\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius,\n\t\t\t\t\t\t\t   miterLimit, null, strokeMatrix, addToArea, true);\n\t\t\t\t\t}\n\t\t\t\t} else if (cap === 'square') {\n\t\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, null,\n\t\t\t\t\t\t\tstrokeMatrix, addToArea, true);\n\t\t\t\t}\n\t\t\t\tif (!area.isEmpty()) {\n\t\t\t\t\tvar loc;\n\t\t\t\t\treturn area.contains(point)\n\t\t\t\t\t\t|| (loc = area.getNearestLocation(point))\n\t\t\t\t\t\t\t&& isCloseEnough(loc.getPoint(), tolerancePadding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (options.ends && !options.segments && !closed) {\n\t\t\tif (res = checkSegmentPoints(segments[0], true)\n\t\t\t\t\t|| checkSegmentPoints(segments[numSegments - 1], true))\n\t\t\t\treturn res;\n\t\t} else if (options.segments || options.handles) {\n\t\t\tfor (var i = 0; i < numSegments; i++)\n\t\t\t\tif (res = checkSegmentPoints(segments[i]))\n\t\t\t\t\treturn res;\n\t\t}\n\t\tif (strokeRadius !== null) {\n\t\t\tloc = this.getNearestLocation(point);\n\t\t\tif (loc) {\n\t\t\t\tvar time = loc.getTime();\n\t\t\t\tif (time === 0 || time === 1 && numSegments > 1) {\n\t\t\t\t\tif (!checkSegmentStroke(loc.getSegment()))\n\t\t\t\t\t\tloc = null;\n\t\t\t\t} else if (!isCloseEnough(loc.getPoint(), strokePadding)) {\n\t\t\t\t\tloc = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!loc && join === 'miter' && numSegments > 1) {\n\t\t\t\tfor (var i = 0; i < numSegments; i++) {\n\t\t\t\t\tvar segment = segments[i];\n\t\t\t\t\tif (point.getDistance(segment._point)\n\t\t\t\t\t\t\t<= miterLimit * strokeRadius\n\t\t\t\t\t\t\t&& checkSegmentStroke(segment)) {\n\t\t\t\t\t\tloc = segment.getLocation();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn !loc && hitFill && this._contains(point)\n\t\t\t\t|| loc && !hitStroke && !hitCurves\n\t\t\t\t\t? new HitResult('fill', this)\n\t\t\t\t\t: loc\n\t\t\t\t\t\t? new HitResult(hitStroke ? 'stroke' : 'curve', this, {\n\t\t\t\t\t\t\tlocation: loc,\n\t\t\t\t\t\t\tpoint: loc.getPoint()\n\t\t\t\t\t\t})\n\t\t\t\t\t\t: null;\n\t}\n\n}, Base.each(Curve._evaluateMethods,\n\tfunction(name) {\n\t\tthis[name + 'At'] = function(offset) {\n\t\t\tvar loc = this.getLocationAt(offset);\n\t\t\treturn loc && loc[name]();\n\t\t};\n\t},\n{\n\tbeans: false,\n\n\tgetLocationOf: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tcurves = this.getCurves();\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar loc = curves[i].getLocationOf(point);\n\t\t\tif (loc)\n\t\t\t\treturn loc;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetOffsetOf: function() {\n\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\treturn loc ? loc.getOffset() : null;\n\t},\n\n\tgetLocationAt: function(offset) {\n\t\tif (typeof offset === 'number') {\n\t\t\tvar curves = this.getCurves(),\n\t\t\t\tlength = 0;\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tvar start = length,\n\t\t\t\t\tcurve = curves[i];\n\t\t\t\tlength += curve.getLength();\n\t\t\t\tif (length > offset) {\n\t\t\t\t\treturn curve.getLocationAt(offset - start);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (curves.length > 0 && offset <= this.getLength()) {\n\t\t\t\treturn new CurveLocation(curves[curves.length - 1], 1);\n\t\t\t}\n\t\t} else if (offset && offset.getPath && offset.getPath() === this) {\n\t\t\treturn offset;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetOffsetsWithTangent: function() {\n\t\tvar tangent = Point.read(arguments);\n\t\tif (tangent.isZero()) {\n\t\t\treturn [];\n\t\t}\n\n\t\tvar offsets = [];\n\t\tvar curveStart = 0;\n\t\tvar curves = this.getCurves();\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar curve = curves[i];\n\t\t\tvar curveTimes = curve.getTimesWithTangent(tangent);\n\t\t\tfor (var j = 0, m = curveTimes.length; j < m; j++) {\n\t\t\t\tvar offset = curveStart + curve.getOffsetAtTime(curveTimes[j]);\n\t\t\t\tif (offsets.indexOf(offset) < 0) {\n\t\t\t\t\toffsets.push(offset);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcurveStart += curve.length;\n\t\t}\n\t\treturn offsets;\n\t}\n}),\nnew function() {\n\n\tfunction drawHandles(ctx, segments, matrix, size) {\n\t\tif (size <= 0) return;\n\n\t\tvar half = size / 2,\n\t\t\tminiSize = size - 2,\n\t\t\tminiHalf = half - 1,\n\t\t\tcoords = new Array(6),\n\t\t\tpX, pY;\n\n\t\tfunction drawHandle(index) {\n\t\t\tvar hX = coords[index],\n\t\t\t\thY = coords[index + 1];\n\t\t\tif (pX != hX || pY != hY) {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(pX, pY);\n\t\t\t\tctx.lineTo(hX, hY);\n\t\t\t\tctx.stroke();\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(hX, hY, half, 0, Math.PI * 2, true);\n\t\t\t\tctx.fill();\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar segment = segments[i],\n\t\t\t\tselection = segment._selection;\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tpX = coords[0];\n\t\t\tpY = coords[1];\n\t\t\tif (selection & 2)\n\t\t\t\tdrawHandle(2);\n\t\t\tif (selection & 4)\n\t\t\t\tdrawHandle(4);\n\t\t\tctx.fillRect(pX - half, pY - half, size, size);\n\t\t\tif (miniSize > 0 && !(selection & 1)) {\n\t\t\t\tvar fillStyle = ctx.fillStyle;\n\t\t\t\tctx.fillStyle = '#ffffff';\n\t\t\t\tctx.fillRect(pX - miniHalf, pY - miniHalf, miniSize, miniSize);\n\t\t\t\tctx.fillStyle = fillStyle;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction drawSegments(ctx, path, matrix) {\n\t\tvar segments = path._segments,\n\t\t\tlength = segments.length,\n\t\t\tcoords = new Array(6),\n\t\t\tfirst = true,\n\t\t\tcurX, curY,\n\t\t\tprevX, prevY,\n\t\t\tinX, inY,\n\t\t\toutX, outY;\n\n\t\tfunction drawSegment(segment) {\n\t\t\tif (matrix) {\n\t\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\t\tcurX = coords[0];\n\t\t\t\tcurY = coords[1];\n\t\t\t} else {\n\t\t\t\tvar point = segment._point;\n\t\t\t\tcurX = point._x;\n\t\t\t\tcurY = point._y;\n\t\t\t}\n\t\t\tif (first) {\n\t\t\t\tctx.moveTo(curX, curY);\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tif (matrix) {\n\t\t\t\t\tinX = coords[2];\n\t\t\t\t\tinY = coords[3];\n\t\t\t\t} else {\n\t\t\t\t\tvar handle = segment._handleIn;\n\t\t\t\t\tinX = curX + handle._x;\n\t\t\t\t\tinY = curY + handle._y;\n\t\t\t\t}\n\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\tctx.lineTo(curX, curY);\n\t\t\t\t} else {\n\t\t\t\t\tctx.bezierCurveTo(outX, outY, inX, inY, curX, curY);\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevX = curX;\n\t\t\tprevY = curY;\n\t\t\tif (matrix) {\n\t\t\t\toutX = coords[4];\n\t\t\t\toutY = coords[5];\n\t\t\t} else {\n\t\t\t\tvar handle = segment._handleOut;\n\t\t\t\toutX = prevX + handle._x;\n\t\t\t\toutY = prevY + handle._y;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\tdrawSegment(segments[i]);\n\t\tif (path._closed && length > 0)\n\t\t\tdrawSegment(segments[0]);\n\t}\n\n\treturn {\n\t\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\t\tvar dontStart = param.dontStart,\n\t\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\t\tstyle = this.getStyle(),\n\t\t\t\thasFill = style.hasFill(),\n\t\t\t\thasStroke = style.hasStroke(),\n\t\t\t\tdashArray = style.getDashArray(),\n\t\t\t\tdashLength = !paper.support.nativeDash && hasStroke\n\t\t\t\t\t\t&& dashArray && dashArray.length;\n\n\t\t\tif (!dontStart)\n\t\t\t\tctx.beginPath();\n\n\t\t\tif (hasFill || hasStroke && !dashLength || dontPaint) {\n\t\t\t\tdrawSegments(ctx, this, strokeMatrix);\n\t\t\t\tif (this._closed)\n\t\t\t\t\tctx.closePath();\n\t\t\t}\n\n\t\t\tfunction getOffset(i) {\n\t\t\t\treturn dashArray[((i % dashLength) + dashLength) % dashLength];\n\t\t\t}\n\n\t\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\t\tif (hasFill) {\n\t\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t\t}\n\t\t\t\tif (hasStroke) {\n\t\t\t\t\tif (dashLength) {\n\t\t\t\t\t\tif (!dontStart)\n\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tvar flattener = new PathFlattener(this, 0.25, 32, false,\n\t\t\t\t\t\t\t\tstrokeMatrix),\n\t\t\t\t\t\t\tlength = flattener.length,\n\t\t\t\t\t\t\tfrom = -style.getDashOffset(), to,\n\t\t\t\t\t\t\ti = 0;\n\t\t\t\t\t\twhile (from > 0) {\n\t\t\t\t\t\t\tfrom -= getOffset(i--) + getOffset(i--);\n\t\t\t\t\t\t}\n\t\t\t\t\t\twhile (from < length) {\n\t\t\t\t\t\t\tto = from + getOffset(i++);\n\t\t\t\t\t\t\tif (from > 0 || to > 0)\n\t\t\t\t\t\t\t\tflattener.drawPart(ctx,\n\t\t\t\t\t\t\t\t\t\tMath.max(from, 0), Math.max(to, 0));\n\t\t\t\t\t\t\tfrom = to + getOffset(i++);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_drawSelected: function(ctx, matrix) {\n\t\t\tctx.beginPath();\n\t\t\tdrawSegments(ctx, this, matrix);\n\t\t\tctx.stroke();\n\t\t\tdrawHandles(ctx, this._segments, matrix, paper.settings.handleSize);\n\t\t}\n\t};\n},\nnew function() {\n\tfunction getCurrentSegment(that) {\n\t\tvar segments = that._segments;\n\t\tif (!segments.length)\n\t\t\tthrow new Error('Use a moveTo() command first');\n\t\treturn segments[segments.length - 1];\n\t}\n\n\treturn {\n\t\tmoveTo: function() {\n\t\t\tvar segments = this._segments;\n\t\t\tif (segments.length === 1)\n\t\t\t\tthis.removeSegment(0);\n\t\t\tif (!segments.length)\n\t\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t},\n\n\t\tmoveBy: function() {\n\t\t\tthrow new Error('moveBy() is unsupported on Path items.');\n\t\t},\n\n\t\tlineTo: function() {\n\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t},\n\n\t\tcubicCurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle1 = Point.read(args),\n\t\t\t\thandle2 = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this);\n\t\t\tcurrent.setHandleOut(handle1.subtract(current._point));\n\t\t\tthis._add([ new Segment(to, handle2.subtract(to)) ]);\n\t\t},\n\n\t\tquadraticCurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.cubicCurveTo(\n\t\t\t\thandle.add(current.subtract(handle).multiply(1 / 3)),\n\t\t\t\thandle.add(to.subtract(handle).multiply(1 / 3)),\n\t\t\t\tto\n\t\t\t);\n\t\t},\n\n\t\tcurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tthrough = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tt = Base.pick(Base.read(args), 0.5),\n\t\t\t\tt1 = 1 - t,\n\t\t\t\tcurrent = getCurrentSegment(this)._point,\n\t\t\t\thandle = through.subtract(current.multiply(t1 * t1))\n\t\t\t\t\t.subtract(to.multiply(t * t)).divide(2 * t * t1);\n\t\t\tif (handle.isNaN())\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Cannot put a curve through points with parameter = ' + t);\n\t\t\tthis.quadraticCurveTo(handle, to);\n\t\t},\n\n\t\tarcTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tabs = Math.abs,\n\t\t\t\tsqrt = Math.sqrt,\n\t\t\t\tcurrent = getCurrentSegment(this),\n\t\t\t\tfrom = current._point,\n\t\t\t\tto = Point.read(args),\n\t\t\t\tthrough,\n\t\t\t\tpeek = Base.peek(args),\n\t\t\t\tclockwise = Base.pick(peek, true),\n\t\t\t\tcenter, extent, vector, matrix;\n\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\tvar middle = from.add(to).divide(2),\n\t\t\t\tthrough = middle.add(middle.subtract(from).rotate(\n\t\t\t\t\t\tclockwise ? -90 : 90));\n\t\t\t} else if (Base.remain(args) <= 2) {\n\t\t\t\tthrough = to;\n\t\t\t\tto = Point.read(args);\n\t\t\t} else if (!from.equals(to)) {\n\t\t\t\tvar radius = Size.read(args),\n\t\t\t\t\tisZero = Numerical.isZero;\n\t\t\t\tif (isZero(radius.width) || isZero(radius.height))\n\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\tvar rotation = Base.read(args),\n\t\t\t\t\tclockwise = !!Base.read(args),\n\t\t\t\t\tlarge = !!Base.read(args),\n\t\t\t\t\tmiddle = from.add(to).divide(2),\n\t\t\t\t\tpt = from.subtract(middle).rotate(-rotation),\n\t\t\t\t\tx = pt.x,\n\t\t\t\t\ty = pt.y,\n\t\t\t\t\trx = abs(radius.width),\n\t\t\t\t\try = abs(radius.height),\n\t\t\t\t\trxSq = rx * rx,\n\t\t\t\t\trySq = ry * ry,\n\t\t\t\t\txSq = x * x,\n\t\t\t\t\tySq = y * y;\n\t\t\t\tvar factor = sqrt(xSq / rxSq + ySq / rySq);\n\t\t\t\tif (factor > 1) {\n\t\t\t\t\trx *= factor;\n\t\t\t\t\try *= factor;\n\t\t\t\t\trxSq = rx * rx;\n\t\t\t\t\trySq = ry * ry;\n\t\t\t\t}\n\t\t\t\tfactor = (rxSq * rySq - rxSq * ySq - rySq * xSq) /\n\t\t\t\t\t\t(rxSq * ySq + rySq * xSq);\n\t\t\t\tif (abs(factor) < 1e-12)\n\t\t\t\t\tfactor = 0;\n\t\t\t\tif (factor < 0)\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\tcenter = new Point(rx * y / ry, -ry * x / rx)\n\t\t\t\t\t\t.multiply((large === clockwise ? -1 : 1) * sqrt(factor))\n\t\t\t\t\t\t.rotate(rotation).add(middle);\n\t\t\t\tmatrix = new Matrix().translate(center).rotate(rotation)\n\t\t\t\t\t\t.scale(rx, ry);\n\t\t\t\tvector = matrix._inverseTransform(from);\n\t\t\t\textent = vector.getDirectedAngle(matrix._inverseTransform(to));\n\t\t\t\tif (!clockwise && extent > 0)\n\t\t\t\t\textent -= 360;\n\t\t\t\telse if (clockwise && extent < 0)\n\t\t\t\t\textent += 360;\n\t\t\t}\n\t\t\tif (through) {\n\t\t\t\tvar l1 = new Line(from.add(through).divide(2),\n\t\t\t\t\t\t\tthrough.subtract(from).rotate(90), true),\n\t\t\t\t\tl2 = new Line(through.add(to).divide(2),\n\t\t\t\t\t\t\tto.subtract(through).rotate(90), true),\n\t\t\t\t\tline = new Line(from, to),\n\t\t\t\t\tthroughSide = line.getSide(through);\n\t\t\t\tcenter = l1.intersect(l2, true);\n\t\t\t\tif (!center) {\n\t\t\t\t\tif (!throughSide)\n\t\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\t}\n\t\t\t\tvector = from.subtract(center);\n\t\t\t\textent = vector.getDirectedAngle(to.subtract(center));\n\t\t\t\tvar centerSide = line.getSide(center, true);\n\t\t\t\tif (centerSide === 0) {\n\t\t\t\t\textent = throughSide * abs(extent);\n\t\t\t\t} else if (throughSide === centerSide) {\n\t\t\t\t\textent += extent < 0 ? 360 : -360;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (extent) {\n\t\t\t\tvar epsilon = 1e-7,\n\t\t\t\t\text = abs(extent),\n\t\t\t\t\tcount = ext >= 360 ? 4 : Math.ceil((ext - epsilon) / 90),\n\t\t\t\t\tinc = extent / count,\n\t\t\t\t\thalf = inc * Math.PI / 360,\n\t\t\t\t\tz = 4 / 3 * Math.sin(half) / (1 + Math.cos(half)),\n\t\t\t\t\tsegments = [];\n\t\t\t\tfor (var i = 0; i <= count; i++) {\n\t\t\t\t\tvar pt = to,\n\t\t\t\t\t\tout = null;\n\t\t\t\t\tif (i < count) {\n\t\t\t\t\t\tout = vector.rotate(90).multiply(z);\n\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\tpt = matrix._transformPoint(vector);\n\t\t\t\t\t\t\tout = matrix._transformPoint(vector.add(out))\n\t\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpt = center.add(vector);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\tcurrent.setHandleOut(out);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar _in = vector.rotate(-90).multiply(z);\n\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\t_in = matrix._transformPoint(vector.add(_in))\n\t\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsegments.push(new Segment(pt, _in, out));\n\t\t\t\t\t}\n\t\t\t\t\tvector = vector.rotate(inc);\n\t\t\t\t}\n\t\t\t\tthis._add(segments);\n\t\t\t}\n\t\t},\n\n\t\tlineBy: function() {\n\t\t\tvar to = Point.read(arguments),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.lineTo(current.add(to));\n\t\t},\n\n\t\tcurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tthrough = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tparameter = Base.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.curveTo(current.add(through), current.add(to), parameter);\n\t\t},\n\n\t\tcubicCurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle1 = Point.read(args),\n\t\t\t\thandle2 = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.cubicCurveTo(current.add(handle1), current.add(handle2),\n\t\t\t\t\tcurrent.add(to));\n\t\t},\n\n\t\tquadraticCurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.quadraticCurveTo(current.add(handle), current.add(to));\n\t\t},\n\n\t\tarcBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcurrent = getCurrentSegment(this)._point,\n\t\t\t\tpoint = current.add(Point.read(args)),\n\t\t\t\tclockwise = Base.pick(Base.peek(args), true);\n\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\tthis.arcTo(point, clockwise);\n\t\t\t} else {\n\t\t\t\tthis.arcTo(point, current.add(Point.read(args)));\n\t\t\t}\n\t\t},\n\n\t\tclosePath: function(tolerance) {\n\t\t\tthis.setClosed(true);\n\t\t\tthis.join(this, tolerance);\n\t\t}\n\t};\n}, {\n\n\t_getBounds: function(matrix, options) {\n\t\tvar method = options.handle\n\t\t\t\t? 'getHandleBounds'\n\t\t\t\t: options.stroke\n\t\t\t\t? 'getStrokeBounds'\n\t\t\t\t: 'getBounds';\n\t\treturn Path[method](this._segments, this._closed, this, matrix, options);\n\t},\n\nstatics: {\n\tgetBounds: function(segments, closed, path, matrix, options, strokePadding) {\n\t\tvar first = segments[0];\n\t\tif (!first)\n\t\t\treturn new Rectangle();\n\t\tvar coords = new Array(6),\n\t\t\tprevCoords = first._transformCoordinates(matrix, new Array(6)),\n\t\t\tmin = prevCoords.slice(0, 2),\n\t\t\tmax = min.slice(),\n\t\t\troots = new Array(2);\n\n\t\tfunction processSegment(segment) {\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tCurve._addBounds(\n\t\t\t\t\tprevCoords[i],\n\t\t\t\t\tprevCoords[i + 4],\n\t\t\t\t\tcoords[i + 2],\n\t\t\t\t\tcoords[i],\n\t\t\t\t\ti, strokePadding ? strokePadding[i] : 0, min, max, roots);\n\t\t\t}\n\t\t\tvar tmp = prevCoords;\n\t\t\tprevCoords = coords;\n\t\t\tcoords = tmp;\n\t\t}\n\n\t\tfor (var i = 1, l = segments.length; i < l; i++)\n\t\t\tprocessSegment(segments[i]);\n\t\tif (closed)\n\t\t\tprocessSegment(first);\n\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t},\n\n\tgetStrokeBounds: function(segments, closed, path, matrix, options) {\n\t\tvar style = path.getStyle(),\n\t\t\tstroke = style.hasStroke(),\n\t\t\tstrokeWidth = style.getStrokeWidth(),\n\t\t\tstrokeMatrix = stroke && path._getStrokeMatrix(matrix, options),\n\t\t\tstrokePadding = stroke && Path._getStrokePadding(strokeWidth,\n\t\t\t\tstrokeMatrix),\n\t\t\tbounds = Path.getBounds(segments, closed, path, matrix, options,\n\t\t\t\tstrokePadding);\n\t\tif (!stroke)\n\t\t\treturn bounds;\n\t\tvar strokeRadius = strokeWidth / 2,\n\t\t\tjoin = style.getStrokeJoin(),\n\t\t\tcap = style.getStrokeCap(),\n\t\t\tmiterLimit = style.getMiterLimit(),\n\t\t\tjoinBounds = new Rectangle(new Size(strokePadding));\n\n\t\tfunction addPoint(point) {\n\t\t\tbounds = bounds.include(point);\n\t\t}\n\n\t\tfunction addRound(segment) {\n\t\t\tbounds = bounds.unite(\n\t\t\t\t\tjoinBounds.setCenter(segment._point.transform(matrix)));\n\t\t}\n\n\t\tfunction addJoin(segment, join) {\n\t\t\tif (join === 'round' || segment.isSmooth()) {\n\t\t\t\taddRound(segment);\n\t\t\t} else {\n\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius, miterLimit,\n\t\t\t\t\t\tmatrix, strokeMatrix, addPoint);\n\t\t\t}\n\t\t}\n\n\t\tfunction addCap(segment, cap) {\n\t\t\tif (cap === 'round') {\n\t\t\t\taddRound(segment);\n\t\t\t} else {\n\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, matrix,\n\t\t\t\t\t\tstrokeMatrix, addPoint);\n\t\t\t}\n\t\t}\n\n\t\tvar length = segments.length - (closed ? 0 : 1);\n\t\tif (length > 0) {\n\t\t\tfor (var i = 1; i < length; i++) {\n\t\t\t\taddJoin(segments[i], join);\n\t\t\t}\n\t\t\tif (closed) {\n\t\t\t\taddJoin(segments[0], join);\n\t\t\t} else {\n\t\t\t\taddCap(segments[0], cap);\n\t\t\t\taddCap(segments[segments.length - 1], cap);\n\t\t\t}\n\t\t}\n\t\treturn bounds;\n\t},\n\n\t_getStrokePadding: function(radius, matrix) {\n\t\tif (!matrix)\n\t\t\treturn [radius, radius];\n\t\tvar hor = new Point(radius, 0).transform(matrix),\n\t\t\tver = new Point(0, radius).transform(matrix),\n\t\t\tphi = hor.getAngleInRadians(),\n\t\t\ta = hor.getLength(),\n\t\t\tb = ver.getLength();\n\t\tvar sin = Math.sin(phi),\n\t\t\tcos = Math.cos(phi),\n\t\t\ttan = Math.tan(phi),\n\t\t\ttx = Math.atan2(b * tan, a),\n\t\t\tty = Math.atan2(b, tan * a);\n\t\treturn [Math.abs(a * Math.cos(tx) * cos + b * Math.sin(tx) * sin),\n\t\t\t\tMath.abs(b * Math.sin(ty) * cos + a * Math.cos(ty) * sin)];\n\t},\n\n\t_addBevelJoin: function(segment, join, radius, miterLimit, matrix,\n\t\t\tstrokeMatrix, addPoint, isArea) {\n\t\tvar curve2 = segment.getCurve(),\n\t\t\tcurve1 = curve2.getPrevious(),\n\t\t\tpoint = curve2.getPoint1().transform(matrix),\n\t\t\tnormal1 = curve1.getNormalAtTime(1).multiply(radius)\n\t\t\t\t.transform(strokeMatrix),\n\t\t\tnormal2 = curve2.getNormalAtTime(0).multiply(radius)\n\t\t\t\t.transform(strokeMatrix),\n\t\t\t\tangle = normal1.getDirectedAngle(normal2);\n\t\tif (angle < 0 || angle >= 180) {\n\t\t\tnormal1 = normal1.negate();\n\t\t\tnormal2 = normal2.negate();\n\t\t}\n\t\tif (isArea)\n\t\t\taddPoint(point);\n\t\taddPoint(point.add(normal1));\n\t\tif (join === 'miter') {\n\t\t\tvar corner = new Line(point.add(normal1),\n\t\t\t\t\tnew Point(-normal1.y, normal1.x), true\n\t\t\t\t).intersect(new Line(point.add(normal2),\n\t\t\t\t\tnew Point(-normal2.y, normal2.x), true\n\t\t\t\t), true);\n\t\t\tif (corner && point.getDistance(corner) <= miterLimit * radius) {\n\t\t\t\taddPoint(corner);\n\t\t\t}\n\t\t}\n\t\taddPoint(point.add(normal2));\n\t},\n\n\t_addSquareCap: function(segment, cap, radius, matrix, strokeMatrix,\n\t\t\taddPoint, isArea) {\n\t\tvar point = segment._point.transform(matrix),\n\t\t\tloc = segment.getLocation(),\n\t\t\tnormal = loc.getNormal()\n\t\t\t\t\t.multiply(loc.getTime() === 0 ? radius : -radius)\n\t\t\t\t\t.transform(strokeMatrix);\n\t\tif (cap === 'square') {\n\t\t\tif (isArea) {\n\t\t\t\taddPoint(point.subtract(normal));\n\t\t\t\taddPoint(point.add(normal));\n\t\t\t}\n\t\t\tpoint = point.add(normal.rotate(-90));\n\t\t}\n\t\taddPoint(point.add(normal));\n\t\taddPoint(point.subtract(normal));\n\t},\n\n\tgetHandleBounds: function(segments, closed, path, matrix, options) {\n\t\tvar style = path.getStyle(),\n\t\t\tstroke = options.stroke && style.hasStroke(),\n\t\t\tstrokePadding,\n\t\t\tjoinPadding;\n\t\tif (stroke) {\n\t\t\tvar strokeMatrix = path._getStrokeMatrix(matrix, options),\n\t\t\t\tstrokeRadius = style.getStrokeWidth() / 2,\n\t\t\t\tjoinRadius = strokeRadius;\n\t\t\tif (style.getStrokeJoin() === 'miter')\n\t\t\t\tjoinRadius = strokeRadius * style.getMiterLimit();\n\t\t\tif (style.getStrokeCap() === 'square')\n\t\t\t\tjoinRadius = Math.max(joinRadius, strokeRadius * Math.SQRT2);\n\t\t\tstrokePadding = Path._getStrokePadding(strokeRadius, strokeMatrix);\n\t\t\tjoinPadding = Path._getStrokePadding(joinRadius, strokeMatrix);\n\t\t}\n\t\tvar coords = new Array(6),\n\t\t\tx1 = Infinity,\n\t\t\tx2 = -x1,\n\t\t\ty1 = x1,\n\t\t\ty2 = x2;\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar segment = segments[i];\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tfor (var j = 0; j < 6; j += 2) {\n\t\t\t\tvar padding = !j ? joinPadding : strokePadding,\n\t\t\t\t\tpaddingX = padding ? padding[0] : 0,\n\t\t\t\t\tpaddingY = padding ? padding[1] : 0,\n\t\t\t\t\tx = coords[j],\n\t\t\t\t\ty = coords[j + 1],\n\t\t\t\t\txn = x - paddingX,\n\t\t\t\t\txx = x + paddingX,\n\t\t\t\t\tyn = y - paddingY,\n\t\t\t\t\tyx = y + paddingY;\n\t\t\t\tif (xn < x1) x1 = xn;\n\t\t\t\tif (xx > x2) x2 = xx;\n\t\t\t\tif (yn < y1) y1 = yn;\n\t\t\t\tif (yx > y2) y2 = yx;\n\t\t\t}\n\t\t}\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t}\n}});\n\nPath.inject({ statics: new function() {\n\n\tvar kappa = 0.5522847498307936,\n\t\tellipseSegments = [\n\t\t\tnew Segment([-1, 0], [0, kappa ], [0, -kappa]),\n\t\t\tnew Segment([0, -1], [-kappa, 0], [kappa, 0 ]),\n\t\t\tnew Segment([1, 0], [0, -kappa], [0, kappa ]),\n\t\t\tnew Segment([0, 1], [kappa, 0 ], [-kappa, 0])\n\t\t];\n\n\tfunction createPath(segments, closed, args) {\n\t\tvar props = Base.getNamed(args),\n\t\t\tpath = new Path(props && props.insert == false && Item.NO_INSERT);\n\t\tpath._add(segments);\n\t\tpath._closed = closed;\n\t\treturn path.set(props, { insert: true });\n\t}\n\n\tfunction createEllipse(center, radius, args) {\n\t\tvar segments = new Array(4);\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tvar segment = ellipseSegments[i];\n\t\t\tsegments[i] = new Segment(\n\t\t\t\tsegment._point.multiply(radius).add(center),\n\t\t\t\tsegment._handleIn.multiply(radius),\n\t\t\t\tsegment._handleOut.multiply(radius)\n\t\t\t);\n\t\t}\n\t\treturn createPath(segments, true, args);\n\t}\n\n\treturn {\n\t\tLine: function() {\n\t\t\tvar args = arguments;\n\t\t\treturn createPath([\n\t\t\t\tnew Segment(Point.readNamed(args, 'from')),\n\t\t\t\tnew Segment(Point.readNamed(args, 'to'))\n\t\t\t], false, args);\n\t\t},\n\n\t\tCircle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tradius = Base.readNamed(args, 'radius');\n\t\t\treturn createEllipse(center, new Size(radius), args);\n\t\t},\n\n\t\tRectangle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\trect = Rectangle.readNamed(args, 'rectangle'),\n\t\t\t\tradius = Size.readNamed(args, 'radius', 0,\n\t\t\t\t\t\t{ readNull: true }),\n\t\t\t\tbl = rect.getBottomLeft(true),\n\t\t\t\ttl = rect.getTopLeft(true),\n\t\t\t\ttr = rect.getTopRight(true),\n\t\t\t\tbr = rect.getBottomRight(true),\n\t\t\t\tsegments;\n\t\t\tif (!radius || radius.isZero()) {\n\t\t\t\tsegments = [\n\t\t\t\t\tnew Segment(bl),\n\t\t\t\t\tnew Segment(tl),\n\t\t\t\t\tnew Segment(tr),\n\t\t\t\t\tnew Segment(br)\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tradius = Size.min(radius, rect.getSize(true).divide(2));\n\t\t\t\tvar rx = radius.width,\n\t\t\t\t\try = radius.height,\n\t\t\t\t\thx = rx * kappa,\n\t\t\t\t\thy = ry * kappa;\n\t\t\t\tsegments = [\n\t\t\t\t\tnew Segment(bl.add(rx, 0), null, [-hx, 0]),\n\t\t\t\t\tnew Segment(bl.subtract(0, ry), [0, hy]),\n\t\t\t\t\tnew Segment(tl.add(0, ry), null, [0, -hy]),\n\t\t\t\t\tnew Segment(tl.add(rx, 0), [-hx, 0], null),\n\t\t\t\t\tnew Segment(tr.subtract(rx, 0), null, [hx, 0]),\n\t\t\t\t\tnew Segment(tr.add(0, ry), [0, -hy], null),\n\t\t\t\t\tnew Segment(br.subtract(0, ry), null, [0, hy]),\n\t\t\t\t\tnew Segment(br.subtract(rx, 0), [hx, 0])\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn createPath(segments, true, args);\n\t\t},\n\n\t\tRoundRectangle: '#Rectangle',\n\n\t\tEllipse: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tellipse = Shape._readEllipse(args);\n\t\t\treturn createEllipse(ellipse.center, ellipse.radius, args);\n\t\t},\n\n\t\tOval: '#Ellipse',\n\n\t\tArc: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tfrom = Point.readNamed(args, 'from'),\n\t\t\t\tthrough = Point.readNamed(args, 'through'),\n\t\t\t\tto = Point.readNamed(args, 'to'),\n\t\t\t\tprops = Base.getNamed(args),\n\t\t\t\tpath = new Path(props && props.insert == false\n\t\t\t\t\t\t&& Item.NO_INSERT);\n\t\t\tpath.moveTo(from);\n\t\t\tpath.arcTo(through, to);\n\t\t\treturn path.set(props);\n\t\t},\n\n\t\tRegularPolygon: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tsides = Base.readNamed(args, 'sides'),\n\t\t\t\tradius = Base.readNamed(args, 'radius'),\n\t\t\t\tstep = 360 / sides,\n\t\t\t\tthree = sides % 3 === 0,\n\t\t\t\tvector = new Point(0, three ? -radius : radius),\n\t\t\t\toffset = three ? -1 : 0.5,\n\t\t\t\tsegments = new Array(sides);\n\t\t\tfor (var i = 0; i < sides; i++)\n\t\t\t\tsegments[i] = new Segment(center.add(\n\t\t\t\t\tvector.rotate((i + offset) * step)));\n\t\t\treturn createPath(segments, true, args);\n\t\t},\n\n\t\tStar: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tpoints = Base.readNamed(args, 'points') * 2,\n\t\t\t\tradius1 = Base.readNamed(args, 'radius1'),\n\t\t\t\tradius2 = Base.readNamed(args, 'radius2'),\n\t\t\t\tstep = 360 / points,\n\t\t\t\tvector = new Point(0, -1),\n\t\t\t\tsegments = new Array(points);\n\t\t\tfor (var i = 0; i < points; i++)\n\t\t\t\tsegments[i] = new Segment(center.add(vector.rotate(step * i)\n\t\t\t\t\t\t.multiply(i % 2 ? radius2 : radius1)));\n\t\t\treturn createPath(segments, true, args);\n\t\t}\n\t};\n}});\n\nvar CompoundPath = PathItem.extend({\n\t_class: 'CompoundPath',\n\t_serializeFields: {\n\t\tchildren: []\n\t},\n\tbeans: true,\n\n\tinitialize: function CompoundPath(arg) {\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tif (!this._initialize(arg)) {\n\t\t\tif (typeof arg === 'string') {\n\t\t\t\tthis.setPathData(arg);\n\t\t\t} else {\n\t\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t\t\t}\n\t\t}\n\t},\n\n\tinsertChildren: function insertChildren(index, items) {\n\t\tvar list = items,\n\t\t\tfirst = list[0];\n\t\tif (first && typeof first[0] === 'number')\n\t\t\tlist = [list];\n\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\tvar item = list[i];\n\t\t\tif (list === items && !(item instanceof Path))\n\t\t\t\tlist = Base.slice(list);\n\t\t\tif (Array.isArray(item)) {\n\t\t\t\tlist[i] = new Path({ segments: item, insert: false });\n\t\t\t} else if (item instanceof CompoundPath) {\n\t\t\t\tlist.splice.apply(list, [i, 1].concat(item.removeChildren()));\n\t\t\t\titem.remove();\n\t\t\t}\n\t\t}\n\t\treturn insertChildren.base.call(this, index, list);\n\t},\n\n\treduce: function reduce(options) {\n\t\tvar children = this._children;\n\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\tvar path = children[i].reduce(options);\n\t\t\tif (path.isEmpty())\n\t\t\t\tpath.remove();\n\t\t}\n\t\tif (!children.length) {\n\t\t\tvar path = new Path(Item.NO_INSERT);\n\t\t\tpath.copyAttributes(this);\n\t\t\tpath.insertAbove(this);\n\t\t\tthis.remove();\n\t\t\treturn path;\n\t\t}\n\t\treturn reduce.base.call(this);\n\t},\n\n\tisClosed: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tif (!children[i]._closed)\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tsetClosed: function(closed) {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tchildren[i].setClosed(closed);\n\t\t}\n\t},\n\n\tgetFirstSegment: function() {\n\t\tvar first = this.getFirstChild();\n\t\treturn first && first.getFirstSegment();\n\t},\n\n\tgetLastSegment: function() {\n\t\tvar last = this.getLastChild();\n\t\treturn last && last.getLastSegment();\n\t},\n\n\tgetCurves: function() {\n\t\tvar children = this._children,\n\t\t\tcurves = [];\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tBase.push(curves, children[i].getCurves());\n\t\t}\n\t\treturn curves;\n\t},\n\n\tgetFirstCurve: function() {\n\t\tvar first = this.getFirstChild();\n\t\treturn first && first.getFirstCurve();\n\t},\n\n\tgetLastCurve: function() {\n\t\tvar last = this.getLastChild();\n\t\treturn last && last.getLastCurve();\n\t},\n\n\tgetArea: function() {\n\t\tvar children = this._children,\n\t\t\tarea = 0;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tarea += children[i].getArea();\n\t\treturn area;\n\t},\n\n\tgetLength: function() {\n\t\tvar children = this._children,\n\t\t\tlength = 0;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tlength += children[i].getLength();\n\t\treturn length;\n\t},\n\n\tgetPathData: function(_matrix, _precision) {\n\t\tvar children = this._children,\n\t\t\tpaths = [];\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i],\n\t\t\t\tmx = child._matrix;\n\t\t\tpaths.push(child.getPathData(_matrix && !mx.isIdentity()\n\t\t\t\t\t? _matrix.appended(mx) : _matrix, _precision));\n\t\t}\n\t\treturn paths.join('');\n\t},\n\n\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\treturn _hitTestChildren.base.call(this, point,\n\t\t\t\toptions.class === Path || options.type === 'path' ? options\n\t\t\t\t\t: Base.set({}, options, { fill: false }),\n\t\t\t\tviewMatrix);\n\t},\n\n\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\tvar children = this._children;\n\t\tif (!children.length)\n\t\t\treturn;\n\n\t\tparam = param.extend({ dontStart: true, dontFinish: true });\n\t\tctx.beginPath();\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tchildren[i].draw(ctx, param, strokeMatrix);\n\n\t\tif (!param.clip) {\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\tvar style = this._style;\n\t\t\tif (style.hasFill()) {\n\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (style.hasStroke())\n\t\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t_drawSelected: function(ctx, matrix, selectionItems) {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i],\n\t\t\t\tmx = child._matrix;\n\t\t\tif (!selectionItems[child._id]) {\n\t\t\t\tchild._drawSelected(ctx, mx.isIdentity() ? matrix\n\t\t\t\t\t\t: matrix.appended(mx));\n\t\t\t}\n\t\t}\n\t}\n},\nnew function() {\n\tfunction getCurrentPath(that, check) {\n\t\tvar children = that._children;\n\t\tif (check && !children.length)\n\t\t\tthrow new Error('Use a moveTo() command first');\n\t\treturn children[children.length - 1];\n\t}\n\n\treturn Base.each(['lineTo', 'cubicCurveTo', 'quadraticCurveTo', 'curveTo',\n\t\t\t'arcTo', 'lineBy', 'cubicCurveBy', 'quadraticCurveBy', 'curveBy',\n\t\t\t'arcBy'],\n\t\tfunction(key) {\n\t\t\tthis[key] = function() {\n\t\t\t\tvar path = getCurrentPath(this, true);\n\t\t\t\tpath[key].apply(path, arguments);\n\t\t\t};\n\t\t}, {\n\t\t\tmoveTo: function() {\n\t\t\t\tvar current = getCurrentPath(this),\n\t\t\t\t\tpath = current && current.isEmpty() ? current\n\t\t\t\t\t\t\t: new Path(Item.NO_INSERT);\n\t\t\t\tif (path !== current)\n\t\t\t\t\tthis.addChild(path);\n\t\t\t\tpath.moveTo.apply(path, arguments);\n\t\t\t},\n\n\t\t\tmoveBy: function() {\n\t\t\t\tvar current = getCurrentPath(this, true),\n\t\t\t\t\tlast = current && current.getLastSegment(),\n\t\t\t\t\tpoint = Point.read(arguments);\n\t\t\t\tthis.moveTo(last ? point.add(last._point) : point);\n\t\t\t},\n\n\t\t\tclosePath: function(tolerance) {\n\t\t\t\tgetCurrentPath(this, true).closePath(tolerance);\n\t\t\t}\n\t\t}\n\t);\n}, Base.each(['reverse', 'flatten', 'simplify', 'smooth'], function(key) {\n\tthis[key] = function(param) {\n\t\tvar children = this._children,\n\t\t\tres;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tres = children[i][key](param) || res;\n\t\t}\n\t\treturn res;\n\t};\n}, {}));\n\nPathItem.inject(new function() {\n\tvar min = Math.min,\n\t\tmax = Math.max,\n\t\tabs = Math.abs,\n\t\toperators = {\n\t\t\tunite:     { '1': true, '2': true },\n\t\t\tintersect: { '2': true },\n\t\t\tsubtract:  { '1': true },\n\t\t\texclude:   { '1': true, '-1': true }\n\t\t};\n\n\tfunction getPaths(path) {\n\t\treturn path._children || [path];\n\t}\n\n\tfunction preparePath(path, resolve) {\n\t\tvar res = path\n\t\t\t.clone(false)\n\t\t\t.reduce({ simplify: true })\n\t\t\t.transform(null, true, true);\n\t\tif (resolve) {\n\t\t\tvar paths = getPaths(res);\n\t\t\tfor (var i = 0, l = paths.length; i < l; i++) {\n\t\t\t\tvar path = paths[i];\n\t\t\t\tif (!path._closed && !path.isEmpty()) {\n\t\t\t\t\tpath.closePath(1e-12);\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(0, 0);\n\t\t\t\t\tpath.getLastSegment().setHandleOut(0, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = res\n\t\t\t\t.resolveCrossings()\n\t\t\t\t.reorient(res.getFillRule() === 'nonzero', true);\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction createResult(paths, simplify, path1, path2, options) {\n\t\tvar result = new CompoundPath(Item.NO_INSERT);\n\t\tresult.addChildren(paths, true);\n\t\tresult = result.reduce({ simplify: simplify });\n\t\tif (!(options && options.insert == false)) {\n\t\t\tresult.insertAbove(path2 && path1.isSibling(path2)\n\t\t\t\t\t&& path1.getIndex() < path2.getIndex() ? path2 : path1);\n\t\t}\n\t\tresult.copyAttributes(path1, true);\n\t\treturn result;\n\t}\n\n\tfunction filterIntersection(inter) {\n\t\treturn inter.hasOverlap() || inter.isCrossing();\n\t}\n\n\tfunction traceBoolean(path1, path2, operation, options) {\n\t\tif (options && (options.trace == false || options.stroke) &&\n\t\t\t\t/^(subtract|intersect)$/.test(operation))\n\t\t\treturn splitBoolean(path1, path2, operation);\n\t\tvar _path1 = preparePath(path1, true),\n\t\t\t_path2 = path2 && path1 !== path2 && preparePath(path2, true),\n\t\t\toperator = operators[operation];\n\t\toperator[operation] = true;\n\t\tif (_path2 && (operator.subtract || operator.exclude)\n\t\t\t\t^ (_path2.isClockwise() ^ _path1.isClockwise()))\n\t\t\t_path2.reverse();\n\t\tvar crossings = divideLocations(CurveLocation.expand(\n\t\t\t\t_path1.getIntersections(_path2, filterIntersection))),\n\t\t\tpaths1 = getPaths(_path1),\n\t\t\tpaths2 = _path2 && getPaths(_path2),\n\t\t\tsegments = [],\n\t\t\tcurves = [],\n\t\t\tpaths;\n\n\t\tfunction collectPaths(paths) {\n\t\t\tfor (var i = 0, l = paths.length; i < l; i++) {\n\t\t\t\tvar path = paths[i];\n\t\t\t\tBase.push(segments, path._segments);\n\t\t\t\tBase.push(curves, path.getCurves());\n\t\t\t\tpath._overlapsOnly = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction getCurves(indices) {\n\t\t\tvar list = [];\n\t\t\tfor (var i = 0, l = indices && indices.length; i < l; i++) {\n\t\t\t\tlist.push(curves[indices[i]]);\n\t\t\t}\n\t\t\treturn list;\n\t\t}\n\n\t\tif (crossings.length) {\n\t\t\tcollectPaths(paths1);\n\t\t\tif (paths2)\n\t\t\t\tcollectPaths(paths2);\n\n\t\t\tvar curvesValues = new Array(curves.length);\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tcurvesValues[i] = curves[i].getValues();\n\t\t\t}\n\t\t\tvar curveCollisions = CollisionDetection.findCurveBoundsCollisions(\n\t\t\t\t\tcurvesValues, curvesValues, 0, true);\n\t\t\tvar curveCollisionsMap = {};\n\t\t\tfor (var i = 0; i < curves.length; i++) {\n\t\t\t\tvar curve = curves[i],\n\t\t\t\t\tid = curve._path._id,\n\t\t\t\t\tmap = curveCollisionsMap[id] = curveCollisionsMap[id] || {};\n\t\t\t\tmap[curve.getIndex()] = {\n\t\t\t\t\thor: getCurves(curveCollisions[i].hor),\n\t\t\t\t\tver: getCurves(curveCollisions[i].ver)\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (var i = 0, l = crossings.length; i < l; i++) {\n\t\t\t\tpropagateWinding(crossings[i]._segment, _path1, _path2,\n\t\t\t\t\t\tcurveCollisionsMap, operator);\n\t\t\t}\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar segment = segments[i],\n\t\t\t\t\tinter = segment._intersection;\n\t\t\t\tif (!segment._winding) {\n\t\t\t\t\tpropagateWinding(segment, _path1, _path2,\n\t\t\t\t\t\t\tcurveCollisionsMap, operator);\n\t\t\t\t}\n\t\t\t\tif (!(inter && inter._overlap))\n\t\t\t\t\tsegment._path._overlapsOnly = false;\n\t\t\t}\n\t\t\tpaths = tracePaths(segments, operator);\n\t\t} else {\n\t\t\tpaths = reorientPaths(\n\t\t\t\t\tpaths2 ? paths1.concat(paths2) : paths1.slice(),\n\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\treturn !!operator[w];\n\t\t\t\t\t});\n\t\t}\n\t\treturn createResult(paths, true, path1, path2, options);\n\t}\n\n\tfunction splitBoolean(path1, path2, operation) {\n\t\tvar _path1 = preparePath(path1),\n\t\t\t_path2 = preparePath(path2),\n\t\t\tcrossings = _path1.getIntersections(_path2, filterIntersection),\n\t\t\tsubtract = operation === 'subtract',\n\t\t\tdivide = operation === 'divide',\n\t\t\tadded = {},\n\t\t\tpaths = [];\n\n\t\tfunction addPath(path) {\n\t\t\tif (!added[path._id] && (divide ||\n\t\t\t\t\t_path2.contains(path.getPointAt(path.getLength() / 2))\n\t\t\t\t\t\t^ subtract)) {\n\t\t\t\tpaths.unshift(path);\n\t\t\t\treturn added[path._id] = true;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = crossings.length - 1; i >= 0; i--) {\n\t\t\tvar path = crossings[i].split();\n\t\t\tif (path) {\n\t\t\t\tif (addPath(path))\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(0, 0);\n\t\t\t\t_path1.getLastSegment().setHandleOut(0, 0);\n\t\t\t}\n\t\t}\n\t\taddPath(_path1);\n\t\treturn createResult(paths, false, path1, path2);\n\t}\n\n\tfunction linkIntersections(from, to) {\n\t\tvar prev = from;\n\t\twhile (prev) {\n\t\t\tif (prev === to)\n\t\t\t\treturn;\n\t\t\tprev = prev._previous;\n\t\t}\n\t\twhile (from._next && from._next !== to)\n\t\t\tfrom = from._next;\n\t\tif (!from._next) {\n\t\t\twhile (to._previous)\n\t\t\t\tto = to._previous;\n\t\t\tfrom._next = to;\n\t\t\tto._previous = from;\n\t\t}\n\t}\n\n\tfunction clearCurveHandles(curves) {\n\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\tcurves[i].clearHandles();\n\t}\n\n\tfunction reorientPaths(paths, isInside, clockwise) {\n\t\tvar length = paths && paths.length;\n\t\tif (length) {\n\t\t\tvar lookup = Base.each(paths, function (path, i) {\n\t\t\t\t\tthis[path._id] = {\n\t\t\t\t\t\tcontainer: null,\n\t\t\t\t\t\twinding: path.isClockwise() ? 1 : -1,\n\t\t\t\t\t\tindex: i\n\t\t\t\t\t};\n\t\t\t\t}, {}),\n\t\t\t\tsorted = paths.slice().sort(function (a, b) {\n\t\t\t\t\treturn abs(b.getArea()) - abs(a.getArea());\n\t\t\t\t}),\n\t\t\t\tfirst = sorted[0];\n\t\t\tvar collisions = CollisionDetection.findItemBoundsCollisions(sorted,\n\t\t\t\t\tnull, Numerical.GEOMETRIC_EPSILON);\n\t\t\tif (clockwise == null)\n\t\t\t\tclockwise = first.isClockwise();\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tvar path1 = sorted[i],\n\t\t\t\t\tentry1 = lookup[path1._id],\n\t\t\t\t\tcontainerWinding = 0,\n\t\t\t\t\tindices = collisions[i];\n\t\t\t\tif (indices) {\n\t\t\t\t\tvar point = null;\n\t\t\t\t\tfor (var j = indices.length - 1; j >= 0; j--) {\n\t\t\t\t\t\tif (indices[j] < i) {\n\t\t\t\t\t\t\tpoint = point || path1.getInteriorPoint();\n\t\t\t\t\t\t\tvar path2 = sorted[indices[j]];\n\t\t\t\t\t\t\tif (path2.contains(point)) {\n\t\t\t\t\t\t\t\tvar entry2 = lookup[path2._id];\n\t\t\t\t\t\t\t\tcontainerWinding = entry2.winding;\n\t\t\t\t\t\t\t\tentry1.winding += containerWinding;\n\t\t\t\t\t\t\t\tentry1.container = entry2.exclude\n\t\t\t\t\t\t\t\t\t? entry2.container : path2;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isInside(entry1.winding) === isInside(containerWinding)) {\n\t\t\t\t\tentry1.exclude = true;\n\t\t\t\t\tpaths[entry1.index] = null;\n\t\t\t\t} else {\n\t\t\t\t\tvar container = entry1.container;\n\t\t\t\t\tpath1.setClockwise(\n\t\t\t\t\t\t\tcontainer ? !container.isClockwise() : clockwise);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn paths;\n\t}\n\n\tfunction divideLocations(locations, include, clearLater) {\n\t\tvar results = include && [],\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tclearHandles = false,\n\t\t\tclearCurves = clearLater || [],\n\t\t\tclearLookup = clearLater && {},\n\t\t\trenormalizeLocs,\n\t\t\tprevCurve,\n\t\t\tprevTime;\n\n\t\tfunction getId(curve) {\n\t\t\treturn curve._path._id + '.' + curve._segment1._index;\n\t\t}\n\n\t\tfor (var i = (clearLater && clearLater.length) - 1; i >= 0; i--) {\n\t\t\tvar curve = clearLater[i];\n\t\t\tif (curve._path)\n\t\t\t\tclearLookup[getId(curve)] = true;\n\t\t}\n\n\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\tvar loc = locations[i],\n\t\t\t\ttime = loc._time,\n\t\t\t\torigTime = time,\n\t\t\t\texclude = include && !include(loc),\n\t\t\t\tcurve = loc._curve,\n\t\t\t\tsegment;\n\t\t\tif (curve) {\n\t\t\t\tif (curve !== prevCurve) {\n\t\t\t\t\tclearHandles = !curve.hasHandles()\n\t\t\t\t\t\t\t|| clearLookup && clearLookup[getId(curve)];\n\t\t\t\t\trenormalizeLocs = [];\n\t\t\t\t\tprevTime = null;\n\t\t\t\t\tprevCurve = curve;\n\t\t\t\t} else if (prevTime >= tMin) {\n\t\t\t\t\ttime /= prevTime;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (exclude) {\n\t\t\t\tif (renormalizeLocs)\n\t\t\t\t\trenormalizeLocs.push(loc);\n\t\t\t\tcontinue;\n\t\t\t} else if (include) {\n\t\t\t\tresults.unshift(loc);\n\t\t\t}\n\t\t\tprevTime = origTime;\n\t\t\tif (time < tMin) {\n\t\t\t\tsegment = curve._segment1;\n\t\t\t} else if (time > tMax) {\n\t\t\t\tsegment = curve._segment2;\n\t\t\t} else {\n\t\t\t\tvar newCurve = curve.divideAtTime(time, true);\n\t\t\t\tif (clearHandles)\n\t\t\t\t\tclearCurves.push(curve, newCurve);\n\t\t\t\tsegment = newCurve._segment1;\n\t\t\t\tfor (var j = renormalizeLocs.length - 1; j >= 0; j--) {\n\t\t\t\t\tvar l = renormalizeLocs[j];\n\t\t\t\t\tl._time = (l._time - time) / (1 - time);\n\t\t\t\t}\n\t\t\t}\n\t\t\tloc._setSegment(segment);\n\t\t\tvar inter = segment._intersection,\n\t\t\t\tdest = loc._intersection;\n\t\t\tif (inter) {\n\t\t\t\tlinkIntersections(inter, dest);\n\t\t\t\tvar other = inter;\n\t\t\t\twhile (other) {\n\t\t\t\t\tlinkIntersections(other._intersection, inter);\n\t\t\t\t\tother = other._next;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsegment._intersection = dest;\n\t\t\t}\n\t\t}\n\t\tif (!clearLater)\n\t\t\tclearCurveHandles(clearCurves);\n\t\treturn results || locations;\n\t}\n\n\tfunction getWinding(point, curves, dir, closed, dontFlip) {\n\t\tvar curvesList = Array.isArray(curves)\n\t\t\t? curves\n\t\t\t: curves[dir ? 'hor' : 'ver'];\n\t\tvar ia = dir ? 1 : 0,\n\t\t\tio = ia ^ 1,\n\t\t\tpv = [point.x, point.y],\n\t\t\tpa = pv[ia],\n\t\t\tpo = pv[io],\n\t\t\twindingEpsilon = 1e-9,\n\t\t\tqualityEpsilon = 1e-6,\n\t\t\tpaL = pa - windingEpsilon,\n\t\t\tpaR = pa + windingEpsilon,\n\t\t\twindingL = 0,\n\t\t\twindingR = 0,\n\t\t\tpathWindingL = 0,\n\t\t\tpathWindingR = 0,\n\t\t\tonPath = false,\n\t\t\tonAnyPath = false,\n\t\t\tquality = 1,\n\t\t\troots = [],\n\t\t\tvPrev,\n\t\t\tvClose;\n\n\t\tfunction addWinding(v) {\n\t\t\tvar o0 = v[io + 0],\n\t\t\t\to3 = v[io + 6];\n\t\t\tif (po < min(o0, o3) || po > max(o0, o3)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar a0 = v[ia + 0],\n\t\t\t\ta1 = v[ia + 2],\n\t\t\t\ta2 = v[ia + 4],\n\t\t\t\ta3 = v[ia + 6];\n\t\t\tif (o0 === o3) {\n\t\t\t\tif (a0 < paR && a3 > paL || a3 < paR && a0 > paL) {\n\t\t\t\t\tonPath = true;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar t =   po === o0 ? 0\n\t\t\t\t\t: po === o3 ? 1\n\t\t\t\t\t: paL > max(a0, a1, a2, a3) || paR < min(a0, a1, a2, a3)\n\t\t\t\t\t? 1\n\t\t\t\t\t: Curve.solveCubic(v, io, po, roots, 0, 1) > 0\n\t\t\t\t\t\t? roots[0]\n\t\t\t\t\t\t: 1,\n\t\t\t\ta =   t === 0 ? a0\n\t\t\t\t\t: t === 1 ? a3\n\t\t\t\t\t: Curve.getPoint(v, t)[dir ? 'y' : 'x'],\n\t\t\t\twinding = o0 > o3 ? 1 : -1,\n\t\t\t\twindingPrev = vPrev[io] > vPrev[io + 6] ? 1 : -1,\n\t\t\t\ta3Prev = vPrev[ia + 6];\n\t\t\tif (po !== o0) {\n\t\t\t\tif (a < paL) {\n\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t} else if (a > paR) {\n\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t} else {\n\t\t\t\t\tonPath = true;\n\t\t\t\t}\n\t\t\t\tif (a > pa - qualityEpsilon && a < pa + qualityEpsilon)\n\t\t\t\t\tquality /= 2;\n\t\t\t} else {\n\t\t\t\tif (winding !== windingPrev) {\n\t\t\t\t\tif (a0 < paL) {\n\t\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t\t} else if (a0 > paR) {\n\t\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t\t}\n\t\t\t\t} else if (a0 != a3Prev) {\n\t\t\t\t\tif (a3Prev < paR && a > paR) {\n\t\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t} else if (a3Prev > paL && a < paL) {\n\t\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tquality /= 4;\n\t\t\t}\n\t\t\tvPrev = v;\n\t\t\treturn !dontFlip && a > paL && a < paR\n\t\t\t\t\t&& Curve.getTangent(v, t)[dir ? 'x' : 'y'] === 0\n\t\t\t\t\t&& getWinding(point, curves, !dir, closed, true);\n\t\t}\n\n\t\tfunction handleCurve(v) {\n\t\t\tvar o0 = v[io + 0],\n\t\t\t\to1 = v[io + 2],\n\t\t\t\to2 = v[io + 4],\n\t\t\t\to3 = v[io + 6];\n\t\t\tif (po <= max(o0, o1, o2, o3) && po >= min(o0, o1, o2, o3)) {\n\t\t\t\tvar a0 = v[ia + 0],\n\t\t\t\t\ta1 = v[ia + 2],\n\t\t\t\t\ta2 = v[ia + 4],\n\t\t\t\t\ta3 = v[ia + 6],\n\t\t\t\t\tmonoCurves = paL > max(a0, a1, a2, a3) ||\n\t\t\t\t\t\t\t\t paR < min(a0, a1, a2, a3)\n\t\t\t\t\t\t\t? [v] : Curve.getMonoCurves(v, dir),\n\t\t\t\t\tres;\n\t\t\t\tfor (var i = 0, l = monoCurves.length; i < l; i++) {\n\t\t\t\t\tif (res = addWinding(monoCurves[i]))\n\t\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = curvesList.length; i < l; i++) {\n\t\t\tvar curve = curvesList[i],\n\t\t\t\tpath = curve._path,\n\t\t\t\tv = curve.getValues(),\n\t\t\t\tres;\n\t\t\tif (!i || curvesList[i - 1]._path !== path) {\n\t\t\t\tvPrev = null;\n\t\t\t\tif (!path._closed) {\n\t\t\t\t\tvClose = Curve.getValues(\n\t\t\t\t\t\t\tpath.getLastCurve().getSegment2(),\n\t\t\t\t\t\t\tcurve.getSegment1(),\n\t\t\t\t\t\t\tnull, !closed);\n\t\t\t\t\tif (vClose[io] !== vClose[io + 6]) {\n\t\t\t\t\t\tvPrev = vClose;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!vPrev) {\n\t\t\t\t\tvPrev = v;\n\t\t\t\t\tvar prev = path.getLastCurve();\n\t\t\t\t\twhile (prev && prev !== curve) {\n\t\t\t\t\t\tvar v2 = prev.getValues();\n\t\t\t\t\t\tif (v2[io] !== v2[io + 6]) {\n\t\t\t\t\t\t\tvPrev = v2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprev = prev.getPrevious();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (res = handleCurve(v))\n\t\t\t\treturn res;\n\n\t\t\tif (i + 1 === l || curvesList[i + 1]._path !== path) {\n\t\t\t\tif (vClose && (res = handleCurve(vClose)))\n\t\t\t\t\treturn res;\n\t\t\t\tif (onPath && !pathWindingL && !pathWindingR) {\n\t\t\t\t\tpathWindingL = pathWindingR = path.isClockwise(closed) ^ dir\n\t\t\t\t\t\t\t? 1 : -1;\n\t\t\t\t}\n\t\t\t\twindingL += pathWindingL;\n\t\t\t\twindingR += pathWindingR;\n\t\t\t\tpathWindingL = pathWindingR = 0;\n\t\t\t\tif (onPath) {\n\t\t\t\t\tonAnyPath = true;\n\t\t\t\t\tonPath = false;\n\t\t\t\t}\n\t\t\t\tvClose = null;\n\t\t\t}\n\t\t}\n\t\twindingL = abs(windingL);\n\t\twindingR = abs(windingR);\n\t\treturn {\n\t\t\twinding: max(windingL, windingR),\n\t\t\twindingL: windingL,\n\t\t\twindingR: windingR,\n\t\t\tquality: quality,\n\t\t\tonPath: onAnyPath\n\t\t};\n\t}\n\n\tfunction propagateWinding(segment, path1, path2, curveCollisionsMap,\n\t\t\toperator) {\n\t\tvar chain = [],\n\t\t\tstart = segment,\n\t\t\ttotalLength = 0,\n\t\t\twinding;\n\t\tdo {\n\t\t\tvar curve = segment.getCurve();\n\t\t\tif (curve) {\n\t\t\t\tvar length = curve.getLength();\n\t\t\t\tchain.push({ segment: segment, curve: curve, length: length });\n\t\t\t\ttotalLength += length;\n\t\t\t}\n\t\t\tsegment = segment.getNext();\n\t\t} while (segment && !segment._intersection && segment !== start);\n\t\tvar offsets = [0.5, 0.25, 0.75],\n\t\t\twinding = { winding: 0, quality: -1 },\n\t\t\ttMin = 1e-3,\n\t\t\ttMax = 1 - tMin;\n\t\tfor (var i = 0; i < offsets.length && winding.quality < 0.5; i++) {\n\t\t\tvar length = totalLength * offsets[i];\n\t\t\tfor (var j = 0, l = chain.length; j < l; j++) {\n\t\t\t\tvar entry = chain[j],\n\t\t\t\t\tcurveLength = entry.length;\n\t\t\t\tif (length <= curveLength) {\n\t\t\t\t\tvar curve = entry.curve,\n\t\t\t\t\t\tpath = curve._path,\n\t\t\t\t\t\tparent = path._parent,\n\t\t\t\t\t\toperand = parent instanceof CompoundPath ? parent : path,\n\t\t\t\t\t\tt = Numerical.clamp(curve.getTimeAt(length), tMin, tMax),\n\t\t\t\t\t\tpt = curve.getPointAtTime(t),\n\t\t\t\t\t\tdir = abs(curve.getTangentAtTime(t).y) < Math.SQRT1_2;\n\t\t\t\t\tvar wind = null;\n\t\t\t\t\tif (operator.subtract && path2) {\n\t\t\t\t\t\tvar otherPath = operand === path1 ? path2 : path1,\n\t\t\t\t\t\t\tpathWinding = otherPath._getWinding(pt, dir, true);\n\t\t\t\t\t\tif (operand === path1 && pathWinding.winding ||\n\t\t\t\t\t\t\toperand === path2 && !pathWinding.winding) {\n\t\t\t\t\t\t\tif (pathWinding.quality < 1) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twind = { winding: 0, quality: 1 };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\twind =  wind || getWinding(\n\t\t\t\t\t\t\tpt, curveCollisionsMap[path._id][curve.getIndex()],\n\t\t\t\t\t\t\tdir, true);\n\t\t\t\t\tif (wind.quality > winding.quality)\n\t\t\t\t\t\twinding = wind;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlength -= curveLength;\n\t\t\t}\n\t\t}\n\t\tfor (var j = chain.length - 1; j >= 0; j--) {\n\t\t\tchain[j].segment._winding = winding;\n\t\t}\n\t}\n\n\tfunction tracePaths(segments, operator) {\n\t\tvar paths = [],\n\t\t\tstarts;\n\n\t\tfunction isValid(seg) {\n\t\t\tvar winding;\n\t\t\treturn !!(seg && !seg._visited && (!operator\n\t\t\t\t\t|| operator[(winding = seg._winding || {}).winding]\n\t\t\t\t\t\t&& !(operator.unite && winding.winding === 2\n\t\t\t\t\t\t\t&& winding.windingL && winding.windingR)));\n\t\t}\n\n\t\tfunction isStart(seg) {\n\t\t\tif (seg) {\n\t\t\t\tfor (var i = 0, l = starts.length; i < l; i++) {\n\t\t\t\t\tif (seg === starts[i])\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction visitPath(path) {\n\t\t\tvar segments = path._segments;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tsegments[i]._visited = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction getCrossingSegments(segment, collectStarts) {\n\t\t\tvar inter = segment._intersection,\n\t\t\t\tstart = inter,\n\t\t\t\tcrossings = [];\n\t\t\tif (collectStarts)\n\t\t\t\tstarts = [segment];\n\n\t\t\tfunction collect(inter, end) {\n\t\t\t\twhile (inter && inter !== end) {\n\t\t\t\t\tvar other = inter._segment,\n\t\t\t\t\t\tpath = other && other._path;\n\t\t\t\t\tif (path) {\n\t\t\t\t\t\tvar next = other.getNext() || path.getFirstSegment(),\n\t\t\t\t\t\t\tnextInter = next._intersection;\n\t\t\t\t\t\tif (other !== segment && (isStart(other)\n\t\t\t\t\t\t\t|| isStart(next)\n\t\t\t\t\t\t\t|| next && (isValid(other) && (isValid(next)\n\t\t\t\t\t\t\t\t|| nextInter && isValid(nextInter._segment))))\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcrossings.push(other);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (collectStarts)\n\t\t\t\t\t\t\tstarts.push(other);\n\t\t\t\t\t}\n\t\t\t\t\tinter = inter._next;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (inter) {\n\t\t\t\tcollect(inter);\n\t\t\t\twhile (inter && inter._previous)\n\t\t\t\t\tinter = inter._previous;\n\t\t\t\tcollect(inter, start);\n\t\t\t}\n\t\t\treturn crossings;\n\t\t}\n\n\t\tsegments.sort(function(seg1, seg2) {\n\t\t\tvar inter1 = seg1._intersection,\n\t\t\t\tinter2 = seg2._intersection,\n\t\t\t\tover1 = !!(inter1 && inter1._overlap),\n\t\t\t\tover2 = !!(inter2 && inter2._overlap),\n\t\t\t\tpath1 = seg1._path,\n\t\t\t\tpath2 = seg2._path;\n\t\t\treturn over1 ^ over2\n\t\t\t\t\t? over1 ? 1 : -1\n\t\t\t\t\t: !inter1 ^ !inter2\n\t\t\t\t\t\t? inter1 ? 1 : -1\n\t\t\t\t\t\t: path1 !== path2\n\t\t\t\t\t\t\t? path1._id - path2._id\n\t\t\t\t\t\t\t: seg1._index - seg2._index;\n\t\t});\n\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar seg = segments[i],\n\t\t\t\tvalid = isValid(seg),\n\t\t\t\tpath = null,\n\t\t\t\tfinished = false,\n\t\t\t\tclosed = true,\n\t\t\t\tbranches = [],\n\t\t\t\tbranch,\n\t\t\t\tvisited,\n\t\t\t\thandleIn;\n\t\t\tif (valid && seg._path._overlapsOnly) {\n\t\t\t\tvar path1 = seg._path,\n\t\t\t\t\tpath2 = seg._intersection._segment._path;\n\t\t\t\tif (path1.compare(path2)) {\n\t\t\t\t\tif (path1.getArea())\n\t\t\t\t\t\tpaths.push(path1.clone(false));\n\t\t\t\t\tvisitPath(path1);\n\t\t\t\t\tvisitPath(path2);\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (valid) {\n\t\t\t\tvar first = !path,\n\t\t\t\t\tcrossings = getCrossingSegments(seg, first),\n\t\t\t\t\tother = crossings.shift(),\n\t\t\t\t\tfinished = !first && (isStart(seg) || isStart(other)),\n\t\t\t\t\tcross = !finished && other;\n\t\t\t\tif (first) {\n\t\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\t\tbranch = null;\n\t\t\t\t}\n\t\t\t\tif (finished) {\n\t\t\t\t\tif (seg.isFirst() || seg.isLast())\n\t\t\t\t\t\tclosed = seg._path._closed;\n\t\t\t\t\tseg._visited = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (cross && branch) {\n\t\t\t\t\tbranches.push(branch);\n\t\t\t\t\tbranch = null;\n\t\t\t\t}\n\t\t\t\tif (!branch) {\n\t\t\t\t\tif (cross)\n\t\t\t\t\t\tcrossings.push(seg);\n\t\t\t\t\tbranch = {\n\t\t\t\t\t\tstart: path._segments.length,\n\t\t\t\t\t\tcrossings: crossings,\n\t\t\t\t\t\tvisited: visited = [],\n\t\t\t\t\t\thandleIn: handleIn\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (cross)\n\t\t\t\t\tseg = other;\n\t\t\t\tif (!isValid(seg)) {\n\t\t\t\t\tpath.removeSegments(branch.start);\n\t\t\t\t\tfor (var j = 0, k = visited.length; j < k; j++) {\n\t\t\t\t\t\tvisited[j]._visited = false;\n\t\t\t\t\t}\n\t\t\t\t\tvisited.length = 0;\n\t\t\t\t\tdo {\n\t\t\t\t\t\tseg = branch && branch.crossings.shift();\n\t\t\t\t\t\tif (!seg || !seg._path) {\n\t\t\t\t\t\t\tseg = null;\n\t\t\t\t\t\t\tbranch = branches.pop();\n\t\t\t\t\t\t\tif (branch) {\n\t\t\t\t\t\t\t\tvisited = branch.visited;\n\t\t\t\t\t\t\t\thandleIn = branch.handleIn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} while (branch && !isValid(seg));\n\t\t\t\t\tif (!seg)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvar next = seg.getNext();\n\t\t\t\tpath.add(new Segment(seg._point, handleIn,\n\t\t\t\t\t\tnext && seg._handleOut));\n\t\t\t\tseg._visited = true;\n\t\t\t\tvisited.push(seg);\n\t\t\t\tseg = next || seg._path.getFirstSegment();\n\t\t\t\thandleIn = next && next._handleIn;\n\t\t\t}\n\t\t\tif (finished) {\n\t\t\t\tif (closed) {\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(handleIn);\n\t\t\t\t\tpath.setClosed(closed);\n\t\t\t\t}\n\t\t\t\tif (path.getArea() !== 0) {\n\t\t\t\t\tpaths.push(path);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn paths;\n\t}\n\n\treturn {\n\t\t_getWinding: function(point, dir, closed) {\n\t\t\treturn getWinding(point, this.getCurves(), dir, closed);\n\t\t},\n\n\t\tunite: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'unite', options);\n\t\t},\n\n\t\tintersect: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'intersect', options);\n\t\t},\n\n\t\tsubtract: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'subtract', options);\n\t\t},\n\n\t\texclude: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'exclude', options);\n\t\t},\n\n\t\tdivide: function(path, options) {\n\t\t\treturn options && (options.trace == false || options.stroke)\n\t\t\t\t\t? splitBoolean(this, path, 'divide')\n\t\t\t\t\t: createResult([\n\t\t\t\t\t\tthis.subtract(path, options),\n\t\t\t\t\t\tthis.intersect(path, options)\n\t\t\t\t\t], true, this, path, options);\n\t\t},\n\n\t\tresolveCrossings: function() {\n\t\t\tvar children = this._children,\n\t\t\t\tpaths = children || [this];\n\n\t\t\tfunction hasOverlap(seg, path) {\n\t\t\t\tvar inter = seg && seg._intersection;\n\t\t\t\treturn inter && inter._overlap && inter._path === path;\n\t\t\t}\n\n\t\t\tvar hasOverlaps = false,\n\t\t\t\thasCrossings = false,\n\t\t\t\tintersections = this.getIntersections(null, function(inter) {\n\t\t\t\t\treturn inter.hasOverlap() && (hasOverlaps = true) ||\n\t\t\t\t\t\t\tinter.isCrossing() && (hasCrossings = true);\n\t\t\t\t}),\n\t\t\t\tclearCurves = hasOverlaps && hasCrossings && [];\n\t\t\tintersections = CurveLocation.expand(intersections);\n\t\t\tif (hasOverlaps) {\n\t\t\t\tvar overlaps = divideLocations(intersections, function(inter) {\n\t\t\t\t\treturn inter.hasOverlap();\n\t\t\t\t}, clearCurves);\n\t\t\t\tfor (var i = overlaps.length - 1; i >= 0; i--) {\n\t\t\t\t\tvar overlap = overlaps[i],\n\t\t\t\t\t\tpath = overlap._path,\n\t\t\t\t\t\tseg = overlap._segment,\n\t\t\t\t\t\tprev = seg.getPrevious(),\n\t\t\t\t\t\tnext = seg.getNext();\n\t\t\t\t\tif (hasOverlap(prev, path) && hasOverlap(next, path)) {\n\t\t\t\t\t\tseg.remove();\n\t\t\t\t\t\tprev._handleOut._set(0, 0);\n\t\t\t\t\t\tnext._handleIn._set(0, 0);\n\t\t\t\t\t\tif (prev !== seg && !prev.getCurve().hasLength()) {\n\t\t\t\t\t\t\tnext._handleIn.set(prev._handleIn);\n\t\t\t\t\t\t\tprev.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hasCrossings) {\n\t\t\t\tdivideLocations(intersections, hasOverlaps && function(inter) {\n\t\t\t\t\tvar curve1 = inter.getCurve(),\n\t\t\t\t\t\tseg1 = inter.getSegment(),\n\t\t\t\t\t\tother = inter._intersection,\n\t\t\t\t\t\tcurve2 = other._curve,\n\t\t\t\t\t\tseg2 = other._segment;\n\t\t\t\t\tif (curve1 && curve2 && curve1._path && curve2._path)\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tif (seg1)\n\t\t\t\t\t\tseg1._intersection = null;\n\t\t\t\t\tif (seg2)\n\t\t\t\t\t\tseg2._intersection = null;\n\t\t\t\t}, clearCurves);\n\t\t\t\tif (clearCurves)\n\t\t\t\t\tclearCurveHandles(clearCurves);\n\t\t\t\tpaths = tracePaths(Base.each(paths, function(path) {\n\t\t\t\t\tBase.push(this, path._segments);\n\t\t\t\t}, []));\n\t\t\t}\n\t\t\tvar length = paths.length,\n\t\t\t\titem;\n\t\t\tif (length > 1 && children) {\n\t\t\t\tif (paths !== children)\n\t\t\t\t\tthis.setChildren(paths);\n\t\t\t\titem = this;\n\t\t\t} else if (length === 1 && !children) {\n\t\t\t\tif (paths[0] !== this)\n\t\t\t\t\tthis.setSegments(paths[0].removeSegments());\n\t\t\t\titem = this;\n\t\t\t}\n\t\t\tif (!item) {\n\t\t\t\titem = new CompoundPath(Item.NO_INSERT);\n\t\t\t\titem.addChildren(paths);\n\t\t\t\titem = item.reduce();\n\t\t\t\titem.copyAttributes(this);\n\t\t\t\tthis.replaceWith(item);\n\t\t\t}\n\t\t\treturn item;\n\t\t},\n\n\t\treorient: function(nonZero, clockwise) {\n\t\t\tvar children = this._children;\n\t\t\tif (children && children.length) {\n\t\t\t\tthis.setChildren(reorientPaths(this.removeChildren(),\n\t\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\t\treturn !!(nonZero ? w : w & 1);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclockwise));\n\t\t\t} else if (clockwise !== undefined) {\n\t\t\t\tthis.setClockwise(clockwise);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\tgetInteriorPoint: function() {\n\t\t\tvar bounds = this.getBounds(),\n\t\t\t\tpoint = bounds.getCenter(true);\n\t\t\tif (!this.contains(point)) {\n\t\t\t\tvar curves = this.getCurves(),\n\t\t\t\t\ty = point.y,\n\t\t\t\t\tintercepts = [],\n\t\t\t\t\troots = [];\n\t\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\t\tvar v = curves[i].getValues(),\n\t\t\t\t\t\to0 = v[1],\n\t\t\t\t\t\to1 = v[3],\n\t\t\t\t\t\to2 = v[5],\n\t\t\t\t\t\to3 = v[7];\n\t\t\t\t\tif (y >= min(o0, o1, o2, o3) && y <= max(o0, o1, o2, o3)) {\n\t\t\t\t\t\tvar monoCurves = Curve.getMonoCurves(v);\n\t\t\t\t\t\tfor (var j = 0, m = monoCurves.length; j < m; j++) {\n\t\t\t\t\t\t\tvar mv = monoCurves[j],\n\t\t\t\t\t\t\t\tmo0 = mv[1],\n\t\t\t\t\t\t\t\tmo3 = mv[7];\n\t\t\t\t\t\t\tif ((mo0 !== mo3) &&\n\t\t\t\t\t\t\t\t(y >= mo0 && y <= mo3 || y >= mo3 && y <= mo0)){\n\t\t\t\t\t\t\t\tvar x = y === mo0 ? mv[0]\n\t\t\t\t\t\t\t\t\t: y === mo3 ? mv[6]\n\t\t\t\t\t\t\t\t\t: Curve.solveCubic(mv, 1, y, roots, 0, 1)\n\t\t\t\t\t\t\t\t\t\t=== 1\n\t\t\t\t\t\t\t\t\t\t? Curve.getPoint(mv, roots[0]).x\n\t\t\t\t\t\t\t\t\t\t: (mv[0] + mv[6]) / 2;\n\t\t\t\t\t\t\t\tintercepts.push(x);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (intercepts.length > 1) {\n\t\t\t\t\tintercepts.sort(function(a, b) { return a - b; });\n\t\t\t\t\tpoint.x = (intercepts[0] + intercepts[1]) / 2;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn point;\n\t\t}\n\t};\n});\n\nvar PathFlattener = Base.extend({\n\t_class: 'PathFlattener',\n\n\tinitialize: function(path, flatness, maxRecursion, ignoreStraight, matrix) {\n\t\tvar curves = [],\n\t\t\tparts = [],\n\t\t\tlength = 0,\n\t\t\tminSpan = 1 / (maxRecursion || 32),\n\t\t\tsegments = path._segments,\n\t\t\tsegment1 = segments[0],\n\t\t\tsegment2;\n\n\t\tfunction addCurve(segment1, segment2) {\n\t\t\tvar curve = Curve.getValues(segment1, segment2, matrix);\n\t\t\tcurves.push(curve);\n\t\t\tcomputeParts(curve, segment1._index, 0, 1);\n\t\t}\n\n\t\tfunction computeParts(curve, index, t1, t2) {\n\t\t\tif ((t2 - t1) > minSpan\n\t\t\t\t\t&& !(ignoreStraight && Curve.isStraight(curve))\n\t\t\t\t\t&& !Curve.isFlatEnough(curve, flatness || 0.25)) {\n\t\t\t\tvar halves = Curve.subdivide(curve, 0.5),\n\t\t\t\t\ttMid = (t1 + t2) / 2;\n\t\t\t\tcomputeParts(halves[0], index, t1, tMid);\n\t\t\t\tcomputeParts(halves[1], index, tMid, t2);\n\t\t\t} else {\n\t\t\t\tvar dx = curve[6] - curve[0],\n\t\t\t\t\tdy = curve[7] - curve[1],\n\t\t\t\t\tdist = Math.sqrt(dx * dx + dy * dy);\n\t\t\t\tif (dist > 0) {\n\t\t\t\t\tlength += dist;\n\t\t\t\t\tparts.push({\n\t\t\t\t\t\toffset: length,\n\t\t\t\t\t\tcurve: curve,\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\ttime: t2,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 1, l = segments.length; i < l; i++) {\n\t\t\tsegment2 = segments[i];\n\t\t\taddCurve(segment1, segment2);\n\t\t\tsegment1 = segment2;\n\t\t}\n\t\tif (path._closed)\n\t\t\taddCurve(segment2 || segment1, segments[0]);\n\t\tthis.curves = curves;\n\t\tthis.parts = parts;\n\t\tthis.length = length;\n\t\tthis.index = 0;\n\t},\n\n\t_get: function(offset) {\n\t\tvar parts = this.parts,\n\t\t\tlength = parts.length,\n\t\t\tstart,\n\t\t\ti, j = this.index;\n\t\tfor (;;) {\n\t\t\ti = j;\n\t\t\tif (!j || parts[--j].offset < offset)\n\t\t\t\tbreak;\n\t\t}\n\t\tfor (; i < length; i++) {\n\t\t\tvar part = parts[i];\n\t\t\tif (part.offset >= offset) {\n\t\t\t\tthis.index = i;\n\t\t\t\tvar prev = parts[i - 1],\n\t\t\t\t\tprevTime = prev && prev.index === part.index ? prev.time : 0,\n\t\t\t\t\tprevOffset = prev ? prev.offset : 0;\n\t\t\t\treturn {\n\t\t\t\t\tindex: part.index,\n\t\t\t\t\ttime: prevTime + (part.time - prevTime)\n\t\t\t\t\t\t* (offset - prevOffset) / (part.offset - prevOffset)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tindex: parts[length - 1].index,\n\t\t\ttime: 1\n\t\t};\n\t},\n\n\tdrawPart: function(ctx, from, to) {\n\t\tvar start = this._get(from),\n\t\t\tend = this._get(to);\n\t\tfor (var i = start.index, l = end.index; i <= l; i++) {\n\t\t\tvar curve = Curve.getPart(this.curves[i],\n\t\t\t\t\ti === start.index ? start.time : 0,\n\t\t\t\t\ti === end.index ? end.time : 1);\n\t\t\tif (i === start.index)\n\t\t\t\tctx.moveTo(curve[0], curve[1]);\n\t\t\tctx.bezierCurveTo.apply(ctx, curve.slice(2));\n\t\t}\n\t}\n}, Base.each(Curve._evaluateMethods,\n\tfunction(name) {\n\t\tthis[name + 'At'] = function(offset) {\n\t\t\tvar param = this._get(offset);\n\t\t\treturn Curve[name](this.curves[param.index], param.time);\n\t\t};\n\t}, {})\n);\n\nvar PathFitter = Base.extend({\n\tinitialize: function(path) {\n\t\tvar points = this.points = [],\n\t\t\tsegments = path._segments,\n\t\t\tclosed = path._closed;\n\t\tfor (var i = 0, prev, l = segments.length; i < l; i++) {\n\t\t\tvar point = segments[i].point;\n\t\t\tif (!prev || !prev.equals(point)) {\n\t\t\t\tpoints.push(prev = point.clone());\n\t\t\t}\n\t\t}\n\t\tif (closed) {\n\t\t\tpoints.unshift(points[points.length - 1]);\n\t\t\tpoints.push(points[1]);\n\t\t}\n\t\tthis.closed = closed;\n\t},\n\n\tfit: function(error) {\n\t\tvar points = this.points,\n\t\t\tlength = points.length,\n\t\t\tsegments = null;\n\t\tif (length > 0) {\n\t\t\tsegments = [new Segment(points[0])];\n\t\t\tif (length > 1) {\n\t\t\t\tthis.fitCubic(segments, error, 0, length - 1,\n\t\t\t\t\t\tpoints[1].subtract(points[0]),\n\t\t\t\t\t\tpoints[length - 2].subtract(points[length - 1]));\n\t\t\t\tif (this.closed) {\n\t\t\t\t\tsegments.shift();\n\t\t\t\t\tsegments.pop();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn segments;\n\t},\n\n\tfitCubic: function(segments, error, first, last, tan1, tan2) {\n\t\tvar points = this.points;\n\t\tif (last - first === 1) {\n\t\t\tvar pt1 = points[first],\n\t\t\t\tpt2 = points[last],\n\t\t\t\tdist = pt1.getDistance(pt2) / 3;\n\t\t\tthis.addCurve(segments, [pt1, pt1.add(tan1.normalize(dist)),\n\t\t\t\t\tpt2.add(tan2.normalize(dist)), pt2]);\n\t\t\treturn;\n\t\t}\n\t\tvar uPrime = this.chordLengthParameterize(first, last),\n\t\t\tmaxError = Math.max(error, error * error),\n\t\t\tsplit,\n\t\t\tparametersInOrder = true;\n\t\tfor (var i = 0; i <= 4; i++) {\n\t\t\tvar curve = this.generateBezier(first, last, uPrime, tan1, tan2);\n\t\t\tvar max = this.findMaxError(first, last, curve, uPrime);\n\t\t\tif (max.error < error && parametersInOrder) {\n\t\t\t\tthis.addCurve(segments, curve);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsplit = max.index;\n\t\t\tif (max.error >= maxError)\n\t\t\t\tbreak;\n\t\t\tparametersInOrder = this.reparameterize(first, last, uPrime, curve);\n\t\t\tmaxError = max.error;\n\t\t}\n\t\tvar tanCenter = points[split - 1].subtract(points[split + 1]);\n\t\tthis.fitCubic(segments, error, first, split, tan1, tanCenter);\n\t\tthis.fitCubic(segments, error, split, last, tanCenter.negate(), tan2);\n\t},\n\n\taddCurve: function(segments, curve) {\n\t\tvar prev = segments[segments.length - 1];\n\t\tprev.setHandleOut(curve[1].subtract(curve[0]));\n\t\tsegments.push(new Segment(curve[3], curve[2].subtract(curve[3])));\n\t},\n\n\tgenerateBezier: function(first, last, uPrime, tan1, tan2) {\n\t\tvar epsilon = 1e-12,\n\t\t\tabs = Math.abs,\n\t\t\tpoints = this.points,\n\t\t\tpt1 = points[first],\n\t\t\tpt2 = points[last],\n\t\t\tC = [[0, 0], [0, 0]],\n\t\t\tX = [0, 0];\n\n\t\tfor (var i = 0, l = last - first + 1; i < l; i++) {\n\t\t\tvar u = uPrime[i],\n\t\t\t\tt = 1 - u,\n\t\t\t\tb = 3 * u * t,\n\t\t\t\tb0 = t * t * t,\n\t\t\t\tb1 = b * t,\n\t\t\t\tb2 = b * u,\n\t\t\t\tb3 = u * u * u,\n\t\t\t\ta1 = tan1.normalize(b1),\n\t\t\t\ta2 = tan2.normalize(b2),\n\t\t\t\ttmp = points[first + i]\n\t\t\t\t\t.subtract(pt1.multiply(b0 + b1))\n\t\t\t\t\t.subtract(pt2.multiply(b2 + b3));\n\t\t\tC[0][0] += a1.dot(a1);\n\t\t\tC[0][1] += a1.dot(a2);\n\t\t\tC[1][0] = C[0][1];\n\t\t\tC[1][1] += a2.dot(a2);\n\t\t\tX[0] += a1.dot(tmp);\n\t\t\tX[1] += a2.dot(tmp);\n\t\t}\n\n\t\tvar detC0C1 = C[0][0] * C[1][1] - C[1][0] * C[0][1],\n\t\t\talpha1,\n\t\t\talpha2;\n\t\tif (abs(detC0C1) > epsilon) {\n\t\t\tvar detC0X = C[0][0] * X[1]    - C[1][0] * X[0],\n\t\t\t\tdetXC1 = X[0]    * C[1][1] - X[1]    * C[0][1];\n\t\t\talpha1 = detXC1 / detC0C1;\n\t\t\talpha2 = detC0X / detC0C1;\n\t\t} else {\n\t\t\tvar c0 = C[0][0] + C[0][1],\n\t\t\t\tc1 = C[1][0] + C[1][1];\n\t\t\talpha1 = alpha2 = abs(c0) > epsilon ? X[0] / c0\n\t\t\t\t\t\t\t: abs(c1) > epsilon ? X[1] / c1\n\t\t\t\t\t\t\t: 0;\n\t\t}\n\n\t\tvar segLength = pt2.getDistance(pt1),\n\t\t\teps = epsilon * segLength,\n\t\t\thandle1,\n\t\t\thandle2;\n\t\tif (alpha1 < eps || alpha2 < eps) {\n\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t} else {\n\t\t\tvar line = pt2.subtract(pt1);\n\t\t\thandle1 = tan1.normalize(alpha1);\n\t\t\thandle2 = tan2.normalize(alpha2);\n\t\t\tif (handle1.dot(line) - handle2.dot(line) > segLength * segLength) {\n\t\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t\t\thandle1 = handle2 = null;\n\t\t\t}\n\t\t}\n\n\t\treturn [pt1,\n\t\t\t\tpt1.add(handle1 || tan1.normalize(alpha1)),\n\t\t\t\tpt2.add(handle2 || tan2.normalize(alpha2)),\n\t\t\t\tpt2];\n\t},\n\n\treparameterize: function(first, last, u, curve) {\n\t\tfor (var i = first; i <= last; i++) {\n\t\t\tu[i - first] = this.findRoot(curve, this.points[i], u[i - first]);\n\t\t}\n\t\tfor (var i = 1, l = u.length; i < l; i++) {\n\t\t\tif (u[i] <= u[i - 1])\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tfindRoot: function(curve, point, u) {\n\t\tvar curve1 = [],\n\t\t\tcurve2 = [];\n\t\tfor (var i = 0; i <= 2; i++) {\n\t\t\tcurve1[i] = curve[i + 1].subtract(curve[i]).multiply(3);\n\t\t}\n\t\tfor (var i = 0; i <= 1; i++) {\n\t\t\tcurve2[i] = curve1[i + 1].subtract(curve1[i]).multiply(2);\n\t\t}\n\t\tvar pt = this.evaluate(3, curve, u),\n\t\t\tpt1 = this.evaluate(2, curve1, u),\n\t\t\tpt2 = this.evaluate(1, curve2, u),\n\t\t\tdiff = pt.subtract(point),\n\t\t\tdf = pt1.dot(pt1) + diff.dot(pt2);\n\t\treturn Numerical.isMachineZero(df) ? u : u - diff.dot(pt1) / df;\n\t},\n\n\tevaluate: function(degree, curve, t) {\n\t\tvar tmp = curve.slice();\n\t\tfor (var i = 1; i <= degree; i++) {\n\t\t\tfor (var j = 0; j <= degree - i; j++) {\n\t\t\t\ttmp[j] = tmp[j].multiply(1 - t).add(tmp[j + 1].multiply(t));\n\t\t\t}\n\t\t}\n\t\treturn tmp[0];\n\t},\n\n\tchordLengthParameterize: function(first, last) {\n\t\tvar u = [0];\n\t\tfor (var i = first + 1; i <= last; i++) {\n\t\t\tu[i - first] = u[i - first - 1]\n\t\t\t\t\t+ this.points[i].getDistance(this.points[i - 1]);\n\t\t}\n\t\tfor (var i = 1, m = last - first; i <= m; i++) {\n\t\t\tu[i] /= u[m];\n\t\t}\n\t\treturn u;\n\t},\n\n\tfindMaxError: function(first, last, curve, u) {\n\t\tvar index = Math.floor((last - first + 1) / 2),\n\t\t\tmaxDist = 0;\n\t\tfor (var i = first + 1; i < last; i++) {\n\t\t\tvar P = this.evaluate(3, curve, u[i - first]);\n\t\t\tvar v = P.subtract(this.points[i]);\n\t\t\tvar dist = v.x * v.x + v.y * v.y;\n\t\t\tif (dist >= maxDist) {\n\t\t\t\tmaxDist = dist;\n\t\t\t\tindex = i;\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\terror: maxDist,\n\t\t\tindex: index\n\t\t};\n\t}\n});\n\nvar TextItem = Item.extend({\n\t_class: 'TextItem',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_serializeFields: {\n\t\tcontent: null\n\t},\n\t_boundsOptions: { stroke: false, handle: false },\n\n\tinitialize: function TextItem(arg) {\n\t\tthis._content = '';\n\t\tthis._lines = [];\n\t\tvar hasProps = arg && Base.isPlainObject(arg)\n\t\t\t\t&& arg.x === undefined && arg.y === undefined;\n\t\tthis._initialize(hasProps && arg, !hasProps && Point.read(arguments));\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._content === item._content;\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setContent(source._content);\n\t},\n\n\tgetContent: function() {\n\t\treturn this._content;\n\t},\n\n\tsetContent: function(content) {\n\t\tthis._content = '' + content;\n\t\tthis._lines = this._content.split(/\\r\\n|\\n|\\r/mg);\n\t\tthis._changed(521);\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._content;\n\t},\n\n\tgetCharacterStyle: '#getStyle',\n\tsetCharacterStyle: '#setStyle',\n\n\tgetParagraphStyle: '#getStyle',\n\tsetParagraphStyle: '#setStyle'\n});\n\nvar PointText = TextItem.extend({\n\t_class: 'PointText',\n\n\tinitialize: function PointText() {\n\t\tTextItem.apply(this, arguments);\n\t},\n\n\tgetPoint: function() {\n\t\tvar point = this._matrix.getTranslation();\n\t\treturn new LinkedPoint(point.x, point.y, this, 'setPoint');\n\t},\n\n\tsetPoint: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.translate(point.subtract(this._matrix.getTranslation()));\n\t},\n\n\t_draw: function(ctx, param, viewMatrix) {\n\t\tif (!this._content)\n\t\t\treturn;\n\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\tvar lines = this._lines,\n\t\t\tstyle = this._style,\n\t\t\thasFill = style.hasFill(),\n\t\t\thasStroke = style.hasStroke(),\n\t\t\tleading = style.getLeading(),\n\t\t\tshadowColor = ctx.shadowColor;\n\t\tctx.font = style.getFontStyle();\n\t\tctx.textAlign = style.getJustification();\n\t\tfor (var i = 0, l = lines.length; i < l; i++) {\n\t\t\tctx.shadowColor = shadowColor;\n\t\t\tvar line = lines[i];\n\t\t\tif (hasFill) {\n\t\t\t\tctx.fillText(line, 0, 0);\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (hasStroke)\n\t\t\t\tctx.strokeText(line, 0, 0);\n\t\t\tctx.translate(0, leading);\n\t\t}\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar style = this._style,\n\t\t\tlines = this._lines,\n\t\t\tnumLines = lines.length,\n\t\t\tjustification = style.getJustification(),\n\t\t\tleading = style.getLeading(),\n\t\t\twidth = this.getView().getTextWidth(style.getFontStyle(), lines),\n\t\t\tx = 0;\n\t\tif (justification !== 'left')\n\t\t\tx -= width / (justification === 'center' ? 2: 1);\n\t\tvar rect = new Rectangle(x,\n\t\t\t\t\tnumLines ? - 0.75 * leading : 0,\n\t\t\t\t\twidth, numLines * leading);\n\t\treturn matrix ? matrix._transformBounds(rect, rect) : rect;\n\t}\n});\n\nvar Color = Base.extend(new function() {\n\tvar types = {\n\t\tgray: ['gray'],\n\t\trgb: ['red', 'green', 'blue'],\n\t\thsb: ['hue', 'saturation', 'brightness'],\n\t\thsl: ['hue', 'saturation', 'lightness'],\n\t\tgradient: ['gradient', 'origin', 'destination', 'highlight']\n\t};\n\n\tvar componentParsers = {},\n\t\tnamedColors = {\n\t\t\ttransparent: [0, 0, 0, 0]\n\t\t},\n\t\tcolorCtx;\n\n\tfunction fromCSS(string) {\n\t\tvar match = string.match(\n\t\t\t\t/^#([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})?$/i\n\t\t\t) || string.match(\n\t\t\t\t/^#([\\da-f])([\\da-f])([\\da-f])([\\da-f])?$/i\n\t\t\t),\n\t\t\ttype = 'rgb',\n\t\t\tcomponents;\n\t\tif (match) {\n\t\t\tvar amount = match[4] ? 4 : 3;\n\t\t\tcomponents = new Array(amount);\n\t\t\tfor (var i = 0; i < amount; i++) {\n\t\t\t\tvar value = match[i + 1];\n\t\t\t\tcomponents[i] = parseInt(value.length == 1\n\t\t\t\t\t\t? value + value : value, 16) / 255;\n\t\t\t}\n\t\t} else if (match = string.match(/^(rgb|hsl)a?\\((.*)\\)$/)) {\n\t\t\ttype = match[1];\n\t\t\tcomponents = match[2].trim().split(/[,\\s]+/g);\n\t\t\tvar isHSL = type === 'hsl';\n\t\t\tfor (var i = 0, l = Math.min(components.length, 4); i < l; i++) {\n\t\t\t\tvar component = components[i];\n\t\t\t\tvar value = parseFloat(component);\n\t\t\t\tif (isHSL) {\n\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\tvar unit = component.match(/([a-z]*)$/)[1];\n\t\t\t\t\t\tvalue *= ({\n\t\t\t\t\t\t\tturn: 360,\n\t\t\t\t\t\t\trad: 180 / Math.PI,\n\t\t\t\t\t\t\tgrad: 0.9\n\t\t\t\t\t\t}[unit] || 1);\n\t\t\t\t\t} else if (i < 3) {\n\t\t\t\t\t\tvalue /= 100;\n\t\t\t\t\t}\n\t\t\t\t} else if (i < 3) {\n\t\t\t\t\tvalue /= /%$/.test(component) ? 100 : 255;\n\t\t\t\t}\n\t\t\t\tcomponents[i] = value;\n\t\t\t}\n\t\t} else {\n\t\t\tvar color = namedColors[string];\n\t\t\tif (!color) {\n\t\t\t\tif (window) {\n\t\t\t\t\tif (!colorCtx) {\n\t\t\t\t\t\tcolorCtx = CanvasProvider.getContext(1, 1);\n\t\t\t\t\t\tcolorCtx.globalCompositeOperation = 'copy';\n\t\t\t\t\t}\n\t\t\t\t\tcolorCtx.fillStyle = 'rgba(0,0,0,0)';\n\t\t\t\t\tcolorCtx.fillStyle = string;\n\t\t\t\t\tcolorCtx.fillRect(0, 0, 1, 1);\n\t\t\t\t\tvar data = colorCtx.getImageData(0, 0, 1, 1).data;\n\t\t\t\t\tcolor = namedColors[string] = [\n\t\t\t\t\t\tdata[0] / 255,\n\t\t\t\t\t\tdata[1] / 255,\n\t\t\t\t\t\tdata[2] / 255\n\t\t\t\t\t];\n\t\t\t\t} else {\n\t\t\t\t\tcolor = [0, 0, 0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcomponents = color.slice();\n\t\t}\n\t\treturn [type, components];\n\t}\n\n\tvar hsbIndices = [\n\t\t[0, 3, 1],\n\t\t[2, 0, 1],\n\t\t[1, 0, 3],\n\t\t[1, 2, 0],\n\t\t[3, 1, 0],\n\t\t[0, 1, 2]\n\t];\n\n\tvar converters = {\n\t\t'rgb-hsb': function(r, g, b) {\n\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\tdelta = max - min,\n\t\t\t\th = delta === 0 ? 0\n\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t:            (r - g) / delta + 4) * 60;\n\t\t\treturn [h, max === 0 ? 0 : delta / max, max];\n\t\t},\n\n\t\t'hsb-rgb': function(h, s, b) {\n\t\t\th = (((h / 60) % 6) + 6) % 6;\n\t\t\tvar i = Math.floor(h),\n\t\t\t\tf = h - i,\n\t\t\t\ti = hsbIndices[i],\n\t\t\t\tv = [\n\t\t\t\t\tb,\n\t\t\t\t\tb * (1 - s),\n\t\t\t\t\tb * (1 - s * f),\n\t\t\t\t\tb * (1 - s * (1 - f))\n\t\t\t\t];\n\t\t\treturn [v[i[0]], v[i[1]], v[i[2]]];\n\t\t},\n\n\t\t'rgb-hsl': function(r, g, b) {\n\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\tdelta = max - min,\n\t\t\t\tachromatic = delta === 0,\n\t\t\t\th = achromatic ? 0\n\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t:            (r - g) / delta + 4) * 60,\n\t\t\t\tl = (max + min) / 2,\n\t\t\t\ts = achromatic ? 0 : l < 0.5\n\t\t\t\t\t\t? delta / (max + min)\n\t\t\t\t\t\t: delta / (2 - max - min);\n\t\t\treturn [h, s, l];\n\t\t},\n\n\t\t'hsl-rgb': function(h, s, l) {\n\t\t\th = (((h / 360) % 1) + 1) % 1;\n\t\t\tif (s === 0)\n\t\t\t\treturn [l, l, l];\n\t\t\tvar t3s = [ h + 1 / 3, h, h - 1 / 3 ],\n\t\t\t\tt2 = l < 0.5 ? l * (1 + s) : l + s - l * s,\n\t\t\t\tt1 = 2 * l - t2,\n\t\t\t\tc = [];\n\t\t\tfor (var i = 0; i < 3; i++) {\n\t\t\t\tvar t3 = t3s[i];\n\t\t\t\tif (t3 < 0) t3 += 1;\n\t\t\t\tif (t3 > 1) t3 -= 1;\n\t\t\t\tc[i] = 6 * t3 < 1\n\t\t\t\t\t? t1 + (t2 - t1) * 6 * t3\n\t\t\t\t\t: 2 * t3 < 1\n\t\t\t\t\t\t? t2\n\t\t\t\t\t\t: 3 * t3 < 2\n\t\t\t\t\t\t\t? t1 + (t2 - t1) * ((2 / 3) - t3) * 6\n\t\t\t\t\t\t\t: t1;\n\t\t\t}\n\t\t\treturn c;\n\t\t},\n\n\t\t'rgb-gray': function(r, g, b) {\n\t\t\treturn [r * 0.2989 + g * 0.587 + b * 0.114];\n\t\t},\n\n\t\t'gray-rgb': function(g) {\n\t\t\treturn [g, g, g];\n\t\t},\n\n\t\t'gray-hsb': function(g) {\n\t\t\treturn [0, 0, g];\n\t\t},\n\n\t\t'gray-hsl': function(g) {\n\t\t\treturn [0, 0, g];\n\t\t},\n\n\t\t'gradient-rgb': function() {\n\t\t\treturn [];\n\t\t},\n\n\t\t'rgb-gradient': function() {\n\t\t\treturn [];\n\t\t}\n\n\t};\n\n\treturn Base.each(types, function(properties, type) {\n\t\tcomponentParsers[type] = [];\n\t\tBase.each(properties, function(name, index) {\n\t\t\tvar part = Base.capitalize(name),\n\t\t\t\thasOverlap = /^(hue|saturation)$/.test(name),\n\t\t\t\tparser = componentParsers[type][index] = type === 'gradient'\n\t\t\t\t\t? name === 'gradient'\n\t\t\t\t\t\t? function(value) {\n\t\t\t\t\t\t\tvar current = this._components[0];\n\t\t\t\t\t\t\tvalue = Gradient.read(\n\t\t\t\t\t\t\t\tArray.isArray(value)\n\t\t\t\t\t\t\t\t\t? value\n\t\t\t\t\t\t\t\t\t: arguments, 0, { readNull: true }\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (current !== value) {\n\t\t\t\t\t\t\t\tif (current)\n\t\t\t\t\t\t\t\t\tcurrent._removeOwner(this);\n\t\t\t\t\t\t\t\tif (value)\n\t\t\t\t\t\t\t\t\tvalue._addOwner(this);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t: function() {\n\t\t\t\t\t\t\treturn Point.read(arguments, 0, {\n\t\t\t\t\t\t\t\t\treadNull: name === 'highlight',\n\t\t\t\t\t\t\t\t\tclone: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t: function(value) {\n\t\t\t\t\t\treturn value == null || isNaN(value) ? 0 : +value;\n\t\t\t\t\t};\n\t\t\tthis['get' + part] = function() {\n\t\t\t\treturn this._type === type\n\t\t\t\t\t|| hasOverlap && /^hs[bl]$/.test(this._type)\n\t\t\t\t\t\t? this._components[index]\n\t\t\t\t\t\t: this._convert(type)[index];\n\t\t\t};\n\n\t\t\tthis['set' + part] = function(value) {\n\t\t\t\tif (this._type !== type\n\t\t\t\t\t\t&& !(hasOverlap && /^hs[bl]$/.test(this._type))) {\n\t\t\t\t\tthis._components = this._convert(type);\n\t\t\t\t\tthis._properties = types[type];\n\t\t\t\t\tthis._type = type;\n\t\t\t\t}\n\t\t\t\tthis._components[index] = parser.call(this, value);\n\t\t\t\tthis._changed();\n\t\t\t};\n\t\t}, this);\n\t}, {\n\t\t_class: 'Color',\n\t\t_readIndex: true,\n\n\t\tinitialize: function Color(arg) {\n\t\t\tvar args = arguments,\n\t\t\t\treading = this.__read,\n\t\t\t\tread = 0,\n\t\t\t\ttype,\n\t\t\t\tcomponents,\n\t\t\t\talpha,\n\t\t\t\tvalues;\n\t\t\tif (Array.isArray(arg)) {\n\t\t\t\targs = arg;\n\t\t\t\targ = args[0];\n\t\t\t}\n\t\t\tvar argType = arg != null && typeof arg;\n\t\t\tif (argType === 'string' && arg in types) {\n\t\t\t\ttype = arg;\n\t\t\t\targ = args[1];\n\t\t\t\tif (Array.isArray(arg)) {\n\t\t\t\t\tcomponents = arg;\n\t\t\t\t\talpha = args[2];\n\t\t\t\t} else {\n\t\t\t\t\tif (reading)\n\t\t\t\t\t\tread = 1;\n\t\t\t\t\targs = Base.slice(args, 1);\n\t\t\t\t\targType = typeof arg;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!components) {\n\t\t\t\tvalues = argType === 'number'\n\t\t\t\t\t\t? args\n\t\t\t\t\t\t: argType === 'object' && arg.length != null\n\t\t\t\t\t\t\t? arg\n\t\t\t\t\t\t\t: null;\n\t\t\t\tif (values) {\n\t\t\t\t\tif (!type)\n\t\t\t\t\t\ttype = values.length >= 3\n\t\t\t\t\t\t\t\t? 'rgb'\n\t\t\t\t\t\t\t\t: 'gray';\n\t\t\t\t\tvar length = types[type].length;\n\t\t\t\t\talpha = values[length];\n\t\t\t\t\tif (reading) {\n\t\t\t\t\t\tread += values === arguments\n\t\t\t\t\t\t\t? length + (alpha != null ? 1 : 0)\n\t\t\t\t\t\t\t: 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (values.length > length)\n\t\t\t\t\t\tvalues = Base.slice(values, 0, length);\n\t\t\t\t} else if (argType === 'string') {\n\t\t\t\t\tvar converted = fromCSS(arg);\n\t\t\t\t\ttype = converted[0];\n\t\t\t\t\tcomponents = converted[1];\n\t\t\t\t\tif (components.length === 4) {\n\t\t\t\t\t\talpha = components[3];\n\t\t\t\t\t\tcomponents.length--;\n\t\t\t\t\t}\n\t\t\t\t} else if (argType === 'object') {\n\t\t\t\t\tif (arg.constructor === Color) {\n\t\t\t\t\t\ttype = arg._type;\n\t\t\t\t\t\tcomponents = arg._components.slice();\n\t\t\t\t\t\talpha = arg._alpha;\n\t\t\t\t\t\tif (type === 'gradient') {\n\t\t\t\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\t\t\t\tvar point = components[i];\n\t\t\t\t\t\t\t\tif (point)\n\t\t\t\t\t\t\t\t\tcomponents[i] = point.clone();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (arg.constructor === Gradient) {\n\t\t\t\t\t\ttype = 'gradient';\n\t\t\t\t\t\tvalues = args;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttype = 'hue' in arg\n\t\t\t\t\t\t\t? 'lightness' in arg\n\t\t\t\t\t\t\t\t? 'hsl'\n\t\t\t\t\t\t\t\t: 'hsb'\n\t\t\t\t\t\t\t: 'gradient' in arg || 'stops' in arg\n\t\t\t\t\t\t\t\t\t|| 'radial' in arg\n\t\t\t\t\t\t\t\t? 'gradient'\n\t\t\t\t\t\t\t\t: 'gray' in arg\n\t\t\t\t\t\t\t\t\t? 'gray'\n\t\t\t\t\t\t\t\t\t: 'rgb';\n\t\t\t\t\t\tvar properties = types[type],\n\t\t\t\t\t\t\tparsers = componentParsers[type];\n\t\t\t\t\t\tthis._components = components = [];\n\t\t\t\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\t\t\t\tvar value = arg[properties[i]];\n\t\t\t\t\t\t\tif (value == null && !i && type === 'gradient'\n\t\t\t\t\t\t\t\t\t&& 'stops' in arg) {\n\t\t\t\t\t\t\t\tvalue = {\n\t\t\t\t\t\t\t\t\tstops: arg.stops,\n\t\t\t\t\t\t\t\t\tradial: arg.radial\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue = parsers[i].call(this, value);\n\t\t\t\t\t\t\tif (value != null)\n\t\t\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\talpha = arg.alpha;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (reading && type)\n\t\t\t\t\tread = 1;\n\t\t\t}\n\t\t\tthis._type = type || 'rgb';\n\t\t\tif (!components) {\n\t\t\t\tthis._components = components = [];\n\t\t\t\tvar parsers = componentParsers[this._type];\n\t\t\t\tfor (var i = 0, l = parsers.length; i < l; i++) {\n\t\t\t\t\tvar value = parsers[i].call(this, values && values[i]);\n\t\t\t\t\tif (value != null)\n\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._components = components;\n\t\t\tthis._properties = types[this._type];\n\t\t\tthis._alpha = alpha;\n\t\t\tif (reading)\n\t\t\t\tthis.__read = read;\n\t\t\treturn this;\n\t\t},\n\n\t\tset: '#initialize',\n\n\t\t_serialize: function(options, dictionary) {\n\t\t\tvar components = this.getComponents();\n\t\t\treturn Base.serialize(\n\t\t\t\t\t/^(gray|rgb)$/.test(this._type)\n\t\t\t\t\t\t? components\n\t\t\t\t\t\t: [this._type].concat(components),\n\t\t\t\t\toptions, true, dictionary);\n\t\t},\n\n\t\t_changed: function() {\n\t\t\tthis._canvasStyle = null;\n\t\t\tif (this._owner) {\n\t\t\t\tif (this._setter) {\n\t\t\t\t\tthis._owner[this._setter](this);\n\t\t\t\t} else {\n\t\t\t\t\tthis._owner._changed(129);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_convert: function(type) {\n\t\t\tvar converter;\n\t\t\treturn this._type === type\n\t\t\t\t\t? this._components.slice()\n\t\t\t\t\t: (converter = converters[this._type + '-' + type])\n\t\t\t\t\t\t? converter.apply(this, this._components)\n\t\t\t\t\t\t: converters['rgb-' + type].apply(this,\n\t\t\t\t\t\t\tconverters[this._type + '-rgb'].apply(this,\n\t\t\t\t\t\t\t\tthis._components));\n\t\t},\n\n\t\tconvert: function(type) {\n\t\t\treturn new Color(type, this._convert(type), this._alpha);\n\t\t},\n\n\t\tgetType: function() {\n\t\t\treturn this._type;\n\t\t},\n\n\t\tsetType: function(type) {\n\t\t\tthis._components = this._convert(type);\n\t\t\tthis._properties = types[type];\n\t\t\tthis._type = type;\n\t\t},\n\n\t\tgetComponents: function() {\n\t\t\tvar components = this._components.slice();\n\t\t\tif (this._alpha != null)\n\t\t\t\tcomponents.push(this._alpha);\n\t\t\treturn components;\n\t\t},\n\n\t\tgetAlpha: function() {\n\t\t\treturn this._alpha != null ? this._alpha : 1;\n\t\t},\n\n\t\tsetAlpha: function(alpha) {\n\t\t\tthis._alpha = alpha == null ? null : Math.min(Math.max(alpha, 0), 1);\n\t\t\tthis._changed();\n\t\t},\n\n\t\thasAlpha: function() {\n\t\t\treturn this._alpha != null;\n\t\t},\n\n\t\tequals: function(color) {\n\t\t\tvar col = Base.isPlainValue(color, true)\n\t\t\t\t\t? Color.read(arguments)\n\t\t\t\t\t: color;\n\t\t\treturn col === this || col && this._class === col._class\n\t\t\t\t\t&& this._type === col._type\n\t\t\t\t\t&& this.getAlpha() === col.getAlpha()\n\t\t\t\t\t&& Base.equals(this._components, col._components)\n\t\t\t\t\t|| false;\n\t\t},\n\n\t\ttoString: function() {\n\t\t\tvar properties = this._properties,\n\t\t\t\tparts = [],\n\t\t\t\tisGradient = this._type === 'gradient',\n\t\t\t\tf = Formatter.instance;\n\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\tvar value = this._components[i];\n\t\t\t\tif (value != null)\n\t\t\t\t\tparts.push(properties[i] + ': '\n\t\t\t\t\t\t\t+ (isGradient ? value : f.number(value)));\n\t\t\t}\n\t\t\tif (this._alpha != null)\n\t\t\t\tparts.push('alpha: ' + f.number(this._alpha));\n\t\t\treturn '{ ' + parts.join(', ') + ' }';\n\t\t},\n\n\t\ttoCSS: function(hex) {\n\t\t\tvar components = this._convert('rgb'),\n\t\t\t\talpha = hex || this._alpha == null ? 1 : this._alpha;\n\t\t\tfunction convert(val) {\n\t\t\t\treturn Math.round((val < 0 ? 0 : val > 1 ? 1 : val) * 255);\n\t\t\t}\n\t\t\tcomponents = [\n\t\t\t\tconvert(components[0]),\n\t\t\t\tconvert(components[1]),\n\t\t\t\tconvert(components[2])\n\t\t\t];\n\t\t\tif (alpha < 1)\n\t\t\t\tcomponents.push(alpha < 0 ? 0 : alpha);\n\t\t\treturn hex\n\t\t\t\t\t? '#' + ((1 << 24) + (components[0] << 16)\n\t\t\t\t\t\t+ (components[1] << 8)\n\t\t\t\t\t\t+ components[2]).toString(16).slice(1)\n\t\t\t\t\t: (components.length == 4 ? 'rgba(' : 'rgb(')\n\t\t\t\t\t\t+ components.join(',') + ')';\n\t\t},\n\n\t\ttoCanvasStyle: function(ctx, matrix) {\n\t\t\tif (this._canvasStyle)\n\t\t\t\treturn this._canvasStyle;\n\t\t\tif (this._type !== 'gradient')\n\t\t\t\treturn this._canvasStyle = this.toCSS();\n\t\t\tvar components = this._components,\n\t\t\t\tgradient = components[0],\n\t\t\t\tstops = gradient._stops,\n\t\t\t\torigin = components[1],\n\t\t\t\tdestination = components[2],\n\t\t\t\thighlight = components[3],\n\t\t\t\tinverse = matrix && matrix.inverted(),\n\t\t\t\tcanvasGradient;\n\t\t\tif (inverse) {\n\t\t\t\torigin = inverse._transformPoint(origin);\n\t\t\t\tdestination = inverse._transformPoint(destination);\n\t\t\t\tif (highlight)\n\t\t\t\t\thighlight = inverse._transformPoint(highlight);\n\t\t\t}\n\t\t\tif (gradient._radial) {\n\t\t\t\tvar radius = destination.getDistance(origin);\n\t\t\t\tif (highlight) {\n\t\t\t\t\tvar vector = highlight.subtract(origin);\n\t\t\t\t\tif (vector.getLength() > radius)\n\t\t\t\t\t\thighlight = origin.add(vector.normalize(radius - 0.1));\n\t\t\t\t}\n\t\t\t\tvar start = highlight || origin;\n\t\t\t\tcanvasGradient = ctx.createRadialGradient(start.x, start.y,\n\t\t\t\t\t\t0, origin.x, origin.y, radius);\n\t\t\t} else {\n\t\t\t\tcanvasGradient = ctx.createLinearGradient(origin.x, origin.y,\n\t\t\t\t\t\tdestination.x, destination.y);\n\t\t\t}\n\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\tvar stop = stops[i],\n\t\t\t\t\toffset = stop._offset;\n\t\t\t\tcanvasGradient.addColorStop(\n\t\t\t\t\t\toffset == null ? i / (l - 1) : offset,\n\t\t\t\t\t\tstop._color.toCanvasStyle());\n\t\t\t}\n\t\t\treturn this._canvasStyle = canvasGradient;\n\t\t},\n\n\t\ttransform: function(matrix) {\n\t\t\tif (this._type === 'gradient') {\n\t\t\t\tvar components = this._components;\n\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\tvar point = components[i];\n\t\t\t\t\tmatrix._transformPoint(point, point, true);\n\t\t\t\t}\n\t\t\t\tthis._changed();\n\t\t\t}\n\t\t},\n\n\t\tstatics: {\n\t\t\t_types: types,\n\n\t\t\trandom: function() {\n\t\t\t\tvar random = Math.random;\n\t\t\t\treturn new Color(random(), random(), random());\n\t\t\t},\n\n\t\t\t_setOwner: function(color, owner, setter) {\n\t\t\t\tif (color) {\n\t\t\t\t\tif (color._owner && owner && color._owner !== owner) {\n\t\t\t\t\t\tcolor = color.clone();\n\t\t\t\t\t}\n\t\t\t\t\tif (!color._owner ^ !owner) {\n\t\t\t\t\t\tcolor._owner = owner || null;\n\t\t\t\t\t\tcolor._setter = setter || null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn color;\n\t\t\t}\n\t\t}\n\t});\n},\nnew function() {\n\tvar operators = {\n\t\tadd: function(a, b) {\n\t\t\treturn a + b;\n\t\t},\n\n\t\tsubtract: function(a, b) {\n\t\t\treturn a - b;\n\t\t},\n\n\t\tmultiply: function(a, b) {\n\t\t\treturn a * b;\n\t\t},\n\n\t\tdivide: function(a, b) {\n\t\t\treturn a / b;\n\t\t}\n\t};\n\n\treturn Base.each(operators, function(operator, name) {\n\t\tthis[name] = function(color) {\n\t\t\tcolor = Color.read(arguments);\n\t\t\tvar type = this._type,\n\t\t\t\tcomponents1 = this._components,\n\t\t\t\tcomponents2 = color._convert(type);\n\t\t\tfor (var i = 0, l = components1.length; i < l; i++)\n\t\t\t\tcomponents2[i] = operator(components1[i], components2[i]);\n\t\t\treturn new Color(type, components2,\n\t\t\t\t\tthis._alpha != null\n\t\t\t\t\t\t\t? operator(this._alpha, color.getAlpha())\n\t\t\t\t\t\t\t: null);\n\t\t};\n\t}, {\n\t});\n});\n\nvar Gradient = Base.extend({\n\t_class: 'Gradient',\n\n\tinitialize: function Gradient(stops, radial) {\n\t\tthis._id = UID.get();\n\t\tif (stops && Base.isPlainObject(stops)) {\n\t\t\tthis.set(stops);\n\t\t\tstops = radial = null;\n\t\t}\n\t\tif (this._stops == null) {\n\t\t\tthis.setStops(stops || ['white', 'black']);\n\t\t}\n\t\tif (this._radial == null) {\n\t\t\tthis.setRadial(typeof radial === 'string' && radial === 'radial'\n\t\t\t\t\t|| radial || false);\n\t\t}\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn dictionary.add(this, function() {\n\t\t\treturn Base.serialize([this._stops, this._radial],\n\t\t\t\t\toptions, true, dictionary);\n\t\t});\n\t},\n\n\t_changed: function() {\n\t\tfor (var i = 0, l = this._owners && this._owners.length; i < l; i++) {\n\t\t\tthis._owners[i]._changed();\n\t\t}\n\t},\n\n\t_addOwner: function(color) {\n\t\tif (!this._owners)\n\t\t\tthis._owners = [];\n\t\tthis._owners.push(color);\n\t},\n\n\t_removeOwner: function(color) {\n\t\tvar index = this._owners ? this._owners.indexOf(color) : -1;\n\t\tif (index != -1) {\n\t\t\tthis._owners.splice(index, 1);\n\t\t\tif (!this._owners.length)\n\t\t\t\tthis._owners = undefined;\n\t\t}\n\t},\n\n\tclone: function() {\n\t\tvar stops = [];\n\t\tfor (var i = 0, l = this._stops.length; i < l; i++) {\n\t\t\tstops[i] = this._stops[i].clone();\n\t\t}\n\t\treturn new Gradient(stops, this._radial);\n\t},\n\n\tgetStops: function() {\n\t\treturn this._stops;\n\t},\n\n\tsetStops: function(stops) {\n\t\tif (stops.length < 2) {\n\t\t\tthrow new Error(\n\t\t\t\t\t'Gradient stop list needs to contain at least two stops.');\n\t\t}\n\t\tvar _stops = this._stops;\n\t\tif (_stops) {\n\t\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t\t_stops[i]._owner = undefined;\n\t\t}\n\t\t_stops = this._stops = GradientStop.readList(stops, 0, { clone: true });\n\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t_stops[i]._owner = this;\n\t\tthis._changed();\n\t},\n\n\tgetRadial: function() {\n\t\treturn this._radial;\n\t},\n\n\tsetRadial: function(radial) {\n\t\tthis._radial = radial;\n\t\tthis._changed();\n\t},\n\n\tequals: function(gradient) {\n\t\tif (gradient === this)\n\t\t\treturn true;\n\t\tif (gradient && this._class === gradient._class) {\n\t\t\tvar stops1 = this._stops,\n\t\t\t\tstops2 = gradient._stops,\n\t\t\t\tlength = stops1.length;\n\t\t\tif (length === stops2.length) {\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tif (!stops1[i].equals(stops2[i]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n});\n\nvar GradientStop = Base.extend({\n\t_class: 'GradientStop',\n\n\tinitialize: function GradientStop(arg0, arg1) {\n\t\tvar color = arg0,\n\t\t\toffset = arg1;\n\t\tif (typeof arg0 === 'object' && arg1 === undefined) {\n\t\t\tif (Array.isArray(arg0) && typeof arg0[0] !== 'number') {\n\t\t\t\tcolor = arg0[0];\n\t\t\t\toffset = arg0[1];\n\t\t\t} else if ('color' in arg0 || 'offset' in arg0\n\t\t\t\t\t|| 'rampPoint' in arg0) {\n\t\t\t\tcolor = arg0.color;\n\t\t\t\toffset = arg0.offset || arg0.rampPoint || 0;\n\t\t\t}\n\t\t}\n\t\tthis.setColor(color);\n\t\tthis.setOffset(offset);\n\t},\n\n\tclone: function() {\n\t\treturn new GradientStop(this._color.clone(), this._offset);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar color = this._color,\n\t\t\toffset = this._offset;\n\t\treturn Base.serialize(offset == null ? [color] : [color, offset],\n\t\t\t\toptions, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tif (this._owner)\n\t\t\tthis._owner._changed(129);\n\t},\n\n\tgetOffset: function() {\n\t\treturn this._offset;\n\t},\n\n\tsetOffset: function(offset) {\n\t\tthis._offset = offset;\n\t\tthis._changed();\n\t},\n\n\tgetRampPoint: '#getOffset',\n\tsetRampPoint: '#setOffset',\n\n\tgetColor: function() {\n\t\treturn this._color;\n\t},\n\n\tsetColor: function() {\n\t\tColor._setOwner(this._color, null);\n\t\tthis._color = Color._setOwner(Color.read(arguments, 0), this,\n\t\t\t\t'setColor');\n\t\tthis._changed();\n\t},\n\n\tequals: function(stop) {\n\t\treturn stop === this || stop && this._class === stop._class\n\t\t\t\t&& this._color.equals(stop._color)\n\t\t\t\t&& this._offset == stop._offset\n\t\t\t\t|| false;\n\t}\n});\n\nvar Style = Base.extend(new function() {\n\tvar itemDefaults = {\n\t\tfillColor: null,\n\t\tfillRule: 'nonzero',\n\t\tstrokeColor: null,\n\t\tstrokeWidth: 1,\n\t\tstrokeCap: 'butt',\n\t\tstrokeJoin: 'miter',\n\t\tstrokeScaling: true,\n\t\tmiterLimit: 10,\n\t\tdashOffset: 0,\n\t\tdashArray: [],\n\t\tshadowColor: null,\n\t\tshadowBlur: 0,\n\t\tshadowOffset: new Point(),\n\t\tselectedColor: null\n\t},\n\tgroupDefaults = Base.set({}, itemDefaults, {\n\t\tfontFamily: 'sans-serif',\n\t\tfontWeight: 'normal',\n\t\tfontSize: 12,\n\t\tleading: null,\n\t\tjustification: 'left'\n\t}),\n\ttextDefaults = Base.set({}, groupDefaults, {\n\t\tfillColor: new Color()\n\t}),\n\tflags = {\n\t\tstrokeWidth: 193,\n\t\tstrokeCap: 193,\n\t\tstrokeJoin: 193,\n\t\tstrokeScaling: 201,\n\t\tmiterLimit: 193,\n\t\tfontFamily: 9,\n\t\tfontWeight: 9,\n\t\tfontSize: 9,\n\t\tfont: 9,\n\t\tleading: 9,\n\t\tjustification: 9\n\t},\n\titem = {\n\t\tbeans: true\n\t},\n\tfields = {\n\t\t_class: 'Style',\n\t\tbeans: true,\n\n\t\tinitialize: function Style(style, _owner, _project) {\n\t\t\tthis._values = {};\n\t\t\tthis._owner = _owner;\n\t\t\tthis._project = _owner && _owner._project || _project\n\t\t\t\t\t|| paper.project;\n\t\t\tthis._defaults = !_owner || _owner instanceof Group ? groupDefaults\n\t\t\t\t\t: _owner instanceof TextItem ? textDefaults\n\t\t\t\t\t: itemDefaults;\n\t\t\tif (style)\n\t\t\t\tthis.set(style);\n\t\t}\n\t};\n\n\tBase.each(groupDefaults, function(value, key) {\n\t\tvar isColor = /Color$/.test(key),\n\t\t\tisPoint = key === 'shadowOffset',\n\t\t\tpart = Base.capitalize(key),\n\t\t\tflag = flags[key],\n\t\t\tset = 'set' + part,\n\t\t\tget = 'get' + part;\n\n\t\tfields[set] = function(value) {\n\t\t\tvar owner = this._owner,\n\t\t\t\tchildren = owner && owner._children,\n\t\t\t\tapplyToChildren = children && children.length > 0\n\t\t\t\t\t&& !(owner instanceof CompoundPath);\n\t\t\tif (applyToChildren) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\t\tchildren[i]._style[set](value);\n\t\t\t}\n\t\t\tif ((key === 'selectedColor' || !applyToChildren)\n\t\t\t\t\t&& key in this._defaults) {\n\t\t\t\tvar old = this._values[key];\n\t\t\t\tif (old !== value) {\n\t\t\t\t\tif (isColor) {\n\t\t\t\t\t\tif (old) {\n\t\t\t\t\t\t\tColor._setOwner(old, null);\n\t\t\t\t\t\t\told._canvasStyle = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (value && value.constructor === Color) {\n\t\t\t\t\t\t\tvalue = Color._setOwner(value, owner,\n\t\t\t\t\t\t\t\t\tapplyToChildren && set);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._values[key] = value;\n\t\t\t\t\tif (owner)\n\t\t\t\t\t\towner._changed(flag || 129);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tfields[get] = function(_dontMerge) {\n\t\t\tvar owner = this._owner,\n\t\t\t\tchildren = owner && owner._children,\n\t\t\t\tapplyToChildren = children && children.length > 0\n\t\t\t\t\t&& !(owner instanceof CompoundPath),\n\t\t\t\tvalue;\n\t\t\tif (applyToChildren && !_dontMerge) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\t\tvar childValue = children[i]._style[get]();\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\tvalue = childValue;\n\t\t\t\t\t} else if (!Base.equals(value, childValue)) {\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (key in this._defaults) {\n\t\t\t\tvar value = this._values[key];\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\tvalue = this._defaults[key];\n\t\t\t\t\tif (value && value.clone) {\n\t\t\t\t\t\tvalue = value.clone();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar ctor = isColor ? Color : isPoint ? Point : null;\n\t\t\t\t\tif (ctor && !(value && value.constructor === ctor)) {\n\t\t\t\t\t\tthis._values[key] = value = ctor.read([value], 0,\n\t\t\t\t\t\t\t\t{ readNull: true, clone: true });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (value && isColor) {\n\t\t\t\tvalue = Color._setOwner(value, owner, applyToChildren && set);\n\t\t\t}\n\t\t\treturn value;\n\t\t};\n\n\t\titem[get] = function(_dontMerge) {\n\t\t\treturn this._style[get](_dontMerge);\n\t\t};\n\n\t\titem[set] = function(value) {\n\t\t\tthis._style[set](value);\n\t\t};\n\t});\n\n\tBase.each({\n\t\tFont: 'FontFamily',\n\t\tWindingRule: 'FillRule'\n\t}, function(value, key) {\n\t\tvar get = 'get' + key,\n\t\t\tset = 'set' + key;\n\t\tfields[get] = item[get] = '#get' + value;\n\t\tfields[set] = item[set] = '#set' + value;\n\t});\n\n\tItem.inject(item);\n\treturn fields;\n}, {\n\tset: function(style) {\n\t\tvar isStyle = style instanceof Style,\n\t\t\tvalues = isStyle ? style._values : style;\n\t\tif (values) {\n\t\t\tfor (var key in values) {\n\t\t\t\tif (key in this._defaults) {\n\t\t\t\t\tvar value = values[key];\n\t\t\t\t\tthis[key] = value && isStyle && value.clone\n\t\t\t\t\t\t\t? value.clone() : value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tequals: function(style) {\n\t\tfunction compare(style1, style2, secondary) {\n\t\t\tvar values1 = style1._values,\n\t\t\t\tvalues2 = style2._values,\n\t\t\t\tdefaults2 = style2._defaults;\n\t\t\tfor (var key in values1) {\n\t\t\t\tvar value1 = values1[key],\n\t\t\t\t\tvalue2 = values2[key];\n\t\t\t\tif (!(secondary && key in values2) && !Base.equals(value1,\n\t\t\t\t\t\tvalue2 === undefined ? defaults2[key] : value2))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\treturn style === this || style && this._class === style._class\n\t\t\t\t&& compare(this, style)\n\t\t\t\t&& compare(style, this, true)\n\t\t\t\t|| false;\n\t},\n\n\t_dispose: function() {\n\t\tvar color;\n\t\tcolor = this.getFillColor();\n\t\tif (color) color._canvasStyle = null;\n\t\tcolor = this.getStrokeColor();\n\t\tif (color) color._canvasStyle = null;\n\t\tcolor = this.getShadowColor();\n\t\tif (color) color._canvasStyle = null;\n\t},\n\n\thasFill: function() {\n\t\tvar color = this.getFillColor();\n\t\treturn !!color && color.alpha > 0;\n\t},\n\n\thasStroke: function() {\n\t\tvar color = this.getStrokeColor();\n\t\treturn !!color && color.alpha > 0 && this.getStrokeWidth() > 0;\n\t},\n\n\thasShadow: function() {\n\t\tvar color = this.getShadowColor();\n\t\treturn !!color && color.alpha > 0 && (this.getShadowBlur() > 0\n\t\t\t\t|| !this.getShadowOffset().isZero());\n\t},\n\n\tgetView: function() {\n\t\treturn this._project._view;\n\t},\n\n\tgetFontStyle: function() {\n\t\tvar fontSize = this.getFontSize();\n\t\treturn this.getFontWeight()\n\t\t\t\t+ ' ' + fontSize + (/[a-z]/i.test(fontSize + '') ? ' ' : 'px ')\n\t\t\t\t+ this.getFontFamily();\n\t},\n\n\tgetFont: '#getFontFamily',\n\tsetFont: '#setFontFamily',\n\n\tgetLeading: function getLeading() {\n\t\tvar leading = getLeading.base.call(this),\n\t\t\tfontSize = this.getFontSize();\n\t\tif (/pt|em|%|px/.test(fontSize))\n\t\t\tfontSize = this.getView().getPixelSize(fontSize);\n\t\treturn leading != null ? leading : fontSize * 1.2;\n\t}\n\n});\n\nvar DomElement = new function() {\n\tfunction handlePrefix(el, name, set, value) {\n\t\tvar prefixes = ['', 'webkit', 'moz', 'Moz', 'ms', 'o'],\n\t\t\tsuffix = name[0].toUpperCase() + name.substring(1);\n\t\tfor (var i = 0; i < 6; i++) {\n\t\t\tvar prefix = prefixes[i],\n\t\t\t\tkey = prefix ? prefix + suffix : name;\n\t\t\tif (key in el) {\n\t\t\t\tif (set) {\n\t\t\t\t\tel[key] = value;\n\t\t\t\t} else {\n\t\t\t\t\treturn el[key];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tgetStyles: function(el) {\n\t\t\tvar doc = el && el.nodeType !== 9 ? el.ownerDocument : el,\n\t\t\t\tview = doc && doc.defaultView;\n\t\t\treturn view && view.getComputedStyle(el, '');\n\t\t},\n\n\t\tgetBounds: function(el, viewport) {\n\t\t\tvar doc = el.ownerDocument,\n\t\t\t\tbody = doc.body,\n\t\t\t\thtml = doc.documentElement,\n\t\t\t\trect;\n\t\t\ttry {\n\t\t\t\trect = el.getBoundingClientRect();\n\t\t\t} catch (e) {\n\t\t\t\trect = { left: 0, top: 0, width: 0, height: 0 };\n\t\t\t}\n\t\t\tvar x = rect.left - (html.clientLeft || body.clientLeft || 0),\n\t\t\t\ty = rect.top - (html.clientTop || body.clientTop || 0);\n\t\t\tif (!viewport) {\n\t\t\t\tvar view = doc.defaultView;\n\t\t\t\tx += view.pageXOffset || html.scrollLeft || body.scrollLeft;\n\t\t\t\ty += view.pageYOffset || html.scrollTop || body.scrollTop;\n\t\t\t}\n\t\t\treturn new Rectangle(x, y, rect.width, rect.height);\n\t\t},\n\n\t\tgetViewportBounds: function(el) {\n\t\t\tvar doc = el.ownerDocument,\n\t\t\t\tview = doc.defaultView,\n\t\t\t\thtml = doc.documentElement;\n\t\t\treturn new Rectangle(0, 0,\n\t\t\t\tview.innerWidth || html.clientWidth,\n\t\t\t\tview.innerHeight || html.clientHeight\n\t\t\t);\n\t\t},\n\n\t\tgetOffset: function(el, viewport) {\n\t\t\treturn DomElement.getBounds(el, viewport).getPoint();\n\t\t},\n\n\t\tgetSize: function(el) {\n\t\t\treturn DomElement.getBounds(el, true).getSize();\n\t\t},\n\n\t\tisInvisible: function(el) {\n\t\t\treturn DomElement.getSize(el).equals(new Size(0, 0));\n\t\t},\n\n\t\tisInView: function(el) {\n\t\t\treturn !DomElement.isInvisible(el)\n\t\t\t\t\t&& DomElement.getViewportBounds(el).intersects(\n\t\t\t\t\t\tDomElement.getBounds(el, true));\n\t\t},\n\n\t\tisInserted: function(el) {\n\t\t\treturn document.body.contains(el);\n\t\t},\n\n\t\tgetPrefixed: function(el, name) {\n\t\t\treturn el && handlePrefix(el, name);\n\t\t},\n\n\t\tsetPrefixed: function(el, name, value) {\n\t\t\tif (typeof name === 'object') {\n\t\t\t\tfor (var key in name)\n\t\t\t\t\thandlePrefix(el, key, true, name[key]);\n\t\t\t} else {\n\t\t\t\thandlePrefix(el, name, true, value);\n\t\t\t}\n\t\t}\n\t};\n};\n\nvar DomEvent = {\n\tadd: function(el, events) {\n\t\tif (el) {\n\t\t\tfor (var type in events) {\n\t\t\t\tvar func = events[type],\n\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++) {\n\t\t\t\t\tvar name = parts[i];\n\t\t\t\t\tvar options = (\n\t\t\t\t\t\tel === document\n\t\t\t\t\t\t&& (name === 'touchstart' || name === 'touchmove')\n\t\t\t\t\t) ? { passive: false } : false;\n\t\t\t\t\tel.addEventListener(name, func, options);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremove: function(el, events) {\n\t\tif (el) {\n\t\t\tfor (var type in events) {\n\t\t\t\tvar func = events[type],\n\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++)\n\t\t\t\t\tel.removeEventListener(parts[i], func, false);\n\t\t\t}\n\t\t}\n\t},\n\n\tgetPoint: function(event) {\n\t\tvar pos = event.targetTouches\n\t\t\t\t? event.targetTouches.length\n\t\t\t\t\t? event.targetTouches[0]\n\t\t\t\t\t: event.changedTouches[0]\n\t\t\t\t: event;\n\t\treturn new Point(\n\t\t\tpos.pageX || pos.clientX + document.documentElement.scrollLeft,\n\t\t\tpos.pageY || pos.clientY + document.documentElement.scrollTop\n\t\t);\n\t},\n\n\tgetTarget: function(event) {\n\t\treturn event.target || event.srcElement;\n\t},\n\n\tgetRelatedTarget: function(event) {\n\t\treturn event.relatedTarget || event.toElement;\n\t},\n\n\tgetOffset: function(event, target) {\n\t\treturn DomEvent.getPoint(event).subtract(DomElement.getOffset(\n\t\t\t\ttarget || DomEvent.getTarget(event)));\n\t}\n};\n\nDomEvent.requestAnimationFrame = new function() {\n\tvar nativeRequest = DomElement.getPrefixed(window, 'requestAnimationFrame'),\n\t\trequested = false,\n\t\tcallbacks = [],\n\t\ttimer;\n\n\tfunction handleCallbacks() {\n\t\tvar functions = callbacks;\n\t\tcallbacks = [];\n\t\tfor (var i = 0, l = functions.length; i < l; i++)\n\t\t\tfunctions[i]();\n\t\trequested = nativeRequest && callbacks.length;\n\t\tif (requested)\n\t\t\tnativeRequest(handleCallbacks);\n\t}\n\n\treturn function(callback) {\n\t\tcallbacks.push(callback);\n\t\tif (nativeRequest) {\n\t\t\tif (!requested) {\n\t\t\t\tnativeRequest(handleCallbacks);\n\t\t\t\trequested = true;\n\t\t\t}\n\t\t} else if (!timer) {\n\t\t\ttimer = setInterval(handleCallbacks, 1000 / 60);\n\t\t}\n\t};\n};\n\nvar View = Base.extend(Emitter, {\n\t_class: 'View',\n\n\tinitialize: function View(project, element) {\n\n\t\tfunction getSize(name) {\n\t\t\treturn element[name] || parseInt(element.getAttribute(name), 10);\n\t\t}\n\n\t\tfunction getCanvasSize() {\n\t\t\tvar size = DomElement.getSize(element);\n\t\t\treturn size.isNaN() || size.isZero()\n\t\t\t\t\t? new Size(getSize('width'), getSize('height'))\n\t\t\t\t\t: size;\n\t\t}\n\n\t\tvar size;\n\t\tif (window && element) {\n\t\t\tthis._id = element.getAttribute('id');\n\t\t\tif (this._id == null)\n\t\t\t\telement.setAttribute('id', this._id = 'paper-view-' + View._id++);\n\t\t\tDomEvent.add(element, this._viewEvents);\n\t\t\tvar none = 'none';\n\t\t\tDomElement.setPrefixed(element.style, {\n\t\t\t\tuserDrag: none,\n\t\t\t\tuserSelect: none,\n\t\t\t\ttouchCallout: none,\n\t\t\t\tcontentZooming: none,\n\t\t\t\ttapHighlightColor: 'rgba(0,0,0,0)'\n\t\t\t});\n\n\t\t\tif (PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\tvar that = this;\n\t\t\t\tDomEvent.add(window, this._windowEvents = {\n\t\t\t\t\tresize: function() {\n\t\t\t\t\t\tthat.setViewSize(getCanvasSize());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tsize = getCanvasSize();\n\n\t\t\tif (PaperScope.hasAttribute(element, 'stats')\n\t\t\t\t\t&& typeof Stats !== 'undefined') {\n\t\t\t\tthis._stats = new Stats();\n\t\t\t\tvar stats = this._stats.domElement,\n\t\t\t\t\tstyle = stats.style,\n\t\t\t\t\toffset = DomElement.getOffset(element);\n\t\t\t\tstyle.position = 'absolute';\n\t\t\t\tstyle.left = offset.x + 'px';\n\t\t\t\tstyle.top = offset.y + 'px';\n\t\t\t\tdocument.body.appendChild(stats);\n\t\t\t}\n\t\t} else {\n\t\t\tsize = new Size(element);\n\t\t\telement = null;\n\t\t}\n\t\tthis._project = project;\n\t\tthis._scope = project._scope;\n\t\tthis._element = element;\n\t\tif (!this._pixelRatio)\n\t\t\tthis._pixelRatio = window && window.devicePixelRatio || 1;\n\t\tthis._setElementSize(size.width, size.height);\n\t\tthis._viewSize = size;\n\t\tView._views.push(this);\n\t\tView._viewsById[this._id] = this;\n\t\t(this._matrix = new Matrix())._owner = this;\n\t\tif (!View._focused)\n\t\t\tView._focused = this;\n\t\tthis._frameItems = {};\n\t\tthis._frameItemCount = 0;\n\t\tthis._itemEvents = { native: {}, virtual: {} };\n\t\tthis._autoUpdate = !paper.agent.node;\n\t\tthis._needsUpdate = false;\n\t},\n\n\tremove: function() {\n\t\tif (!this._project)\n\t\t\treturn false;\n\t\tif (View._focused === this)\n\t\t\tView._focused = null;\n\t\tView._views.splice(View._views.indexOf(this), 1);\n\t\tdelete View._viewsById[this._id];\n\t\tvar project = this._project;\n\t\tif (project._view === this)\n\t\t\tproject._view = null;\n\t\tDomEvent.remove(this._element, this._viewEvents);\n\t\tDomEvent.remove(window, this._windowEvents);\n\t\tthis._element = this._project = null;\n\t\tthis.off('frame');\n\t\tthis._animate = false;\n\t\tthis._frameItems = {};\n\t\treturn true;\n\t},\n\n\t_events: Base.each(\n\t\tItem._itemHandlers.concat(['onResize', 'onKeyDown', 'onKeyUp']),\n\t\tfunction(name) {\n\t\t\tthis[name] = {};\n\t\t}, {\n\t\t\tonFrame: {\n\t\t\t\tinstall: function() {\n\t\t\t\t\tthis.play();\n\t\t\t\t},\n\n\t\t\t\tuninstall: function() {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t),\n\n\t_animate: false,\n\t_time: 0,\n\t_count: 0,\n\n\tgetAutoUpdate: function() {\n\t\treturn this._autoUpdate;\n\t},\n\n\tsetAutoUpdate: function(autoUpdate) {\n\t\tthis._autoUpdate = autoUpdate;\n\t\tif (autoUpdate)\n\t\t\tthis.requestUpdate();\n\t},\n\n\tupdate: function() {\n\t},\n\n\tdraw: function() {\n\t\tthis.update();\n\t},\n\n\trequestUpdate: function() {\n\t\tif (!this._requested) {\n\t\t\tvar that = this;\n\t\t\tDomEvent.requestAnimationFrame(function() {\n\t\t\t\tthat._requested = false;\n\t\t\t\tif (that._animate) {\n\t\t\t\t\tthat.requestUpdate();\n\t\t\t\t\tvar element = that._element;\n\t\t\t\t\tif ((!DomElement.getPrefixed(document, 'hidden')\n\t\t\t\t\t\t\t|| PaperScope.getAttribute(element, 'keepalive')\n\t\t\t\t\t\t\t\t=== 'true') && DomElement.isInView(element)) {\n\t\t\t\t\t\tthat._handleFrame();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (that._autoUpdate)\n\t\t\t\t\tthat.update();\n\t\t\t});\n\t\t\tthis._requested = true;\n\t\t}\n\t},\n\n\tplay: function() {\n\t\tthis._animate = true;\n\t\tthis.requestUpdate();\n\t},\n\n\tpause: function() {\n\t\tthis._animate = false;\n\t},\n\n\t_handleFrame: function() {\n\t\tpaper = this._scope;\n\t\tvar now = Date.now() / 1000,\n\t\t\tdelta = this._last ? now - this._last : 0;\n\t\tthis._last = now;\n\t\tthis.emit('frame', new Base({\n\t\t\tdelta: delta,\n\t\t\ttime: this._time += delta,\n\t\t\tcount: this._count++\n\t\t}));\n\t\tif (this._stats)\n\t\t\tthis._stats.update();\n\t},\n\n\t_animateItem: function(item, animate) {\n\t\tvar items = this._frameItems;\n\t\tif (animate) {\n\t\t\titems[item._id] = {\n\t\t\t\titem: item,\n\t\t\t\ttime: 0,\n\t\t\t\tcount: 0\n\t\t\t};\n\t\t\tif (++this._frameItemCount === 1)\n\t\t\t\tthis.on('frame', this._handleFrameItems);\n\t\t} else {\n\t\t\tdelete items[item._id];\n\t\t\tif (--this._frameItemCount === 0) {\n\t\t\t\tthis.off('frame', this._handleFrameItems);\n\t\t\t}\n\t\t}\n\t},\n\n\t_handleFrameItems: function(event) {\n\t\tfor (var i in this._frameItems) {\n\t\t\tvar entry = this._frameItems[i];\n\t\t\tentry.item.emit('frame', new Base(event, {\n\t\t\t\ttime: entry.time += event.delta,\n\t\t\t\tcount: entry.count++\n\t\t\t}));\n\t\t}\n\t},\n\n\t_changed: function() {\n\t\tthis._project._changed(4097);\n\t\tthis._bounds = this._decomposed = undefined;\n\t},\n\n\tgetElement: function() {\n\t\treturn this._element;\n\t},\n\n\tgetPixelRatio: function() {\n\t\treturn this._pixelRatio;\n\t},\n\n\tgetResolution: function() {\n\t\treturn this._pixelRatio * 72;\n\t},\n\n\tgetViewSize: function() {\n\t\tvar size = this._viewSize;\n\t\treturn new LinkedSize(size.width, size.height, this, 'setViewSize');\n\t},\n\n\tsetViewSize: function() {\n\t\tvar size = Size.read(arguments),\n\t\t\tdelta = size.subtract(this._viewSize);\n\t\tif (delta.isZero())\n\t\t\treturn;\n\t\tthis._setElementSize(size.width, size.height);\n\t\tthis._viewSize.set(size);\n\t\tthis._changed();\n\t\tthis.emit('resize', { size: size, delta: delta });\n\t\tif (this._autoUpdate) {\n\t\t\tthis.update();\n\t\t}\n\t},\n\n\t_setElementSize: function(width, height) {\n\t\tvar element = this._element;\n\t\tif (element) {\n\t\t\tif (element.width !== width)\n\t\t\t\telement.width = width;\n\t\t\tif (element.height !== height)\n\t\t\t\telement.height = height;\n\t\t}\n\t},\n\n\tgetBounds: function() {\n\t\tif (!this._bounds)\n\t\t\tthis._bounds = this._matrix.inverted()._transformBounds(\n\t\t\t\t\tnew Rectangle(new Point(), this._viewSize));\n\t\treturn this._bounds;\n\t},\n\n\tgetSize: function() {\n\t\treturn this.getBounds().getSize();\n\t},\n\n\tisVisible: function() {\n\t\treturn DomElement.isInView(this._element);\n\t},\n\n\tisInserted: function() {\n\t\treturn DomElement.isInserted(this._element);\n\t},\n\n\tgetPixelSize: function(size) {\n\t\tvar element = this._element,\n\t\t\tpixels;\n\t\tif (element) {\n\t\t\tvar parent = element.parentNode,\n\t\t\t\ttemp = document.createElement('div');\n\t\t\ttemp.style.fontSize = size;\n\t\t\tparent.appendChild(temp);\n\t\t\tpixels = parseFloat(DomElement.getStyles(temp).fontSize);\n\t\t\tparent.removeChild(temp);\n\t\t} else {\n\t\t\tpixels = parseFloat(pixels);\n\t\t}\n\t\treturn pixels;\n\t},\n\n\tgetTextWidth: function(font, lines) {\n\t\treturn 0;\n\t}\n}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\tvar rotate = key === 'rotate';\n\tthis[key] = function() {\n\t\tvar args = arguments,\n\t\t\tvalue = (rotate ? Base : Point).read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\tcenter || this.getCenter(true)));\n\t};\n}, {\n\t_decompose: function() {\n\t\treturn this._decomposed || (this._decomposed = this._matrix.decompose());\n\t},\n\n\ttranslate: function() {\n\t\tvar mx = new Matrix();\n\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t},\n\n\tgetCenter: function() {\n\t\treturn this.getBounds().getCenter();\n\t},\n\n\tsetCenter: function() {\n\t\tvar center = Point.read(arguments);\n\t\tthis.translate(this.getCenter().subtract(center));\n\t},\n\n\tgetZoom: function() {\n\t\tvar scaling = this._decompose().scaling;\n\t\treturn (scaling.x + scaling.y) / 2;\n\t},\n\n\tsetZoom: function(zoom) {\n\t\tthis.transform(new Matrix().scale(zoom / this.getZoom(),\n\t\t\tthis.getCenter()));\n\t},\n\n\tgetRotation: function() {\n\t\treturn this._decompose().rotation;\n\t},\n\n\tsetRotation: function(rotation) {\n\t\tvar current = this.getRotation();\n\t\tif (current != null && rotation != null) {\n\t\t\tthis.rotate(rotation - current);\n\t\t}\n\t},\n\n\tgetScaling: function() {\n\t\tvar scaling = this._decompose().scaling;\n\t\treturn new LinkedPoint(scaling.x, scaling.y, this, 'setScaling');\n\t},\n\n\tsetScaling: function() {\n\t\tvar current = this.getScaling(),\n\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tif (current && scaling) {\n\t\t\tthis.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t}\n\t},\n\n\tgetMatrix: function() {\n\t\treturn this._matrix;\n\t},\n\n\tsetMatrix: function() {\n\t\tvar matrix = this._matrix;\n\t\tmatrix.set.apply(matrix, arguments);\n\t},\n\n\ttransform: function(matrix) {\n\t\tthis._matrix.append(matrix);\n\t},\n\n\tscrollBy: function() {\n\t\tthis.translate(Point.read(arguments).negate());\n\t}\n}), {\n\n\tprojectToView: function() {\n\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t},\n\n\tviewToProject: function() {\n\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t},\n\n\tgetEventPoint: function(event) {\n\t\treturn this.viewToProject(DomEvent.getOffset(event, this._element));\n\t},\n\n}, {\n\tstatics: {\n\t\t_views: [],\n\t\t_viewsById: {},\n\t\t_id: 0,\n\n\t\tcreate: function(project, element) {\n\t\t\tif (document && typeof element === 'string')\n\t\t\t\telement = document.getElementById(element);\n\t\t\tvar ctor = window ? CanvasView : View;\n\t\t\treturn new ctor(project, element);\n\t\t}\n\t}\n},\nnew function() {\n\tif (!window)\n\t\treturn;\n\tvar prevFocus,\n\t\ttempFocus,\n\t\tdragging = false,\n\t\tmouseDown = false;\n\n\tfunction getView(event) {\n\t\tvar target = DomEvent.getTarget(event);\n\t\treturn target.getAttribute && View._viewsById[\n\t\t\t\ttarget.getAttribute('id')];\n\t}\n\n\tfunction updateFocus() {\n\t\tvar view = View._focused;\n\t\tif (!view || !view.isVisible()) {\n\t\t\tfor (var i = 0, l = View._views.length; i < l; i++) {\n\t\t\t\tif ((view = View._views[i]).isVisible()) {\n\t\t\t\t\tView._focused = tempFocus = view;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction handleMouseMove(view, event, point) {\n\t\tview._handleMouseEvent('mousemove', event, point);\n\t}\n\n\tvar navigator = window.navigator,\n\t\tmousedown, mousemove, mouseup;\n\tif (navigator.pointerEnabled || navigator.msPointerEnabled) {\n\t\tmousedown = 'pointerdown MSPointerDown';\n\t\tmousemove = 'pointermove MSPointerMove';\n\t\tmouseup = 'pointerup pointercancel MSPointerUp MSPointerCancel';\n\t} else {\n\t\tmousedown = 'touchstart';\n\t\tmousemove = 'touchmove';\n\t\tmouseup = 'touchend touchcancel';\n\t\tif (!('ontouchstart' in window && navigator.userAgent.match(\n\t\t\t\t/mobile|tablet|ip(ad|hone|od)|android|silk/i))) {\n\t\t\tmousedown += ' mousedown';\n\t\t\tmousemove += ' mousemove';\n\t\t\tmouseup += ' mouseup';\n\t\t}\n\t}\n\n\tvar viewEvents = {},\n\t\tdocEvents = {\n\t\t\tmouseout: function(event) {\n\t\t\t\tvar view = View._focused,\n\t\t\t\t\ttarget = DomEvent.getRelatedTarget(event);\n\t\t\t\tif (view && (!target || target.nodeName === 'HTML')) {\n\t\t\t\t\tvar offset = DomEvent.getOffset(event, view._element),\n\t\t\t\t\t\tx = offset.x,\n\t\t\t\t\t\tabs = Math.abs,\n\t\t\t\t\t\tax = abs(x),\n\t\t\t\t\t\tmax = 1 << 25,\n\t\t\t\t\t\tdiff = ax - max;\n\t\t\t\t\toffset.x = abs(diff) < ax ? diff * (x < 0 ? -1 : 1) : x;\n\t\t\t\t\thandleMouseMove(view, event, view.viewToProject(offset));\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tscroll: updateFocus\n\t\t};\n\n\tviewEvents[mousedown] = function(event) {\n\t\tvar view = View._focused = getView(event);\n\t\tif (!dragging) {\n\t\t\tdragging = true;\n\t\t\tview._handleMouseEvent('mousedown', event);\n\t\t}\n\t};\n\n\tdocEvents[mousemove] = function(event) {\n\t\tvar view = View._focused;\n\t\tif (!mouseDown) {\n\t\t\tvar target = getView(event);\n\t\t\tif (target) {\n\t\t\t\tif (view !== target) {\n\t\t\t\t\tif (view)\n\t\t\t\t\t\thandleMouseMove(view, event);\n\t\t\t\t\tif (!prevFocus)\n\t\t\t\t\t\tprevFocus = view;\n\t\t\t\t\tview = View._focused = tempFocus = target;\n\t\t\t\t}\n\t\t\t} else if (tempFocus && tempFocus === view) {\n\t\t\t\tif (prevFocus && !prevFocus.isInserted())\n\t\t\t\t\tprevFocus = null;\n\t\t\t\tview = View._focused = prevFocus;\n\t\t\t\tprevFocus = null;\n\t\t\t\tupdateFocus();\n\t\t\t}\n\t\t}\n\t\tif (view)\n\t\t\thandleMouseMove(view, event);\n\t};\n\n\tdocEvents[mousedown] = function() {\n\t\tmouseDown = true;\n\t};\n\n\tdocEvents[mouseup] = function(event) {\n\t\tvar view = View._focused;\n\t\tif (view && dragging)\n\t\t\tview._handleMouseEvent('mouseup', event);\n\t\tmouseDown = dragging = false;\n\t};\n\n\tDomEvent.add(document, docEvents);\n\n\tDomEvent.add(window, {\n\t\tload: updateFocus\n\t});\n\n\tvar called = false,\n\t\tprevented = false,\n\t\tfallbacks = {\n\t\t\tdoubleclick: 'click',\n\t\t\tmousedrag: 'mousemove'\n\t\t},\n\t\twasInView = false,\n\t\toverView,\n\t\tdownPoint,\n\t\tlastPoint,\n\t\tdownItem,\n\t\toverItem,\n\t\tdragItem,\n\t\tclickItem,\n\t\tclickTime,\n\t\tdblClick;\n\n\tfunction emitMouseEvent(obj, target, type, event, point, prevPoint,\n\t\t\tstopItem) {\n\t\tvar stopped = false,\n\t\t\tmouseEvent;\n\n\t\tfunction emit(obj, type) {\n\t\t\tif (obj.responds(type)) {\n\t\t\t\tif (!mouseEvent) {\n\t\t\t\t\tmouseEvent = new MouseEvent(type, event, point,\n\t\t\t\t\t\t\ttarget || obj,\n\t\t\t\t\t\t\tprevPoint ? point.subtract(prevPoint) : null);\n\t\t\t\t}\n\t\t\t\tif (obj.emit(type, mouseEvent)) {\n\t\t\t\t\tcalled = true;\n\t\t\t\t\tif (mouseEvent.prevented)\n\t\t\t\t\t\tprevented = true;\n\t\t\t\t\tif (mouseEvent.stopped)\n\t\t\t\t\t\treturn stopped = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar fallback = fallbacks[type];\n\t\t\t\tif (fallback)\n\t\t\t\t\treturn emit(obj, fallback);\n\t\t\t}\n\t\t}\n\n\t\twhile (obj && obj !== stopItem) {\n\t\t\tif (emit(obj, type))\n\t\t\t\tbreak;\n\t\t\tobj = obj._parent;\n\t\t}\n\t\treturn stopped;\n\t}\n\n\tfunction emitMouseEvents(view, hitItem, type, event, point, prevPoint) {\n\t\tview._project.removeOn(type);\n\t\tprevented = called = false;\n\t\treturn (dragItem && emitMouseEvent(dragItem, null, type, event,\n\t\t\t\t\tpoint, prevPoint)\n\t\t\t|| hitItem && hitItem !== dragItem\n\t\t\t\t&& !hitItem.isDescendant(dragItem)\n\t\t\t\t&& emitMouseEvent(hitItem, null, type === 'mousedrag' ?\n\t\t\t\t\t'mousemove' : type, event, point, prevPoint, dragItem)\n\t\t\t|| emitMouseEvent(view, dragItem || hitItem || view, type, event,\n\t\t\t\t\tpoint, prevPoint));\n\t}\n\n\tvar itemEventsMap = {\n\t\tmousedown: {\n\t\t\tmousedown: 1,\n\t\t\tmousedrag: 1,\n\t\t\tclick: 1,\n\t\t\tdoubleclick: 1\n\t\t},\n\t\tmouseup: {\n\t\t\tmouseup: 1,\n\t\t\tmousedrag: 1,\n\t\t\tclick: 1,\n\t\t\tdoubleclick: 1\n\t\t},\n\t\tmousemove: {\n\t\t\tmousedrag: 1,\n\t\t\tmousemove: 1,\n\t\t\tmouseenter: 1,\n\t\t\tmouseleave: 1\n\t\t}\n\t};\n\n\treturn {\n\t\t_viewEvents: viewEvents,\n\n\t\t_handleMouseEvent: function(type, event, point) {\n\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\thitItems = itemEvents.native[type],\n\t\t\t\tnativeMove = type === 'mousemove',\n\t\t\t\ttool = this._scope.tool,\n\t\t\t\tview = this;\n\n\t\t\tfunction responds(type) {\n\t\t\t\treturn itemEvents.virtual[type] || view.responds(type)\n\t\t\t\t\t\t|| tool && tool.responds(type);\n\t\t\t}\n\n\t\t\tif (nativeMove && dragging && responds('mousedrag'))\n\t\t\t\ttype = 'mousedrag';\n\t\t\tif (!point)\n\t\t\t\tpoint = this.getEventPoint(event);\n\n\t\t\tvar inView = this.getBounds().contains(point),\n\t\t\t\thit = hitItems && inView && view._project.hitTest(point, {\n\t\t\t\t\ttolerance: 0,\n\t\t\t\t\tfill: true,\n\t\t\t\t\tstroke: true\n\t\t\t\t}),\n\t\t\t\thitItem = hit && hit.item || null,\n\t\t\t\thandle = false,\n\t\t\t\tmouse = {};\n\t\t\tmouse[type.substr(5)] = true;\n\n\t\t\tif (hitItems && hitItem !== overItem) {\n\t\t\t\tif (overItem) {\n\t\t\t\t\temitMouseEvent(overItem, null, 'mouseleave', event, point);\n\t\t\t\t}\n\t\t\t\tif (hitItem) {\n\t\t\t\t\temitMouseEvent(hitItem, null, 'mouseenter', event, point);\n\t\t\t\t}\n\t\t\t\toverItem = hitItem;\n\t\t\t}\n\t\t\tif (wasInView ^ inView) {\n\t\t\t\temitMouseEvent(this, null, inView ? 'mouseenter' : 'mouseleave',\n\t\t\t\t\t\tevent, point);\n\t\t\t\toverView = inView ? this : null;\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\tif ((inView || mouse.drag) && !point.equals(lastPoint)) {\n\t\t\t\temitMouseEvents(this, hitItem, nativeMove ? type : 'mousemove',\n\t\t\t\t\t\tevent, point, lastPoint);\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\twasInView = inView;\n\t\t\tif (mouse.down && inView || mouse.up && downPoint) {\n\t\t\t\temitMouseEvents(this, hitItem, type, event, point, downPoint);\n\t\t\t\tif (mouse.down) {\n\t\t\t\t\tdblClick = hitItem === clickItem\n\t\t\t\t\t\t&& (Date.now() - clickTime < 300);\n\t\t\t\t\tdownItem = clickItem = hitItem;\n\t\t\t\t\tif (!prevented && hitItem) {\n\t\t\t\t\t\tvar item = hitItem;\n\t\t\t\t\t\twhile (item && !item.responds('mousedrag'))\n\t\t\t\t\t\t\titem = item._parent;\n\t\t\t\t\t\tif (item)\n\t\t\t\t\t\t\tdragItem = hitItem;\n\t\t\t\t\t}\n\t\t\t\t\tdownPoint = point;\n\t\t\t\t} else if (mouse.up) {\n\t\t\t\t\tif (!prevented && hitItem === downItem) {\n\t\t\t\t\t\tclickTime = Date.now();\n\t\t\t\t\t\temitMouseEvents(this, hitItem, dblClick ? 'doubleclick'\n\t\t\t\t\t\t\t\t: 'click', event, point, downPoint);\n\t\t\t\t\t\tdblClick = false;\n\t\t\t\t\t}\n\t\t\t\t\tdownItem = dragItem = null;\n\t\t\t\t}\n\t\t\t\twasInView = false;\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\tlastPoint = point;\n\t\t\tif (handle && tool) {\n\t\t\t\tcalled = tool._handleMouseEvent(type, event, point, mouse)\n\t\t\t\t\t|| called;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tevent.cancelable !== false\n\t\t\t\t&& (called && !mouse.move || mouse.down && responds('mouseup'))\n\t\t\t) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_handleKeyEvent: function(type, event, key, character) {\n\t\t\tvar scope = this._scope,\n\t\t\t\ttool = scope.tool,\n\t\t\t\tkeyEvent;\n\n\t\t\tfunction emit(obj) {\n\t\t\t\tif (obj.responds(type)) {\n\t\t\t\t\tpaper = scope;\n\t\t\t\t\tobj.emit(type, keyEvent = keyEvent\n\t\t\t\t\t\t\t|| new KeyEvent(type, event, key, character));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.isVisible()) {\n\t\t\t\temit(this);\n\t\t\t\tif (tool && tool.responds(type))\n\t\t\t\t\temit(tool);\n\t\t\t}\n\t\t},\n\n\t\t_countItemEvent: function(type, sign) {\n\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\tnative = itemEvents.native,\n\t\t\t\tvirtual = itemEvents.virtual;\n\t\t\tfor (var key in itemEventsMap) {\n\t\t\t\tnative[key] = (native[key] || 0)\n\t\t\t\t\t\t+ (itemEventsMap[key][type] || 0) * sign;\n\t\t\t}\n\t\t\tvirtual[type] = (virtual[type] || 0) + sign;\n\t\t},\n\n\t\tstatics: {\n\t\t\tupdateFocus: updateFocus,\n\n\t\t\t_resetState: function() {\n\t\t\t\tdragging = mouseDown = called = wasInView = false;\n\t\t\t\tprevFocus = tempFocus = overView = downPoint = lastPoint =\n\t\t\t\t\tdownItem = overItem = dragItem = clickItem = clickTime =\n\t\t\t\t\tdblClick = null;\n\t\t\t}\n\t\t}\n\t};\n});\n\nvar CanvasView = View.extend({\n\t_class: 'CanvasView',\n\n\tinitialize: function CanvasView(project, canvas) {\n\t\tif (!(canvas instanceof window.HTMLCanvasElement)) {\n\t\t\tvar size = Size.read(arguments, 1);\n\t\t\tif (size.isZero())\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\t'Cannot create CanvasView with the provided argument: '\n\t\t\t\t\t\t+ Base.slice(arguments, 1));\n\t\t\tcanvas = CanvasProvider.getCanvas(size);\n\t\t}\n\t\tvar ctx = this._context = canvas.getContext('2d');\n\t\tctx.save();\n\t\tthis._pixelRatio = 1;\n\t\tif (!/^off|false$/.test(PaperScope.getAttribute(canvas, 'hidpi'))) {\n\t\t\tvar deviceRatio = window.devicePixelRatio || 1,\n\t\t\t\tbackingStoreRatio = DomElement.getPrefixed(ctx,\n\t\t\t\t\t\t'backingStorePixelRatio') || 1;\n\t\t\tthis._pixelRatio = deviceRatio / backingStoreRatio;\n\t\t}\n\t\tView.call(this, project, canvas);\n\t\tthis._needsUpdate = true;\n\t},\n\n\tremove: function remove() {\n\t\tthis._context.restore();\n\t\treturn remove.base.call(this);\n\t},\n\n\t_setElementSize: function _setElementSize(width, height) {\n\t\tvar pixelRatio = this._pixelRatio;\n\t\t_setElementSize.base.call(this, width * pixelRatio, height * pixelRatio);\n\t\tif (pixelRatio !== 1) {\n\t\t\tvar element = this._element,\n\t\t\t\tctx = this._context;\n\t\t\tif (!PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\tvar style = element.style;\n\t\t\t\tstyle.width = width + 'px';\n\t\t\t\tstyle.height = height + 'px';\n\t\t\t}\n\t\t\tctx.restore();\n\t\t\tctx.save();\n\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t}\n\t},\n\n\tgetContext: function() {\n\t\treturn this._context;\n\t},\n\n\tgetPixelSize: function getPixelSize(size) {\n\t\tvar agent = paper.agent,\n\t\t\tpixels;\n\t\tif (agent && agent.firefox) {\n\t\t\tpixels = getPixelSize.base.call(this, size);\n\t\t} else {\n\t\t\tvar ctx = this._context,\n\t\t\t\tprevFont = ctx.font;\n\t\t\tctx.font = size + ' serif';\n\t\t\tpixels = parseFloat(ctx.font);\n\t\t\tctx.font = prevFont;\n\t\t}\n\t\treturn pixels;\n\t},\n\n\tgetTextWidth: function(font, lines) {\n\t\tvar ctx = this._context,\n\t\t\tprevFont = ctx.font,\n\t\t\twidth = 0;\n\t\tctx.font = font;\n\t\tfor (var i = 0, l = lines.length; i < l; i++)\n\t\t\twidth = Math.max(width, ctx.measureText(lines[i]).width);\n\t\tctx.font = prevFont;\n\t\treturn width;\n\t},\n\n\tupdate: function() {\n\t\tif (!this._needsUpdate)\n\t\t\treturn false;\n\t\tvar project = this._project,\n\t\t\tctx = this._context,\n\t\t\tsize = this._viewSize;\n\t\tctx.clearRect(0, 0, size.width + 1, size.height + 1);\n\t\tif (project)\n\t\t\tproject.draw(ctx, this._matrix, this._pixelRatio);\n\t\tthis._needsUpdate = false;\n\t\treturn true;\n\t}\n});\n\nvar Event = Base.extend({\n\t_class: 'Event',\n\n\tinitialize: function Event(event) {\n\t\tthis.event = event;\n\t\tthis.type = event && event.type;\n\t},\n\n\tprevented: false,\n\tstopped: false,\n\n\tpreventDefault: function() {\n\t\tthis.prevented = true;\n\t\tthis.event.preventDefault();\n\t},\n\n\tstopPropagation: function() {\n\t\tthis.stopped = true;\n\t\tthis.event.stopPropagation();\n\t},\n\n\tstop: function() {\n\t\tthis.stopPropagation();\n\t\tthis.preventDefault();\n\t},\n\n\tgetTimeStamp: function() {\n\t\treturn this.event.timeStamp;\n\t},\n\n\tgetModifiers: function() {\n\t\treturn Key.modifiers;\n\t}\n});\n\nvar KeyEvent = Event.extend({\n\t_class: 'KeyEvent',\n\n\tinitialize: function KeyEvent(type, event, key, character) {\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t\tthis.key = key;\n\t\tthis.character = character;\n\t},\n\n\ttoString: function() {\n\t\treturn \"{ type: '\" + this.type\n\t\t\t\t+ \"', key: '\" + this.key\n\t\t\t\t+ \"', character: '\" + this.character\n\t\t\t\t+ \"', modifiers: \" + this.getModifiers()\n\t\t\t\t+ \" }\";\n\t}\n});\n\nvar Key = new function() {\n\tvar keyLookup = {\n\t\t\t'\\t': 'tab',\n\t\t\t' ': 'space',\n\t\t\t'\\b': 'backspace',\n\t\t\t'\\x7f': 'delete',\n\t\t\t'Spacebar': 'space',\n\t\t\t'Del': 'delete',\n\t\t\t'Win': 'meta',\n\t\t\t'Esc': 'escape'\n\t\t},\n\n\t\tcharLookup = {\n\t\t\t'tab': '\\t',\n\t\t\t'space': ' ',\n\t\t\t'enter': '\\r'\n\t\t},\n\n\t\tkeyMap = {},\n\t\tcharMap = {},\n\t\tmetaFixMap,\n\t\tdownKey,\n\n\t\tmodifiers = new Base({\n\t\t\tshift: false,\n\t\t\tcontrol: false,\n\t\t\talt: false,\n\t\t\tmeta: false,\n\t\t\tcapsLock: false,\n\t\t\tspace: false\n\t\t}).inject({\n\t\t\toption: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn this.alt;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcommand: {\n\t\t\t\tget: function() {\n\t\t\t\t\tvar agent = paper && paper.agent;\n\t\t\t\t\treturn agent && agent.mac ? this.meta : this.control;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\tfunction getKey(event) {\n\t\tvar key = event.key || event.keyIdentifier;\n\t\tkey = /^U\\+/.test(key)\n\t\t\t\t? String.fromCharCode(parseInt(key.substr(2), 16))\n\t\t\t\t: /^Arrow[A-Z]/.test(key) ? key.substr(5)\n\t\t\t\t: key === 'Unidentified'  || key === undefined\n\t\t\t\t\t? String.fromCharCode(event.keyCode)\n\t\t\t\t\t: key;\n\t\treturn keyLookup[key] ||\n\t\t\t\t(key.length > 1 ? Base.hyphenate(key) : key.toLowerCase());\n\t}\n\n\tfunction handleKey(down, key, character, event) {\n\t\tvar type = down ? 'keydown' : 'keyup',\n\t\t\tview = View._focused,\n\t\t\tname;\n\t\tkeyMap[key] = down;\n\t\tif (down) {\n\t\t\tcharMap[key] = character;\n\t\t} else {\n\t\t\tdelete charMap[key];\n\t\t}\n\t\tif (key.length > 1 && (name = Base.camelize(key)) in modifiers) {\n\t\t\tmodifiers[name] = down;\n\t\t\tvar agent = paper && paper.agent;\n\t\t\tif (name === 'meta' && agent && agent.mac) {\n\t\t\t\tif (down) {\n\t\t\t\t\tmetaFixMap = {};\n\t\t\t\t} else {\n\t\t\t\t\tfor (var k in metaFixMap) {\n\t\t\t\t\t\tif (k in charMap)\n\t\t\t\t\t\t\thandleKey(false, k, metaFixMap[k], event);\n\t\t\t\t\t}\n\t\t\t\t\tmetaFixMap = null;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (down && metaFixMap) {\n\t\t\tmetaFixMap[key] = character;\n\t\t}\n\t\tif (view) {\n\t\t\tview._handleKeyEvent(down ? 'keydown' : 'keyup', event, key,\n\t\t\t\t\tcharacter);\n\t\t}\n\t}\n\n\tDomEvent.add(document, {\n\t\tkeydown: function(event) {\n\t\t\tvar key = getKey(event),\n\t\t\t\tagent = paper && paper.agent;\n\t\t\tif (key.length > 1 || agent && (agent.chrome && (event.altKey\n\t\t\t\t\t\t|| agent.mac && event.metaKey\n\t\t\t\t\t\t|| !agent.mac && event.ctrlKey))) {\n\t\t\t\thandleKey(true, key,\n\t\t\t\t\t\tcharLookup[key] || (key.length > 1 ? '' : key), event);\n\t\t\t} else {\n\t\t\t\tdownKey = key;\n\t\t\t}\n\t\t},\n\n\t\tkeypress: function(event) {\n\t\t\tif (downKey) {\n\t\t\t\tvar key = getKey(event),\n\t\t\t\t\tcode = event.charCode,\n\t\t\t\t\tcharacter = code >= 32 ? String.fromCharCode(code)\n\t\t\t\t\t\t: key.length > 1 ? '' : key;\n\t\t\t\tif (key !== downKey) {\n\t\t\t\t\tkey = character.toLowerCase();\n\t\t\t\t}\n\t\t\t\thandleKey(true, key, character, event);\n\t\t\t\tdownKey = null;\n\t\t\t}\n\t\t},\n\n\t\tkeyup: function(event) {\n\t\t\tvar key = getKey(event);\n\t\t\tif (key in charMap)\n\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t}\n\t});\n\n\tDomEvent.add(window, {\n\t\tblur: function(event) {\n\t\t\tfor (var key in charMap)\n\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t}\n\t});\n\n\treturn {\n\t\tmodifiers: modifiers,\n\n\t\tisDown: function(key) {\n\t\t\treturn !!keyMap[key];\n\t\t}\n\t};\n};\n\nvar MouseEvent = Event.extend({\n\t_class: 'MouseEvent',\n\n\tinitialize: function MouseEvent(type, event, point, target, delta) {\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t\tthis.point = point;\n\t\tthis.target = target;\n\t\tthis.delta = delta;\n\t},\n\n\ttoString: function() {\n\t\treturn \"{ type: '\" + this.type\n\t\t\t\t+ \"', point: \" + this.point\n\t\t\t\t+ ', target: ' + this.target\n\t\t\t\t+ (this.delta ? ', delta: ' + this.delta : '')\n\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t+ ' }';\n\t}\n});\n\nvar ToolEvent = Event.extend({\n\t_class: 'ToolEvent',\n\t_item: null,\n\n\tinitialize: function ToolEvent(tool, type, event) {\n\t\tthis.tool = tool;\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t},\n\n\t_choosePoint: function(point, toolPoint) {\n\t\treturn point ? point : toolPoint ? toolPoint.clone() : null;\n\t},\n\n\tgetPoint: function() {\n\t\treturn this._choosePoint(this._point, this.tool._point);\n\t},\n\n\tsetPoint: function(point) {\n\t\tthis._point = point;\n\t},\n\n\tgetLastPoint: function() {\n\t\treturn this._choosePoint(this._lastPoint, this.tool._lastPoint);\n\t},\n\n\tsetLastPoint: function(lastPoint) {\n\t\tthis._lastPoint = lastPoint;\n\t},\n\n\tgetDownPoint: function() {\n\t\treturn this._choosePoint(this._downPoint, this.tool._downPoint);\n\t},\n\n\tsetDownPoint: function(downPoint) {\n\t\tthis._downPoint = downPoint;\n\t},\n\n\tgetMiddlePoint: function() {\n\t\tif (!this._middlePoint && this.tool._lastPoint) {\n\t\t\treturn this.tool._point.add(this.tool._lastPoint).divide(2);\n\t\t}\n\t\treturn this._middlePoint;\n\t},\n\n\tsetMiddlePoint: function(middlePoint) {\n\t\tthis._middlePoint = middlePoint;\n\t},\n\n\tgetDelta: function() {\n\t\treturn !this._delta && this.tool._lastPoint\n\t\t\t\t? this.tool._point.subtract(this.tool._lastPoint)\n\t\t\t\t: this._delta;\n\t},\n\n\tsetDelta: function(delta) {\n\t\tthis._delta = delta;\n\t},\n\n\tgetCount: function() {\n\t\treturn this.tool[/^mouse(down|up)$/.test(this.type)\n\t\t\t\t? '_downCount' : '_moveCount'];\n\t},\n\n\tsetCount: function(count) {\n\t\tthis.tool[/^mouse(down|up)$/.test(this.type) ? 'downCount' : 'count']\n\t\t\t= count;\n\t},\n\n\tgetItem: function() {\n\t\tif (!this._item) {\n\t\t\tvar result = this.tool._scope.project.hitTest(this.getPoint());\n\t\t\tif (result) {\n\t\t\t\tvar item = result.item,\n\t\t\t\t\tparent = item._parent;\n\t\t\t\twhile (/^(Group|CompoundPath)$/.test(parent._class)) {\n\t\t\t\t\titem = parent;\n\t\t\t\t\tparent = parent._parent;\n\t\t\t\t}\n\t\t\t\tthis._item = item;\n\t\t\t}\n\t\t}\n\t\treturn this._item;\n\t},\n\n\tsetItem: function(item) {\n\t\tthis._item = item;\n\t},\n\n\ttoString: function() {\n\t\treturn '{ type: ' + this.type\n\t\t\t\t+ ', point: ' + this.getPoint()\n\t\t\t\t+ ', count: ' + this.getCount()\n\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t+ ' }';\n\t}\n});\n\nvar Tool = PaperScopeItem.extend({\n\t_class: 'Tool',\n\t_list: 'tools',\n\t_reference: 'tool',\n\t_events: ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onMouseMove',\n\t\t\t'onActivate', 'onDeactivate', 'onEditOptions', 'onKeyDown',\n\t\t\t'onKeyUp'],\n\n\tinitialize: function Tool(props) {\n\t\tPaperScopeItem.call(this);\n\t\tthis._moveCount = -1;\n\t\tthis._downCount = -1;\n\t\tthis.set(props);\n\t},\n\n\tgetMinDistance: function() {\n\t\treturn this._minDistance;\n\t},\n\n\tsetMinDistance: function(minDistance) {\n\t\tthis._minDistance = minDistance;\n\t\tif (minDistance != null && this._maxDistance != null\n\t\t\t\t&& minDistance > this._maxDistance) {\n\t\t\tthis._maxDistance = minDistance;\n\t\t}\n\t},\n\n\tgetMaxDistance: function() {\n\t\treturn this._maxDistance;\n\t},\n\n\tsetMaxDistance: function(maxDistance) {\n\t\tthis._maxDistance = maxDistance;\n\t\tif (this._minDistance != null && maxDistance != null\n\t\t\t\t&& maxDistance < this._minDistance) {\n\t\t\tthis._minDistance = maxDistance;\n\t\t}\n\t},\n\n\tgetFixedDistance: function() {\n\t\treturn this._minDistance == this._maxDistance\n\t\t\t? this._minDistance : null;\n\t},\n\n\tsetFixedDistance: function(distance) {\n\t\tthis._minDistance = this._maxDistance = distance;\n\t},\n\n\t_handleMouseEvent: function(type, event, point, mouse) {\n\t\tpaper = this._scope;\n\t\tif (mouse.drag && !this.responds(type))\n\t\t\ttype = 'mousemove';\n\t\tvar move = mouse.move || mouse.drag,\n\t\t\tresponds = this.responds(type),\n\t\t\tminDistance = this.minDistance,\n\t\t\tmaxDistance = this.maxDistance,\n\t\t\tcalled = false,\n\t\t\ttool = this;\n\t\tfunction update(minDistance, maxDistance) {\n\t\t\tvar pt = point,\n\t\t\t\ttoolPoint = move ? tool._point : (tool._downPoint || pt);\n\t\t\tif (move) {\n\t\t\t\tif (tool._moveCount >= 0 && pt.equals(toolPoint)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (toolPoint && (minDistance != null || maxDistance != null)) {\n\t\t\t\t\tvar vector = pt.subtract(toolPoint),\n\t\t\t\t\t\tdistance = vector.getLength();\n\t\t\t\t\tif (distance < (minDistance || 0))\n\t\t\t\t\t\treturn false;\n\t\t\t\t\tif (maxDistance) {\n\t\t\t\t\t\tpt = toolPoint.add(vector.normalize(\n\t\t\t\t\t\t\t\tMath.min(distance, maxDistance)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttool._moveCount++;\n\t\t\t}\n\t\t\ttool._point = pt;\n\t\t\ttool._lastPoint = toolPoint || pt;\n\t\t\tif (mouse.down) {\n\t\t\t\ttool._moveCount = -1;\n\t\t\t\ttool._downPoint = pt;\n\t\t\t\ttool._downCount++;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tfunction emit() {\n\t\t\tif (responds) {\n\t\t\t\tcalled = tool.emit(type, new ToolEvent(tool, type, event))\n\t\t\t\t\t\t|| called;\n\t\t\t}\n\t\t}\n\n\t\tif (mouse.down) {\n\t\t\tupdate();\n\t\t\temit();\n\t\t} else if (mouse.up) {\n\t\t\tupdate(null, maxDistance);\n\t\t\temit();\n\t\t} else if (responds) {\n\t\t\twhile (update(minDistance, maxDistance))\n\t\t\t\temit();\n\t\t}\n\t\treturn called;\n\t}\n\n});\n\nvar Tween = Base.extend(Emitter, {\n\t_class: 'Tween',\n\n\tstatics: {\n\t\teasings: new Base({\n\t\t\tlinear: function(t) {\n\t\t\t\treturn t;\n\t\t\t},\n\n\t\t\teaseInQuad: function(t) {\n\t\t\t\treturn t * t;\n\t\t\t},\n\n\t\t\teaseOutQuad: function(t) {\n\t\t\t\treturn t * (2 - t);\n\t\t\t},\n\n\t\t\teaseInOutQuad: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 2 * t * t\n\t\t\t\t\t: -1 + 2 * (2 - t) * t;\n\t\t\t},\n\n\t\t\teaseInCubic: function(t) {\n\t\t\t\treturn t * t * t;\n\t\t\t},\n\n\t\t\teaseOutCubic: function(t) {\n\t\t\t\treturn --t * t * t + 1;\n\t\t\t},\n\n\t\t\teaseInOutCubic: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 4 * t * t * t\n\t\t\t\t\t: (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n\t\t\t},\n\n\t\t\teaseInQuart: function(t) {\n\t\t\t\treturn t * t * t * t;\n\t\t\t},\n\n\t\t\teaseOutQuart: function(t) {\n\t\t\t\treturn 1 - (--t) * t * t * t;\n\t\t\t},\n\n\t\t\teaseInOutQuart: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 8 * t * t * t * t\n\t\t\t\t\t: 1 - 8 * (--t) * t * t * t;\n\t\t\t},\n\n\t\t\teaseInQuint: function(t) {\n\t\t\t\treturn t * t * t * t * t;\n\t\t\t},\n\n\t\t\teaseOutQuint: function(t) {\n\t\t\t\treturn 1 + --t * t * t * t * t;\n\t\t\t},\n\n\t\t\teaseInOutQuint: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 16 * t * t * t * t * t\n\t\t\t\t\t: 1 + 16 * (--t) * t * t * t * t;\n\t\t\t}\n\t\t})\n\t},\n\n\tinitialize: function Tween(object, from, to, duration, easing, start) {\n\t\tthis.object = object;\n\t\tvar type = typeof easing;\n\t\tvar isFunction = type === 'function';\n\t\tthis.type = isFunction\n\t\t\t? type\n\t\t\t: type === 'string'\n\t\t\t\t? easing\n\t\t\t\t: 'linear';\n\t\tthis.easing = isFunction ? easing : Tween.easings[this.type];\n\t\tthis.duration = duration;\n\t\tthis.running = false;\n\n\t\tthis._then = null;\n\t\tthis._startTime = null;\n\t\tvar state = from || to;\n\t\tthis._keys = state ? Object.keys(state) : [];\n\t\tthis._parsedKeys = this._parseKeys(this._keys);\n\t\tthis._from = state && this._getState(from);\n\t\tthis._to = state && this._getState(to);\n\t\tif (start !== false) {\n\t\t\tthis.start();\n\t\t}\n\t},\n\n\tthen: function(then) {\n\t\tthis._then = then;\n\t\treturn this;\n\t},\n\n\tstart: function() {\n\t\tthis._startTime = null;\n\t\tthis.running = true;\n\t\treturn this;\n\t},\n\n\tstop: function() {\n\t\tthis.running = false;\n\t\treturn this;\n\t},\n\n\tupdate: function(progress) {\n\t\tif (this.running) {\n\t\t\tif (progress >= 1) {\n\t\t\t\tprogress = 1;\n\t\t\t\tthis.running = false;\n\t\t\t}\n\n\t\t\tvar factor = this.easing(progress),\n\t\t\t\tkeys = this._keys,\n\t\t\t\tgetValue = function(value) {\n\t\t\t\t\treturn typeof value === 'function'\n\t\t\t\t\t\t? value(factor, progress)\n\t\t\t\t\t\t: value;\n\t\t\t\t};\n\t\t\tfor (var i = 0, l = keys && keys.length; i < l; i++) {\n\t\t\t\tvar key = keys[i],\n\t\t\t\t\tfrom = getValue(this._from[key]),\n\t\t\t\t\tto = getValue(this._to[key]),\n\t\t\t\t\tvalue = (from && to && from.__add && to.__add)\n\t\t\t\t\t\t? to.__subtract(from).__multiply(factor).__add(from)\n\t\t\t\t\t\t: ((to - from) * factor) + from;\n\t\t\t\tthis._setProperty(this._parsedKeys[key], value);\n\t\t\t}\n\n\t\t\tif (this.responds('update')) {\n\t\t\t\tthis.emit('update', new Base({\n\t\t\t\t\tprogress: progress,\n\t\t\t\t\tfactor: factor\n\t\t\t\t}));\n\t\t\t}\n\t\t\tif (!this.running && this._then) {\n\t\t\t\tthis._then(this.object);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\t_events: {\n\t\tonUpdate: {}\n\t},\n\n\t_handleFrame: function(time) {\n\t\tvar startTime = this._startTime,\n\t\t\tprogress = startTime\n\t\t\t\t? (time - startTime) / this.duration\n\t\t\t\t: 0;\n\t\tif (!startTime) {\n\t\t\tthis._startTime = time;\n\t\t}\n\t\tthis.update(progress);\n\t},\n\n\t_getState: function(state) {\n\t\tvar keys = this._keys,\n\t\t\tresult = {};\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i],\n\t\t\t\tpath = this._parsedKeys[key],\n\t\t\t\tcurrent = this._getProperty(path),\n\t\t\t\tvalue;\n\t\t\tif (state) {\n\t\t\t\tvar resolved = this._resolveValue(current, state[key]);\n\t\t\t\tthis._setProperty(path, resolved);\n\t\t\t\tvalue = this._getProperty(path);\n\t\t\t\tvalue = value && value.clone ? value.clone() : value;\n\t\t\t\tthis._setProperty(path, current);\n\t\t\t} else {\n\t\t\t\tvalue = current && current.clone ? current.clone() : current;\n\t\t\t}\n\t\t\tresult[key] = value;\n\t\t}\n\t\treturn result;\n\t},\n\n\t_resolveValue: function(current, value) {\n\t\tif (value) {\n\t\t\tif (Array.isArray(value) && value.length === 2) {\n\t\t\t\tvar operator = value[0];\n\t\t\t\treturn (\n\t\t\t\t\toperator &&\n\t\t\t\t\toperator.match &&\n\t\t\t\t\toperator.match(/^[+\\-\\*\\/]=/)\n\t\t\t\t)\n\t\t\t\t\t? this._calculate(current, operator[0], value[1])\n\t\t\t\t\t: value;\n\t\t\t} else if (typeof value === 'string') {\n\t\t\t\tvar match = value.match(/^[+\\-*/]=(.*)/);\n\t\t\t\tif (match) {\n\t\t\t\t\tvar parsed = JSON.parse(match[1].replace(\n\t\t\t\t\t\t/(['\"])?([a-zA-Z0-9_]+)(['\"])?:/g,\n\t\t\t\t\t\t'\"$2\": '\n\t\t\t\t\t));\n\t\t\t\t\treturn this._calculate(current, value[0], parsed);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn value;\n\t},\n\n\t_calculate: function(left, operator, right) {\n\t\treturn paper.PaperScript.calculateBinary(left, operator, right);\n\t},\n\n\t_parseKeys: function(keys) {\n\t\tvar parsed = {};\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i],\n\t\t\t\tpath = key\n\t\t\t\t\t.replace(/\\.([^.]*)/g, '/$1')\n\t\t\t\t\t.replace(/\\[['\"]?([^'\"\\]]*)['\"]?\\]/g, '/$1');\n\t\t\tparsed[key] = path.split('/');\n\t\t}\n\t\treturn parsed;\n\t},\n\n\t_getProperty: function(path, offset) {\n\t\tvar obj = this.object;\n\t\tfor (var i = 0, l = path.length - (offset || 0); i < l && obj; i++) {\n\t\t\tobj = obj[path[i]];\n\t\t}\n\t\treturn obj;\n\t},\n\n\t_setProperty: function(path, value) {\n\t\tvar dest = this._getProperty(path, 1);\n\t\tif (dest) {\n\t\t\tdest[path[path.length - 1]] = value;\n\t\t}\n\t}\n});\n\nvar Http = {\n\trequest: function(options) {\n\t\tvar xhr = new self.XMLHttpRequest();\n\t\txhr.open((options.method || 'get').toUpperCase(), options.url,\n\t\t\t\tBase.pick(options.async, true));\n\t\tif (options.mimeType)\n\t\t\txhr.overrideMimeType(options.mimeType);\n\t\txhr.onload = function() {\n\t\t\tvar status = xhr.status;\n\t\t\tif (status === 0 || status === 200) {\n\t\t\t\tif (options.onLoad) {\n\t\t\t\t\toptions.onLoad.call(xhr, xhr.responseText);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\txhr.onerror();\n\t\t\t}\n\t\t};\n\t\txhr.onerror = function() {\n\t\t\tvar status = xhr.status,\n\t\t\t\tmessage = 'Could not load \"' + options.url + '\" (Status: '\n\t\t\t\t\t\t+ status + ')';\n\t\t\tif (options.onError) {\n\t\t\t\toptions.onError(message, status);\n\t\t\t} else {\n\t\t\t\tthrow new Error(message);\n\t\t\t}\n\t\t};\n\t\treturn xhr.send(null);\n\t}\n};\n\nvar CanvasProvider = Base.exports.CanvasProvider = {\n\tcanvases: [],\n\n\tgetCanvas: function(width, height) {\n\t\tif (!window)\n\t\t\treturn null;\n\t\tvar canvas,\n\t\t\tclear = true;\n\t\tif (typeof width === 'object') {\n\t\t\theight = width.height;\n\t\t\twidth = width.width;\n\t\t}\n\t\tif (this.canvases.length) {\n\t\t\tcanvas = this.canvases.pop();\n\t\t} else {\n\t\t\tcanvas = document.createElement('canvas');\n\t\t\tclear = false;\n\t\t}\n\t\tvar ctx = canvas.getContext('2d');\n\t\tif (!ctx) {\n\t\t\tthrow new Error('Canvas ' + canvas +\n\t\t\t\t\t' is unable to provide a 2D context.');\n\t\t}\n\t\tif (canvas.width === width && canvas.height === height) {\n\t\t\tif (clear)\n\t\t\t\tctx.clearRect(0, 0, width + 1, height + 1);\n\t\t} else {\n\t\t\tcanvas.width = width;\n\t\t\tcanvas.height = height;\n\t\t}\n\t\tctx.save();\n\t\treturn canvas;\n\t},\n\n\tgetContext: function(width, height) {\n\t\tvar canvas = this.getCanvas(width, height);\n\t\treturn canvas ? canvas.getContext('2d') : null;\n\t},\n\n\trelease: function(obj) {\n\t\tvar canvas = obj && obj.canvas ? obj.canvas : obj;\n\t\tif (canvas && canvas.getContext) {\n\t\t\tcanvas.getContext('2d').restore();\n\t\t\tthis.canvases.push(canvas);\n\t\t}\n\t}\n};\n\nvar BlendMode = new function() {\n\tvar min = Math.min,\n\t\tmax = Math.max,\n\t\tabs = Math.abs,\n\t\tsr, sg, sb, sa,\n\t\tbr, bg, bb, ba,\n\t\tdr, dg, db;\n\n\tfunction getLum(r, g, b) {\n\t\treturn 0.2989 * r + 0.587 * g + 0.114 * b;\n\t}\n\n\tfunction setLum(r, g, b, l) {\n\t\tvar d = l - getLum(r, g, b);\n\t\tdr = r + d;\n\t\tdg = g + d;\n\t\tdb = b + d;\n\t\tvar l = getLum(dr, dg, db),\n\t\t\tmn = min(dr, dg, db),\n\t\t\tmx = max(dr, dg, db);\n\t\tif (mn < 0) {\n\t\t\tvar lmn = l - mn;\n\t\t\tdr = l + (dr - l) * l / lmn;\n\t\t\tdg = l + (dg - l) * l / lmn;\n\t\t\tdb = l + (db - l) * l / lmn;\n\t\t}\n\t\tif (mx > 255) {\n\t\t\tvar ln = 255 - l,\n\t\t\t\tmxl = mx - l;\n\t\t\tdr = l + (dr - l) * ln / mxl;\n\t\t\tdg = l + (dg - l) * ln / mxl;\n\t\t\tdb = l + (db - l) * ln / mxl;\n\t\t}\n\t}\n\n\tfunction getSat(r, g, b) {\n\t\treturn max(r, g, b) - min(r, g, b);\n\t}\n\n\tfunction setSat(r, g, b, s) {\n\t\tvar col = [r, g, b],\n\t\t\tmx = max(r, g, b),\n\t\t\tmn = min(r, g, b),\n\t\t\tmd;\n\t\tmn = mn === r ? 0 : mn === g ? 1 : 2;\n\t\tmx = mx === r ? 0 : mx === g ? 1 : 2;\n\t\tmd = min(mn, mx) === 0 ? max(mn, mx) === 1 ? 2 : 1 : 0;\n\t\tif (col[mx] > col[mn]) {\n\t\t\tcol[md] = (col[md] - col[mn]) * s / (col[mx] - col[mn]);\n\t\t\tcol[mx] = s;\n\t\t} else {\n\t\t\tcol[md] = col[mx] = 0;\n\t\t}\n\t\tcol[mn] = 0;\n\t\tdr = col[0];\n\t\tdg = col[1];\n\t\tdb = col[2];\n\t}\n\n\tvar modes = {\n\t\tmultiply: function() {\n\t\t\tdr = br * sr / 255;\n\t\t\tdg = bg * sg / 255;\n\t\t\tdb = bb * sb / 255;\n\t\t},\n\n\t\tscreen: function() {\n\t\t\tdr = br + sr - (br * sr / 255);\n\t\t\tdg = bg + sg - (bg * sg / 255);\n\t\t\tdb = bb + sb - (bb * sb / 255);\n\t\t},\n\n\t\toverlay: function() {\n\t\t\tdr = br < 128 ? 2 * br * sr / 255 : 255 - 2 * (255 - br) * (255 - sr) / 255;\n\t\t\tdg = bg < 128 ? 2 * bg * sg / 255 : 255 - 2 * (255 - bg) * (255 - sg) / 255;\n\t\t\tdb = bb < 128 ? 2 * bb * sb / 255 : 255 - 2 * (255 - bb) * (255 - sb) / 255;\n\t\t},\n\n\t\t'soft-light': function() {\n\t\t\tvar t = sr * br / 255;\n\t\t\tdr = t + br * (255 - (255 - br) * (255 - sr) / 255 - t) / 255;\n\t\t\tt = sg * bg / 255;\n\t\t\tdg = t + bg * (255 - (255 - bg) * (255 - sg) / 255 - t) / 255;\n\t\t\tt = sb * bb / 255;\n\t\t\tdb = t + bb * (255 - (255 - bb) * (255 - sb) / 255 - t) / 255;\n\t\t},\n\n\t\t'hard-light': function() {\n\t\t\tdr = sr < 128 ? 2 * sr * br / 255 : 255 - 2 * (255 - sr) * (255 - br) / 255;\n\t\t\tdg = sg < 128 ? 2 * sg * bg / 255 : 255 - 2 * (255 - sg) * (255 - bg) / 255;\n\t\t\tdb = sb < 128 ? 2 * sb * bb / 255 : 255 - 2 * (255 - sb) * (255 - bb) / 255;\n\t\t},\n\n\t\t'color-dodge': function() {\n\t\t\tdr = br === 0 ? 0 : sr === 255 ? 255 : min(255, 255 * br / (255 - sr));\n\t\t\tdg = bg === 0 ? 0 : sg === 255 ? 255 : min(255, 255 * bg / (255 - sg));\n\t\t\tdb = bb === 0 ? 0 : sb === 255 ? 255 : min(255, 255 * bb / (255 - sb));\n\t\t},\n\n\t\t'color-burn': function() {\n\t\t\tdr = br === 255 ? 255 : sr === 0 ? 0 : max(0, 255 - (255 - br) * 255 / sr);\n\t\t\tdg = bg === 255 ? 255 : sg === 0 ? 0 : max(0, 255 - (255 - bg) * 255 / sg);\n\t\t\tdb = bb === 255 ? 255 : sb === 0 ? 0 : max(0, 255 - (255 - bb) * 255 / sb);\n\t\t},\n\n\t\tdarken: function() {\n\t\t\tdr = br < sr ? br : sr;\n\t\t\tdg = bg < sg ? bg : sg;\n\t\t\tdb = bb < sb ? bb : sb;\n\t\t},\n\n\t\tlighten: function() {\n\t\t\tdr = br > sr ? br : sr;\n\t\t\tdg = bg > sg ? bg : sg;\n\t\t\tdb = bb > sb ? bb : sb;\n\t\t},\n\n\t\tdifference: function() {\n\t\t\tdr = br - sr;\n\t\t\tif (dr < 0)\n\t\t\t\tdr = -dr;\n\t\t\tdg = bg - sg;\n\t\t\tif (dg < 0)\n\t\t\t\tdg = -dg;\n\t\t\tdb = bb - sb;\n\t\t\tif (db < 0)\n\t\t\t\tdb = -db;\n\t\t},\n\n\t\texclusion: function() {\n\t\t\tdr = br + sr * (255 - br - br) / 255;\n\t\t\tdg = bg + sg * (255 - bg - bg) / 255;\n\t\t\tdb = bb + sb * (255 - bb - bb) / 255;\n\t\t},\n\n\t\thue: function() {\n\t\t\tsetSat(sr, sg, sb, getSat(br, bg, bb));\n\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t},\n\n\t\tsaturation: function() {\n\t\t\tsetSat(br, bg, bb, getSat(sr, sg, sb));\n\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t},\n\n\t\tluminosity: function() {\n\t\t\tsetLum(br, bg, bb, getLum(sr, sg, sb));\n\t\t},\n\n\t\tcolor: function() {\n\t\t\tsetLum(sr, sg, sb, getLum(br, bg, bb));\n\t\t},\n\n\t\tadd: function() {\n\t\t\tdr = min(br + sr, 255);\n\t\t\tdg = min(bg + sg, 255);\n\t\t\tdb = min(bb + sb, 255);\n\t\t},\n\n\t\tsubtract: function() {\n\t\t\tdr = max(br - sr, 0);\n\t\t\tdg = max(bg - sg, 0);\n\t\t\tdb = max(bb - sb, 0);\n\t\t},\n\n\t\taverage: function() {\n\t\t\tdr = (br + sr) / 2;\n\t\t\tdg = (bg + sg) / 2;\n\t\t\tdb = (bb + sb) / 2;\n\t\t},\n\n\t\tnegation: function() {\n\t\t\tdr = 255 - abs(255 - sr - br);\n\t\t\tdg = 255 - abs(255 - sg - bg);\n\t\t\tdb = 255 - abs(255 - sb - bb);\n\t\t}\n\t};\n\n\tvar nativeModes = this.nativeModes = Base.each([\n\t\t'source-over', 'source-in', 'source-out', 'source-atop',\n\t\t'destination-over', 'destination-in', 'destination-out',\n\t\t'destination-atop', 'lighter', 'darker', 'copy', 'xor'\n\t], function(mode) {\n\t\tthis[mode] = true;\n\t}, {});\n\n\tvar ctx = CanvasProvider.getContext(1, 1);\n\tif (ctx) {\n\t\tBase.each(modes, function(func, mode) {\n\t\t\tvar darken = mode === 'darken',\n\t\t\t\tok = false;\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.fillStyle = darken ? '#300' : '#a00';\n\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\tctx.globalCompositeOperation = mode;\n\t\t\t\tif (ctx.globalCompositeOperation === mode) {\n\t\t\t\t\tctx.fillStyle = darken ? '#a00' : '#300';\n\t\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\t\tok = ctx.getImageData(0, 0, 1, 1).data[0] !== darken\n\t\t\t\t\t\t\t? 170 : 51;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t\tctx.restore();\n\t\t\tnativeModes[mode] = ok;\n\t\t});\n\t\tCanvasProvider.release(ctx);\n\t}\n\n\tthis.process = function(mode, srcContext, dstContext, alpha, offset) {\n\t\tvar srcCanvas = srcContext.canvas,\n\t\t\tnormal = mode === 'normal';\n\t\tif (normal || nativeModes[mode]) {\n\t\t\tdstContext.save();\n\t\t\tdstContext.setTransform(1, 0, 0, 1, 0, 0);\n\t\t\tdstContext.globalAlpha = alpha;\n\t\t\tif (!normal)\n\t\t\t\tdstContext.globalCompositeOperation = mode;\n\t\t\tdstContext.drawImage(srcCanvas, offset.x, offset.y);\n\t\t\tdstContext.restore();\n\t\t} else {\n\t\t\tvar process = modes[mode];\n\t\t\tif (!process)\n\t\t\t\treturn;\n\t\t\tvar dstData = dstContext.getImageData(offset.x, offset.y,\n\t\t\t\t\tsrcCanvas.width, srcCanvas.height),\n\t\t\t\tdst = dstData.data,\n\t\t\t\tsrc = srcContext.getImageData(0, 0,\n\t\t\t\t\tsrcCanvas.width, srcCanvas.height).data;\n\t\t\tfor (var i = 0, l = dst.length; i < l; i += 4) {\n\t\t\t\tsr = src[i];\n\t\t\t\tbr = dst[i];\n\t\t\t\tsg = src[i + 1];\n\t\t\t\tbg = dst[i + 1];\n\t\t\t\tsb = src[i + 2];\n\t\t\t\tbb = dst[i + 2];\n\t\t\t\tsa = src[i + 3];\n\t\t\t\tba = dst[i + 3];\n\t\t\t\tprocess();\n\t\t\t\tvar a1 = sa * alpha / 255,\n\t\t\t\t\ta2 = 1 - a1;\n\t\t\t\tdst[i] = a1 * dr + a2 * br;\n\t\t\t\tdst[i + 1] = a1 * dg + a2 * bg;\n\t\t\t\tdst[i + 2] = a1 * db + a2 * bb;\n\t\t\t\tdst[i + 3] = sa * alpha + a2 * ba;\n\t\t\t}\n\t\t\tdstContext.putImageData(dstData, offset.x, offset.y);\n\t\t}\n\t};\n};\n\nvar SvgElement = new function() {\n\tvar svg = 'http://www.w3.org/2000/svg',\n\t\txmlns = 'http://www.w3.org/2000/xmlns',\n\t\txlink = 'http://www.w3.org/1999/xlink',\n\t\tattributeNamespace = {\n\t\t\thref: xlink,\n\t\t\txlink: xmlns,\n\t\t\txmlns: xmlns + '/',\n\t\t\t'xmlns:xlink': xmlns + '/'\n\t\t};\n\n\tfunction create(tag, attributes, formatter) {\n\t\treturn set(document.createElementNS(svg, tag), attributes, formatter);\n\t}\n\n\tfunction get(node, name) {\n\t\tvar namespace = attributeNamespace[name],\n\t\t\tvalue = namespace\n\t\t\t\t? node.getAttributeNS(namespace, name)\n\t\t\t\t: node.getAttribute(name);\n\t\treturn value === 'null' ? null : value;\n\t}\n\n\tfunction set(node, attributes, formatter) {\n\t\tfor (var name in attributes) {\n\t\t\tvar value = attributes[name],\n\t\t\t\tnamespace = attributeNamespace[name];\n\t\t\tif (typeof value === 'number' && formatter)\n\t\t\t\tvalue = formatter.number(value);\n\t\t\tif (namespace) {\n\t\t\t\tnode.setAttributeNS(namespace, name, value);\n\t\t\t} else {\n\t\t\t\tnode.setAttribute(name, value);\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\n\treturn {\n\t\tsvg: svg,\n\t\txmlns: xmlns,\n\t\txlink: xlink,\n\n\t\tcreate: create,\n\t\tget: get,\n\t\tset: set\n\t};\n};\n\nvar SvgStyles = Base.each({\n\tfillColor: ['fill', 'color'],\n\tfillRule: ['fill-rule', 'string'],\n\tstrokeColor: ['stroke', 'color'],\n\tstrokeWidth: ['stroke-width', 'number'],\n\tstrokeCap: ['stroke-linecap', 'string'],\n\tstrokeJoin: ['stroke-linejoin', 'string'],\n\tstrokeScaling: ['vector-effect', 'lookup', {\n\t\ttrue: 'none',\n\t\tfalse: 'non-scaling-stroke'\n\t}, function(item, value) {\n\t\treturn !value\n\t\t\t\t&& (item instanceof PathItem\n\t\t\t\t\t|| item instanceof Shape\n\t\t\t\t\t|| item instanceof TextItem);\n\t}],\n\tmiterLimit: ['stroke-miterlimit', 'number'],\n\tdashArray: ['stroke-dasharray', 'array'],\n\tdashOffset: ['stroke-dashoffset', 'number'],\n\tfontFamily: ['font-family', 'string'],\n\tfontWeight: ['font-weight', 'string'],\n\tfontSize: ['font-size', 'number'],\n\tjustification: ['text-anchor', 'lookup', {\n\t\tleft: 'start',\n\t\tcenter: 'middle',\n\t\tright: 'end'\n\t}],\n\topacity: ['opacity', 'number'],\n\tblendMode: ['mix-blend-mode', 'style']\n}, function(entry, key) {\n\tvar part = Base.capitalize(key),\n\t\tlookup = entry[2];\n\tthis[key] = {\n\t\ttype: entry[1],\n\t\tproperty: key,\n\t\tattribute: entry[0],\n\t\ttoSVG: lookup,\n\t\tfromSVG: lookup && Base.each(lookup, function(value, name) {\n\t\t\tthis[value] = name;\n\t\t}, {}),\n\t\texportFilter: entry[3],\n\t\tget: 'get' + part,\n\t\tset: 'set' + part\n\t};\n}, {});\n\nnew function() {\n\tvar formatter;\n\n\tfunction getTransform(matrix, coordinates, center) {\n\t\tvar attrs = new Base(),\n\t\t\ttrans = matrix.getTranslation();\n\t\tif (coordinates) {\n\t\t\tvar point;\n\t\t\tif (matrix.isInvertible()) {\n\t\t\t\tmatrix = matrix._shiftless();\n\t\t\t\tpoint = matrix._inverseTransform(trans);\n\t\t\t\ttrans = null;\n\t\t\t} else {\n\t\t\t\tpoint = new Point();\n\t\t\t}\n\t\t\tattrs[center ? 'cx' : 'x'] = point.x;\n\t\t\tattrs[center ? 'cy' : 'y'] = point.y;\n\t\t}\n\t\tif (!matrix.isIdentity()) {\n\t\t\tvar decomposed = matrix.decompose();\n\t\t\tif (decomposed) {\n\t\t\t\tvar parts = [],\n\t\t\t\t\tangle = decomposed.rotation,\n\t\t\t\t\tscale = decomposed.scaling,\n\t\t\t\t\tskew = decomposed.skewing;\n\t\t\t\tif (trans && !trans.isZero())\n\t\t\t\t\tparts.push('translate(' + formatter.point(trans) + ')');\n\t\t\t\tif (angle)\n\t\t\t\t\tparts.push('rotate(' + formatter.number(angle) + ')');\n\t\t\t\tif (!Numerical.isZero(scale.x - 1)\n\t\t\t\t\t\t|| !Numerical.isZero(scale.y - 1))\n\t\t\t\t\tparts.push('scale(' + formatter.point(scale) +')');\n\t\t\t\tif (skew.x)\n\t\t\t\t\tparts.push('skewX(' + formatter.number(skew.x) + ')');\n\t\t\t\tif (skew.y)\n\t\t\t\t\tparts.push('skewY(' + formatter.number(skew.y) + ')');\n\t\t\t\tattrs.transform = parts.join(' ');\n\t\t\t} else {\n\t\t\t\tattrs.transform = 'matrix(' + matrix.getValues().join(',') + ')';\n\t\t\t}\n\t\t}\n\t\treturn attrs;\n\t}\n\n\tfunction exportGroup(item, options) {\n\t\tvar attrs = getTransform(item._matrix),\n\t\t\tchildren = item._children;\n\t\tvar node = SvgElement.create('g', attrs, formatter);\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i];\n\t\t\tvar childNode = exportSVG(child, options);\n\t\t\tif (childNode) {\n\t\t\t\tif (child.isClipMask()) {\n\t\t\t\t\tvar clip = SvgElement.create('clipPath');\n\t\t\t\t\tclip.appendChild(childNode);\n\t\t\t\t\tsetDefinition(child, clip, 'clip');\n\t\t\t\t\tSvgElement.set(node, {\n\t\t\t\t\t\t'clip-path': 'url(#' + clip.id + ')'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnode.appendChild(childNode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\n\tfunction exportRaster(item, options) {\n\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\tsize = item.getSize(),\n\t\t\timage = item.getImage();\n\t\tattrs.x -= size.width / 2;\n\t\tattrs.y -= size.height / 2;\n\t\tattrs.width = size.width;\n\t\tattrs.height = size.height;\n\t\tattrs.href = options.embedImages == false && image && image.src\n\t\t\t\t|| item.toDataURL();\n\t\treturn SvgElement.create('image', attrs, formatter);\n\t}\n\n\tfunction exportPath(item, options) {\n\t\tvar matchShapes = options.matchShapes;\n\t\tif (matchShapes) {\n\t\t\tvar shape = item.toShape(false);\n\t\t\tif (shape)\n\t\t\t\treturn exportShape(shape, options);\n\t\t}\n\t\tvar segments = item._segments,\n\t\t\tlength = segments.length,\n\t\t\ttype,\n\t\t\tattrs = getTransform(item._matrix);\n\t\tif (matchShapes && length >= 2 && !item.hasHandles()) {\n\t\t\tif (length > 2) {\n\t\t\t\ttype = item._closed ? 'polygon' : 'polyline';\n\t\t\t\tvar parts = [];\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tparts.push(formatter.point(segments[i]._point));\n\t\t\t\t}\n\t\t\t\tattrs.points = parts.join(' ');\n\t\t\t} else {\n\t\t\t\ttype = 'line';\n\t\t\t\tvar start = segments[0]._point,\n\t\t\t\t\tend = segments[1]._point;\n\t\t\t\tattrs.set({\n\t\t\t\t\tx1: start.x,\n\t\t\t\t\ty1: start.y,\n\t\t\t\t\tx2: end.x,\n\t\t\t\t\ty2: end.y\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\ttype = 'path';\n\t\t\tattrs.d = item.getPathData(null, options.precision);\n\t\t}\n\t\treturn SvgElement.create(type, attrs, formatter);\n\t}\n\n\tfunction exportShape(item) {\n\t\tvar type = item._type,\n\t\t\tradius = item._radius,\n\t\t\tattrs = getTransform(item._matrix, true, type !== 'rectangle');\n\t\tif (type === 'rectangle') {\n\t\t\ttype = 'rect';\n\t\t\tvar size = item._size,\n\t\t\t\twidth = size.width,\n\t\t\t\theight = size.height;\n\t\t\tattrs.x -= width / 2;\n\t\t\tattrs.y -= height / 2;\n\t\t\tattrs.width = width;\n\t\t\tattrs.height = height;\n\t\t\tif (radius.isZero())\n\t\t\t\tradius = null;\n\t\t}\n\t\tif (radius) {\n\t\t\tif (type === 'circle') {\n\t\t\t\tattrs.r = radius;\n\t\t\t} else {\n\t\t\t\tattrs.rx = radius.width;\n\t\t\t\tattrs.ry = radius.height;\n\t\t\t}\n\t\t}\n\t\treturn SvgElement.create(type, attrs, formatter);\n\t}\n\n\tfunction exportCompoundPath(item, options) {\n\t\tvar attrs = getTransform(item._matrix);\n\t\tvar data = item.getPathData(null, options.precision);\n\t\tif (data)\n\t\t\tattrs.d = data;\n\t\treturn SvgElement.create('path', attrs, formatter);\n\t}\n\n\tfunction exportSymbolItem(item, options) {\n\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\tdefinition = item._definition,\n\t\t\tnode = getDefinition(definition, 'symbol'),\n\t\t\tdefinitionItem = definition._item,\n\t\t\tbounds = definitionItem.getStrokeBounds();\n\t\tif (!node) {\n\t\t\tnode = SvgElement.create('symbol', {\n\t\t\t\tviewBox: formatter.rectangle(bounds)\n\t\t\t});\n\t\t\tnode.appendChild(exportSVG(definitionItem, options));\n\t\t\tsetDefinition(definition, node, 'symbol');\n\t\t}\n\t\tattrs.href = '#' + node.id;\n\t\tattrs.x += bounds.x;\n\t\tattrs.y += bounds.y;\n\t\tattrs.width = bounds.width;\n\t\tattrs.height = bounds.height;\n\t\tattrs.overflow = 'visible';\n\t\treturn SvgElement.create('use', attrs, formatter);\n\t}\n\n\tfunction exportGradient(color) {\n\t\tvar gradientNode = getDefinition(color, 'color');\n\t\tif (!gradientNode) {\n\t\t\tvar gradient = color.getGradient(),\n\t\t\t\tradial = gradient._radial,\n\t\t\t\torigin = color.getOrigin(),\n\t\t\t\tdestination = color.getDestination(),\n\t\t\t\tattrs;\n\t\t\tif (radial) {\n\t\t\t\tattrs = {\n\t\t\t\t\tcx: origin.x,\n\t\t\t\t\tcy: origin.y,\n\t\t\t\t\tr: origin.getDistance(destination)\n\t\t\t\t};\n\t\t\t\tvar highlight = color.getHighlight();\n\t\t\t\tif (highlight) {\n\t\t\t\t\tattrs.fx = highlight.x;\n\t\t\t\t\tattrs.fy = highlight.y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tattrs = {\n\t\t\t\t\tx1: origin.x,\n\t\t\t\t\ty1: origin.y,\n\t\t\t\t\tx2: destination.x,\n\t\t\t\t\ty2: destination.y\n\t\t\t\t};\n\t\t\t}\n\t\t\tattrs.gradientUnits = 'userSpaceOnUse';\n\t\t\tgradientNode = SvgElement.create((radial ? 'radial' : 'linear')\n\t\t\t\t\t+ 'Gradient', attrs, formatter);\n\t\t\tvar stops = gradient._stops;\n\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\tvar stop = stops[i],\n\t\t\t\t\tstopColor = stop._color,\n\t\t\t\t\talpha = stopColor.getAlpha(),\n\t\t\t\t\toffset = stop._offset;\n\t\t\t\tattrs = {\n\t\t\t\t\toffset: offset == null ? i / (l - 1) : offset\n\t\t\t\t};\n\t\t\t\tif (stopColor)\n\t\t\t\t\tattrs['stop-color'] = stopColor.toCSS(true);\n\t\t\t\tif (alpha < 1)\n\t\t\t\t\tattrs['stop-opacity'] = alpha;\n\t\t\t\tgradientNode.appendChild(\n\t\t\t\t\t\tSvgElement.create('stop', attrs, formatter));\n\t\t\t}\n\t\t\tsetDefinition(color, gradientNode, 'color');\n\t\t}\n\t\treturn 'url(#' + gradientNode.id + ')';\n\t}\n\n\tfunction exportText(item) {\n\t\tvar node = SvgElement.create('text', getTransform(item._matrix, true),\n\t\t\t\tformatter);\n\t\tnode.textContent = item._content;\n\t\treturn node;\n\t}\n\n\tvar exporters = {\n\t\tGroup: exportGroup,\n\t\tLayer: exportGroup,\n\t\tRaster: exportRaster,\n\t\tPath: exportPath,\n\t\tShape: exportShape,\n\t\tCompoundPath: exportCompoundPath,\n\t\tSymbolItem: exportSymbolItem,\n\t\tPointText: exportText\n\t};\n\n\tfunction applyStyle(item, node, isRoot) {\n\t\tvar attrs = {},\n\t\t\tparent = !isRoot && item.getParent(),\n\t\t\tstyle = [];\n\n\t\tif (item._name != null)\n\t\t\tattrs.id = item._name;\n\n\t\tBase.each(SvgStyles, function(entry) {\n\t\t\tvar get = entry.get,\n\t\t\t\ttype = entry.type,\n\t\t\t\tvalue = item[get]();\n\t\t\tif (entry.exportFilter\n\t\t\t\t\t? entry.exportFilter(item, value)\n\t\t\t\t\t: !parent || !Base.equals(parent[get](), value)) {\n\t\t\t\tif (type === 'color' && value != null) {\n\t\t\t\t\tvar alpha = value.getAlpha();\n\t\t\t\t\tif (alpha < 1)\n\t\t\t\t\t\tattrs[entry.attribute + '-opacity'] = alpha;\n\t\t\t\t}\n\t\t\t\tif (type === 'style') {\n\t\t\t\t\tstyle.push(entry.attribute + ': ' + value);\n\t\t\t\t} else {\n\t\t\t\t\tattrs[entry.attribute] = value == null ? 'none'\n\t\t\t\t\t\t\t: type === 'color' ? value.gradient\n\t\t\t\t\t\t\t\t? exportGradient(value, item)\n\t\t\t\t\t\t\t\t: value.toCSS(true)\n\t\t\t\t\t\t\t: type === 'array' ? value.join(',')\n\t\t\t\t\t\t\t: type === 'lookup' ? entry.toSVG[value]\n\t\t\t\t\t\t\t: value;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (style.length)\n\t\t\tattrs.style = style.join(';');\n\n\t\tif (attrs.opacity === 1)\n\t\t\tdelete attrs.opacity;\n\n\t\tif (!item._visible)\n\t\t\tattrs.visibility = 'hidden';\n\n\t\treturn SvgElement.set(node, attrs, formatter);\n\t}\n\n\tvar definitions;\n\tfunction getDefinition(item, type) {\n\t\tif (!definitions)\n\t\t\tdefinitions = { ids: {}, svgs: {} };\n\t\treturn item && definitions.svgs[type + '-'\n\t\t\t\t+ (item._id || item.__id || (item.__id = UID.get('svg')))];\n\t}\n\n\tfunction setDefinition(item, node, type) {\n\t\tif (!definitions)\n\t\t\tgetDefinition();\n\t\tvar typeId = definitions.ids[type] = (definitions.ids[type] || 0) + 1;\n\t\tnode.id = type + '-' + typeId;\n\t\tdefinitions.svgs[type + '-' + (item._id || item.__id)] = node;\n\t}\n\n\tfunction exportDefinitions(node, options) {\n\t\tvar svg = node,\n\t\t\tdefs = null;\n\t\tif (definitions) {\n\t\t\tsvg = node.nodeName.toLowerCase() === 'svg' && node;\n\t\t\tfor (var i in definitions.svgs) {\n\t\t\t\tif (!defs) {\n\t\t\t\t\tif (!svg) {\n\t\t\t\t\t\tsvg = SvgElement.create('svg');\n\t\t\t\t\t\tsvg.appendChild(node);\n\t\t\t\t\t}\n\t\t\t\t\tdefs = svg.insertBefore(SvgElement.create('defs'),\n\t\t\t\t\t\t\tsvg.firstChild);\n\t\t\t\t}\n\t\t\t\tdefs.appendChild(definitions.svgs[i]);\n\t\t\t}\n\t\t\tdefinitions = null;\n\t\t}\n\t\treturn options.asString\n\t\t\t\t? new self.XMLSerializer().serializeToString(svg)\n\t\t\t\t: svg;\n\t}\n\n\tfunction exportSVG(item, options, isRoot) {\n\t\tvar exporter = exporters[item._class],\n\t\t\tnode = exporter && exporter(item, options);\n\t\tif (node) {\n\t\t\tvar onExport = options.onExport;\n\t\t\tif (onExport)\n\t\t\t\tnode = onExport(item, node, options) || node;\n\t\t\tvar data = JSON.stringify(item._data);\n\t\t\tif (data && data !== '{}' && data !== 'null')\n\t\t\t\tnode.setAttribute('data-paper-data', data);\n\t\t}\n\t\treturn node && applyStyle(item, node, isRoot);\n\t}\n\n\tfunction setOptions(options) {\n\t\tif (!options)\n\t\t\toptions = {};\n\t\tformatter = new Formatter(options.precision);\n\t\treturn options;\n\t}\n\n\tItem.inject({\n\t\texportSVG: function(options) {\n\t\t\toptions = setOptions(options);\n\t\t\treturn exportDefinitions(exportSVG(this, options, true), options);\n\t\t}\n\t});\n\n\tProject.inject({\n\t\texportSVG: function(options) {\n\t\t\toptions = setOptions(options);\n\t\t\tvar children = this._children,\n\t\t\t\tview = this.getView(),\n\t\t\t\tbounds = Base.pick(options.bounds, 'view'),\n\t\t\t\tmx = options.matrix || bounds === 'view' && view._matrix,\n\t\t\t\tmatrix = mx && Matrix.read([mx]),\n\t\t\t\trect = bounds === 'view'\n\t\t\t\t\t? new Rectangle([0, 0], view.getViewSize())\n\t\t\t\t\t: bounds === 'content'\n\t\t\t\t\t\t? Item._getBounds(children, matrix, { stroke: true })\n\t\t\t\t\t\t\t.rect\n\t\t\t\t\t\t: Rectangle.read([bounds], 0, { readNull: true }),\n\t\t\t\tattrs = {\n\t\t\t\t\tversion: '1.1',\n\t\t\t\t\txmlns: SvgElement.svg,\n\t\t\t\t\t'xmlns:xlink': SvgElement.xlink,\n\t\t\t\t};\n\t\t\tif (rect) {\n\t\t\t\tattrs.width = rect.width;\n\t\t\t\tattrs.height = rect.height;\n\t\t\t\tif (rect.x || rect.x === 0 || rect.y || rect.y === 0)\n\t\t\t\t\tattrs.viewBox = formatter.rectangle(rect);\n\t\t\t}\n\t\t\tvar node = SvgElement.create('svg', attrs, formatter),\n\t\t\t\tparent = node;\n\t\t\tif (matrix && !matrix.isIdentity()) {\n\t\t\t\tparent = node.appendChild(SvgElement.create('g',\n\t\t\t\t\t\tgetTransform(matrix), formatter));\n\t\t\t}\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tparent.appendChild(exportSVG(children[i], options, true));\n\t\t\t}\n\t\t\treturn exportDefinitions(node, options);\n\t\t}\n\t});\n};\n\nnew function() {\n\n\tvar definitions = {},\n\t\trootSize;\n\n\tfunction getValue(node, name, isString, allowNull, allowPercent,\n\t\t\tdefaultValue) {\n\t\tvar value = SvgElement.get(node, name) || defaultValue,\n\t\t\tres = value == null\n\t\t\t\t? allowNull\n\t\t\t\t\t? null\n\t\t\t\t\t: isString ? '' : 0\n\t\t\t\t: isString\n\t\t\t\t\t? value\n\t\t\t\t\t: parseFloat(value);\n\t\treturn /%\\s*$/.test(value)\n\t\t\t? (res / 100) * (allowPercent ? 1\n\t\t\t\t: rootSize[/x|^width/.test(name) ? 'width' : 'height'])\n\t\t\t: res;\n\t}\n\n\tfunction getPoint(node, x, y, allowNull, allowPercent, defaultX, defaultY) {\n\t\tx = getValue(node, x || 'x', false, allowNull, allowPercent, defaultX);\n\t\ty = getValue(node, y || 'y', false, allowNull, allowPercent, defaultY);\n\t\treturn allowNull && (x == null || y == null) ? null\n\t\t\t\t: new Point(x, y);\n\t}\n\n\tfunction getSize(node, w, h, allowNull, allowPercent) {\n\t\tw = getValue(node, w || 'width', false, allowNull, allowPercent);\n\t\th = getValue(node, h || 'height', false, allowNull, allowPercent);\n\t\treturn allowNull && (w == null || h == null) ? null\n\t\t\t\t: new Size(w, h);\n\t}\n\n\tfunction convertValue(value, type, lookup) {\n\t\treturn value === 'none' ? null\n\t\t\t\t: type === 'number' ? parseFloat(value)\n\t\t\t\t: type === 'array' ?\n\t\t\t\t\tvalue ? value.split(/[\\s,]+/g).map(parseFloat) : []\n\t\t\t\t: type === 'color' ? getDefinition(value) || value\n\t\t\t\t: type === 'lookup' ? lookup[value]\n\t\t\t\t: value;\n\t}\n\n\tfunction importGroup(node, type, options, isRoot) {\n\t\tvar nodes = node.childNodes,\n\t\t\tisClip = type === 'clippath',\n\t\t\tisDefs = type === 'defs',\n\t\t\titem = new Group(),\n\t\t\tproject = item._project,\n\t\t\tcurrentStyle = project._currentStyle,\n\t\t\tchildren = [];\n\t\tif (!isClip && !isDefs) {\n\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\tproject._currentStyle = item._style.clone();\n\t\t}\n\t\tif (isRoot) {\n\t\t\tvar defs = node.querySelectorAll('defs');\n\t\t\tfor (var i = 0, l = defs.length; i < l; i++) {\n\t\t\t\timportNode(defs[i], options, false);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\tvar childNode = nodes[i],\n\t\t\t\tchild;\n\t\t\tif (childNode.nodeType === 1\n\t\t\t\t\t&& !/^defs$/i.test(childNode.nodeName)\n\t\t\t\t\t&& (child = importNode(childNode, options, false))\n\t\t\t\t\t&& !(child instanceof SymbolDefinition))\n\t\t\t\tchildren.push(child);\n\t\t}\n\t\titem.addChildren(children);\n\t\tif (isClip)\n\t\t\titem = applyAttributes(item.reduce(), node, isRoot);\n\t\tproject._currentStyle = currentStyle;\n\t\tif (isClip || isDefs) {\n\t\t\titem.remove();\n\t\t\titem = null;\n\t\t}\n\t\treturn item;\n\t}\n\n\tfunction importPoly(node, type) {\n\t\tvar coords = node.getAttribute('points').match(\n\t\t\t\t\t/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g),\n\t\t\tpoints = [];\n\t\tfor (var i = 0, l = coords.length; i < l; i += 2)\n\t\t\tpoints.push(new Point(\n\t\t\t\t\tparseFloat(coords[i]),\n\t\t\t\t\tparseFloat(coords[i + 1])));\n\t\tvar path = new Path(points);\n\t\tif (type === 'polygon')\n\t\t\tpath.closePath();\n\t\treturn path;\n\t}\n\n\tfunction importPath(node) {\n\t\treturn PathItem.create(node.getAttribute('d'));\n\t}\n\n\tfunction importGradient(node, type) {\n\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\tradial = type === 'radialgradient',\n\t\t\tgradient;\n\t\tif (id) {\n\t\t\tgradient = definitions[id].getGradient();\n\t\t\tif (gradient._radial ^ radial) {\n\t\t\t\tgradient = gradient.clone();\n\t\t\t\tgradient._radial = radial;\n\t\t\t}\n\t\t} else {\n\t\t\tvar nodes = node.childNodes,\n\t\t\t\tstops = [];\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar child = nodes[i];\n\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\tstops.push(applyAttributes(new GradientStop(), child));\n\t\t\t}\n\t\t\tgradient = new Gradient(stops, radial);\n\t\t}\n\t\tvar origin, destination, highlight,\n\t\t\tscaleToBounds = getValue(node, 'gradientUnits', true) !==\n\t\t\t\t'userSpaceOnUse';\n\t\tif (radial) {\n\t\t\torigin = getPoint(node, 'cx', 'cy', false, scaleToBounds,\n\t\t\t\t'50%', '50%');\n\t\t\tdestination = origin.add(\n\t\t\t\tgetValue(node, 'r', false, false, scaleToBounds, '50%'), 0);\n\t\t\thighlight = getPoint(node, 'fx', 'fy', true, scaleToBounds);\n\t\t} else {\n\t\t\torigin = getPoint(node, 'x1', 'y1', false, scaleToBounds,\n\t\t\t\t'0%', '0%');\n\t\t\tdestination = getPoint(node, 'x2', 'y2', false, scaleToBounds,\n\t\t\t\t'100%', '0%');\n\t\t}\n\t\tvar color = applyAttributes(\n\t\t\t\tnew Color(gradient, origin, destination, highlight), node);\n\t\tcolor._scaleToBounds = scaleToBounds;\n\t\treturn null;\n\t}\n\n\tvar importers = {\n\t\t'#document': function (node, type, options, isRoot) {\n\t\t\tvar nodes = node.childNodes;\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar child = nodes[i];\n\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\treturn importNode(child, options, isRoot);\n\t\t\t}\n\t\t},\n\t\tg: importGroup,\n\t\tsvg: importGroup,\n\t\tclippath: importGroup,\n\t\tpolygon: importPoly,\n\t\tpolyline: importPoly,\n\t\tpath: importPath,\n\t\tlineargradient: importGradient,\n\t\tradialgradient: importGradient,\n\n\t\timage: function (node) {\n\t\t\tvar raster = new Raster(getValue(node, 'href', true));\n\t\t\traster.on('load', function() {\n\t\t\t\tvar size = getSize(node);\n\t\t\t\tthis.setSize(size);\n\t\t\t\tvar center = getPoint(node).add(size.divide(2));\n\t\t\t\tthis._matrix.append(new Matrix().translate(center));\n\t\t\t});\n\t\t\treturn raster;\n\t\t},\n\n\t\tsymbol: function(node, type, options, isRoot) {\n\t\t\treturn new SymbolDefinition(\n\t\t\t\t\timportGroup(node, type, options, isRoot), true);\n\t\t},\n\n\t\tdefs: importGroup,\n\n\t\tuse: function(node) {\n\t\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\t\tdefinition = definitions[id],\n\t\t\t\tpoint = getPoint(node);\n\t\t\treturn definition\n\t\t\t\t\t? definition instanceof SymbolDefinition\n\t\t\t\t\t\t? definition.place(point)\n\t\t\t\t\t\t: definition.clone().translate(point)\n\t\t\t\t\t: null;\n\t\t},\n\n\t\tcircle: function(node) {\n\t\t\treturn new Shape.Circle(\n\t\t\t\t\tgetPoint(node, 'cx', 'cy'),\n\t\t\t\t\tgetValue(node, 'r'));\n\t\t},\n\n\t\tellipse: function(node) {\n\t\t\treturn new Shape.Ellipse({\n\t\t\t\tcenter: getPoint(node, 'cx', 'cy'),\n\t\t\t\tradius: getSize(node, 'rx', 'ry')\n\t\t\t});\n\t\t},\n\n\t\trect: function(node) {\n\t\t\treturn new Shape.Rectangle(new Rectangle(\n\t\t\t\t\t\tgetPoint(node),\n\t\t\t\t\t\tgetSize(node)\n\t\t\t\t\t), getSize(node, 'rx', 'ry'));\n\t\t\t},\n\n\t\tline: function(node) {\n\t\t\treturn new Path.Line(\n\t\t\t\t\tgetPoint(node, 'x1', 'y1'),\n\t\t\t\t\tgetPoint(node, 'x2', 'y2'));\n\t\t},\n\n\t\ttext: function(node) {\n\t\t\tvar text = new PointText(getPoint(node).add(\n\t\t\t\t\tgetPoint(node, 'dx', 'dy')));\n\t\t\ttext.setContent(node.textContent.trim() || '');\n\t\t\treturn text;\n\t\t},\n\n\t\tswitch: importGroup\n\t};\n\n\tfunction applyTransform(item, value, name, node) {\n\t\tif (item.transform) {\n\t\t\tvar transforms = (node.getAttribute(name) || '').split(/\\)\\s*/g),\n\t\t\t\tmatrix = new Matrix();\n\t\t\tfor (var i = 0, l = transforms.length; i < l; i++) {\n\t\t\t\tvar transform = transforms[i];\n\t\t\t\tif (!transform)\n\t\t\t\t\tbreak;\n\t\t\t\tvar parts = transform.split(/\\(\\s*/),\n\t\t\t\t\tcommand = parts[0],\n\t\t\t\t\tv = parts[1].split(/[\\s,]+/g);\n\t\t\t\tfor (var j = 0, m = v.length; j < m; j++)\n\t\t\t\t\tv[j] = parseFloat(v[j]);\n\t\t\t\tswitch (command) {\n\t\t\t\tcase 'matrix':\n\t\t\t\t\tmatrix.append(\n\t\t\t\t\t\t\tnew Matrix(v[0], v[1], v[2], v[3], v[4], v[5]));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'rotate':\n\t\t\t\t\tmatrix.rotate(v[0], v[1] || 0, v[2] || 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'translate':\n\t\t\t\t\tmatrix.translate(v[0], v[1] || 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'scale':\n\t\t\t\t\tmatrix.scale(v);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'skewX':\n\t\t\t\t\tmatrix.skew(v[0], 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'skewY':\n\t\t\t\t\tmatrix.skew(0, v[0]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\titem.transform(matrix);\n\t\t}\n\t}\n\n\tfunction applyOpacity(item, value, name) {\n\t\tvar key = name === 'fill-opacity' ? 'getFillColor' : 'getStrokeColor',\n\t\t\tcolor = item[key] && item[key]();\n\t\tif (color)\n\t\t\tcolor.setAlpha(parseFloat(value));\n\t}\n\n\tvar attributes = Base.set(Base.each(SvgStyles, function(entry) {\n\t\tthis[entry.attribute] = function(item, value) {\n\t\t\tif (item[entry.set]) {\n\t\t\t\titem[entry.set](convertValue(value, entry.type, entry.fromSVG));\n\t\t\t\tif (entry.type === 'color') {\n\t\t\t\t\tvar color = item[entry.get]();\n\t\t\t\t\tif (color) {\n\t\t\t\t\t\tif (color._scaleToBounds) {\n\t\t\t\t\t\t\tvar bounds = item.getBounds();\n\t\t\t\t\t\t\tcolor.transform(new Matrix()\n\t\t\t\t\t\t\t\t.translate(bounds.getPoint())\n\t\t\t\t\t\t\t\t.scale(bounds.getSize()));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}, {}), {\n\t\tid: function(item, value) {\n\t\t\tdefinitions[value] = item;\n\t\t\tif (item.setName)\n\t\t\t\titem.setName(value);\n\t\t},\n\n\t\t'clip-path': function(item, value) {\n\t\t\tvar clip = getDefinition(value);\n\t\t\tif (clip) {\n\t\t\t\tclip = clip.clone();\n\t\t\t\tclip.setClipMask(true);\n\t\t\t\tif (item instanceof Group) {\n\t\t\t\t\titem.insertChild(0, clip);\n\t\t\t\t} else {\n\t\t\t\t\treturn new Group(clip, item);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgradientTransform: applyTransform,\n\t\ttransform: applyTransform,\n\n\t\t'fill-opacity': applyOpacity,\n\t\t'stroke-opacity': applyOpacity,\n\n\t\tvisibility: function(item, value) {\n\t\t\tif (item.setVisible)\n\t\t\t\titem.setVisible(value === 'visible');\n\t\t},\n\n\t\tdisplay: function(item, value) {\n\t\t\tif (item.setVisible)\n\t\t\t\titem.setVisible(value !== null);\n\t\t},\n\n\t\t'stop-color': function(item, value) {\n\t\t\tif (item.setColor)\n\t\t\t\titem.setColor(value);\n\t\t},\n\n\t\t'stop-opacity': function(item, value) {\n\t\t\tif (item._color)\n\t\t\t\titem._color.setAlpha(parseFloat(value));\n\t\t},\n\n\t\toffset: function(item, value) {\n\t\t\tif (item.setOffset) {\n\t\t\t\tvar percent = value.match(/(.*)%$/);\n\t\t\t\titem.setOffset(percent ? percent[1] / 100 : parseFloat(value));\n\t\t\t}\n\t\t},\n\n\t\tviewBox: function(item, value, name, node, styles) {\n\t\t\tvar rect = new Rectangle(convertValue(value, 'array')),\n\t\t\t\tsize = getSize(node, null, null, true),\n\t\t\t\tgroup,\n\t\t\t\tmatrix;\n\t\t\tif (item instanceof Group) {\n\t\t\t\tvar scale = size ? size.divide(rect.getSize()) : 1,\n\t\t\t\tmatrix = new Matrix().scale(scale)\n\t\t\t\t\t\t.translate(rect.getPoint().negate());\n\t\t\t\tgroup = item;\n\t\t\t} else if (item instanceof SymbolDefinition) {\n\t\t\t\tif (size)\n\t\t\t\t\trect.setSize(size);\n\t\t\t\tgroup = item._item;\n\t\t\t}\n\t\t\tif (group)  {\n\t\t\t\tif (getAttribute(node, 'overflow', styles) !== 'visible') {\n\t\t\t\t\tvar clip = new Shape.Rectangle(rect);\n\t\t\t\t\tclip.setClipMask(true);\n\t\t\t\t\tgroup.addChild(clip);\n\t\t\t\t}\n\t\t\t\tif (matrix)\n\t\t\t\t\tgroup.transform(matrix);\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction getAttribute(node, name, styles) {\n\t\tvar attr = node.attributes[name],\n\t\t\tvalue = attr && attr.value;\n\t\tif (!value && node.style) {\n\t\t\tvar style = Base.camelize(name);\n\t\t\tvalue = node.style[style];\n\t\t\tif (!value && styles.node[style] !== styles.parent[style])\n\t\t\t\tvalue = styles.node[style];\n\t\t}\n\t\treturn !value ? undefined\n\t\t\t\t: value === 'none' ? null\n\t\t\t\t: value;\n\t}\n\n\tfunction applyAttributes(item, node, isRoot) {\n\t\tvar parent = node.parentNode,\n\t\t\tstyles = {\n\t\t\t\tnode: DomElement.getStyles(node) || {},\n\t\t\t\tparent: !isRoot && !/^defs$/i.test(parent.tagName)\n\t\t\t\t\t\t&& DomElement.getStyles(parent) || {}\n\t\t\t};\n\t\tBase.each(attributes, function(apply, name) {\n\t\t\tvar value = getAttribute(node, name, styles);\n\t\t\titem = value !== undefined\n\t\t\t\t\t&& apply(item, value, name, node, styles) || item;\n\t\t});\n\t\treturn item;\n\t}\n\n\tfunction getDefinition(value) {\n\t\tvar match = value && value.match(/\\((?:[\"'#]*)([^\"')]+)/),\n\t\t\tname = match && match[1],\n\t\t\tres = name && definitions[window\n\t\t\t\t\t? name.replace(window.location.href.split('#')[0] + '#', '')\n\t\t\t\t\t: name];\n\t\tif (res && res._scaleToBounds) {\n\t\t\tres = res.clone();\n\t\t\tres._scaleToBounds = true;\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction importNode(node, options, isRoot) {\n\t\tvar type = node.nodeName.toLowerCase(),\n\t\t\tisElement = type !== '#document',\n\t\t\tbody = document.body,\n\t\t\tcontainer,\n\t\t\tparent,\n\t\t\tnext;\n\t\tif (isRoot && isElement) {\n\t\t\trootSize = paper.getView().getSize();\n\t\t\trootSize = getSize(node, null, null, true) || rootSize;\n\t\t\tcontainer = SvgElement.create('svg', {\n\t\t\t\tstyle: 'stroke-width: 1px; stroke-miterlimit: 10'\n\t\t\t});\n\t\t\tparent = node.parentNode;\n\t\t\tnext = node.nextSibling;\n\t\t\tcontainer.appendChild(node);\n\t\t\tbody.appendChild(container);\n\t\t}\n\t\tvar settings = paper.settings,\n\t\t\tapplyMatrix = settings.applyMatrix,\n\t\t\tinsertItems = settings.insertItems;\n\t\tsettings.applyMatrix = false;\n\t\tsettings.insertItems = false;\n\t\tvar importer = importers[type],\n\t\t\titem = importer && importer(node, type, options, isRoot) || null;\n\t\tsettings.insertItems = insertItems;\n\t\tsettings.applyMatrix = applyMatrix;\n\t\tif (item) {\n\t\t\tif (isElement && !(item instanceof Group))\n\t\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\tvar onImport = options.onImport,\n\t\t\t\tdata = isElement && node.getAttribute('data-paper-data');\n\t\t\tif (onImport)\n\t\t\t\titem = onImport(node, item, options) || item;\n\t\t\tif (options.expandShapes && item instanceof Shape) {\n\t\t\t\titem.remove();\n\t\t\t\titem = item.toPath();\n\t\t\t}\n\t\t\tif (data)\n\t\t\t\titem._data = JSON.parse(data);\n\t\t}\n\t\tif (container) {\n\t\t\tbody.removeChild(container);\n\t\t\tif (parent) {\n\t\t\t\tif (next) {\n\t\t\t\t\tparent.insertBefore(node, next);\n\t\t\t\t} else {\n\t\t\t\t\tparent.appendChild(node);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (isRoot) {\n\t\t\tdefinitions = {};\n\t\t\tif (item && Base.pick(options.applyMatrix, applyMatrix))\n\t\t\t\titem.matrix.apply(true, true);\n\t\t}\n\t\treturn item;\n\t}\n\n\tfunction importSVG(source, options, owner) {\n\t\tif (!source)\n\t\t\treturn null;\n\t\toptions = typeof options === 'function' ? { onLoad: options }\n\t\t\t\t: options || {};\n\t\tvar scope = paper,\n\t\t\titem = null;\n\n\t\tfunction onLoad(svg) {\n\t\t\ttry {\n\t\t\t\tvar node = typeof svg === 'object'\n\t\t\t\t\t? svg\n\t\t\t\t\t: new self.DOMParser().parseFromString(\n\t\t\t\t\t\tsvg.trim(),\n\t\t\t\t\t\t'image/svg+xml'\n\t\t\t\t\t);\n\t\t\t\tif (!node.nodeName) {\n\t\t\t\t\tnode = null;\n\t\t\t\t\tthrow new Error('Unsupported SVG source: ' + source);\n\t\t\t\t}\n\t\t\t\tpaper = scope;\n\t\t\t\titem = importNode(node, options, true);\n\t\t\t\tif (!options || options.insert !== false) {\n\t\t\t\t\towner._insertItem(undefined, item);\n\t\t\t\t}\n\t\t\t\tvar onLoad = options.onLoad;\n\t\t\t\tif (onLoad)\n\t\t\t\t\tonLoad(item, svg);\n\t\t\t} catch (e) {\n\t\t\t\tonError(e);\n\t\t\t}\n\t\t}\n\n\t\tfunction onError(message, status) {\n\t\t\tvar onError = options.onError;\n\t\t\tif (onError) {\n\t\t\t\tonError(message, status);\n\t\t\t} else {\n\t\t\t\tthrow new Error(message);\n\t\t\t}\n\t\t}\n\n\t\tif (typeof source === 'string' && !/^[\\s\\S]*</.test(source)) {\n\t\t\tvar node = document.getElementById(source);\n\t\t\tif (node) {\n\t\t\t\tonLoad(node);\n\t\t\t} else {\n\t\t\t\tHttp.request({\n\t\t\t\t\turl: source,\n\t\t\t\t\tasync: true,\n\t\t\t\t\tonLoad: onLoad,\n\t\t\t\t\tonError: onError\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (typeof File !== 'undefined' && source instanceof File) {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = function() {\n\t\t\t\tonLoad(reader.result);\n\t\t\t};\n\t\t\treader.onerror = function() {\n\t\t\t\tonError(reader.error);\n\t\t\t};\n\t\t\treturn reader.readAsText(source);\n\t\t} else {\n\t\t\tonLoad(source);\n\t\t}\n\n\t\treturn item;\n\t}\n\n\tItem.inject({\n\t\timportSVG: function(node, options) {\n\t\t\treturn importSVG(node, options, this);\n\t\t}\n\t});\n\n\tProject.inject({\n\t\timportSVG: function(node, options) {\n\t\t\tthis.activate();\n\t\t\treturn importSVG(node, options, this);\n\t\t}\n\t});\n};\n\nvar paper = new (PaperScope.inject(Base.exports, {\n\tBase: Base,\n\tNumerical: Numerical,\n\tKey: Key,\n\tDomEvent: DomEvent,\n\tDomElement: DomElement,\n\tdocument: document,\n\twindow: window,\n\tSymbol: SymbolDefinition,\n\tPlacedSymbol: SymbolItem\n}))();\n\nif (paper.agent.node) {\n\trequire('./node/extend.js')(paper);\n}\n\nif (typeof define === 'function' && define.amd) {\n\tdefine('paper', paper);\n} else if (typeof module === 'object' && module) {\n\tmodule.exports = paper;\n}\n\nreturn paper;\n}.call(this, typeof self === 'object' ? self : null);\n","/*!\n * Paper.js v0.12.15 - The Swiss Army Knife of Vector Graphics Scripting.\n * http://paperjs.org/\n *\n * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey\n * http://juerglehni.com/ & https://puckey.studio/\n *\n * Distributed under the MIT license. See LICENSE file for details.\n *\n * All rights reserved.\n *\n * Date: Wed Mar 17 10:49:48 2021 +0100\n *\n ***\n *\n * Straps.js - Class inheritance library with support for bean-style accessors\n *\n * Copyright (c) 2006 - 2020 Jürg Lehni\n * http://juerglehni.com/\n *\n * Distributed under the MIT license.\n *\n ***\n *\n * Acorn.js\n * https://marijnhaverbeke.nl/acorn/\n *\n * Acorn is a tiny, fast JavaScript parser written in JavaScript,\n * created by Marijn Haverbeke and released under an MIT license.\n *\n */\n\nvar paper = function(self, undefined) {\n\nself = self || require('./node/self.js');\nvar window = self.window,\n\tdocument = self.document;\n\nvar Base = new function() {\n\tvar hidden = /^(statics|enumerable|beans|preserve)$/,\n\t\tarray = [],\n\t\tslice = array.slice,\n\t\tcreate = Object.create,\n\t\tdescribe = Object.getOwnPropertyDescriptor,\n\t\tdefine = Object.defineProperty,\n\n\t\tforEach = array.forEach || function(iter, bind) {\n\t\t\tfor (var i = 0, l = this.length; i < l; i++) {\n\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t}\n\t\t},\n\n\t\tforIn = function(iter, bind) {\n\t\t\tfor (var i in this) {\n\t\t\t\tif (this.hasOwnProperty(i))\n\t\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t}\n\t\t},\n\n\t\tset = Object.assign || function(dst) {\n\t\t\tfor (var i = 1, l = arguments.length; i < l; i++) {\n\t\t\t\tvar src = arguments[i];\n\t\t\t\tfor (var key in src) {\n\t\t\t\t\tif (src.hasOwnProperty(key))\n\t\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dst;\n\t\t},\n\n\t\teach = function(obj, iter, bind) {\n\t\t\tif (obj) {\n\t\t\t\tvar desc = describe(obj, 'length');\n\t\t\t\t(desc && typeof desc.value === 'number' ? forEach : forIn)\n\t\t\t\t\t.call(obj, iter, bind = bind || obj);\n\t\t\t}\n\t\t\treturn bind;\n\t\t};\n\n\tfunction inject(dest, src, enumerable, beans, preserve) {\n\t\tvar beansNames = {};\n\n\t\tfunction field(name, val) {\n\t\t\tval = val || (val = describe(src, name))\n\t\t\t\t\t&& (val.get ? val : val.value);\n\t\t\tif (typeof val === 'string' && val[0] === '#')\n\t\t\t\tval = dest[val.substring(1)] || val;\n\t\t\tvar isFunc = typeof val === 'function',\n\t\t\t\tres = val,\n\t\t\t\tprev = preserve || isFunc && !val.base\n\t\t\t\t\t\t? (val && val.get ? name in dest : dest[name])\n\t\t\t\t\t\t: null,\n\t\t\t\tbean;\n\t\t\tif (!preserve || !prev) {\n\t\t\t\tif (isFunc && prev)\n\t\t\t\t\tval.base = prev;\n\t\t\t\tif (isFunc && beans !== false\n\t\t\t\t\t\t&& (bean = name.match(/^([gs]et|is)(([A-Z])(.*))$/)))\n\t\t\t\t\tbeansNames[bean[3].toLowerCase() + bean[4]] = bean[2];\n\t\t\t\tif (!res || isFunc || !res.get || typeof res.get !== 'function'\n\t\t\t\t\t\t|| !Base.isPlainObject(res)) {\n\t\t\t\t\tres = { value: res, writable: true };\n\t\t\t\t}\n\t\t\t\tif ((describe(dest, name)\n\t\t\t\t\t\t|| { configurable: true }).configurable) {\n\t\t\t\t\tres.configurable = true;\n\t\t\t\t\tres.enumerable = enumerable != null ? enumerable : !bean;\n\t\t\t\t}\n\t\t\t\tdefine(dest, name, res);\n\t\t\t}\n\t\t}\n\t\tif (src) {\n\t\t\tfor (var name in src) {\n\t\t\t\tif (src.hasOwnProperty(name) && !hidden.test(name))\n\t\t\t\t\tfield(name);\n\t\t\t}\n\t\t\tfor (var name in beansNames) {\n\t\t\t\tvar part = beansNames[name],\n\t\t\t\t\tset = dest['set' + part],\n\t\t\t\t\tget = dest['get' + part] || set && dest['is' + part];\n\t\t\t\tif (get && (beans === true || get.length === 0))\n\t\t\t\t\tfield(name, { get: get, set: set });\n\t\t\t}\n\t\t}\n\t\treturn dest;\n\t}\n\n\tfunction Base() {\n\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\tvar src = arguments[i];\n\t\t\tif (src)\n\t\t\t\tset(this, src);\n\t\t}\n\t\treturn this;\n\t}\n\n\treturn inject(Base, {\n\t\tinject: function(src) {\n\t\t\tif (src) {\n\t\t\t\tvar statics = src.statics === true ? src : src.statics,\n\t\t\t\t\tbeans = src.beans,\n\t\t\t\t\tpreserve = src.preserve;\n\t\t\t\tif (statics !== src)\n\t\t\t\t\tinject(this.prototype, src, src.enumerable, beans, preserve);\n\t\t\t\tinject(this, statics, null, beans, preserve);\n\t\t\t}\n\t\t\tfor (var i = 1, l = arguments.length; i < l; i++)\n\t\t\t\tthis.inject(arguments[i]);\n\t\t\treturn this;\n\t\t},\n\n\t\textend: function() {\n\t\t\tvar base = this,\n\t\t\t\tctor,\n\t\t\t\tproto;\n\t\t\tfor (var i = 0, obj, l = arguments.length;\n\t\t\t\t\ti < l && !(ctor && proto); i++) {\n\t\t\t\tobj = arguments[i];\n\t\t\t\tctor = ctor || obj.initialize;\n\t\t\t\tproto = proto || obj.prototype;\n\t\t\t}\n\t\t\tctor = ctor || function() {\n\t\t\t\tbase.apply(this, arguments);\n\t\t\t};\n\t\t\tproto = ctor.prototype = proto || create(this.prototype);\n\t\t\tdefine(proto, 'constructor',\n\t\t\t\t\t{ value: ctor, writable: true, configurable: true });\n\t\t\tinject(ctor, this);\n\t\t\tif (arguments.length)\n\t\t\t\tthis.inject.apply(ctor, arguments);\n\t\t\tctor.base = base;\n\t\t\treturn ctor;\n\t\t}\n\t}).inject({\n\t\tenumerable: false,\n\n\t\tinitialize: Base,\n\n\t\tset: Base,\n\n\t\tinject: function() {\n\t\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\t\tvar src = arguments[i];\n\t\t\t\tif (src) {\n\t\t\t\t\tinject(this, src, src.enumerable, src.beans, src.preserve);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\textend: function() {\n\t\t\tvar res = create(this);\n\t\t\treturn res.inject.apply(res, arguments);\n\t\t},\n\n\t\teach: function(iter, bind) {\n\t\t\treturn each(this, iter, bind);\n\t\t},\n\n\t\tclone: function() {\n\t\t\treturn new this.constructor(this);\n\t\t},\n\n\t\tstatics: {\n\t\t\tset: set,\n\t\t\teach: each,\n\t\t\tcreate: create,\n\t\t\tdefine: define,\n\t\t\tdescribe: describe,\n\n\t\t\tclone: function(obj) {\n\t\t\t\treturn set(new obj.constructor(), obj);\n\t\t\t},\n\n\t\t\tisPlainObject: function(obj) {\n\t\t\t\tvar ctor = obj != null && obj.constructor;\n\t\t\t\treturn ctor && (ctor === Object || ctor === Base\n\t\t\t\t\t\t|| ctor.name === 'Object');\n\t\t\t},\n\n\t\t\tpick: function(a, b) {\n\t\t\t\treturn a !== undefined ? a : b;\n\t\t\t},\n\n\t\t\tslice: function(list, begin, end) {\n\t\t\t\treturn slice.call(list, begin, end);\n\t\t\t}\n\t\t}\n\t});\n};\n\nif (typeof module !== 'undefined')\n\tmodule.exports = Base;\n\nBase.inject({\n\tenumerable: false,\n\n\ttoString: function() {\n\t\treturn this._id != null\n\t\t\t?  (this._class || 'Object') + (this._name\n\t\t\t\t? \" '\" + this._name + \"'\"\n\t\t\t\t: ' @' + this._id)\n\t\t\t: '{ ' + Base.each(this, function(value, key) {\n\t\t\t\tif (!/^_/.test(key)) {\n\t\t\t\t\tvar type = typeof value;\n\t\t\t\t\tthis.push(key + ': ' + (type === 'number'\n\t\t\t\t\t\t\t? Formatter.instance.number(value)\n\t\t\t\t\t\t\t: type === 'string' ? \"'\" + value + \"'\" : value));\n\t\t\t\t}\n\t\t\t}, []).join(', ') + ' }';\n\t},\n\n\tgetClassName: function() {\n\t\treturn this._class || '';\n\t},\n\n\timportJSON: function(json) {\n\t\treturn Base.importJSON(json, this);\n\t},\n\n\texportJSON: function(options) {\n\t\treturn Base.exportJSON(this, options);\n\t},\n\n\ttoJSON: function() {\n\t\treturn Base.serialize(this);\n\t},\n\n\tset: function(props, exclude) {\n\t\tif (props)\n\t\t\tBase.filter(this, props, exclude, this._prioritize);\n\t\treturn this;\n\t}\n}, {\n\nbeans: false,\nstatics: {\n\texports: {},\n\n\textend: function extend() {\n\t\tvar res = extend.base.apply(this, arguments),\n\t\t\tname = res.prototype._class;\n\t\tif (name && !Base.exports[name])\n\t\t\tBase.exports[name] = res;\n\t\treturn res;\n\t},\n\n\tequals: function(obj1, obj2) {\n\t\tif (obj1 === obj2)\n\t\t\treturn true;\n\t\tif (obj1 && obj1.equals)\n\t\t\treturn obj1.equals(obj2);\n\t\tif (obj2 && obj2.equals)\n\t\t\treturn obj2.equals(obj1);\n\t\tif (obj1 && obj2\n\t\t\t\t&& typeof obj1 === 'object' && typeof obj2 === 'object') {\n\t\t\tif (Array.isArray(obj1) && Array.isArray(obj2)) {\n\t\t\t\tvar length = obj1.length;\n\t\t\t\tif (length !== obj2.length)\n\t\t\t\t\treturn false;\n\t\t\t\twhile (length--) {\n\t\t\t\t\tif (!Base.equals(obj1[length], obj2[length]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar keys = Object.keys(obj1),\n\t\t\t\t\tlength = keys.length;\n\t\t\t\tif (length !== Object.keys(obj2).length)\n\t\t\t\t\treturn false;\n\t\t\t\twhile (length--) {\n\t\t\t\t\tvar key = keys[length];\n\t\t\t\t\tif (!(obj2.hasOwnProperty(key)\n\t\t\t\t\t\t\t&& Base.equals(obj1[key], obj2[key])))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tread: function(list, start, options, amount) {\n\t\tif (this === Base) {\n\t\t\tvar value = this.peek(list, start);\n\t\t\tlist.__index++;\n\t\t\treturn value;\n\t\t}\n\t\tvar proto = this.prototype,\n\t\t\treadIndex = proto._readIndex,\n\t\t\tbegin = start || readIndex && list.__index || 0,\n\t\t\tlength = list.length,\n\t\t\tobj = list[begin];\n\t\tamount = amount || length - begin;\n\t\tif (obj instanceof this\n\t\t\t|| options && options.readNull && obj == null && amount <= 1) {\n\t\t\tif (readIndex)\n\t\t\t\tlist.__index = begin + 1;\n\t\t\treturn obj && options && options.clone ? obj.clone() : obj;\n\t\t}\n\t\tobj = Base.create(proto);\n\t\tif (readIndex)\n\t\t\tobj.__read = true;\n\t\tobj = obj.initialize.apply(obj, begin > 0 || begin + amount < length\n\t\t\t\t? Base.slice(list, begin, begin + amount)\n\t\t\t\t: list) || obj;\n\t\tif (readIndex) {\n\t\t\tlist.__index = begin + obj.__read;\n\t\t\tvar filtered = obj.__filtered;\n\t\t\tif (filtered) {\n\t\t\t\tlist.__filtered = filtered;\n\t\t\t\tobj.__filtered = undefined;\n\t\t\t}\n\t\t\tobj.__read = undefined;\n\t\t}\n\t\treturn obj;\n\t},\n\n\tpeek: function(list, start) {\n\t\treturn list[list.__index = start || list.__index || 0];\n\t},\n\n\tremain: function(list) {\n\t\treturn list.length - (list.__index || 0);\n\t},\n\n\treadList: function(list, start, options, amount) {\n\t\tvar res = [],\n\t\t\tentry,\n\t\t\tbegin = start || 0,\n\t\t\tend = amount ? begin + amount : list.length;\n\t\tfor (var i = begin; i < end; i++) {\n\t\t\tres.push(Array.isArray(entry = list[i])\n\t\t\t\t\t? this.read(entry, 0, options)\n\t\t\t\t\t: this.read(list, i, options, 1));\n\t\t}\n\t\treturn res;\n\t},\n\n\treadNamed: function(list, name, start, options, amount) {\n\t\tvar value = this.getNamed(list, name),\n\t\t\thasValue = value !== undefined;\n\t\tif (hasValue) {\n\t\t\tvar filtered = list.__filtered;\n\t\t\tif (!filtered) {\n\t\t\t\tvar source = this.getSource(list);\n\t\t\t\tfiltered = list.__filtered = Base.create(source);\n\t\t\t\tfiltered.__unfiltered = source;\n\t\t\t}\n\t\t\tfiltered[name] = undefined;\n\t\t}\n\t\treturn this.read(hasValue ? [value] : list, start, options, amount);\n\t},\n\n\treadSupported: function(list, dest) {\n\t\tvar source = this.getSource(list),\n\t\t\tthat = this,\n\t\t\tread = false;\n\t\tif (source) {\n\t\t\tObject.keys(source).forEach(function(key) {\n\t\t\t\tif (key in dest) {\n\t\t\t\t\tvar value = that.readNamed(list, key);\n\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\tdest[key] = value;\n\t\t\t\t\t}\n\t\t\t\t\tread = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn read;\n\t},\n\n\tgetSource: function(list) {\n\t\tvar source = list.__source;\n\t\tif (source === undefined) {\n\t\t\tvar arg = list.length === 1 && list[0];\n\t\t\tsource = list.__source = arg && Base.isPlainObject(arg)\n\t\t\t\t? arg : null;\n\t\t}\n\t\treturn source;\n\t},\n\n\tgetNamed: function(list, name) {\n\t\tvar source = this.getSource(list);\n\t\tif (source) {\n\t\t\treturn name ? source[name] : list.__filtered || source;\n\t\t}\n\t},\n\n\thasNamed: function(list, name) {\n\t\treturn !!this.getNamed(list, name);\n\t},\n\n\tfilter: function(dest, source, exclude, prioritize) {\n\t\tvar processed;\n\n\t\tfunction handleKey(key) {\n\t\t\tif (!(exclude && key in exclude) &&\n\t\t\t\t!(processed && key in processed)) {\n\t\t\t\tvar value = source[key];\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tdest[key] = value;\n\t\t\t}\n\t\t}\n\n\t\tif (prioritize) {\n\t\t\tvar keys = {};\n\t\t\tfor (var i = 0, key, l = prioritize.length; i < l; i++) {\n\t\t\t\tif ((key = prioritize[i]) in source) {\n\t\t\t\t\thandleKey(key);\n\t\t\t\t\tkeys[key] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tprocessed = keys;\n\t\t}\n\n\t\tObject.keys(source.__unfiltered || source).forEach(handleKey);\n\t\treturn dest;\n\t},\n\n\tisPlainValue: function(obj, asString) {\n\t\treturn Base.isPlainObject(obj) || Array.isArray(obj)\n\t\t\t\t|| asString && typeof obj === 'string';\n\t},\n\n\tserialize: function(obj, options, compact, dictionary) {\n\t\toptions = options || {};\n\n\t\tvar isRoot = !dictionary,\n\t\t\tres;\n\t\tif (isRoot) {\n\t\t\toptions.formatter = new Formatter(options.precision);\n\t\t\tdictionary = {\n\t\t\t\tlength: 0,\n\t\t\t\tdefinitions: {},\n\t\t\t\treferences: {},\n\t\t\t\tadd: function(item, create) {\n\t\t\t\t\tvar id = '#' + item._id,\n\t\t\t\t\t\tref = this.references[id];\n\t\t\t\t\tif (!ref) {\n\t\t\t\t\t\tthis.length++;\n\t\t\t\t\t\tvar res = create.call(item),\n\t\t\t\t\t\t\tname = item._class;\n\t\t\t\t\t\tif (name && res[0] !== name)\n\t\t\t\t\t\t\tres.unshift(name);\n\t\t\t\t\t\tthis.definitions[id] = res;\n\t\t\t\t\t\tref = this.references[id] = [id];\n\t\t\t\t\t}\n\t\t\t\t\treturn ref;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tif (obj && obj._serialize) {\n\t\t\tres = obj._serialize(options, dictionary);\n\t\t\tvar name = obj._class;\n\t\t\tif (name && !obj._compactSerialize && (isRoot || !compact)\n\t\t\t\t\t&& res[0] !== name) {\n\t\t\t\tres.unshift(name);\n\t\t\t}\n\t\t} else if (Array.isArray(obj)) {\n\t\t\tres = [];\n\t\t\tfor (var i = 0, l = obj.length; i < l; i++)\n\t\t\t\tres[i] = Base.serialize(obj[i], options, compact, dictionary);\n\t\t} else if (Base.isPlainObject(obj)) {\n\t\t\tres = {};\n\t\t\tvar keys = Object.keys(obj);\n\t\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\t\tvar key = keys[i];\n\t\t\t\tres[key] = Base.serialize(obj[key], options, compact,\n\t\t\t\t\t\tdictionary);\n\t\t\t}\n\t\t} else if (typeof obj === 'number') {\n\t\t\tres = options.formatter.number(obj, options.precision);\n\t\t} else {\n\t\t\tres = obj;\n\t\t}\n\t\treturn isRoot && dictionary.length > 0\n\t\t\t\t? [['dictionary', dictionary.definitions], res]\n\t\t\t\t: res;\n\t},\n\n\tdeserialize: function(json, create, _data, _setDictionary, _isRoot) {\n\t\tvar res = json,\n\t\t\tisFirst = !_data,\n\t\t\thasDictionary = isFirst && json && json.length\n\t\t\t\t&& json[0][0] === 'dictionary';\n\t\t_data = _data || {};\n\t\tif (Array.isArray(json)) {\n\t\t\tvar type = json[0],\n\t\t\t\tisDictionary = type === 'dictionary';\n\t\t\tif (json.length == 1 && /^#/.test(type)) {\n\t\t\t\treturn _data.dictionary[type];\n\t\t\t}\n\t\t\ttype = Base.exports[type];\n\t\t\tres = [];\n\t\t\tfor (var i = type ? 1 : 0, l = json.length; i < l; i++) {\n\t\t\t\tres.push(Base.deserialize(json[i], create, _data,\n\t\t\t\t\t\tisDictionary, hasDictionary));\n\t\t\t}\n\t\t\tif (type) {\n\t\t\t\tvar args = res;\n\t\t\t\tif (create) {\n\t\t\t\t\tres = create(type, args, isFirst || _isRoot);\n\t\t\t\t} else {\n\t\t\t\t\tres = new type(args);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (Base.isPlainObject(json)) {\n\t\t\tres = {};\n\t\t\tif (_setDictionary)\n\t\t\t\t_data.dictionary = res;\n\t\t\tfor (var key in json)\n\t\t\t\tres[key] = Base.deserialize(json[key], create, _data);\n\t\t}\n\t\treturn hasDictionary ? res[1] : res;\n\t},\n\n\texportJSON: function(obj, options) {\n\t\tvar json = Base.serialize(obj, options);\n\t\treturn options && options.asString == false\n\t\t\t\t? json\n\t\t\t\t: JSON.stringify(json);\n\t},\n\n\timportJSON: function(json, target) {\n\t\treturn Base.deserialize(\n\t\t\t\ttypeof json === 'string' ? JSON.parse(json) : json,\n\t\t\t\tfunction(ctor, args, isRoot) {\n\t\t\t\t\tvar useTarget = isRoot && target\n\t\t\t\t\t\t\t&& target.constructor === ctor,\n\t\t\t\t\t\tobj = useTarget ? target\n\t\t\t\t\t\t\t: Base.create(ctor.prototype);\n\t\t\t\t\tif (args.length === 1 && obj instanceof Item\n\t\t\t\t\t\t\t&& (useTarget || !(obj instanceof Layer))) {\n\t\t\t\t\t\tvar arg = args[0];\n\t\t\t\t\t\tif (Base.isPlainObject(arg)) {\n\t\t\t\t\t\t\targ.insert = false;\n\t\t\t\t\t\t\tif (useTarget) {\n\t\t\t\t\t\t\t\targs = args.concat([{ insert: true }]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t(useTarget ? obj.set : ctor).apply(obj, args);\n\t\t\t\t\tif (useTarget)\n\t\t\t\t\t\ttarget = null;\n\t\t\t\t\treturn obj;\n\t\t\t\t});\n\t},\n\n\tpush: function(list, items) {\n\t\tvar itemsLength = items.length;\n\t\tif (itemsLength < 4096) {\n\t\t\tlist.push.apply(list, items);\n\t\t} else {\n\t\t\tvar startLength = list.length;\n\t\t\tlist.length += itemsLength;\n\t\t\tfor (var i = 0; i < itemsLength; i++) {\n\t\t\t\tlist[startLength + i] = items[i];\n\t\t\t}\n\t\t}\n\t\treturn list;\n\t},\n\n\tsplice: function(list, items, index, remove) {\n\t\tvar amount = items && items.length,\n\t\t\tappend = index === undefined;\n\t\tindex = append ? list.length : index;\n\t\tif (index > list.length)\n\t\t\tindex = list.length;\n\t\tfor (var i = 0; i < amount; i++)\n\t\t\titems[i]._index = index + i;\n\t\tif (append) {\n\t\t\tBase.push(list, items);\n\t\t\treturn [];\n\t\t} else {\n\t\t\tvar args = [index, remove];\n\t\t\tif (items)\n\t\t\t\tBase.push(args, items);\n\t\t\tvar removed = list.splice.apply(list, args);\n\t\t\tfor (var i = 0, l = removed.length; i < l; i++)\n\t\t\t\tremoved[i]._index = undefined;\n\t\t\tfor (var i = index + amount, l = list.length; i < l; i++)\n\t\t\t\tlist[i]._index = i;\n\t\t\treturn removed;\n\t\t}\n\t},\n\n\tcapitalize: function(str) {\n\t\treturn str.replace(/\\b[a-z]/g, function(match) {\n\t\t\treturn match.toUpperCase();\n\t\t});\n\t},\n\n\tcamelize: function(str) {\n\t\treturn str.replace(/-(.)/g, function(match, chr) {\n\t\t\treturn chr.toUpperCase();\n\t\t});\n\t},\n\n\thyphenate: function(str) {\n\t\treturn str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n\t}\n}});\n\nvar Emitter = {\n\ton: function(type, func) {\n\t\tif (typeof type !== 'string') {\n\t\t\tBase.each(type, function(value, key) {\n\t\t\t\tthis.on(key, value);\n\t\t\t}, this);\n\t\t} else {\n\t\t\tvar types = this._eventTypes,\n\t\t\t\tentry = types && types[type],\n\t\t\t\thandlers = this._callbacks = this._callbacks || {};\n\t\t\thandlers = handlers[type] = handlers[type] || [];\n\t\t\tif (handlers.indexOf(func) === -1) {\n\t\t\t\thandlers.push(func);\n\t\t\t\tif (entry && entry.install && handlers.length === 1)\n\t\t\t\t\tentry.install.call(this, type);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\toff: function(type, func) {\n\t\tif (typeof type !== 'string') {\n\t\t\tBase.each(type, function(value, key) {\n\t\t\t\tthis.off(key, value);\n\t\t\t}, this);\n\t\t\treturn;\n\t\t}\n\t\tvar types = this._eventTypes,\n\t\t\tentry = types && types[type],\n\t\t\thandlers = this._callbacks && this._callbacks[type],\n\t\t\tindex;\n\t\tif (handlers) {\n\t\t\tif (!func || (index = handlers.indexOf(func)) !== -1\n\t\t\t\t\t&& handlers.length === 1) {\n\t\t\t\tif (entry && entry.uninstall)\n\t\t\t\t\tentry.uninstall.call(this, type);\n\t\t\t\tdelete this._callbacks[type];\n\t\t\t} else if (index !== -1) {\n\t\t\t\thandlers.splice(index, 1);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\tonce: function(type, func) {\n\t\treturn this.on(type, function handler() {\n\t\t\tfunc.apply(this, arguments);\n\t\t\tthis.off(type, handler);\n\t\t});\n\t},\n\n\temit: function(type, event) {\n\t\tvar handlers = this._callbacks && this._callbacks[type];\n\t\tif (!handlers)\n\t\t\treturn false;\n\t\tvar args = Base.slice(arguments, 1),\n\t\t\tsetTarget = event && event.target && !event.currentTarget;\n\t\thandlers = handlers.slice();\n\t\tif (setTarget)\n\t\t\tevent.currentTarget = this;\n\t\tfor (var i = 0, l = handlers.length; i < l; i++) {\n\t\t\tif (handlers[i].apply(this, args) == false) {\n\t\t\t\tif (event && event.stop)\n\t\t\t\t\tevent.stop();\n\t\t\t\tbreak;\n\t\t   }\n\t\t}\n\t\tif (setTarget)\n\t\t\tdelete event.currentTarget;\n\t\treturn true;\n\t},\n\n\tresponds: function(type) {\n\t\treturn !!(this._callbacks && this._callbacks[type]);\n\t},\n\n\tattach: '#on',\n\tdetach: '#off',\n\tfire: '#emit',\n\n\t_installEvents: function(install) {\n\t\tvar types = this._eventTypes,\n\t\t\thandlers = this._callbacks,\n\t\t\tkey = install ? 'install' : 'uninstall';\n\t\tif (types) {\n\t\t\tfor (var type in handlers) {\n\t\t\t\tif (handlers[type].length > 0) {\n\t\t\t\t\tvar entry = types[type],\n\t\t\t\t\t\tfunc = entry && entry[key];\n\t\t\t\t\tif (func)\n\t\t\t\t\t\tfunc.call(this, type);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tstatics: {\n\t\tinject: function inject(src) {\n\t\t\tvar events = src._events;\n\t\t\tif (events) {\n\t\t\t\tvar types = {};\n\t\t\t\tBase.each(events, function(entry, key) {\n\t\t\t\t\tvar isString = typeof entry === 'string',\n\t\t\t\t\t\tname = isString ? entry : key,\n\t\t\t\t\t\tpart = Base.capitalize(name),\n\t\t\t\t\t\ttype = name.substring(2).toLowerCase();\n\t\t\t\t\ttypes[type] = isString ? {} : entry;\n\t\t\t\t\tname = '_' + name;\n\t\t\t\t\tsrc['get' + part] = function() {\n\t\t\t\t\t\treturn this[name];\n\t\t\t\t\t};\n\t\t\t\t\tsrc['set' + part] = function(func) {\n\t\t\t\t\t\tvar prev = this[name];\n\t\t\t\t\t\tif (prev)\n\t\t\t\t\t\t\tthis.off(type, prev);\n\t\t\t\t\t\tif (func)\n\t\t\t\t\t\t\tthis.on(type, func);\n\t\t\t\t\t\tthis[name] = func;\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tsrc._eventTypes = types;\n\t\t\t}\n\t\t\treturn inject.base.apply(this, arguments);\n\t\t}\n\t}\n};\n\nvar PaperScope = Base.extend({\n\t_class: 'PaperScope',\n\n\tinitialize: function PaperScope() {\n\t\tpaper = this;\n\t\tthis.settings = new Base({\n\t\t\tapplyMatrix: true,\n\t\t\tinsertItems: true,\n\t\t\thandleSize: 4,\n\t\t\thitTolerance: 0\n\t\t});\n\t\tthis.project = null;\n\t\tthis.projects = [];\n\t\tthis.tools = [];\n\t\tthis._id = PaperScope._id++;\n\t\tPaperScope._scopes[this._id] = this;\n\t\tvar proto = PaperScope.prototype;\n\t\tif (!this.support) {\n\t\t\tvar ctx = CanvasProvider.getContext(1, 1) || {};\n\t\t\tproto.support = {\n\t\t\t\tnativeDash: 'setLineDash' in ctx || 'mozDash' in ctx,\n\t\t\t\tnativeBlendModes: BlendMode.nativeModes\n\t\t\t};\n\t\t\tCanvasProvider.release(ctx);\n\t\t}\n\t\tif (!this.agent) {\n\t\t\tvar user = self.navigator.userAgent.toLowerCase(),\n\t\t\t\tos = (/(darwin|win|mac|linux|freebsd|sunos)/.exec(user)||[])[0],\n\t\t\t\tplatform = os === 'darwin' ? 'mac' : os,\n\t\t\t\tagent = proto.agent = proto.browser = { platform: platform };\n\t\t\tif (platform)\n\t\t\t\tagent[platform] = true;\n\t\t\tuser.replace(\n\t\t\t\t/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\\/?\\s*([.\\d]+)(?:.*version\\/([.\\d]+))?(?:.*rv\\:v?([.\\d]+))?/g,\n\t\t\t\tfunction(match, n, v1, v2, rv) {\n\t\t\t\t\tif (!agent.chrome) {\n\t\t\t\t\t\tvar v = n === 'opera' ? v2 :\n\t\t\t\t\t\t\t\t/^(node|trident)$/.test(n) ? rv : v1;\n\t\t\t\t\t\tagent.version = v;\n\t\t\t\t\t\tagent.versionNumber = parseFloat(v);\n\t\t\t\t\t\tn = { trident: 'msie', jsdom: 'node' }[n] || n;\n\t\t\t\t\t\tagent.name = n;\n\t\t\t\t\t\tagent[n] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\tif (agent.chrome)\n\t\t\t\tdelete agent.webkit;\n\t\t\tif (agent.atom)\n\t\t\t\tdelete agent.chrome;\n\t\t}\n\t},\n\n\tversion: \"0.12.15\",\n\n\tgetView: function() {\n\t\tvar project = this.project;\n\t\treturn project && project._view;\n\t},\n\n\tgetPaper: function() {\n\t\treturn this;\n\t},\n\n\texecute: function(code, options) {\n\t\t\tvar exports = paper.PaperScript.execute(code, this, options);\n\t\t\tView.updateFocus();\n\t\t\treturn exports;\n\t},\n\n\tinstall: function(scope) {\n\t\tvar that = this;\n\t\tBase.each(['project', 'view', 'tool'], function(key) {\n\t\t\tBase.define(scope, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\tget: function() {\n\t\t\t\t\treturn that[key];\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tfor (var key in this)\n\t\t\tif (!/^_/.test(key) && this[key])\n\t\t\t\tscope[key] = this[key];\n\t},\n\n\tsetup: function(element) {\n\t\tpaper = this;\n\t\tthis.project = new Project(element);\n\t\treturn this;\n\t},\n\n\tcreateCanvas: function(width, height) {\n\t\treturn CanvasProvider.getCanvas(width, height);\n\t},\n\n\tactivate: function() {\n\t\tpaper = this;\n\t},\n\n\tclear: function() {\n\t\tvar projects = this.projects,\n\t\t\ttools = this.tools;\n\t\tfor (var i = projects.length - 1; i >= 0; i--)\n\t\t\tprojects[i].remove();\n\t\tfor (var i = tools.length - 1; i >= 0; i--)\n\t\t\ttools[i].remove();\n\t},\n\n\tremove: function() {\n\t\tthis.clear();\n\t\tdelete PaperScope._scopes[this._id];\n\t},\n\n\tstatics: new function() {\n\t\tfunction handleAttribute(name) {\n\t\t\tname += 'Attribute';\n\t\t\treturn function(el, attr) {\n\t\t\t\treturn el[name](attr) || el[name]('data-paper-' + attr);\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\t_scopes: {},\n\t\t\t_id: 0,\n\n\t\t\tget: function(id) {\n\t\t\t\treturn this._scopes[id] || null;\n\t\t\t},\n\n\t\t\tgetAttribute: handleAttribute('get'),\n\t\t\thasAttribute: handleAttribute('has')\n\t\t};\n\t}\n});\n\nvar PaperScopeItem = Base.extend(Emitter, {\n\n\tinitialize: function(activate) {\n\t\tthis._scope = paper;\n\t\tthis._index = this._scope[this._list].push(this) - 1;\n\t\tif (activate || !this._scope[this._reference])\n\t\t\tthis.activate();\n\t},\n\n\tactivate: function() {\n\t\tif (!this._scope)\n\t\t\treturn false;\n\t\tvar prev = this._scope[this._reference];\n\t\tif (prev && prev !== this)\n\t\t\tprev.emit('deactivate');\n\t\tthis._scope[this._reference] = this;\n\t\tthis.emit('activate', prev);\n\t\treturn true;\n\t},\n\n\tisActive: function() {\n\t\treturn this._scope[this._reference] === this;\n\t},\n\n\tremove: function() {\n\t\tif (this._index == null)\n\t\t\treturn false;\n\t\tBase.splice(this._scope[this._list], null, this._index, 1);\n\t\tif (this._scope[this._reference] == this)\n\t\t\tthis._scope[this._reference] = null;\n\t\tthis._scope = null;\n\t\treturn true;\n\t},\n\n\tgetView: function() {\n\t\treturn this._scope.getView();\n\t}\n});\n\nvar CollisionDetection = {\n\tfindItemBoundsCollisions: function(items1, items2, tolerance) {\n\t\tfunction getBounds(items) {\n\t\t\tvar bounds = new Array(items.length);\n\t\t\tfor (var i = 0; i < items.length; i++) {\n\t\t\t\tvar rect = items[i].getBounds();\n\t\t\t\tbounds[i] = [rect.left, rect.top, rect.right, rect.bottom];\n\t\t\t}\n\t\t\treturn bounds;\n\t\t}\n\n\t\tvar bounds1 = getBounds(items1),\n\t\t\tbounds2 = !items2 || items2 === items1\n\t\t\t\t? bounds1\n\t\t\t\t: getBounds(items2);\n\t\treturn this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n\t},\n\n\tfindCurveBoundsCollisions: function(curves1, curves2, tolerance, bothAxis) {\n\t\tfunction getBounds(curves) {\n\t\t\tvar min = Math.min,\n\t\t\t\tmax = Math.max,\n\t\t\t\tbounds = new Array(curves.length);\n\t\t\tfor (var i = 0; i < curves.length; i++) {\n\t\t\t\tvar v = curves[i];\n\t\t\t\tbounds[i] = [\n\t\t\t\t\tmin(v[0], v[2], v[4], v[6]),\n\t\t\t\t\tmin(v[1], v[3], v[5], v[7]),\n\t\t\t\t\tmax(v[0], v[2], v[4], v[6]),\n\t\t\t\t\tmax(v[1], v[3], v[5], v[7])\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn bounds;\n\t\t}\n\n\t\tvar bounds1 = getBounds(curves1),\n\t\t\tbounds2 = !curves2 || curves2 === curves1\n\t\t\t\t? bounds1\n\t\t\t\t: getBounds(curves2);\n\t\tif (bothAxis) {\n\t\t\tvar hor = this.findBoundsCollisions(\n\t\t\t\t\tbounds1, bounds2, tolerance || 0, false, true),\n\t\t\t\tver = this.findBoundsCollisions(\n\t\t\t\t\tbounds1, bounds2, tolerance || 0, true, true),\n\t\t\t\tlist = [];\n\t\t\tfor (var i = 0, l = hor.length; i < l; i++) {\n\t\t\t\tlist[i] = { hor: hor[i], ver: ver[i] };\n\t\t\t}\n\t\t\treturn list;\n\t\t}\n\t\treturn this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n\t},\n\n\tfindBoundsCollisions: function(boundsA, boundsB, tolerance,\n\t\tsweepVertical, onlySweepAxisCollisions) {\n\t\tvar self = !boundsB || boundsA === boundsB,\n\t\t\tallBounds = self ? boundsA : boundsA.concat(boundsB),\n\t\t\tlengthA = boundsA.length,\n\t\t\tlengthAll = allBounds.length;\n\n\t\tfunction binarySearch(indices, coord, value) {\n\t\t\tvar lo = 0,\n\t\t\t\thi = indices.length;\n\t\t\twhile (lo < hi) {\n\t\t\t\tvar mid = (hi + lo) >>> 1;\n\t\t\t\tif (allBounds[indices[mid]][coord] < value) {\n\t\t\t\t\tlo = mid + 1;\n\t\t\t\t} else {\n\t\t\t\t\thi = mid;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn lo - 1;\n\t\t}\n\n\t\tvar pri0 = sweepVertical ? 1 : 0,\n\t\t\tpri1 = pri0 + 2,\n\t\t\tsec0 = sweepVertical ? 0 : 1,\n\t\t\tsec1 = sec0 + 2;\n\t\tvar allIndicesByPri0 = new Array(lengthAll);\n\t\tfor (var i = 0; i < lengthAll; i++) {\n\t\t\tallIndicesByPri0[i] = i;\n\t\t}\n\t\tallIndicesByPri0.sort(function(i1, i2) {\n\t\t\treturn allBounds[i1][pri0] - allBounds[i2][pri0];\n\t\t});\n\t\tvar activeIndicesByPri1 = [],\n\t\t\tallCollisions = new Array(lengthA);\n\t\tfor (var i = 0; i < lengthAll; i++) {\n\t\t\tvar curIndex = allIndicesByPri0[i],\n\t\t\t\tcurBounds = allBounds[curIndex],\n\t\t\t\torigIndex = self ? curIndex : curIndex - lengthA,\n\t\t\t\tisCurrentA = curIndex < lengthA,\n\t\t\t\tisCurrentB = self || !isCurrentA,\n\t\t\t\tcurCollisions = isCurrentA ? [] : null;\n\t\t\tif (activeIndicesByPri1.length) {\n\t\t\t\tvar pruneCount = binarySearch(activeIndicesByPri1, pri1,\n\t\t\t\t\t\tcurBounds[pri0] - tolerance) + 1;\n\t\t\t\tactiveIndicesByPri1.splice(0, pruneCount);\n\t\t\t\tif (self && onlySweepAxisCollisions) {\n\t\t\t\t\tcurCollisions = curCollisions.concat(activeIndicesByPri1);\n\t\t\t\t\tfor (var j = 0; j < activeIndicesByPri1.length; j++) {\n\t\t\t\t\t\tvar activeIndex = activeIndicesByPri1[j];\n\t\t\t\t\t\tallCollisions[activeIndex].push(origIndex);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar curSec1 = curBounds[sec1],\n\t\t\t\t\t\tcurSec0 = curBounds[sec0];\n\t\t\t\t\tfor (var j = 0; j < activeIndicesByPri1.length; j++) {\n\t\t\t\t\t\tvar activeIndex = activeIndicesByPri1[j],\n\t\t\t\t\t\t\tactiveBounds = allBounds[activeIndex],\n\t\t\t\t\t\t\tisActiveA = activeIndex < lengthA,\n\t\t\t\t\t\t\tisActiveB = self || activeIndex >= lengthA;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tonlySweepAxisCollisions ||\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tisCurrentA && isActiveB ||\n\t\t\t\t\t\t\t\tisCurrentB && isActiveA\n\t\t\t\t\t\t\t) && (\n\t\t\t\t\t\t\t\tcurSec1 >= activeBounds[sec0] - tolerance &&\n\t\t\t\t\t\t\t\tcurSec0 <= activeBounds[sec1] + tolerance\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (isCurrentA && isActiveB) {\n\t\t\t\t\t\t\t\tcurCollisions.push(\n\t\t\t\t\t\t\t\t\tself ? activeIndex : activeIndex - lengthA);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (isCurrentB && isActiveA) {\n\t\t\t\t\t\t\t\tallCollisions[activeIndex].push(origIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isCurrentA) {\n\t\t\t\tif (boundsA === boundsB) {\n\t\t\t\t\tcurCollisions.push(curIndex);\n\t\t\t\t}\n\t\t\t\tallCollisions[curIndex] = curCollisions;\n\t\t\t}\n\t\t\tif (activeIndicesByPri1.length) {\n\t\t\t\tvar curPri1 = curBounds[pri1],\n\t\t\t\t\tindex = binarySearch(activeIndicesByPri1, pri1, curPri1);\n\t\t\t\tactiveIndicesByPri1.splice(index + 1, 0, curIndex);\n\t\t\t} else {\n\t\t\t\tactiveIndicesByPri1.push(curIndex);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < allCollisions.length; i++) {\n\t\t\tvar collisions = allCollisions[i];\n\t\t\tif (collisions) {\n\t\t\t\tcollisions.sort(function(i1, i2) { return i1 - i2; });\n\t\t\t}\n\t\t}\n\t\treturn allCollisions;\n\t}\n};\n\nvar Formatter = Base.extend({\n\tinitialize: function(precision) {\n\t\tthis.precision = Base.pick(precision, 5);\n\t\tthis.multiplier = Math.pow(10, this.precision);\n\t},\n\n\tnumber: function(val) {\n\t\treturn this.precision < 16\n\t\t\t\t? Math.round(val * this.multiplier) / this.multiplier : val;\n\t},\n\n\tpair: function(val1, val2, separator) {\n\t\treturn this.number(val1) + (separator || ',') + this.number(val2);\n\t},\n\n\tpoint: function(val, separator) {\n\t\treturn this.number(val.x) + (separator || ',') + this.number(val.y);\n\t},\n\n\tsize: function(val, separator) {\n\t\treturn this.number(val.width) + (separator || ',')\n\t\t\t\t+ this.number(val.height);\n\t},\n\n\trectangle: function(val, separator) {\n\t\treturn this.point(val, separator) + (separator || ',')\n\t\t\t\t+ this.size(val, separator);\n\t}\n});\n\nFormatter.instance = new Formatter();\n\nvar Numerical = new function() {\n\n\tvar abscissas = [\n\t\t[  0.5773502691896257645091488],\n\t\t[0,0.7745966692414833770358531],\n\t\t[  0.3399810435848562648026658,0.8611363115940525752239465],\n\t\t[0,0.5384693101056830910363144,0.9061798459386639927976269],\n\t\t[  0.2386191860831969086305017,0.6612093864662645136613996,0.9324695142031520278123016],\n\t\t[0,0.4058451513773971669066064,0.7415311855993944398638648,0.9491079123427585245261897],\n\t\t[  0.1834346424956498049394761,0.5255324099163289858177390,0.7966664774136267395915539,0.9602898564975362316835609],\n\t\t[0,0.3242534234038089290385380,0.6133714327005903973087020,0.8360311073266357942994298,0.9681602395076260898355762],\n\t\t[  0.1488743389816312108848260,0.4333953941292471907992659,0.6794095682990244062343274,0.8650633666889845107320967,0.9739065285171717200779640],\n\t\t[0,0.2695431559523449723315320,0.5190961292068118159257257,0.7301520055740493240934163,0.8870625997680952990751578,0.9782286581460569928039380],\n\t\t[  0.1252334085114689154724414,0.3678314989981801937526915,0.5873179542866174472967024,0.7699026741943046870368938,0.9041172563704748566784659,0.9815606342467192506905491],\n\t\t[0,0.2304583159551347940655281,0.4484927510364468528779129,0.6423493394403402206439846,0.8015780907333099127942065,0.9175983992229779652065478,0.9841830547185881494728294],\n\t\t[  0.1080549487073436620662447,0.3191123689278897604356718,0.5152486363581540919652907,0.6872929048116854701480198,0.8272013150697649931897947,0.9284348836635735173363911,0.9862838086968123388415973],\n\t\t[0,0.2011940939974345223006283,0.3941513470775633698972074,0.5709721726085388475372267,0.7244177313601700474161861,0.8482065834104272162006483,0.9372733924007059043077589,0.9879925180204854284895657],\n\t\t[  0.0950125098376374401853193,0.2816035507792589132304605,0.4580167776572273863424194,0.6178762444026437484466718,0.7554044083550030338951012,0.8656312023878317438804679,0.9445750230732325760779884,0.9894009349916499325961542]\n\t];\n\n\tvar weights = [\n\t\t[1],\n\t\t[0.8888888888888888888888889,0.5555555555555555555555556],\n\t\t[0.6521451548625461426269361,0.3478548451374538573730639],\n\t\t[0.5688888888888888888888889,0.4786286704993664680412915,0.2369268850561890875142640],\n\t\t[0.4679139345726910473898703,0.3607615730481386075698335,0.1713244923791703450402961],\n\t\t[0.4179591836734693877551020,0.3818300505051189449503698,0.2797053914892766679014678,0.1294849661688696932706114],\n\t\t[0.3626837833783619829651504,0.3137066458778872873379622,0.2223810344533744705443560,0.1012285362903762591525314],\n\t\t[0.3302393550012597631645251,0.3123470770400028400686304,0.2606106964029354623187429,0.1806481606948574040584720,0.0812743883615744119718922],\n\t\t[0.2955242247147528701738930,0.2692667193099963550912269,0.2190863625159820439955349,0.1494513491505805931457763,0.0666713443086881375935688],\n\t\t[0.2729250867779006307144835,0.2628045445102466621806889,0.2331937645919904799185237,0.1862902109277342514260976,0.1255803694649046246346943,0.0556685671161736664827537],\n\t\t[0.2491470458134027850005624,0.2334925365383548087608499,0.2031674267230659217490645,0.1600783285433462263346525,0.1069393259953184309602547,0.0471753363865118271946160],\n\t\t[0.2325515532308739101945895,0.2262831802628972384120902,0.2078160475368885023125232,0.1781459807619457382800467,0.1388735102197872384636018,0.0921214998377284479144218,0.0404840047653158795200216],\n\t\t[0.2152638534631577901958764,0.2051984637212956039659241,0.1855383974779378137417166,0.1572031671581935345696019,0.1215185706879031846894148,0.0801580871597602098056333,0.0351194603317518630318329],\n\t\t[0.2025782419255612728806202,0.1984314853271115764561183,0.1861610000155622110268006,0.1662692058169939335532009,0.1395706779261543144478048,0.1071592204671719350118695,0.0703660474881081247092674,0.0307532419961172683546284],\n\t\t[0.1894506104550684962853967,0.1826034150449235888667637,0.1691565193950025381893121,0.1495959888165767320815017,0.1246289712555338720524763,0.0951585116824927848099251,0.0622535239386478928628438,0.0271524594117540948517806]\n\t];\n\n\tvar abs = Math.abs,\n\t\tsqrt = Math.sqrt,\n\t\tpow = Math.pow,\n\t\tlog2 = Math.log2 || function(x) {\n\t\t\treturn Math.log(x) * Math.LOG2E;\n\t\t},\n\t\tEPSILON = 1e-12,\n\t\tMACHINE_EPSILON = 1.12e-16;\n\n\tfunction clamp(value, min, max) {\n\t\treturn value < min ? min : value > max ? max : value;\n\t}\n\n\tfunction getDiscriminant(a, b, c) {\n\t\tfunction split(v) {\n\t\t\tvar x = v * 134217729,\n\t\t\t\ty = v - x,\n\t\t\t\thi = y + x,\n\t\t\t\tlo = v - hi;\n\t\t\treturn [hi, lo];\n\t\t}\n\n\t\tvar D = b * b - a * c,\n\t\t\tE = b * b + a * c;\n\t\tif (abs(D) * 3 < E) {\n\t\t\tvar ad = split(a),\n\t\t\t\tbd = split(b),\n\t\t\t\tcd = split(c),\n\t\t\t\tp = b * b,\n\t\t\t\tdp = (bd[0] * bd[0] - p + 2 * bd[0] * bd[1]) + bd[1] * bd[1],\n\t\t\t\tq = a * c,\n\t\t\t\tdq = (ad[0] * cd[0] - q + ad[0] * cd[1] + ad[1] * cd[0])\n\t\t\t\t\t\t+ ad[1] * cd[1];\n\t\t\tD = (p - q) + (dp - dq);\n\t\t}\n\t\treturn D;\n\t}\n\n\tfunction getNormalizationFactor() {\n\t\tvar norm = Math.max.apply(Math, arguments);\n\t\treturn norm && (norm < 1e-8 || norm > 1e8)\n\t\t\t\t? pow(2, -Math.round(log2(norm)))\n\t\t\t\t: 0;\n\t}\n\n\treturn {\n\t\tEPSILON: EPSILON,\n\t\tMACHINE_EPSILON: MACHINE_EPSILON,\n\t\tCURVETIME_EPSILON: 1e-8,\n\t\tGEOMETRIC_EPSILON: 1e-7,\n\t\tTRIGONOMETRIC_EPSILON: 1e-8,\n\t\tKAPPA: 4 * (sqrt(2) - 1) / 3,\n\n\t\tisZero: function(val) {\n\t\t\treturn val >= -EPSILON && val <= EPSILON;\n\t\t},\n\n\t\tisMachineZero: function(val) {\n\t\t\treturn val >= -MACHINE_EPSILON && val <= MACHINE_EPSILON;\n\t\t},\n\n\t\tclamp: clamp,\n\n\t\tintegrate: function(f, a, b, n) {\n\t\t\tvar x = abscissas[n - 2],\n\t\t\t\tw = weights[n - 2],\n\t\t\t\tA = (b - a) * 0.5,\n\t\t\t\tB = A + a,\n\t\t\t\ti = 0,\n\t\t\t\tm = (n + 1) >> 1,\n\t\t\t\tsum = n & 1 ? w[i++] * f(B) : 0;\n\t\t\twhile (i < m) {\n\t\t\t\tvar Ax = A * x[i];\n\t\t\t\tsum += w[i++] * (f(B + Ax) + f(B - Ax));\n\t\t\t}\n\t\t\treturn A * sum;\n\t\t},\n\n\t\tfindRoot: function(f, df, x, a, b, n, tolerance) {\n\t\t\tfor (var i = 0; i < n; i++) {\n\t\t\t\tvar fx = f(x),\n\t\t\t\t\tdx = fx / df(x),\n\t\t\t\t\tnx = x - dx;\n\t\t\t\tif (abs(dx) < tolerance) {\n\t\t\t\t\tx = nx;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (fx > 0) {\n\t\t\t\t\tb = x;\n\t\t\t\t\tx = nx <= a ? (a + b) * 0.5 : nx;\n\t\t\t\t} else {\n\t\t\t\t\ta = x;\n\t\t\t\t\tx = nx >= b ? (a + b) * 0.5 : nx;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn clamp(x, a, b);\n\t\t},\n\n\t\tsolveQuadratic: function(a, b, c, roots, min, max) {\n\t\t\tvar x1, x2 = Infinity;\n\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\tif (abs(b) < EPSILON)\n\t\t\t\t\treturn abs(c) < EPSILON ? -1 : 0;\n\t\t\t\tx1 = -c / b;\n\t\t\t} else {\n\t\t\t\tb *= -0.5;\n\t\t\t\tvar D = getDiscriminant(a, b, c);\n\t\t\t\tif (D && abs(D) < MACHINE_EPSILON) {\n\t\t\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c));\n\t\t\t\t\tif (f) {\n\t\t\t\t\t\ta *= f;\n\t\t\t\t\t\tb *= f;\n\t\t\t\t\t\tc *= f;\n\t\t\t\t\t\tD = getDiscriminant(a, b, c);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (D >= -MACHINE_EPSILON) {\n\t\t\t\t\tvar Q = D < 0 ? 0 : sqrt(D),\n\t\t\t\t\t\tR = b + (b < 0 ? -Q : Q);\n\t\t\t\t\tif (R === 0) {\n\t\t\t\t\t\tx1 = c / a;\n\t\t\t\t\t\tx2 = -x1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tx1 = R / a;\n\t\t\t\t\t\tx2 = c / R;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar count = 0,\n\t\t\t\tboundless = min == null,\n\t\t\t\tminB = min - EPSILON,\n\t\t\t\tmaxB = max + EPSILON;\n\t\t\tif (isFinite(x1) && (boundless || x1 > minB && x1 < maxB))\n\t\t\t\troots[count++] = boundless ? x1 : clamp(x1, min, max);\n\t\t\tif (x2 !== x1\n\t\t\t\t\t&& isFinite(x2) && (boundless || x2 > minB && x2 < maxB))\n\t\t\t\troots[count++] = boundless ? x2 : clamp(x2, min, max);\n\t\t\treturn count;\n\t\t},\n\n\t\tsolveCubic: function(a, b, c, d, roots, min, max) {\n\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c), abs(d)),\n\t\t\t\tx, b1, c2, qd, q;\n\t\t\tif (f) {\n\t\t\t\ta *= f;\n\t\t\t\tb *= f;\n\t\t\t\tc *= f;\n\t\t\t\td *= f;\n\t\t\t}\n\n\t\t\tfunction evaluate(x0) {\n\t\t\t\tx = x0;\n\t\t\t\tvar tmp = a * x;\n\t\t\t\tb1 = tmp + b;\n\t\t\t\tc2 = b1 * x + c;\n\t\t\t\tqd = (tmp + b1) * x + c2;\n\t\t\t\tq = c2 * x + d;\n\t\t\t}\n\n\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\ta = b;\n\t\t\t\tb1 = c;\n\t\t\t\tc2 = d;\n\t\t\t\tx = Infinity;\n\t\t\t} else if (abs(d) < EPSILON) {\n\t\t\t\tb1 = b;\n\t\t\t\tc2 = c;\n\t\t\t\tx = 0;\n\t\t\t} else {\n\t\t\t\tevaluate(-(b / a) / 3);\n\t\t\t\tvar t = q / a,\n\t\t\t\t\tr = pow(abs(t), 1/3),\n\t\t\t\t\ts = t < 0 ? -1 : 1,\n\t\t\t\t\ttd = -qd / a,\n\t\t\t\t\trd = td > 0 ? 1.324717957244746 * Math.max(r, sqrt(td)) : r,\n\t\t\t\t\tx0 = x - s * rd;\n\t\t\t\tif (x0 !== x) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tevaluate(x0);\n\t\t\t\t\t\tx0 = qd === 0 ? x : x - q / qd / (1 + MACHINE_EPSILON);\n\t\t\t\t\t} while (s * x0 > s * x);\n\t\t\t\t\tif (abs(a) * x * x > abs(d / x)) {\n\t\t\t\t\t\tc2 = -d / x;\n\t\t\t\t\t\tb1 = (c2 - c) / x;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar count = Numerical.solveQuadratic(a, b1, c2, roots, min, max),\n\t\t\t\tboundless = min == null;\n\t\t\tif (isFinite(x) && (count === 0\n\t\t\t\t\t|| count > 0 && x !== roots[0] && x !== roots[1])\n\t\t\t\t\t&& (boundless || x > min - EPSILON && x < max + EPSILON))\n\t\t\t\troots[count++] = boundless ? x : clamp(x, min, max);\n\t\t\treturn count;\n\t\t}\n\t};\n};\n\nvar UID = {\n\t_id: 1,\n\t_pools: {},\n\n\tget: function(name) {\n\t\tif (name) {\n\t\t\tvar pool = this._pools[name];\n\t\t\tif (!pool)\n\t\t\t\tpool = this._pools[name] = { _id: 1 };\n\t\t\treturn pool._id++;\n\t\t} else {\n\t\t\treturn this._id++;\n\t\t}\n\t}\n};\n\nvar Point = Base.extend({\n\t_class: 'Point',\n\t_readIndex: true,\n\n\tinitialize: function Point(arg0, arg1) {\n\t\tvar type = typeof arg0,\n\t\t\treading = this.__read,\n\t\t\tread = 0;\n\t\tif (type === 'number') {\n\t\t\tvar hasY = typeof arg1 === 'number';\n\t\t\tthis._set(arg0, hasY ? arg1 : arg0);\n\t\t\tif (reading)\n\t\t\t\tread = hasY ? 2 : 1;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0);\n\t\t\tif (reading)\n\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else {\n\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\tread = 1;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t} else if ('x' in obj) {\n\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t} else if ('width' in obj) {\n\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t} else if ('angle' in obj) {\n\t\t\t\tthis._set(obj.length || 0, 0);\n\t\t\t\tthis.setAngle(obj.angle || 0);\n\t\t\t} else {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tread = 0;\n\t\t\t}\n\t\t}\n\t\tif (reading)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(x, y) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\treturn this;\n\t},\n\n\tequals: function(point) {\n\t\treturn this === point || point\n\t\t\t\t&& (this.x === point.x && this.y === point.y\n\t\t\t\t\t|| Array.isArray(point)\n\t\t\t\t\t\t&& this.x === point[0] && this.y === point[1])\n\t\t\t\t|| false;\n\t},\n\n\tclone: function() {\n\t\treturn new Point(this.x, this.y);\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ x: ' + f.number(this.x) + ', y: ' + f.number(this.y) + ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.x), f.number(this.y)];\n\t},\n\n\tgetLength: function() {\n\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\n\t},\n\n\tsetLength: function(length) {\n\t\tif (this.isZero()) {\n\t\t\tvar angle = this._angle || 0;\n\t\t\tthis._set(\n\t\t\t\tMath.cos(angle) * length,\n\t\t\t\tMath.sin(angle) * length\n\t\t\t);\n\t\t} else {\n\t\t\tvar scale = length / this.getLength();\n\t\t\tif (Numerical.isZero(scale))\n\t\t\t\tthis.getAngle();\n\t\t\tthis._set(\n\t\t\t\tthis.x * scale,\n\t\t\t\tthis.y * scale\n\t\t\t);\n\t\t}\n\t},\n\tgetAngle: function() {\n\t\treturn this.getAngleInRadians.apply(this, arguments) * 180 / Math.PI;\n\t},\n\n\tsetAngle: function(angle) {\n\t\tthis.setAngleInRadians.call(this, angle * Math.PI / 180);\n\t},\n\n\tgetAngleInDegrees: '#getAngle',\n\tsetAngleInDegrees: '#setAngle',\n\n\tgetAngleInRadians: function() {\n\t\tif (!arguments.length) {\n\t\t\treturn this.isZero()\n\t\t\t\t\t? this._angle || 0\n\t\t\t\t\t: this._angle = Math.atan2(this.y, this.x);\n\t\t} else {\n\t\t\tvar point = Point.read(arguments),\n\t\t\t\tdiv = this.getLength() * point.getLength();\n\t\t\tif (Numerical.isZero(div)) {\n\t\t\t\treturn NaN;\n\t\t\t} else {\n\t\t\t\tvar a = this.dot(point) / div;\n\t\t\t\treturn Math.acos(a < -1 ? -1 : a > 1 ? 1 : a);\n\t\t\t}\n\t\t}\n\t},\n\n\tsetAngleInRadians: function(angle) {\n\t\tthis._angle = angle;\n\t\tif (!this.isZero()) {\n\t\t\tvar length = this.getLength();\n\t\t\tthis._set(\n\t\t\t\tMath.cos(angle) * length,\n\t\t\t\tMath.sin(angle) * length\n\t\t\t);\n\t\t}\n\t},\n\n\tgetQuadrant: function() {\n\t\treturn this.x >= 0 ? this.y >= 0 ? 1 : 4 : this.y >= 0 ? 2 : 3;\n\t}\n}, {\n\tbeans: false,\n\n\tgetDirectedAngle: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Math.atan2(this.cross(point), this.dot(point)) * 180 / Math.PI;\n\t},\n\n\tgetDistance: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\tx = point.x - this.x,\n\t\t\ty = point.y - this.y,\n\t\t\td = x * x + y * y,\n\t\t\tsquared = Base.read(args);\n\t\treturn squared ? d : Math.sqrt(d);\n\t},\n\n\tnormalize: function(length) {\n\t\tif (length === undefined)\n\t\t\tlength = 1;\n\t\tvar current = this.getLength(),\n\t\t\tscale = current !== 0 ? length / current : 0,\n\t\t\tpoint = new Point(this.x * scale, this.y * scale);\n\t\tif (scale >= 0)\n\t\t\tpoint._angle = this._angle;\n\t\treturn point;\n\t},\n\n\trotate: function(angle, center) {\n\t\tif (angle === 0)\n\t\t\treturn this.clone();\n\t\tangle = angle * Math.PI / 180;\n\t\tvar point = center ? this.subtract(center) : this,\n\t\t\tsin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle);\n\t\tpoint = new Point(\n\t\t\tpoint.x * cos - point.y * sin,\n\t\t\tpoint.x * sin + point.y * cos\n\t\t);\n\t\treturn center ? point.add(center) : point;\n\t},\n\n\ttransform: function(matrix) {\n\t\treturn matrix ? matrix._transformPoint(this) : this;\n\t},\n\n\tadd: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x + point.x, this.y + point.y);\n\t},\n\n\tsubtract: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x - point.x, this.y - point.y);\n\t},\n\n\tmultiply: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x * point.x, this.y * point.y);\n\t},\n\n\tdivide: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x / point.x, this.y / point.y);\n\t},\n\n\tmodulo: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x % point.x, this.y % point.y);\n\t},\n\n\tnegate: function() {\n\t\treturn new Point(-this.x, -this.y);\n\t},\n\n\tisInside: function() {\n\t\treturn Rectangle.read(arguments).contains(this);\n\t},\n\n\tisClose: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\ttolerance = Base.read(args);\n\t\treturn this.getDistance(point) <= tolerance;\n\t},\n\n\tisCollinear: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Point.isCollinear(this.x, this.y, point.x, point.y);\n\t},\n\n\tisColinear: '#isCollinear',\n\n\tisOrthogonal: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Point.isOrthogonal(this.x, this.y, point.x, point.y);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this.x) && isZero(this.y);\n\t},\n\n\tisNaN: function() {\n\t\treturn isNaN(this.x) || isNaN(this.y);\n\t},\n\n\tisInQuadrant: function(q) {\n\t\treturn this.x * (q > 1 && q < 4 ? -1 : 1) >= 0\n\t\t\t&& this.y * (q > 2 ? -1 : 1) >= 0;\n\t},\n\n\tdot: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn this.x * point.x + this.y * point.y;\n\t},\n\n\tcross: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn this.x * point.y - this.y * point.x;\n\t},\n\n\tproject: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tscale = point.isZero() ? 0 : this.dot(point) / point.dot(point);\n\t\treturn new Point(\n\t\t\tpoint.x * scale,\n\t\t\tpoint.y * scale\n\t\t);\n\t},\n\n\tstatics: {\n\t\tmin: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tpoint1 = Point.read(args),\n\t\t\t\tpoint2 = Point.read(args);\n\t\t\treturn new Point(\n\t\t\t\tMath.min(point1.x, point2.x),\n\t\t\t\tMath.min(point1.y, point2.y)\n\t\t\t);\n\t\t},\n\n\t\tmax: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tpoint1 = Point.read(args),\n\t\t\t\tpoint2 = Point.read(args);\n\t\t\treturn new Point(\n\t\t\t\tMath.max(point1.x, point2.x),\n\t\t\t\tMath.max(point1.y, point2.y)\n\t\t\t);\n\t\t},\n\n\t\trandom: function() {\n\t\t\treturn new Point(Math.random(), Math.random());\n\t\t},\n\n\t\tisCollinear: function(x1, y1, x2, y2) {\n\t\t\treturn Math.abs(x1 * y2 - y1 * x2)\n\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t* 1e-8;\n\t\t},\n\n\t\tisOrthogonal: function(x1, y1, x2, y2) {\n\t\t\treturn Math.abs(x1 * x2 + y1 * y2)\n\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t* 1e-8;\n\t\t}\n\t}\n}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\tvar op = Math[key];\n\tthis[key] = function() {\n\t\treturn new Point(op(this.x), op(this.y));\n\t};\n}, {}));\n\nvar LinkedPoint = Point.extend({\n\tinitialize: function Point(x, y, owner, setter) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(x, y, _dontNotify) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t},\n\n\tgetX: function() {\n\t\treturn this._x;\n\t},\n\n\tsetX: function(x) {\n\t\tthis._x = x;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tgetY: function() {\n\t\treturn this._y;\n\t},\n\n\tsetY: function(y) {\n\t\tthis._y = y;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._owner._selection & this._getSelection());\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._owner._changeSelection(this._getSelection(), selected);\n\t},\n\n\t_getSelection: function() {\n\t\treturn this._setter === 'setPosition' ? 4 : 0;\n\t}\n});\n\nvar Size = Base.extend({\n\t_class: 'Size',\n\t_readIndex: true,\n\n\tinitialize: function Size(arg0, arg1) {\n\t\tvar type = typeof arg0,\n\t\t\treading = this.__read,\n\t\t\tread = 0;\n\t\tif (type === 'number') {\n\t\t\tvar hasHeight = typeof arg1 === 'number';\n\t\t\tthis._set(arg0, hasHeight ? arg1 : arg0);\n\t\t\tif (reading)\n\t\t\t\tread = hasHeight ? 2 : 1;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0);\n\t\t\tif (reading)\n\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else {\n\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\tread = 1;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t} else if ('width' in obj) {\n\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t} else if ('x' in obj) {\n\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t} else {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tread = 0;\n\t\t\t}\n\t\t}\n\t\tif (reading)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(width, height) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t},\n\n\tequals: function(size) {\n\t\treturn size === this || size && (this.width === size.width\n\t\t\t\t&& this.height === size.height\n\t\t\t\t|| Array.isArray(size) && this.width === size[0]\n\t\t\t\t\t&& this.height === size[1]) || false;\n\t},\n\n\tclone: function() {\n\t\treturn new Size(this.width, this.height);\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ width: ' + f.number(this.width)\n\t\t\t\t+ ', height: ' + f.number(this.height) + ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.width),\n\t\t\t\tf.number(this.height)];\n\t},\n\n\tadd: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width + size.width, this.height + size.height);\n\t},\n\n\tsubtract: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width - size.width, this.height - size.height);\n\t},\n\n\tmultiply: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width * size.width, this.height * size.height);\n\t},\n\n\tdivide: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width / size.width, this.height / size.height);\n\t},\n\n\tmodulo: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width % size.width, this.height % size.height);\n\t},\n\n\tnegate: function() {\n\t\treturn new Size(-this.width, -this.height);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this.width) && isZero(this.height);\n\t},\n\n\tisNaN: function() {\n\t\treturn isNaN(this.width) || isNaN(this.height);\n\t},\n\n\tstatics: {\n\t\tmin: function(size1, size2) {\n\t\t\treturn new Size(\n\t\t\t\tMath.min(size1.width, size2.width),\n\t\t\t\tMath.min(size1.height, size2.height));\n\t\t},\n\n\t\tmax: function(size1, size2) {\n\t\t\treturn new Size(\n\t\t\t\tMath.max(size1.width, size2.width),\n\t\t\t\tMath.max(size1.height, size2.height));\n\t\t},\n\n\t\trandom: function() {\n\t\t\treturn new Size(Math.random(), Math.random());\n\t\t}\n\t}\n}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\tvar op = Math[key];\n\tthis[key] = function() {\n\t\treturn new Size(op(this.width), op(this.height));\n\t};\n}, {}));\n\nvar LinkedSize = Size.extend({\n\tinitialize: function Size(width, height, owner, setter) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(width, height, _dontNotify) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t},\n\n\tgetWidth: function() {\n\t\treturn this._width;\n\t},\n\n\tsetWidth: function(width) {\n\t\tthis._width = width;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tgetHeight: function() {\n\t\treturn this._height;\n\t},\n\n\tsetHeight: function(height) {\n\t\tthis._height = height;\n\t\tthis._owner[this._setter](this);\n\t}\n});\n\nvar Rectangle = Base.extend({\n\t_class: 'Rectangle',\n\t_readIndex: true,\n\tbeans: true,\n\n\tinitialize: function Rectangle(arg0, arg1, arg2, arg3) {\n\t\tvar args = arguments,\n\t\t\ttype = typeof arg0,\n\t\t\tread;\n\t\tif (type === 'number') {\n\t\t\tthis._set(arg0, arg1, arg2, arg3);\n\t\t\tread = 4;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0, 0, 0);\n\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else if (args.length === 1) {\n\t\t\tif (Array.isArray(arg0)) {\n\t\t\t\tthis._set.apply(this, arg0);\n\t\t\t\tread = 1;\n\t\t\t} else if (arg0.x !== undefined || arg0.width !== undefined) {\n\t\t\t\tthis._set(arg0.x || 0, arg0.y || 0,\n\t\t\t\t\t\targ0.width || 0, arg0.height || 0);\n\t\t\t\tread = 1;\n\t\t\t} else if (arg0.from === undefined && arg0.to === undefined) {\n\t\t\t\tthis._set(0, 0, 0, 0);\n\t\t\t\tif (Base.readSupported(args, this)) {\n\t\t\t\t\tread = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (read === undefined) {\n\t\t\tvar frm = Point.readNamed(args, 'from'),\n\t\t\t\tnext = Base.peek(args),\n\t\t\t\tx = frm.x,\n\t\t\t\ty = frm.y,\n\t\t\t\twidth,\n\t\t\t\theight;\n\t\t\tif (next && next.x !== undefined || Base.hasNamed(args, 'to')) {\n\t\t\t\tvar to = Point.readNamed(args, 'to');\n\t\t\t\twidth = to.x - x;\n\t\t\t\theight = to.y - y;\n\t\t\t\tif (width < 0) {\n\t\t\t\t\tx = to.x;\n\t\t\t\t\twidth = -width;\n\t\t\t\t}\n\t\t\t\tif (height < 0) {\n\t\t\t\t\ty = to.y;\n\t\t\t\t\theight = -height;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar size = Size.read(args);\n\t\t\t\twidth = size.width;\n\t\t\t\theight = size.height;\n\t\t\t}\n\t\t\tthis._set(x, y, width, height);\n\t\t\tread = args.__index;\n\t\t}\n\t\tvar filtered = args.__filtered;\n\t\tif (filtered)\n\t\t\tthis.__filtered = filtered;\n\t\tif (this.__read)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(x, y, width, height) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t},\n\n\tclone: function() {\n\t\treturn new Rectangle(this.x, this.y, this.width, this.height);\n\t},\n\n\tequals: function(rect) {\n\t\tvar rt = Base.isPlainValue(rect)\n\t\t\t\t? Rectangle.read(arguments)\n\t\t\t\t: rect;\n\t\treturn rt === this\n\t\t\t\t|| rt && this.x === rt.x && this.y === rt.y\n\t\t\t\t\t&& this.width === rt.width && this.height === rt.height\n\t\t\t\t|| false;\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ x: ' + f.number(this.x)\n\t\t\t\t+ ', y: ' + f.number(this.y)\n\t\t\t\t+ ', width: ' + f.number(this.width)\n\t\t\t\t+ ', height: ' + f.number(this.height)\n\t\t\t\t+ ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.x),\n\t\t\t\tf.number(this.y),\n\t\t\t\tf.number(this.width),\n\t\t\t\tf.number(this.height)];\n\t},\n\n\tgetPoint: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\treturn new ctor(this.x, this.y, this, 'setPoint');\n\t},\n\n\tsetPoint: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.x = point.x;\n\t\tthis.y = point.y;\n\t},\n\n\tgetSize: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Size : LinkedSize;\n\t\treturn new ctor(this.width, this.height, this, 'setSize');\n\t},\n\n\t_fw: 1,\n\t_fh: 1,\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments),\n\t\t\tsx = this._sx,\n\t\t\tsy = this._sy,\n\t\t\tw = size.width,\n\t\t\th = size.height;\n\t\tif (sx) {\n\t\t\tthis.x += (this.width - w) * sx;\n\t\t}\n\t\tif (sy) {\n\t\t\tthis.y += (this.height - h) * sy;\n\t\t}\n\t\tthis.width = w;\n\t\tthis.height = h;\n\t\tthis._fw = this._fh = 1;\n\t},\n\n\tgetLeft: function() {\n\t\treturn this.x;\n\t},\n\n\tsetLeft: function(left) {\n\t\tif (!this._fw) {\n\t\t\tvar amount = left - this.x;\n\t\t\tthis.width -= this._sx === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.x = left;\n\t\tthis._sx = this._fw = 0;\n\t},\n\n\tgetTop: function() {\n\t\treturn this.y;\n\t},\n\n\tsetTop: function(top) {\n\t\tif (!this._fh) {\n\t\t\tvar amount = top - this.y;\n\t\t\tthis.height -= this._sy === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.y = top;\n\t\tthis._sy = this._fh = 0;\n\t},\n\n\tgetRight: function() {\n\t\treturn this.x + this.width;\n\t},\n\n\tsetRight: function(right) {\n\t\tif (!this._fw) {\n\t\t\tvar amount = right - this.x;\n\t\t\tthis.width = this._sx === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.x = right - this.width;\n\t\tthis._sx = 1;\n\t\tthis._fw = 0;\n\t},\n\n\tgetBottom: function() {\n\t\treturn this.y + this.height;\n\t},\n\n\tsetBottom: function(bottom) {\n\t\tif (!this._fh) {\n\t\t\tvar amount = bottom - this.y;\n\t\t\tthis.height = this._sy === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.y = bottom - this.height;\n\t\tthis._sy = 1;\n\t\tthis._fh = 0;\n\t},\n\n\tgetCenterX: function() {\n\t\treturn this.x + this.width / 2;\n\t},\n\n\tsetCenterX: function(x) {\n\t\tif (this._fw || this._sx === 0.5) {\n\t\t\tthis.x = x - this.width / 2;\n\t\t} else {\n\t\t\tif (this._sx) {\n\t\t\t\tthis.x += (x - this.x) * 2 * this._sx;\n\t\t\t}\n\t\t\tthis.width = (x - this.x) * 2;\n\t\t}\n\t\tthis._sx = 0.5;\n\t\tthis._fw = 0;\n\t},\n\n\tgetCenterY: function() {\n\t\treturn this.y + this.height / 2;\n\t},\n\n\tsetCenterY: function(y) {\n\t\tif (this._fh || this._sy === 0.5) {\n\t\t\tthis.y = y - this.height / 2;\n\t\t} else {\n\t\t\tif (this._sy) {\n\t\t\t\tthis.y += (y - this.y) * 2 * this._sy;\n\t\t\t}\n\t\t\tthis.height = (y - this.y) * 2;\n\t\t}\n\t\tthis._sy = 0.5;\n\t\tthis._fh = 0;\n\t},\n\n\tgetCenter: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\treturn new ctor(this.getCenterX(), this.getCenterY(), this, 'setCenter');\n\t},\n\n\tsetCenter: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.setCenterX(point.x);\n\t\tthis.setCenterY(point.y);\n\t\treturn this;\n\t},\n\n\tgetArea: function() {\n\t\treturn this.width * this.height;\n\t},\n\n\tisEmpty: function() {\n\t\treturn this.width === 0 || this.height === 0;\n\t},\n\n\tcontains: function(arg) {\n\t\treturn arg && arg.width !== undefined\n\t\t\t\t|| (Array.isArray(arg) ? arg : arguments).length === 4\n\t\t\t\t? this._containsRectangle(Rectangle.read(arguments))\n\t\t\t\t: this._containsPoint(Point.read(arguments));\n\t},\n\n\t_containsPoint: function(point) {\n\t\tvar x = point.x,\n\t\t\ty = point.y;\n\t\treturn x >= this.x && y >= this.y\n\t\t\t\t&& x <= this.x + this.width\n\t\t\t\t&& y <= this.y + this.height;\n\t},\n\n\t_containsRectangle: function(rect) {\n\t\tvar x = rect.x,\n\t\t\ty = rect.y;\n\t\treturn x >= this.x && y >= this.y\n\t\t\t\t&& x + rect.width <= this.x + this.width\n\t\t\t\t&& y + rect.height <= this.y + this.height;\n\t},\n\n\tintersects: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tepsilon = Base.read(arguments) || 0;\n\t\treturn rect.x + rect.width > this.x - epsilon\n\t\t\t\t&& rect.y + rect.height > this.y - epsilon\n\t\t\t\t&& rect.x < this.x + this.width + epsilon\n\t\t\t\t&& rect.y < this.y + this.height + epsilon;\n\t},\n\n\tintersect: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tx1 = Math.max(this.x, rect.x),\n\t\t\ty1 = Math.max(this.y, rect.y),\n\t\t\tx2 = Math.min(this.x + this.width, rect.x + rect.width),\n\t\t\ty2 = Math.min(this.y + this.height, rect.y + rect.height);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\tunite: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tx1 = Math.min(this.x, rect.x),\n\t\t\ty1 = Math.min(this.y, rect.y),\n\t\t\tx2 = Math.max(this.x + this.width, rect.x + rect.width),\n\t\t\ty2 = Math.max(this.y + this.height, rect.y + rect.height);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\tinclude: function() {\n\t\tvar point = Point.read(arguments);\n\t\tvar x1 = Math.min(this.x, point.x),\n\t\t\ty1 = Math.min(this.y, point.y),\n\t\t\tx2 = Math.max(this.x + this.width, point.x),\n\t\t\ty2 = Math.max(this.y + this.height, point.y);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\texpand: function() {\n\t\tvar amount = Size.read(arguments),\n\t\t\thor = amount.width,\n\t\t\tver = amount.height;\n\t\treturn new Rectangle(this.x - hor / 2, this.y - ver / 2,\n\t\t\t\tthis.width + hor, this.height + ver);\n\t},\n\n\tscale: function(hor, ver) {\n\t\treturn this.expand(this.width * hor - this.width,\n\t\t\t\tthis.height * (ver === undefined ? hor : ver) - this.height);\n\t}\n}, Base.each([\n\t\t['Top', 'Left'], ['Top', 'Right'],\n\t\t['Bottom', 'Left'], ['Bottom', 'Right'],\n\t\t['Left', 'Center'], ['Top', 'Center'],\n\t\t['Right', 'Center'], ['Bottom', 'Center']\n\t],\n\tfunction(parts, index) {\n\t\tvar part = parts.join(''),\n\t\t\txFirst = /^[RL]/.test(part);\n\t\tif (index >= 4)\n\t\t\tparts[1] += xFirst ? 'Y' : 'X';\n\t\tvar x = parts[xFirst ? 0 : 1],\n\t\t\ty = parts[xFirst ? 1 : 0],\n\t\t\tgetX = 'get' + x,\n\t\t\tgetY = 'get' + y,\n\t\t\tsetX = 'set' + x,\n\t\t\tsetY = 'set' + y,\n\t\t\tget = 'get' + part,\n\t\t\tset = 'set' + part;\n\t\tthis[get] = function(_dontLink) {\n\t\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\t\treturn new ctor(this[getX](), this[getY](), this, set);\n\t\t};\n\t\tthis[set] = function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\tthis[setX](point.x);\n\t\t\tthis[setY](point.y);\n\t\t};\n\t}, {\n\t\tbeans: true\n\t}\n));\n\nvar LinkedRectangle = Rectangle.extend({\n\tinitialize: function Rectangle(x, y, width, height, owner, setter) {\n\t\tthis._set(x, y, width, height, true);\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(x, y, width, height, _dontNotify) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t}\n},\nnew function() {\n\tvar proto = Rectangle.prototype;\n\n\treturn Base.each(['x', 'y', 'width', 'height'], function(key) {\n\t\tvar part = Base.capitalize(key),\n\t\t\tinternal = '_' + key;\n\t\tthis['get' + part] = function() {\n\t\t\treturn this[internal];\n\t\t};\n\n\t\tthis['set' + part] = function(value) {\n\t\t\tthis[internal] = value;\n\t\t\tif (!this._dontNotify)\n\t\t\t\tthis._owner[this._setter](this);\n\t\t};\n\t}, Base.each(['Point', 'Size', 'Center',\n\t\t\t'Left', 'Top', 'Right', 'Bottom', 'CenterX', 'CenterY',\n\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'],\n\t\tfunction(key) {\n\t\t\tvar name = 'set' + key;\n\t\t\tthis[name] = function() {\n\t\t\t\tthis._dontNotify = true;\n\t\t\t\tproto[name].apply(this, arguments);\n\t\t\t\tthis._dontNotify = false;\n\t\t\t\tthis._owner[this._setter](this);\n\t\t\t};\n\t\t}, {\n\t\t\tisSelected: function() {\n\t\t\t\treturn !!(this._owner._selection & 2);\n\t\t\t},\n\n\t\t\tsetSelected: function(selected) {\n\t\t\t\tvar owner = this._owner;\n\t\t\t\tif (owner._changeSelection) {\n\t\t\t\t\towner._changeSelection(2, selected);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t);\n});\n\nvar Matrix = Base.extend({\n\t_class: 'Matrix',\n\n\tinitialize: function Matrix(arg, _dontNotify) {\n\t\tvar args = arguments,\n\t\t\tcount = args.length,\n\t\t\tok = true;\n\t\tif (count >= 6) {\n\t\t\tthis._set.apply(this, args);\n\t\t} else if (count === 1 || count === 2) {\n\t\t\tif (arg instanceof Matrix) {\n\t\t\t\tthis._set(arg._a, arg._b, arg._c, arg._d, arg._tx, arg._ty,\n\t\t\t\t\t\t_dontNotify);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tthis._set.apply(this,\n\t\t\t\t\t\t_dontNotify ? arg.concat([_dontNotify]) : arg);\n\t\t\t} else {\n\t\t\t\tok = false;\n\t\t\t}\n\t\t} else if (!count) {\n\t\t\tthis.reset();\n\t\t} else {\n\t\t\tok = false;\n\t\t}\n\t\tif (!ok) {\n\t\t\tthrow new Error('Unsupported matrix parameters');\n\t\t}\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(a, b, c, d, tx, ty, _dontNotify) {\n\t\tthis._a = a;\n\t\tthis._b = b;\n\t\tthis._c = c;\n\t\tthis._d = d;\n\t\tthis._tx = tx;\n\t\tthis._ty = ty;\n\t\tif (!_dontNotify)\n\t\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this.getValues(), options, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tvar owner = this._owner;\n\t\tif (owner) {\n\t\t\tif (owner._applyMatrix) {\n\t\t\t\towner.transform(null, true);\n\t\t\t} else {\n\t\t\t\towner._changed(25);\n\t\t\t}\n\t\t}\n\t},\n\n\tclone: function() {\n\t\treturn new Matrix(this._a, this._b, this._c, this._d,\n\t\t\t\tthis._tx, this._ty);\n\t},\n\n\tequals: function(mx) {\n\t\treturn mx === this || mx && this._a === mx._a && this._b === mx._b\n\t\t\t\t&& this._c === mx._c && this._d === mx._d\n\t\t\t\t&& this._tx === mx._tx && this._ty === mx._ty;\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '[[' + [f.number(this._a), f.number(this._c),\n\t\t\t\t\tf.number(this._tx)].join(', ') + '], ['\n\t\t\t\t+ [f.number(this._b), f.number(this._d),\n\t\t\t\t\tf.number(this._ty)].join(', ') + ']]';\n\t},\n\n\treset: function(_dontNotify) {\n\t\tthis._a = this._d = 1;\n\t\tthis._b = this._c = this._tx = this._ty = 0;\n\t\tif (!_dontNotify)\n\t\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tapply: function(recursively, _setApplyMatrix) {\n\t\tvar owner = this._owner;\n\t\tif (owner) {\n\t\t\towner.transform(null, Base.pick(recursively, true), _setApplyMatrix);\n\t\t\treturn this.isIdentity();\n\t\t}\n\t\treturn false;\n\t},\n\n\ttranslate: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tx = point.x,\n\t\t\ty = point.y;\n\t\tthis._tx += x * this._a + y * this._c;\n\t\tthis._ty += x * this._b + y * this._d;\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tscale: function() {\n\t\tvar args = arguments,\n\t\t\tscale = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\tif (center)\n\t\t\tthis.translate(center);\n\t\tthis._a *= scale.x;\n\t\tthis._b *= scale.x;\n\t\tthis._c *= scale.y;\n\t\tthis._d *= scale.y;\n\t\tif (center)\n\t\t\tthis.translate(center.negate());\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\trotate: function(angle ) {\n\t\tangle *= Math.PI / 180;\n\t\tvar center = Point.read(arguments, 1),\n\t\t\tx = center.x,\n\t\t\ty = center.y,\n\t\t\tcos = Math.cos(angle),\n\t\t\tsin = Math.sin(angle),\n\t\t\ttx = x - x * cos + y * sin,\n\t\t\tty = y - x * sin - y * cos,\n\t\t\ta = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d;\n\t\tthis._a = cos * a + sin * c;\n\t\tthis._b = cos * b + sin * d;\n\t\tthis._c = -sin * a + cos * c;\n\t\tthis._d = -sin * b + cos * d;\n\t\tthis._tx += tx * a + ty * c;\n\t\tthis._ty += tx * b + ty * d;\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tshear: function() {\n\t\tvar args = arguments,\n\t\t\tshear = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\tif (center)\n\t\t\tthis.translate(center);\n\t\tvar a = this._a,\n\t\t\tb = this._b;\n\t\tthis._a += shear.y * this._c;\n\t\tthis._b += shear.y * this._d;\n\t\tthis._c += shear.x * a;\n\t\tthis._d += shear.x * b;\n\t\tif (center)\n\t\t\tthis.translate(center.negate());\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tskew: function() {\n\t\tvar args = arguments,\n\t\t\tskew = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true }),\n\t\t\ttoRadians = Math.PI / 180,\n\t\t\tshear = new Point(Math.tan(skew.x * toRadians),\n\t\t\t\tMath.tan(skew.y * toRadians));\n\t\treturn this.shear(shear, center);\n\t},\n\n\tappend: function(mx, _dontNotify) {\n\t\tif (mx) {\n\t\t\tvar a1 = this._a,\n\t\t\t\tb1 = this._b,\n\t\t\t\tc1 = this._c,\n\t\t\t\td1 = this._d,\n\t\t\t\ta2 = mx._a,\n\t\t\t\tb2 = mx._c,\n\t\t\t\tc2 = mx._b,\n\t\t\t\td2 = mx._d,\n\t\t\t\ttx2 = mx._tx,\n\t\t\t\tty2 = mx._ty;\n\t\t\tthis._a = a2 * a1 + c2 * c1;\n\t\t\tthis._c = b2 * a1 + d2 * c1;\n\t\t\tthis._b = a2 * b1 + c2 * d1;\n\t\t\tthis._d = b2 * b1 + d2 * d1;\n\t\t\tthis._tx += tx2 * a1 + ty2 * c1;\n\t\t\tthis._ty += tx2 * b1 + ty2 * d1;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._changed();\n\t\t}\n\t\treturn this;\n\t},\n\n\tprepend: function(mx, _dontNotify) {\n\t\tif (mx) {\n\t\t\tvar a1 = this._a,\n\t\t\t\tb1 = this._b,\n\t\t\t\tc1 = this._c,\n\t\t\t\td1 = this._d,\n\t\t\t\ttx1 = this._tx,\n\t\t\t\tty1 = this._ty,\n\t\t\t\ta2 = mx._a,\n\t\t\t\tb2 = mx._c,\n\t\t\t\tc2 = mx._b,\n\t\t\t\td2 = mx._d,\n\t\t\t\ttx2 = mx._tx,\n\t\t\t\tty2 = mx._ty;\n\t\t\tthis._a = a2 * a1 + b2 * b1;\n\t\t\tthis._c = a2 * c1 + b2 * d1;\n\t\t\tthis._b = c2 * a1 + d2 * b1;\n\t\t\tthis._d = c2 * c1 + d2 * d1;\n\t\t\tthis._tx = a2 * tx1 + b2 * ty1 + tx2;\n\t\t\tthis._ty = c2 * tx1 + d2 * ty1 + ty2;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._changed();\n\t\t}\n\t\treturn this;\n\t},\n\n\tappended: function(mx) {\n\t\treturn this.clone().append(mx);\n\t},\n\n\tprepended: function(mx) {\n\t\treturn this.clone().prepend(mx);\n\t},\n\n\tinvert: function() {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\ttx = this._tx,\n\t\t\tty = this._ty,\n\t\t\tdet = a * d - b * c,\n\t\t\tres = null;\n\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\tthis._a = d / det;\n\t\t\tthis._b = -b / det;\n\t\t\tthis._c = -c / det;\n\t\t\tthis._d = a / det;\n\t\t\tthis._tx = (c * ty - d * tx) / det;\n\t\t\tthis._ty = (b * tx - a * ty) / det;\n\t\t\tres = this;\n\t\t}\n\t\treturn res;\n\t},\n\n\tinverted: function() {\n\t\treturn this.clone().invert();\n\t},\n\n\tconcatenate: '#append',\n\tpreConcatenate: '#prepend',\n\tchain: '#appended',\n\n\t_shiftless: function() {\n\t\treturn new Matrix(this._a, this._b, this._c, this._d, 0, 0);\n\t},\n\n\t_orNullIfIdentity: function() {\n\t\treturn this.isIdentity() ? null : this;\n\t},\n\n\tisIdentity: function() {\n\t\treturn this._a === 1 && this._b === 0 && this._c === 0 && this._d === 1\n\t\t\t\t&& this._tx === 0 && this._ty === 0;\n\t},\n\n\tisInvertible: function() {\n\t\tvar det = this._a * this._d - this._c * this._b;\n\t\treturn det && !isNaN(det) && isFinite(this._tx) && isFinite(this._ty);\n\t},\n\n\tisSingular: function() {\n\t\treturn !this.isInvertible();\n\t},\n\n\ttransform: function( src, dst, count) {\n\t\treturn arguments.length < 3\n\t\t\t? this._transformPoint(Point.read(arguments))\n\t\t\t: this._transformCoordinates(src, dst, count);\n\t},\n\n\t_transformPoint: function(point, dest, _dontNotify) {\n\t\tvar x = point.x,\n\t\t\ty = point.y;\n\t\tif (!dest)\n\t\t\tdest = new Point();\n\t\treturn dest._set(\n\t\t\t\tx * this._a + y * this._c + this._tx,\n\t\t\t\tx * this._b + y * this._d + this._ty,\n\t\t\t\t_dontNotify);\n\t},\n\n\t_transformCoordinates: function(src, dst, count) {\n\t\tfor (var i = 0, max = 2 * count; i < max; i += 2) {\n\t\t\tvar x = src[i],\n\t\t\t\ty = src[i + 1];\n\t\t\tdst[i] = x * this._a + y * this._c + this._tx;\n\t\t\tdst[i + 1] = x * this._b + y * this._d + this._ty;\n\t\t}\n\t\treturn dst;\n\t},\n\n\t_transformCorners: function(rect) {\n\t\tvar x1 = rect.x,\n\t\t\ty1 = rect.y,\n\t\t\tx2 = x1 + rect.width,\n\t\t\ty2 = y1 + rect.height,\n\t\t\tcoords = [ x1, y1, x2, y1, x2, y2, x1, y2 ];\n\t\treturn this._transformCoordinates(coords, coords, 4);\n\t},\n\n\t_transformBounds: function(bounds, dest, _dontNotify) {\n\t\tvar coords = this._transformCorners(bounds),\n\t\t\tmin = coords.slice(0, 2),\n\t\t\tmax = min.slice();\n\t\tfor (var i = 2; i < 8; i++) {\n\t\t\tvar val = coords[i],\n\t\t\t\tj = i & 1;\n\t\t\tif (val < min[j]) {\n\t\t\t\tmin[j] = val;\n\t\t\t} else if (val > max[j]) {\n\t\t\t\tmax[j] = val;\n\t\t\t}\n\t\t}\n\t\tif (!dest)\n\t\t\tdest = new Rectangle();\n\t\treturn dest._set(min[0], min[1], max[0] - min[0], max[1] - min[1],\n\t\t\t\t_dontNotify);\n\t},\n\n\tinverseTransform: function() {\n\t\treturn this._inverseTransform(Point.read(arguments));\n\t},\n\n\t_inverseTransform: function(point, dest, _dontNotify) {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\ttx = this._tx,\n\t\t\tty = this._ty,\n\t\t\tdet = a * d - b * c,\n\t\t\tres = null;\n\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\tvar x = point.x - this._tx,\n\t\t\t\ty = point.y - this._ty;\n\t\t\tif (!dest)\n\t\t\t\tdest = new Point();\n\t\t\tres = dest._set(\n\t\t\t\t\t(x * d - y * c) / det,\n\t\t\t\t\t(y * a - x * b) / det,\n\t\t\t\t\t_dontNotify);\n\t\t}\n\t\treturn res;\n\t},\n\n\tdecompose: function() {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\tdet = a * d - b * c,\n\t\t\tsqrt = Math.sqrt,\n\t\t\tatan2 = Math.atan2,\n\t\t\tdegrees = 180 / Math.PI,\n\t\t\trotate,\n\t\t\tscale,\n\t\t\tskew;\n\t\tif (a !== 0 || b !== 0) {\n\t\t\tvar r = sqrt(a * a + b * b);\n\t\t\trotate = Math.acos(a / r) * (b > 0 ? 1 : -1);\n\t\t\tscale = [r, det / r];\n\t\t\tskew = [atan2(a * c + b * d, r * r), 0];\n\t\t} else if (c !== 0 || d !== 0) {\n\t\t\tvar s = sqrt(c * c + d * d);\n\t\t\trotate = Math.asin(c / s)  * (d > 0 ? 1 : -1);\n\t\t\tscale = [det / s, s];\n\t\t\tskew = [0, atan2(a * c + b * d, s * s)];\n\t\t} else {\n\t\t\trotate = 0;\n\t\t\tskew = scale = [0, 0];\n\t\t}\n\t\treturn {\n\t\t\ttranslation: this.getTranslation(),\n\t\t\trotation: rotate * degrees,\n\t\t\tscaling: new Point(scale),\n\t\t\tskewing: new Point(skew[0] * degrees, skew[1] * degrees)\n\t\t};\n\t},\n\n\tgetValues: function() {\n\t\treturn [ this._a, this._b, this._c, this._d, this._tx, this._ty ];\n\t},\n\n\tgetTranslation: function() {\n\t\treturn new Point(this._tx, this._ty);\n\t},\n\n\tgetScaling: function() {\n\t\treturn this.decompose().scaling;\n\t},\n\n\tgetRotation: function() {\n\t\treturn this.decompose().rotation;\n\t},\n\n\tapplyToContext: function(ctx) {\n\t\tif (!this.isIdentity()) {\n\t\t\tctx.transform(this._a, this._b, this._c, this._d,\n\t\t\t\t\tthis._tx, this._ty);\n\t\t}\n\t}\n}, Base.each(['a', 'b', 'c', 'd', 'tx', 'ty'], function(key) {\n\tvar part = Base.capitalize(key),\n\t\tprop = '_' + key;\n\tthis['get' + part] = function() {\n\t\treturn this[prop];\n\t};\n\tthis['set' + part] = function(value) {\n\t\tthis[prop] = value;\n\t\tthis._changed();\n\t};\n}, {}));\n\nvar Line = Base.extend({\n\t_class: 'Line',\n\n\tinitialize: function Line(arg0, arg1, arg2, arg3, arg4) {\n\t\tvar asVector = false;\n\t\tif (arguments.length >= 4) {\n\t\t\tthis._px = arg0;\n\t\t\tthis._py = arg1;\n\t\t\tthis._vx = arg2;\n\t\t\tthis._vy = arg3;\n\t\t\tasVector = arg4;\n\t\t} else {\n\t\t\tthis._px = arg0.x;\n\t\t\tthis._py = arg0.y;\n\t\t\tthis._vx = arg1.x;\n\t\t\tthis._vy = arg1.y;\n\t\t\tasVector = arg2;\n\t\t}\n\t\tif (!asVector) {\n\t\t\tthis._vx -= this._px;\n\t\t\tthis._vy -= this._py;\n\t\t}\n\t},\n\n\tgetPoint: function() {\n\t\treturn new Point(this._px, this._py);\n\t},\n\n\tgetVector: function() {\n\t\treturn new Point(this._vx, this._vy);\n\t},\n\n\tgetLength: function() {\n\t\treturn this.getVector().getLength();\n\t},\n\n\tintersect: function(line, isInfinite) {\n\t\treturn Line.intersect(\n\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\tline._px, line._py, line._vx, line._vy,\n\t\t\t\ttrue, isInfinite);\n\t},\n\n\tgetSide: function(point, isInfinite) {\n\t\treturn Line.getSide(\n\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\tpoint.x, point.y, true, isInfinite);\n\t},\n\n\tgetDistance: function(point) {\n\t\treturn Math.abs(this.getSignedDistance(point));\n\t},\n\n\tgetSignedDistance: function(point) {\n\t\treturn Line.getSignedDistance(this._px, this._py, this._vx, this._vy,\n\t\t\t\tpoint.x, point.y, true);\n\t},\n\n\tisCollinear: function(line) {\n\t\treturn Point.isCollinear(this._vx, this._vy, line._vx, line._vy);\n\t},\n\n\tisOrthogonal: function(line) {\n\t\treturn Point.isOrthogonal(this._vx, this._vy, line._vx, line._vy);\n\t},\n\n\tstatics: {\n\t\tintersect: function(p1x, p1y, v1x, v1y, p2x, p2y, v2x, v2y, asVector,\n\t\t\t\tisInfinite) {\n\t\t\tif (!asVector) {\n\t\t\t\tv1x -= p1x;\n\t\t\t\tv1y -= p1y;\n\t\t\t\tv2x -= p2x;\n\t\t\t\tv2y -= p2y;\n\t\t\t}\n\t\t\tvar cross = v1x * v2y - v1y * v2x;\n\t\t\tif (!Numerical.isMachineZero(cross)) {\n\t\t\t\tvar dx = p1x - p2x,\n\t\t\t\t\tdy = p1y - p2y,\n\t\t\t\t\tu1 = (v2x * dy - v2y * dx) / cross,\n\t\t\t\t\tu2 = (v1x * dy - v1y * dx) / cross,\n\t\t\t\t\tepsilon = 1e-12,\n\t\t\t\t\tuMin = -epsilon,\n\t\t\t\t\tuMax = 1 + epsilon;\n\t\t\t\tif (isInfinite\n\t\t\t\t\t\t|| uMin < u1 && u1 < uMax && uMin < u2 && u2 < uMax) {\n\t\t\t\t\tif (!isInfinite) {\n\t\t\t\t\t\tu1 = u1 <= 0 ? 0 : u1 >= 1 ? 1 : u1;\n\t\t\t\t\t}\n\t\t\t\t\treturn new Point(\n\t\t\t\t\t\t\tp1x + u1 * v1x,\n\t\t\t\t\t\t\tp1y + u1 * v1y);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetSide: function(px, py, vx, vy, x, y, asVector, isInfinite) {\n\t\t\tif (!asVector) {\n\t\t\t\tvx -= px;\n\t\t\t\tvy -= py;\n\t\t\t}\n\t\t\tvar v2x = x - px,\n\t\t\t\tv2y = y - py,\n\t\t\t\tccw = v2x * vy - v2y * vx;\n\t\t\tif (!isInfinite && Numerical.isMachineZero(ccw)) {\n\t\t\t\tccw = (v2x * vx + v2x * vx) / (vx * vx + vy * vy);\n\t\t\t\tif (ccw >= 0 && ccw <= 1)\n\t\t\t\t\tccw = 0;\n\t\t\t}\n\t\t\treturn ccw < 0 ? -1 : ccw > 0 ? 1 : 0;\n\t\t},\n\n\t\tgetSignedDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\tif (!asVector) {\n\t\t\t\tvx -= px;\n\t\t\t\tvy -= py;\n\t\t\t}\n\t\t\t  return  vx === 0 ? (vy > 0 ? x - px : px - x)\n\t\t\t\t\t: vy === 0 ? (vx < 0 ? y - py : py - y)\n\t\t\t\t\t: ((x - px) * vy - (y - py) * vx) / (\n\t\t\t\t\t\tvy > vx\n\t\t\t\t\t\t\t? vy * Math.sqrt(1 + (vx * vx) / (vy * vy))\n\t\t\t\t\t\t\t: vx * Math.sqrt(1 + (vy * vy) / (vx * vx))\n\t\t\t\t\t);\n\t\t},\n\n\t\tgetDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\treturn Math.abs(\n\t\t\t\t\tLine.getSignedDistance(px, py, vx, vy, x, y, asVector));\n\t\t}\n\t}\n});\n\nvar Project = PaperScopeItem.extend({\n\t_class: 'Project',\n\t_list: 'projects',\n\t_reference: 'project',\n\t_compactSerialize: true,\n\n\tinitialize: function Project(element) {\n\t\tPaperScopeItem.call(this, true);\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tthis._activeLayer = null;\n\t\tthis._currentStyle = new Style(null, null, this);\n\t\tthis._view = View.create(this,\n\t\t\t\telement || CanvasProvider.getCanvas(1, 1));\n\t\tthis._selectionItems = {};\n\t\tthis._selectionCount = 0;\n\t\tthis._updateVersion = 0;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this._children, options, true, dictionary);\n\t},\n\n\t_changed: function(flags, item) {\n\t\tif (flags & 1) {\n\t\t\tvar view = this._view;\n\t\t\tif (view) {\n\t\t\t\tview._needsUpdate = true;\n\t\t\t\tif (!view._requested && view._autoUpdate)\n\t\t\t\t\tview.requestUpdate();\n\t\t\t}\n\t\t}\n\t\tvar changes = this._changes;\n\t\tif (changes && item) {\n\t\t\tvar changesById = this._changesById,\n\t\t\t\tid = item._id,\n\t\t\t\tentry = changesById[id];\n\t\t\tif (entry) {\n\t\t\t\tentry.flags |= flags;\n\t\t\t} else {\n\t\t\t\tchanges.push(changesById[id] = { item: item, flags: flags });\n\t\t\t}\n\t\t}\n\t},\n\n\tclear: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = children.length - 1; i >= 0; i--)\n\t\t\tchildren[i].remove();\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._children.length;\n\t},\n\n\tremove: function remove() {\n\t\tif (!remove.base.call(this))\n\t\t\treturn false;\n\t\tif (this._view)\n\t\t\tthis._view.remove();\n\t\treturn true;\n\t},\n\n\tgetView: function() {\n\t\treturn this._view;\n\t},\n\n\tgetCurrentStyle: function() {\n\t\treturn this._currentStyle;\n\t},\n\n\tsetCurrentStyle: function(style) {\n\t\tthis._currentStyle.set(style);\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index;\n\t},\n\n\tgetOptions: function() {\n\t\treturn this._scope.settings;\n\t},\n\n\tgetLayers: function() {\n\t\treturn this._children;\n\t},\n\n\tgetActiveLayer: function() {\n\t\treturn this._activeLayer || new Layer({ project: this, insert: true });\n\t},\n\n\tgetSymbolDefinitions: function() {\n\t\tvar definitions = [],\n\t\t\tids = {};\n\t\tthis.getItems({\n\t\t\tclass: SymbolItem,\n\t\t\tmatch: function(item) {\n\t\t\t\tvar definition = item._definition,\n\t\t\t\t\tid = definition._id;\n\t\t\t\tif (!ids[id]) {\n\t\t\t\t\tids[id] = true;\n\t\t\t\t\tdefinitions.push(definition);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\treturn definitions;\n\t},\n\n\tgetSymbols: 'getSymbolDefinitions',\n\n\tgetSelectedItems: function() {\n\t\tvar selectionItems = this._selectionItems,\n\t\t\titems = [];\n\t\tfor (var id in selectionItems) {\n\t\t\tvar item = selectionItems[id],\n\t\t\t\tselection = item._selection;\n\t\t\tif ((selection & 1) && item.isInserted()) {\n\t\t\t\titems.push(item);\n\t\t\t} else if (!selection) {\n\t\t\t\tthis._updateSelection(item);\n\t\t\t}\n\t\t}\n\t\treturn items;\n\t},\n\n\t_updateSelection: function(item) {\n\t\tvar id = item._id,\n\t\t\tselectionItems = this._selectionItems;\n\t\tif (item._selection) {\n\t\t\tif (selectionItems[id] !== item) {\n\t\t\t\tthis._selectionCount++;\n\t\t\t\tselectionItems[id] = item;\n\t\t\t}\n\t\t} else if (selectionItems[id] === item) {\n\t\t\tthis._selectionCount--;\n\t\t\tdelete selectionItems[id];\n\t\t}\n\t},\n\n\tselectAll: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tchildren[i].setFullySelected(true);\n\t},\n\n\tdeselectAll: function() {\n\t\tvar selectionItems = this._selectionItems;\n\t\tfor (var i in selectionItems)\n\t\t\tselectionItems[i].setFullySelected(false);\n\t},\n\n\taddLayer: function(layer) {\n\t\treturn this.insertLayer(undefined, layer);\n\t},\n\n\tinsertLayer: function(index, layer) {\n\t\tif (layer instanceof Layer) {\n\t\t\tlayer._remove(false, true);\n\t\t\tBase.splice(this._children, [layer], index, 0);\n\t\t\tlayer._setProject(this, true);\n\t\t\tvar name = layer._name;\n\t\t\tif (name)\n\t\t\t\tlayer.setName(name);\n\t\t\tif (this._changes)\n\t\t\t\tlayer._changed(5);\n\t\t\tif (!this._activeLayer)\n\t\t\t\tthis._activeLayer = layer;\n\t\t} else {\n\t\t\tlayer = null;\n\t\t}\n\t\treturn layer;\n\t},\n\n\t_insertItem: function(index, item, _created) {\n\t\titem = this.insertLayer(index, item)\n\t\t\t\t|| (this._activeLayer || this._insertItem(undefined,\n\t\t\t\t\t\tnew Layer(Item.NO_INSERT), true))\n\t\t\t\t\t\t.insertChild(index, item);\n\t\tif (_created && item.activate)\n\t\t\titem.activate();\n\t\treturn item;\n\t},\n\n\tgetItems: function(options) {\n\t\treturn Item._getItems(this, options);\n\t},\n\n\tgetItem: function(options) {\n\t\treturn Item._getItems(this, options, null, null, true)[0] || null;\n\t},\n\n\timportJSON: function(json) {\n\t\tthis.activate();\n\t\tvar layer = this._activeLayer;\n\t\treturn Base.importJSON(json, layer && layer.isEmpty() && layer);\n\t},\n\n\tremoveOn: function(type) {\n\t\tvar sets = this._removeSets;\n\t\tif (sets) {\n\t\t\tif (type === 'mouseup')\n\t\t\t\tsets.mousedrag = null;\n\t\t\tvar set = sets[type];\n\t\t\tif (set) {\n\t\t\t\tfor (var id in set) {\n\t\t\t\t\tvar item = set[id];\n\t\t\t\t\tfor (var key in sets) {\n\t\t\t\t\t\tvar other = sets[key];\n\t\t\t\t\t\tif (other && other != set)\n\t\t\t\t\t\t\tdelete other[item._id];\n\t\t\t\t\t}\n\t\t\t\t\titem.remove();\n\t\t\t\t}\n\t\t\t\tsets[type] = null;\n\t\t\t}\n\t\t}\n\t},\n\n\tdraw: function(ctx, matrix, pixelRatio) {\n\t\tthis._updateVersion++;\n\t\tctx.save();\n\t\tmatrix.applyToContext(ctx);\n\t\tvar children = this._children,\n\t\t\tparam = new Base({\n\t\t\t\toffset: new Point(0, 0),\n\t\t\t\tpixelRatio: pixelRatio,\n\t\t\t\tviewMatrix: matrix.isIdentity() ? null : matrix,\n\t\t\t\tmatrices: [new Matrix()],\n\t\t\t\tupdateMatrix: true\n\t\t\t});\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tchildren[i].draw(ctx, param);\n\t\t}\n\t\tctx.restore();\n\n\t\tif (this._selectionCount > 0) {\n\t\t\tctx.save();\n\t\t\tctx.strokeWidth = 1;\n\t\t\tvar items = this._selectionItems,\n\t\t\t\tsize = this._scope.settings.handleSize,\n\t\t\t\tversion = this._updateVersion;\n\t\t\tfor (var id in items) {\n\t\t\t\titems[id]._drawSelection(ctx, matrix, size, items, version);\n\t\t\t}\n\t\t\tctx.restore();\n\t\t}\n\t}\n});\n\nvar Item = Base.extend(Emitter, {\n\tstatics: {\n\t\textend: function extend(src) {\n\t\t\tif (src._serializeFields)\n\t\t\t\tsrc._serializeFields = Base.set({},\n\t\t\t\t\tthis.prototype._serializeFields, src._serializeFields);\n\t\t\treturn extend.base.apply(this, arguments);\n\t\t},\n\n\t\tNO_INSERT: { insert: false }\n\t},\n\n\t_class: 'Item',\n\t_name: null,\n\t_applyMatrix: true,\n\t_canApplyMatrix: true,\n\t_canScaleStroke: false,\n\t_pivot: null,\n\t_visible: true,\n\t_blendMode: 'normal',\n\t_opacity: 1,\n\t_locked: false,\n\t_guide: false,\n\t_clipMask: false,\n\t_selection: 0,\n\t_selectBounds: true,\n\t_selectChildren: false,\n\t_serializeFields: {\n\t\tname: null,\n\t\tapplyMatrix: null,\n\t\tmatrix: new Matrix(),\n\t\tpivot: null,\n\t\tvisible: true,\n\t\tblendMode: 'normal',\n\t\topacity: 1,\n\t\tlocked: false,\n\t\tguide: false,\n\t\tclipMask: false,\n\t\tselected: false,\n\t\tdata: {}\n\t},\n\t_prioritize: ['applyMatrix']\n},\nnew function() {\n\tvar handlers = ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onClick',\n\t\t\t'onDoubleClick', 'onMouseMove', 'onMouseEnter', 'onMouseLeave'];\n\treturn Base.each(handlers,\n\t\tfunction(name) {\n\t\t\tthis._events[name] = {\n\t\t\t\tinstall: function(type) {\n\t\t\t\t\tthis.getView()._countItemEvent(type, 1);\n\t\t\t\t},\n\n\t\t\t\tuninstall: function(type) {\n\t\t\t\t\tthis.getView()._countItemEvent(type, -1);\n\t\t\t\t}\n\t\t\t};\n\t\t}, {\n\t\t\t_events: {\n\t\t\t\tonFrame: {\n\t\t\t\t\tinstall: function() {\n\t\t\t\t\t\tthis.getView()._animateItem(this, true);\n\t\t\t\t\t},\n\n\t\t\t\t\tuninstall: function() {\n\t\t\t\t\t\tthis.getView()._animateItem(this, false);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tonLoad: {},\n\t\t\t\tonError: {}\n\t\t\t},\n\t\t\tstatics: {\n\t\t\t\t_itemHandlers: handlers\n\t\t\t}\n\t\t}\n\t);\n}, {\n\tinitialize: function Item() {\n\t},\n\n\t_initialize: function(props, point) {\n\t\tvar hasProps = props && Base.isPlainObject(props),\n\t\t\tinternal = hasProps && props.internal === true,\n\t\t\tmatrix = this._matrix = new Matrix(),\n\t\t\tproject = hasProps && props.project || paper.project,\n\t\t\tsettings = paper.settings;\n\t\tthis._id = internal ? null : UID.get();\n\t\tthis._parent = this._index = null;\n\t\tthis._applyMatrix = this._canApplyMatrix && settings.applyMatrix;\n\t\tif (point)\n\t\t\tmatrix.translate(point);\n\t\tmatrix._owner = this;\n\t\tthis._style = new Style(project._currentStyle, this, project);\n\t\tif (internal || hasProps && props.insert == false\n\t\t\t|| !settings.insertItems && !(hasProps && props.insert === true)) {\n\t\t\tthis._setProject(project);\n\t\t} else {\n\t\t\t(hasProps && props.parent || project)\n\t\t\t\t\t._insertItem(undefined, this, true);\n\t\t}\n\t\tif (hasProps && props !== Item.NO_INSERT) {\n\t\t\tthis.set(props, {\n\t\t\t\tinternal: true, insert: true, project: true, parent: true\n\t\t\t});\n\t\t}\n\t\treturn hasProps;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar props = {},\n\t\t\tthat = this;\n\n\t\tfunction serialize(fields) {\n\t\t\tfor (var key in fields) {\n\t\t\t\tvar value = that[key];\n\t\t\t\tif (!Base.equals(value, key === 'leading'\n\t\t\t\t\t\t? fields.fontSize * 1.2 : fields[key])) {\n\t\t\t\t\tprops[key] = Base.serialize(value, options,\n\t\t\t\t\t\t\tkey !== 'data', dictionary);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tserialize(this._serializeFields);\n\t\tif (!(this instanceof Group))\n\t\t\tserialize(this._style._defaults);\n\t\treturn [ this._class, props ];\n\t},\n\n\t_changed: function(flags) {\n\t\tvar symbol = this._symbol,\n\t\t\tcacheParent = this._parent || symbol,\n\t\t\tproject = this._project;\n\t\tif (flags & 8) {\n\t\t\tthis._bounds = this._position = this._decomposed = undefined;\n\t\t}\n\t\tif (flags & 16) {\n\t\t\tthis._globalMatrix = undefined;\n\t\t}\n\t\tif (cacheParent\n\t\t\t\t&& (flags & 72)) {\n\t\t\tItem._clearBoundsCache(cacheParent);\n\t\t}\n\t\tif (flags & 2) {\n\t\t\tItem._clearBoundsCache(this);\n\t\t}\n\t\tif (project)\n\t\t\tproject._changed(flags, this);\n\t\tif (symbol)\n\t\t\tsymbol._changed(flags);\n\t},\n\n\tgetId: function() {\n\t\treturn this._id;\n\t},\n\n\tgetName: function() {\n\t\treturn this._name;\n\t},\n\n\tsetName: function(name) {\n\n\t\tif (this._name)\n\t\t\tthis._removeNamed();\n\t\tif (name === (+name) + '')\n\t\t\tthrow new Error(\n\t\t\t\t\t'Names consisting only of numbers are not supported.');\n\t\tvar owner = this._getOwner();\n\t\tif (name && owner) {\n\t\t\tvar children = owner._children,\n\t\t\t\tnamedChildren = owner._namedChildren;\n\t\t\t(namedChildren[name] = namedChildren[name] || []).push(this);\n\t\t\tif (!(name in children))\n\t\t\t\tchildren[name] = this;\n\t\t}\n\t\tthis._name = name || undefined;\n\t\tthis._changed(256);\n\t},\n\n\tgetStyle: function() {\n\t\treturn this._style;\n\t},\n\n\tsetStyle: function(style) {\n\t\tthis.getStyle().set(style);\n\t}\n}, Base.each(['locked', 'visible', 'blendMode', 'opacity', 'guide'],\n\tfunction(name) {\n\t\tvar part = Base.capitalize(name),\n\t\t\tkey = '_' + name,\n\t\t\tflags = {\n\t\t\t\tlocked: 256,\n\t\t\t\tvisible: 265\n\t\t\t};\n\t\tthis['get' + part] = function() {\n\t\t\treturn this[key];\n\t\t};\n\t\tthis['set' + part] = function(value) {\n\t\t\tif (value != this[key]) {\n\t\t\t\tthis[key] = value;\n\t\t\t\tthis._changed(flags[name] || 257);\n\t\t\t}\n\t\t};\n\t},\n{}), {\n\tbeans: true,\n\n\tgetSelection: function() {\n\t\treturn this._selection;\n\t},\n\n\tsetSelection: function(selection) {\n\t\tif (selection !== this._selection) {\n\t\t\tthis._selection = selection;\n\t\t\tvar project = this._project;\n\t\t\tif (project) {\n\t\t\t\tproject._updateSelection(this);\n\t\t\t\tthis._changed(257);\n\t\t\t}\n\t\t}\n\t},\n\n\t_changeSelection: function(flag, selected) {\n\t\tvar selection = this._selection;\n\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t},\n\n\tisSelected: function() {\n\t\tif (this._selectChildren) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tif (children[i].isSelected())\n\t\t\t\t\treturn true;\n\t\t}\n\t\treturn !!(this._selection & 1);\n\t},\n\n\tsetSelected: function(selected) {\n\t\tif (this._selectChildren) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].setSelected(selected);\n\t\t}\n\t\tthis._changeSelection(1, selected);\n\t},\n\n\tisFullySelected: function() {\n\t\tvar children = this._children,\n\t\t\tselected = !!(this._selection & 1);\n\t\tif (children && selected) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tif (!children[i].isFullySelected())\n\t\t\t\t\treturn false;\n\t\t\treturn true;\n\t\t}\n\t\treturn selected;\n\t},\n\n\tsetFullySelected: function(selected) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].setFullySelected(selected);\n\t\t}\n\t\tthis._changeSelection(1, selected);\n\t},\n\n\tisClipMask: function() {\n\t\treturn this._clipMask;\n\t},\n\n\tsetClipMask: function(clipMask) {\n\t\tif (this._clipMask != (clipMask = !!clipMask)) {\n\t\t\tthis._clipMask = clipMask;\n\t\t\tif (clipMask) {\n\t\t\t\tthis.setFillColor(null);\n\t\t\t\tthis.setStrokeColor(null);\n\t\t\t}\n\t\t\tthis._changed(257);\n\t\t\tif (this._parent)\n\t\t\t\tthis._parent._changed(2048);\n\t\t}\n\t},\n\n\tgetData: function() {\n\t\tif (!this._data)\n\t\t\tthis._data = {};\n\t\treturn this._data;\n\t},\n\n\tsetData: function(data) {\n\t\tthis._data = data;\n\t},\n\n\tgetPosition: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\tvar position = this._position ||\n\t\t\t(this._position = this._getPositionFromBounds());\n\t\treturn new ctor(position.x, position.y, this, 'setPosition');\n\t},\n\n\tsetPosition: function() {\n\t\tthis.translate(Point.read(arguments).subtract(this.getPosition(true)));\n\t},\n\n\t_getPositionFromBounds: function(bounds) {\n\t\treturn this._pivot\n\t\t\t\t? this._matrix._transformPoint(this._pivot)\n\t\t\t\t: (bounds || this.getBounds()).getCenter(true);\n\t},\n\n\tgetPivot: function() {\n\t\tvar pivot = this._pivot;\n\t\treturn pivot\n\t\t\t\t? new LinkedPoint(pivot.x, pivot.y, this, 'setPivot')\n\t\t\t\t: null;\n\t},\n\n\tsetPivot: function() {\n\t\tthis._pivot = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tthis._position = undefined;\n\t}\n}, Base.each({\n\t\tgetStrokeBounds: { stroke: true },\n\t\tgetHandleBounds: { handle: true },\n\t\tgetInternalBounds: { internal: true }\n\t},\n\tfunction(options, key) {\n\t\tthis[key] = function(matrix) {\n\t\t\treturn this.getBounds(matrix, options);\n\t\t};\n\t},\n{\n\tbeans: true,\n\n\tgetBounds: function(matrix, options) {\n\t\tvar hasMatrix = options || matrix instanceof Matrix,\n\t\t\topts = Base.set({}, hasMatrix ? options : matrix,\n\t\t\t\t\tthis._boundsOptions);\n\t\tif (!opts.stroke || this.getStrokeScaling())\n\t\t\topts.cacheItem = this;\n\t\tvar rect = this._getCachedBounds(hasMatrix && matrix, opts).rect;\n\t\treturn !arguments.length\n\t\t\t\t? new LinkedRectangle(rect.x, rect.y, rect.width, rect.height,\n\t\t\t\t\tthis, 'setBounds')\n\t\t\t\t: rect;\n\t},\n\n\tsetBounds: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tbounds = this.getBounds(),\n\t\t\t_matrix = this._matrix,\n\t\t\tmatrix = new Matrix(),\n\t\t\tcenter = rect.getCenter();\n\t\tmatrix.translate(center);\n\t\tif (rect.width != bounds.width || rect.height != bounds.height) {\n\t\t\tif (!_matrix.isInvertible()) {\n\t\t\t\t_matrix.set(_matrix._backup\n\t\t\t\t\t\t|| new Matrix().translate(_matrix.getTranslation()));\n\t\t\t\tbounds = this.getBounds();\n\t\t\t}\n\t\t\tmatrix.scale(\n\t\t\t\t\tbounds.width !== 0 ? rect.width / bounds.width : 0,\n\t\t\t\t\tbounds.height !== 0 ? rect.height / bounds.height : 0);\n\t\t}\n\t\tcenter = bounds.getCenter();\n\t\tmatrix.translate(-center.x, -center.y);\n\t\tthis.transform(matrix);\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar children = this._children;\n\t\tif (!children || !children.length)\n\t\t\treturn new Rectangle();\n\t\tItem._updateBoundsCache(this, options.cacheItem);\n\t\treturn Item._getBounds(children, matrix, options);\n\t},\n\n\t_getBoundsCacheKey: function(options, internal) {\n\t\treturn [\n\t\t\toptions.stroke ? 1 : 0,\n\t\t\toptions.handle ? 1 : 0,\n\t\t\tinternal ? 1 : 0\n\t\t].join('');\n\t},\n\n\t_getCachedBounds: function(matrix, options, noInternal) {\n\t\tmatrix = matrix && matrix._orNullIfIdentity();\n\t\tvar internal = options.internal && !noInternal,\n\t\t\tcacheItem = options.cacheItem,\n\t\t\t_matrix = internal ? null : this._matrix._orNullIfIdentity(),\n\t\t\tcacheKey = cacheItem && (!matrix || matrix.equals(_matrix))\n\t\t\t\t&& this._getBoundsCacheKey(options, internal),\n\t\t\tbounds = this._bounds;\n\t\tItem._updateBoundsCache(this._parent || this._symbol, cacheItem);\n\t\tif (cacheKey && bounds && cacheKey in bounds) {\n\t\t\tvar cached = bounds[cacheKey];\n\t\t\treturn {\n\t\t\t\trect: cached.rect.clone(),\n\t\t\t\tnonscaling: cached.nonscaling\n\t\t\t};\n\t\t}\n\t\tvar res = this._getBounds(matrix || _matrix, options),\n\t\t\trect = res.rect || res,\n\t\t\tstyle = this._style,\n\t\t\tnonscaling = res.nonscaling || style.hasStroke()\n\t\t\t\t&& !style.getStrokeScaling();\n\t\tif (cacheKey) {\n\t\t\tif (!bounds) {\n\t\t\t\tthis._bounds = bounds = {};\n\t\t\t}\n\t\t\tvar cached = bounds[cacheKey] = {\n\t\t\t\trect: rect.clone(),\n\t\t\t\tnonscaling: nonscaling,\n\t\t\t\tinternal: internal\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\trect: rect,\n\t\t\tnonscaling: nonscaling\n\t\t};\n\t},\n\n\t_getStrokeMatrix: function(matrix, options) {\n\t\tvar parent = this.getStrokeScaling() ? null\n\t\t\t\t: options && options.internal ? this\n\t\t\t\t\t: this._parent || this._symbol && this._symbol._item,\n\t\t\tmx = parent ? parent.getViewMatrix().invert() : matrix;\n\t\treturn mx && mx._shiftless();\n\t},\n\n\tstatics: {\n\t\t_updateBoundsCache: function(parent, item) {\n\t\t\tif (parent && item) {\n\t\t\t\tvar id = item._id,\n\t\t\t\t\tref = parent._boundsCache = parent._boundsCache || {\n\t\t\t\t\t\tids: {},\n\t\t\t\t\t\tlist: []\n\t\t\t\t\t};\n\t\t\t\tif (!ref.ids[id]) {\n\t\t\t\t\tref.list.push(item);\n\t\t\t\t\tref.ids[id] = item;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_clearBoundsCache: function(item) {\n\t\t\tvar cache = item._boundsCache;\n\t\t\tif (cache) {\n\t\t\t\titem._bounds = item._position = item._boundsCache = undefined;\n\t\t\t\tfor (var i = 0, list = cache.list, l = list.length; i < l; i++){\n\t\t\t\t\tvar other = list[i];\n\t\t\t\t\tif (other !== item) {\n\t\t\t\t\t\tother._bounds = other._position = undefined;\n\t\t\t\t\t\tif (other._boundsCache)\n\t\t\t\t\t\t\tItem._clearBoundsCache(other);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_getBounds: function(items, matrix, options) {\n\t\t\tvar x1 = Infinity,\n\t\t\t\tx2 = -x1,\n\t\t\t\ty1 = x1,\n\t\t\t\ty2 = x2,\n\t\t\t\tnonscaling = false;\n\t\t\toptions = options || {};\n\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\tvar item = items[i];\n\t\t\t\tif (item._visible && !item.isEmpty(true)) {\n\t\t\t\t\tvar bounds = item._getCachedBounds(\n\t\t\t\t\t\tmatrix && matrix.appended(item._matrix), options, true),\n\t\t\t\t\t\trect = bounds.rect;\n\t\t\t\t\tx1 = Math.min(rect.x, x1);\n\t\t\t\t\ty1 = Math.min(rect.y, y1);\n\t\t\t\t\tx2 = Math.max(rect.x + rect.width, x2);\n\t\t\t\t\ty2 = Math.max(rect.y + rect.height, y2);\n\t\t\t\t\tif (bounds.nonscaling)\n\t\t\t\t\t\tnonscaling = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\trect: isFinite(x1)\n\t\t\t\t\t? new Rectangle(x1, y1, x2 - x1, y2 - y1)\n\t\t\t\t\t: new Rectangle(),\n\t\t\t\tnonscaling: nonscaling\n\t\t\t};\n\t\t}\n\t}\n\n}), {\n\tbeans: true,\n\n\t_decompose: function() {\n\t\treturn this._applyMatrix\n\t\t\t? null\n\t\t\t: this._decomposed || (this._decomposed = this._matrix.decompose());\n\t},\n\n\tgetRotation: function() {\n\t\tvar decomposed = this._decompose();\n\t\treturn decomposed ? decomposed.rotation : 0;\n\t},\n\n\tsetRotation: function(rotation) {\n\t\tvar current = this.getRotation();\n\t\tif (current != null && rotation != null) {\n\t\t\tvar decomposed = this._decomposed;\n\t\t\tthis.rotate(rotation - current);\n\t\t\tif (decomposed) {\n\t\t\t\tdecomposed.rotation = rotation;\n\t\t\t\tthis._decomposed = decomposed;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetScaling: function() {\n\t\tvar decomposed = this._decompose(),\n\t\t\ts = decomposed && decomposed.scaling;\n\t\treturn new LinkedPoint(s ? s.x : 1, s ? s.y : 1, this, 'setScaling');\n\t},\n\n\tsetScaling: function() {\n\t\tvar current = this.getScaling(),\n\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tif (current && scaling && !current.equals(scaling)) {\n\t\t\tvar rotation = this.getRotation(),\n\t\t\t\tdecomposed = this._decomposed,\n\t\t\t\tmatrix = new Matrix(),\n\t\t\t\tisZero = Numerical.isZero;\n\t\t\tif (isZero(current.x) || isZero(current.y)) {\n\t\t\t\tmatrix.translate(decomposed.translation);\n\t\t\t\tif (rotation) {\n\t\t\t\t\tmatrix.rotate(rotation);\n\t\t\t\t}\n\t\t\t\tmatrix.scale(scaling.x, scaling.y);\n\t\t\t\tthis._matrix.set(matrix);\n\t\t\t} else {\n\t\t\t\tvar center = this.getPosition(true);\n\t\t\t\tmatrix.translate(center);\n\t\t\t\tif (rotation)\n\t\t\t\t\tmatrix.rotate(rotation);\n\t\t\t\tmatrix.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t\t\tif (rotation)\n\t\t\t\t\tmatrix.rotate(-rotation);\n\t\t\t\tmatrix.translate(center.negate());\n\t\t\t\tthis.transform(matrix);\n\t\t\t}\n\t\t\tif (decomposed) {\n\t\t\t\tdecomposed.scaling = scaling;\n\t\t\t\tthis._decomposed = decomposed;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetMatrix: function() {\n\t\treturn this._matrix;\n\t},\n\n\tsetMatrix: function() {\n\t\tvar matrix = this._matrix;\n\t\tmatrix.set.apply(matrix, arguments);\n\t},\n\n\tgetGlobalMatrix: function(_dontClone) {\n\t\tvar matrix = this._globalMatrix;\n\t\tif (matrix) {\n\t\t\tvar parent = this._parent;\n\t\t\tvar parents = [];\n\t\t\twhile (parent) {\n\t\t\t\tif (!parent._globalMatrix) {\n\t\t\t\t\tmatrix = null;\n\t\t\t\t\tfor (var i = 0, l = parents.length; i < l; i++) {\n\t\t\t\t\t\tparents[i]._globalMatrix = null;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tparents.push(parent);\n\t\t\t\tparent = parent._parent;\n\t\t\t}\n\t\t}\n\t\tif (!matrix) {\n\t\t\tmatrix = this._globalMatrix = this._matrix.clone();\n\t\t\tvar parent = this._parent;\n\t\t\tif (parent)\n\t\t\t\tmatrix.prepend(parent.getGlobalMatrix(true));\n\t\t}\n\t\treturn _dontClone ? matrix : matrix.clone();\n\t},\n\n\tgetViewMatrix: function() {\n\t\treturn this.getGlobalMatrix().prepend(this.getView()._matrix);\n\t},\n\n\tgetApplyMatrix: function() {\n\t\treturn this._applyMatrix;\n\t},\n\n\tsetApplyMatrix: function(apply) {\n\t\tif (this._applyMatrix = this._canApplyMatrix && !!apply)\n\t\t\tthis.transform(null, true);\n\t},\n\n\tgetTransformContent: '#getApplyMatrix',\n\tsetTransformContent: '#setApplyMatrix',\n}, {\n\tgetProject: function() {\n\t\treturn this._project;\n\t},\n\n\t_setProject: function(project, installEvents) {\n\t\tif (this._project !== project) {\n\t\t\tif (this._project)\n\t\t\t\tthis._installEvents(false);\n\t\t\tthis._project = project;\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\t\tchildren[i]._setProject(project);\n\t\t\tinstallEvents = true;\n\t\t}\n\t\tif (installEvents)\n\t\t\tthis._installEvents(true);\n\t},\n\n\tgetView: function() {\n\t\treturn this._project._view;\n\t},\n\n\t_installEvents: function _installEvents(install) {\n\t\t_installEvents.base.call(this, install);\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\tchildren[i]._installEvents(install);\n\t},\n\n\tgetLayer: function() {\n\t\tvar parent = this;\n\t\twhile (parent = parent._parent) {\n\t\t\tif (parent instanceof Layer)\n\t\t\t\treturn parent;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetParent: function() {\n\t\treturn this._parent;\n\t},\n\n\tsetParent: function(item) {\n\t\treturn item.addChild(this);\n\t},\n\n\t_getOwner: '#getParent',\n\n\tgetChildren: function() {\n\t\treturn this._children;\n\t},\n\n\tsetChildren: function(items) {\n\t\tthis.removeChildren();\n\t\tthis.addChildren(items);\n\t},\n\n\tgetFirstChild: function() {\n\t\treturn this._children && this._children[0] || null;\n\t},\n\n\tgetLastChild: function() {\n\t\treturn this._children && this._children[this._children.length - 1]\n\t\t\t\t|| null;\n\t},\n\n\tgetNextSibling: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner && owner._children[this._index + 1] || null;\n\t},\n\n\tgetPreviousSibling: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner && owner._children[this._index - 1] || null;\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index;\n\t},\n\n\tequals: function(item) {\n\t\treturn item === this || item && this._class === item._class\n\t\t\t\t&& this._style.equals(item._style)\n\t\t\t\t&& this._matrix.equals(item._matrix)\n\t\t\t\t&& this._locked === item._locked\n\t\t\t\t&& this._visible === item._visible\n\t\t\t\t&& this._blendMode === item._blendMode\n\t\t\t\t&& this._opacity === item._opacity\n\t\t\t\t&& this._clipMask === item._clipMask\n\t\t\t\t&& this._guide === item._guide\n\t\t\t\t&& this._equals(item)\n\t\t\t\t|| false;\n\t},\n\n\t_equals: function(item) {\n\t\treturn Base.equals(this._children, item._children);\n\t},\n\n\tclone: function(options) {\n\t\tvar copy = new this.constructor(Item.NO_INSERT),\n\t\t\tchildren = this._children,\n\t\t\tinsert = Base.pick(options ? options.insert : undefined,\n\t\t\t\t\toptions === undefined || options === true),\n\t\t\tdeep = Base.pick(options ? options.deep : undefined, true);\n\t\tif (children)\n\t\t\tcopy.copyAttributes(this);\n\t\tif (!children || deep)\n\t\t\tcopy.copyContent(this);\n\t\tif (!children)\n\t\t\tcopy.copyAttributes(this);\n\t\tif (insert)\n\t\t\tcopy.insertAbove(this);\n\t\tvar name = this._name,\n\t\t\tparent = this._parent;\n\t\tif (name && parent) {\n\t\t\tvar children = parent._children,\n\t\t\t\torig = name,\n\t\t\t\ti = 1;\n\t\t\twhile (children[name])\n\t\t\t\tname = orig + ' ' + (i++);\n\t\t\tif (name !== orig)\n\t\t\t\tcopy.setName(name);\n\t\t}\n\t\treturn copy;\n\t},\n\n\tcopyContent: function(source) {\n\t\tvar children = source._children;\n\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\tthis.addChild(children[i].clone(false), true);\n\t\t}\n\t},\n\n\tcopyAttributes: function(source, excludeMatrix) {\n\t\tthis.setStyle(source._style);\n\t\tvar keys = ['_locked', '_visible', '_blendMode', '_opacity',\n\t\t\t\t'_clipMask', '_guide'];\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i];\n\t\t\tif (source.hasOwnProperty(key))\n\t\t\t\tthis[key] = source[key];\n\t\t}\n\t\tif (!excludeMatrix)\n\t\t\tthis._matrix.set(source._matrix, true);\n\t\tthis.setApplyMatrix(source._applyMatrix);\n\t\tthis.setPivot(source._pivot);\n\t\tthis.setSelection(source._selection);\n\t\tvar data = source._data,\n\t\t\tname = source._name;\n\t\tthis._data = data ? Base.clone(data) : null;\n\t\tif (name)\n\t\t\tthis.setName(name);\n\t},\n\n\trasterize: function(arg0, arg1) {\n\t\tvar resolution,\n\t\t\tinsert,\n\t\t\traster;\n\t\tif (Base.isPlainObject(arg0)) {\n\t\t\tresolution = arg0.resolution;\n\t\t\tinsert = arg0.insert;\n\t\t\traster = arg0.raster;\n\t\t} else {\n\t\t\tresolution = arg0;\n\t\t\tinsert = arg1;\n\t\t}\n\t\tif (raster) {\n\t\t\traster.matrix.reset(true);\n\t\t} else {\n\t\t\traster = new Raster(Item.NO_INSERT);\n\t\t}\n\t\tvar bounds = this.getStrokeBounds(),\n\t\t\tscale = (resolution || this.getView().getResolution()) / 72,\n\t\t\ttopLeft = bounds.getTopLeft().floor(),\n\t\t\tbottomRight = bounds.getBottomRight().ceil(),\n\t\t\tboundsSize = new Size(bottomRight.subtract(topLeft)),\n\t\t\trasterSize = boundsSize.multiply(scale);\n\t\traster.setSize(rasterSize, true);\n\n\t\tif (!rasterSize.isZero()) {\n\t\t\tvar ctx = raster.getContext(true),\n\t\t\t\tmatrix = new Matrix().scale(scale).translate(topLeft.negate());\n\t\t\tctx.save();\n\t\t\tmatrix.applyToContext(ctx);\n\t\t\tthis.draw(ctx, new Base({ matrices: [matrix] }));\n\t\t\tctx.restore();\n\t\t}\n\t\traster.transform(\n\t\t\tnew Matrix()\n\t\t\t\t.translate(topLeft.add(boundsSize.divide(2)))\n\t\t\t\t.scale(1 / scale)\n\t\t);\n\t\tif (insert === undefined || insert) {\n\t\t\traster.insertAbove(this);\n\t\t}\n\t\treturn raster;\n\t},\n\n\tcontains: function() {\n\t\tvar matrix = this._matrix;\n\t\treturn (\n\t\t\tmatrix.isInvertible() &&\n\t\t\t!!this._contains(matrix._inverseTransform(Point.read(arguments)))\n\t\t);\n\t},\n\n\t_contains: function(point) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\tif (children[i].contains(point))\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn point.isInside(this.getInternalBounds());\n\t},\n\n\tisInside: function() {\n\t\treturn Rectangle.read(arguments).contains(this.getBounds());\n\t},\n\n\t_asPathItem: function() {\n\t\treturn new Path.Rectangle({\n\t\t\trectangle: this.getInternalBounds(),\n\t\t\tmatrix: this._matrix,\n\t\t\tinsert: false,\n\t\t});\n\t},\n\n\tintersects: function(item, _matrix) {\n\t\tif (!(item instanceof Item))\n\t\t\treturn false;\n\t\treturn this._asPathItem().getIntersections(item._asPathItem(), null,\n\t\t\t\t_matrix, true).length > 0;\n\t}\n},\nnew function() {\n\tfunction hitTest() {\n\t\tvar args = arguments;\n\t\treturn this._hitTest(\n\t\t\t\tPoint.read(args),\n\t\t\t\tHitResult.getOptions(args));\n\t}\n\n\tfunction hitTestAll() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\toptions = HitResult.getOptions(args),\n\t\t\tall = [];\n\t\tthis._hitTest(point, new Base({ all: all }, options));\n\t\treturn all;\n\t}\n\n\tfunction hitTestChildren(point, options, viewMatrix, _exclude) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\tvar child = children[i];\n\t\t\t\tvar res = child !== _exclude && child._hitTest(point, options,\n\t\t\t\t\t\tviewMatrix);\n\t\t\t\tif (res && !options.all)\n\t\t\t\t\treturn res;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tProject.inject({\n\t\thitTest: hitTest,\n\t\thitTestAll: hitTestAll,\n\t\t_hitTest: hitTestChildren\n\t});\n\n\treturn {\n\t\thitTest: hitTest,\n\t\thitTestAll: hitTestAll,\n\t\t_hitTestChildren: hitTestChildren,\n\t};\n}, {\n\n\t_hitTest: function(point, options, parentViewMatrix) {\n\t\tif (this._locked || !this._visible || this._guide && !options.guides\n\t\t\t\t|| this.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar matrix = this._matrix,\n\t\t\tviewMatrix = parentViewMatrix\n\t\t\t\t\t? parentViewMatrix.appended(matrix)\n\t\t\t\t\t: this.getGlobalMatrix().prepend(this.getView()._matrix),\n\t\t\ttolerance = Math.max(options.tolerance, 1e-12),\n\t\t\ttolerancePadding = options._tolerancePadding = new Size(\n\t\t\t\t\tPath._getStrokePadding(tolerance,\n\t\t\t\t\t\tmatrix._shiftless().invert()));\n\t\tpoint = matrix._inverseTransform(point);\n\t\tif (!point || !this._children &&\n\t\t\t!this.getBounds({ internal: true, stroke: true, handle: true })\n\t\t\t\t.expand(tolerancePadding.multiply(2))._containsPoint(point)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar checkSelf = !(options.guides && !this._guide\n\t\t\t\t|| options.selected && !this.isSelected()\n\t\t\t\t|| options.type && options.type !== Base.hyphenate(this._class)\n\t\t\t\t|| options.class && !(this instanceof options.class)),\n\t\t\tmatch = options.match,\n\t\t\tthat = this,\n\t\t\tbounds,\n\t\t\tres;\n\n\t\tfunction filter(hit) {\n\t\t\tif (hit && match && !match(hit))\n\t\t\t\thit = null;\n\t\t\tif (hit && options.all)\n\t\t\t\toptions.all.push(hit);\n\t\t\treturn hit;\n\t\t}\n\n\t\tfunction checkPoint(type, part) {\n\t\t\tvar pt = part ? bounds['get' + part]() : that.getPosition();\n\t\t\tif (point.subtract(pt).divide(tolerancePadding).length <= 1) {\n\t\t\t\treturn new HitResult(type, that, {\n\t\t\t\t\tname: part ? Base.hyphenate(part) : type,\n\t\t\t\t\tpoint: pt\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tvar checkPosition = options.position,\n\t\t\tcheckCenter = options.center,\n\t\t\tcheckBounds = options.bounds;\n\t\tif (checkSelf && this._parent\n\t\t\t\t&& (checkPosition || checkCenter || checkBounds)) {\n\t\t\tif (checkCenter || checkBounds) {\n\t\t\t\tbounds = this.getInternalBounds();\n\t\t\t}\n\t\t\tres = checkPosition && checkPoint('position') ||\n\t\t\t\t\tcheckCenter && checkPoint('center', 'Center');\n\t\t\tif (!res && checkBounds) {\n\t\t\t\tvar points = [\n\t\t\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'\n\t\t\t\t];\n\t\t\t\tfor (var i = 0; i < 8 && !res; i++) {\n\t\t\t\t\tres = checkPoint('bounds', points[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = filter(res);\n\t\t}\n\n\t\tif (!res) {\n\t\t\tres = this._hitTestChildren(point, options, viewMatrix)\n\t\t\t\t|| checkSelf\n\t\t\t\t\t&& filter(this._hitTestSelf(point, options, viewMatrix,\n\t\t\t\t\t\tthis.getStrokeScaling() ? null\n\t\t\t\t\t\t\t: viewMatrix._shiftless().invert()))\n\t\t\t\t|| null;\n\t\t}\n\t\tif (res && res.point) {\n\t\t\tres.point = matrix.transform(res.point);\n\t\t}\n\t\treturn res;\n\t},\n\n\t_hitTestSelf: function(point, options) {\n\t\tif (options.fill && this.hasFill() && this._contains(point))\n\t\t\treturn new HitResult('fill', this);\n\t},\n\n\tmatches: function(name, compare) {\n\t\tfunction matchObject(obj1, obj2) {\n\t\t\tfor (var i in obj1) {\n\t\t\t\tif (obj1.hasOwnProperty(i)) {\n\t\t\t\t\tvar val1 = obj1[i],\n\t\t\t\t\t\tval2 = obj2[i];\n\t\t\t\t\tif (Base.isPlainObject(val1) && Base.isPlainObject(val2)) {\n\t\t\t\t\t\tif (!matchObject(val1, val2))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (!Base.equals(val1, val2)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\tvar type = typeof name;\n\t\tif (type === 'object') {\n\t\t\tfor (var key in name) {\n\t\t\t\tif (name.hasOwnProperty(key) && !this.matches(key, name[key]))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t} else if (type === 'function') {\n\t\t\treturn name(this);\n\t\t} else if (name === 'match') {\n\t\t\treturn compare(this);\n\t\t} else {\n\t\t\tvar value = /^(empty|editable)$/.test(name)\n\t\t\t\t\t? this['is' + Base.capitalize(name)]()\n\t\t\t\t\t: name === 'type'\n\t\t\t\t\t\t? Base.hyphenate(this._class)\n\t\t\t\t\t\t: this[name];\n\t\t\tif (name === 'class') {\n\t\t\t\tif (typeof compare === 'function')\n\t\t\t\t\treturn this instanceof compare;\n\t\t\t\tvalue = this._class;\n\t\t\t}\n\t\t\tif (typeof compare === 'function') {\n\t\t\t\treturn !!compare(value);\n\t\t\t} else if (compare) {\n\t\t\t\tif (compare.test) {\n\t\t\t\t\treturn compare.test(value);\n\t\t\t\t} else if (Base.isPlainObject(compare)) {\n\t\t\t\t\treturn matchObject(compare, value);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn Base.equals(value, compare);\n\t\t}\n\t},\n\n\tgetItems: function(options) {\n\t\treturn Item._getItems(this, options, this._matrix);\n\t},\n\n\tgetItem: function(options) {\n\t\treturn Item._getItems(this, options, this._matrix, null, true)[0]\n\t\t\t\t|| null;\n\t},\n\n\tstatics: {\n\t\t_getItems: function _getItems(item, options, matrix, param, firstOnly) {\n\t\t\tif (!param) {\n\t\t\t\tvar obj = typeof options === 'object' && options,\n\t\t\t\t\toverlapping = obj && obj.overlapping,\n\t\t\t\t\tinside = obj && obj.inside,\n\t\t\t\t\tbounds = overlapping || inside,\n\t\t\t\t\trect = bounds && Rectangle.read([bounds]);\n\t\t\t\tparam = {\n\t\t\t\t\titems: [],\n\t\t\t\t\trecursive: obj && obj.recursive !== false,\n\t\t\t\t\tinside: !!inside,\n\t\t\t\t\toverlapping: !!overlapping,\n\t\t\t\t\trect: rect,\n\t\t\t\t\tpath: overlapping && new Path.Rectangle({\n\t\t\t\t\t\trectangle: rect,\n\t\t\t\t\t\tinsert: false\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t\tif (obj) {\n\t\t\t\t\toptions = Base.filter({}, options, {\n\t\t\t\t\t\trecursive: true, inside: true, overlapping: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar children = item._children,\n\t\t\t\titems = param.items,\n\t\t\t\trect = param.rect;\n\t\t\tmatrix = rect && (matrix || new Matrix());\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\t\tvar child = children[i],\n\t\t\t\t\tchildMatrix = matrix && matrix.appended(child._matrix),\n\t\t\t\t\tadd = true;\n\t\t\t\tif (rect) {\n\t\t\t\t\tvar bounds = child.getBounds(childMatrix);\n\t\t\t\t\tif (!rect.intersects(bounds))\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif (!(rect.contains(bounds)\n\t\t\t\t\t\t\t|| param.overlapping && (bounds.contains(rect)\n\t\t\t\t\t\t\t\t|| param.path.intersects(child, childMatrix))))\n\t\t\t\t\t\tadd = false;\n\t\t\t\t}\n\t\t\t\tif (add && child.matches(options)) {\n\t\t\t\t\titems.push(child);\n\t\t\t\t\tif (firstOnly)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (param.recursive !== false) {\n\t\t\t\t\t_getItems(child, options, childMatrix, param, firstOnly);\n\t\t\t\t}\n\t\t\t\tif (firstOnly && items.length > 0)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn items;\n\t\t}\n\t}\n}, {\n\n\timportJSON: function(json) {\n\t\tvar res = Base.importJSON(json, this);\n\t\treturn res !== this ? this.addChild(res) : res;\n\t},\n\n\taddChild: function(item) {\n\t\treturn this.insertChild(undefined, item);\n\t},\n\n\tinsertChild: function(index, item) {\n\t\tvar res = item ? this.insertChildren(index, [item]) : null;\n\t\treturn res && res[0];\n\t},\n\n\taddChildren: function(items) {\n\t\treturn this.insertChildren(this._children.length, items);\n\t},\n\n\tinsertChildren: function(index, items) {\n\t\tvar children = this._children;\n\t\tif (children && items && items.length > 0) {\n\t\t\titems = Base.slice(items);\n\t\t\tvar inserted = {};\n\t\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\t\tvar item = items[i],\n\t\t\t\t\tid = item && item._id;\n\t\t\t\tif (!item || inserted[id]) {\n\t\t\t\t\titems.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\titem._remove(false, true);\n\t\t\t\t\tinserted[id] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tBase.splice(children, items, index, 0);\n\t\t\tvar project = this._project,\n\t\t\t\tnotifySelf = project._changes;\n\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\tvar item = items[i],\n\t\t\t\t\tname = item._name;\n\t\t\t\titem._parent = this;\n\t\t\t\titem._setProject(project, true);\n\t\t\t\tif (name)\n\t\t\t\t\titem.setName(name);\n\t\t\t\tif (notifySelf)\n\t\t\t\t\titem._changed(5);\n\t\t\t}\n\t\t\tthis._changed(11);\n\t\t} else {\n\t\t\titems = null;\n\t\t}\n\t\treturn items;\n\t},\n\n\t_insertItem: '#insertChild',\n\n\t_insertAt: function(item, offset) {\n\t\tvar owner = item && item._getOwner(),\n\t\t\tres = item !== this && owner ? this : null;\n\t\tif (res) {\n\t\t\tres._remove(false, true);\n\t\t\towner._insertItem(item._index + offset, res);\n\t\t}\n\t\treturn res;\n\t},\n\n\tinsertAbove: function(item) {\n\t\treturn this._insertAt(item, 1);\n\t},\n\n\tinsertBelow: function(item) {\n\t\treturn this._insertAt(item, 0);\n\t},\n\n\tsendToBack: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner ? owner._insertItem(0, this) : null;\n\t},\n\n\tbringToFront: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner ? owner._insertItem(undefined, this) : null;\n\t},\n\n\tappendTop: '#addChild',\n\n\tappendBottom: function(item) {\n\t\treturn this.insertChild(0, item);\n\t},\n\n\tmoveAbove: '#insertAbove',\n\n\tmoveBelow: '#insertBelow',\n\n\taddTo: function(owner) {\n\t\treturn owner._insertItem(undefined, this);\n\t},\n\n\tcopyTo: function(owner) {\n\t\treturn this.clone(false).addTo(owner);\n\t},\n\n\treduce: function(options) {\n\t\tvar children = this._children;\n\t\tif (children && children.length === 1) {\n\t\t\tvar child = children[0].reduce(options);\n\t\t\tif (this._parent) {\n\t\t\t\tchild.insertAbove(this);\n\t\t\t\tthis.remove();\n\t\t\t} else {\n\t\t\t\tchild.remove();\n\t\t\t}\n\t\t\treturn child;\n\t\t}\n\t\treturn this;\n\t},\n\n\t_removeNamed: function() {\n\t\tvar owner = this._getOwner();\n\t\tif (owner) {\n\t\t\tvar children = owner._children,\n\t\t\t\tnamedChildren = owner._namedChildren,\n\t\t\t\tname = this._name,\n\t\t\t\tnamedArray = namedChildren[name],\n\t\t\t\tindex = namedArray ? namedArray.indexOf(this) : -1;\n\t\t\tif (index !== -1) {\n\t\t\t\tif (children[name] == this)\n\t\t\t\t\tdelete children[name];\n\t\t\t\tnamedArray.splice(index, 1);\n\t\t\t\tif (namedArray.length) {\n\t\t\t\t\tchildren[name] = namedArray[0];\n\t\t\t\t} else {\n\t\t\t\t\tdelete namedChildren[name];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_remove: function(notifySelf, notifyParent) {\n\t\tvar owner = this._getOwner(),\n\t\t\tproject = this._project,\n\t\t\tindex = this._index;\n\t\tif (this._style)\n\t\t\tthis._style._dispose();\n\t\tif (owner) {\n\t\t\tif (this._name)\n\t\t\t\tthis._removeNamed();\n\t\t\tif (index != null) {\n\t\t\t\tif (project._activeLayer === this)\n\t\t\t\t\tproject._activeLayer = this.getNextSibling()\n\t\t\t\t\t\t\t|| this.getPreviousSibling();\n\t\t\t\tBase.splice(owner._children, null, index, 1);\n\t\t\t}\n\t\t\tthis._installEvents(false);\n\t\t\tif (notifySelf && project._changes)\n\t\t\t\tthis._changed(5);\n\t\t\tif (notifyParent)\n\t\t\t\towner._changed(11, this);\n\t\t\tthis._parent = null;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tremove: function() {\n\t\treturn this._remove(true, true);\n\t},\n\n\treplaceWith: function(item) {\n\t\tvar ok = item && item.insertBelow(this);\n\t\tif (ok)\n\t\t\tthis.remove();\n\t\treturn ok;\n\t},\n\n\tremoveChildren: function(start, end) {\n\t\tif (!this._children)\n\t\t\treturn null;\n\t\tstart = start || 0;\n\t\tend = Base.pick(end, this._children.length);\n\t\tvar removed = Base.splice(this._children, null, start, end - start);\n\t\tfor (var i = removed.length - 1; i >= 0; i--) {\n\t\t\tremoved[i]._remove(true, false);\n\t\t}\n\t\tif (removed.length > 0)\n\t\t\tthis._changed(11);\n\t\treturn removed;\n\t},\n\n\tclear: '#removeChildren',\n\n\treverseChildren: function() {\n\t\tif (this._children) {\n\t\t\tthis._children.reverse();\n\t\t\tfor (var i = 0, l = this._children.length; i < l; i++)\n\t\t\t\tthis._children[i]._index = i;\n\t\t\tthis._changed(11);\n\t\t}\n\t},\n\n\tisEmpty: function(recursively) {\n\t\tvar children = this._children;\n\t\tvar numChildren = children ? children.length : 0;\n\t\tif (recursively) {\n\t\t\tfor (var i = 0; i < numChildren; i++) {\n\t\t\t\tif (!children[i].isEmpty(recursively)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn !numChildren;\n\t},\n\n\tisEditable: function() {\n\t\tvar item = this;\n\t\twhile (item) {\n\t\t\tif (!item._visible || item._locked)\n\t\t\t\treturn false;\n\t\t\titem = item._parent;\n\t\t}\n\t\treturn true;\n\t},\n\n\thasFill: function() {\n\t\treturn this.getStyle().hasFill();\n\t},\n\n\thasStroke: function() {\n\t\treturn this.getStyle().hasStroke();\n\t},\n\n\thasShadow: function() {\n\t\treturn this.getStyle().hasShadow();\n\t},\n\n\t_getOrder: function(item) {\n\t\tfunction getList(item) {\n\t\t\tvar list = [];\n\t\t\tdo {\n\t\t\t\tlist.unshift(item);\n\t\t\t} while (item = item._parent);\n\t\t\treturn list;\n\t\t}\n\t\tvar list1 = getList(this),\n\t\t\tlist2 = getList(item);\n\t\tfor (var i = 0, l = Math.min(list1.length, list2.length); i < l; i++) {\n\t\t\tif (list1[i] != list2[i]) {\n\t\t\t\treturn list1[i]._index < list2[i]._index ? 1 : -1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t},\n\n\thasChildren: function() {\n\t\treturn this._children && this._children.length > 0;\n\t},\n\n\tisInserted: function() {\n\t\treturn this._parent ? this._parent.isInserted() : false;\n\t},\n\n\tisAbove: function(item) {\n\t\treturn this._getOrder(item) === -1;\n\t},\n\n\tisBelow: function(item) {\n\t\treturn this._getOrder(item) === 1;\n\t},\n\n\tisParent: function(item) {\n\t\treturn this._parent === item;\n\t},\n\n\tisChild: function(item) {\n\t\treturn item && item._parent === this;\n\t},\n\n\tisDescendant: function(item) {\n\t\tvar parent = this;\n\t\twhile (parent = parent._parent) {\n\t\t\tif (parent === item)\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tisAncestor: function(item) {\n\t\treturn item ? item.isDescendant(this) : false;\n\t},\n\n\tisSibling: function(item) {\n\t\treturn this._parent === item._parent;\n\t},\n\n\tisGroupedWith: function(item) {\n\t\tvar parent = this._parent;\n\t\twhile (parent) {\n\t\t\tif (parent._parent\n\t\t\t\t&& /^(Group|Layer|CompoundPath)$/.test(parent._class)\n\t\t\t\t&& item.isDescendant(parent))\n\t\t\t\t\treturn true;\n\t\t\tparent = parent._parent;\n\t\t}\n\t\treturn false;\n\t},\n\n}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\tvar rotate = key === 'rotate';\n\tthis[key] = function() {\n\t\tvar args = arguments,\n\t\t\tvalue = (rotate ? Base : Point).read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\tcenter || this.getPosition(true)));\n\t};\n}, {\n\ttranslate: function() {\n\t\tvar mx = new Matrix();\n\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t},\n\n\ttransform: function(matrix, _applyRecursively, _setApplyMatrix) {\n\t\tvar _matrix = this._matrix,\n\t\t\ttransformMatrix = matrix && !matrix.isIdentity(),\n\t\t\tapplyMatrix = (\n\t\t\t\t_setApplyMatrix && this._canApplyMatrix ||\n\t\t\t\tthis._applyMatrix && (\n\t\t\t\t\ttransformMatrix || !_matrix.isIdentity() ||\n\t\t\t\t\t_applyRecursively && this._children\n\t\t\t\t)\n\t\t\t);\n\t\tif (!transformMatrix && !applyMatrix)\n\t\t\treturn this;\n\t\tif (transformMatrix) {\n\t\t\tif (!matrix.isInvertible() && _matrix.isInvertible())\n\t\t\t\t_matrix._backup = _matrix.getValues();\n\t\t\t_matrix.prepend(matrix, true);\n\t\t\tvar style = this._style,\n\t\t\t\tfillColor = style.getFillColor(true),\n\t\t\t\tstrokeColor = style.getStrokeColor(true);\n\t\t\tif (fillColor)\n\t\t\t\tfillColor.transform(matrix);\n\t\t\tif (strokeColor)\n\t\t\t\tstrokeColor.transform(matrix);\n\t\t}\n\n\t\tif (applyMatrix && (applyMatrix = this._transformContent(\n\t\t\t\t_matrix, _applyRecursively, _setApplyMatrix))) {\n\t\t\tvar pivot = this._pivot;\n\t\t\tif (pivot)\n\t\t\t\t_matrix._transformPoint(pivot, pivot, true);\n\t\t\t_matrix.reset(true);\n\t\t\tif (_setApplyMatrix && this._canApplyMatrix)\n\t\t\t\tthis._applyMatrix = true;\n\t\t}\n\t\tvar bounds = this._bounds,\n\t\t\tposition = this._position;\n\t\tif (transformMatrix || applyMatrix) {\n\t\t\tthis._changed(25);\n\t\t}\n\t\tvar decomp = transformMatrix && bounds && matrix.decompose();\n\t\tif (decomp && decomp.skewing.isZero() && decomp.rotation % 90 === 0) {\n\t\t\tfor (var key in bounds) {\n\t\t\t\tvar cache = bounds[key];\n\t\t\t\tif (cache.nonscaling) {\n\t\t\t\t\tdelete bounds[key];\n\t\t\t\t} else if (applyMatrix || !cache.internal) {\n\t\t\t\t\tvar rect = cache.rect;\n\t\t\t\t\tmatrix._transformBounds(rect, rect);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._bounds = bounds;\n\t\t\tvar cached = bounds[this._getBoundsCacheKey(\n\t\t\t\tthis._boundsOptions || {})];\n\t\t\tif (cached) {\n\t\t\t\tthis._position = this._getPositionFromBounds(cached.rect);\n\t\t\t}\n\t\t} else if (transformMatrix && position && this._pivot) {\n\t\t\tthis._position = matrix._transformPoint(position, position);\n\t\t}\n\t\treturn this;\n\t},\n\n\t_transformContent: function(matrix, applyRecursively, setApplyMatrix) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tchildren[i].transform(matrix, applyRecursively, setApplyMatrix);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t},\n\n\tglobalToLocal: function() {\n\t\treturn this.getGlobalMatrix(true)._inverseTransform(\n\t\t\t\tPoint.read(arguments));\n\t},\n\n\tlocalToGlobal: function() {\n\t\treturn this.getGlobalMatrix(true)._transformPoint(\n\t\t\t\tPoint.read(arguments));\n\t},\n\n\tparentToLocal: function() {\n\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t},\n\n\tlocalToParent: function() {\n\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t},\n\n\tfitBounds: function(rectangle, fill) {\n\t\trectangle = Rectangle.read(arguments);\n\t\tvar bounds = this.getBounds(),\n\t\t\titemRatio = bounds.height / bounds.width,\n\t\t\trectRatio = rectangle.height / rectangle.width,\n\t\t\tscale = (fill ? itemRatio > rectRatio : itemRatio < rectRatio)\n\t\t\t\t\t? rectangle.width / bounds.width\n\t\t\t\t\t: rectangle.height / bounds.height,\n\t\t\tnewBounds = new Rectangle(new Point(),\n\t\t\t\t\tnew Size(bounds.width * scale, bounds.height * scale));\n\t\tnewBounds.setCenter(rectangle.getCenter());\n\t\tthis.setBounds(newBounds);\n\t}\n}), {\n\n\t_setStyles: function(ctx, param, viewMatrix) {\n\t\tvar style = this._style,\n\t\t\tmatrix = this._matrix;\n\t\tif (style.hasFill()) {\n\t\t\tctx.fillStyle = style.getFillColor().toCanvasStyle(ctx, matrix);\n\t\t}\n\t\tif (style.hasStroke()) {\n\t\t\tctx.strokeStyle = style.getStrokeColor().toCanvasStyle(ctx, matrix);\n\t\t\tctx.lineWidth = style.getStrokeWidth();\n\t\t\tvar strokeJoin = style.getStrokeJoin(),\n\t\t\t\tstrokeCap = style.getStrokeCap(),\n\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\tif (strokeJoin)\n\t\t\t\tctx.lineJoin = strokeJoin;\n\t\t\tif (strokeCap)\n\t\t\t\tctx.lineCap = strokeCap;\n\t\t\tif (miterLimit)\n\t\t\t\tctx.miterLimit = miterLimit;\n\t\t\tif (paper.support.nativeDash) {\n\t\t\t\tvar dashArray = style.getDashArray(),\n\t\t\t\t\tdashOffset = style.getDashOffset();\n\t\t\t\tif (dashArray && dashArray.length) {\n\t\t\t\t\tif ('setLineDash' in ctx) {\n\t\t\t\t\t\tctx.setLineDash(dashArray);\n\t\t\t\t\t\tctx.lineDashOffset = dashOffset;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.mozDash = dashArray;\n\t\t\t\t\t\tctx.mozDashOffset = dashOffset;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (style.hasShadow()) {\n\t\t\tvar pixelRatio = param.pixelRatio || 1,\n\t\t\t\tmx = viewMatrix._shiftless().prepend(\n\t\t\t\t\tnew Matrix().scale(pixelRatio, pixelRatio)),\n\t\t\t\tblur = mx.transform(new Point(style.getShadowBlur(), 0)),\n\t\t\t\toffset = mx.transform(this.getShadowOffset());\n\t\t\tctx.shadowColor = style.getShadowColor().toCanvasStyle(ctx);\n\t\t\tctx.shadowBlur = blur.getLength();\n\t\t\tctx.shadowOffsetX = offset.x;\n\t\t\tctx.shadowOffsetY = offset.y;\n\t\t}\n\t},\n\n\tdraw: function(ctx, param, parentStrokeMatrix) {\n\t\tvar updateVersion = this._updateVersion = this._project._updateVersion;\n\t\tif (!this._visible || this._opacity === 0)\n\t\t\treturn;\n\t\tvar matrices = param.matrices,\n\t\t\tviewMatrix = param.viewMatrix,\n\t\t\tmatrix = this._matrix,\n\t\t\tglobalMatrix = matrices[matrices.length - 1].appended(matrix);\n\t\tif (!globalMatrix.isInvertible())\n\t\t\treturn;\n\n\t\tviewMatrix = viewMatrix ? viewMatrix.appended(globalMatrix)\n\t\t\t\t: globalMatrix;\n\n\t\tmatrices.push(globalMatrix);\n\t\tif (param.updateMatrix) {\n\t\t\tthis._globalMatrix = globalMatrix;\n\t\t}\n\n\t\tvar blendMode = this._blendMode,\n\t\t\topacity = Numerical.clamp(this._opacity, 0, 1),\n\t\t\tnormalBlend = blendMode === 'normal',\n\t\t\tnativeBlend = BlendMode.nativeModes[blendMode],\n\t\t\tdirect = normalBlend && opacity === 1\n\t\t\t\t\t|| param.dontStart\n\t\t\t\t\t|| param.clip\n\t\t\t\t\t|| (nativeBlend || normalBlend && opacity < 1)\n\t\t\t\t\t\t&& this._canComposite(),\n\t\t\tpixelRatio = param.pixelRatio || 1,\n\t\t\tmainCtx, itemOffset, prevOffset;\n\t\tif (!direct) {\n\t\t\tvar bounds = this.getStrokeBounds(viewMatrix);\n\t\t\tif (!bounds.width || !bounds.height) {\n\t\t\t\tmatrices.pop();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tprevOffset = param.offset;\n\t\t\titemOffset = param.offset = bounds.getTopLeft().floor();\n\t\t\tmainCtx = ctx;\n\t\t\tctx = CanvasProvider.getContext(bounds.getSize().ceil().add(1)\n\t\t\t\t\t.multiply(pixelRatio));\n\t\t\tif (pixelRatio !== 1)\n\t\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t}\n\t\tctx.save();\n\t\tvar strokeMatrix = parentStrokeMatrix\n\t\t\t\t? parentStrokeMatrix.appended(matrix)\n\t\t\t\t: this._canScaleStroke && !this.getStrokeScaling(true)\n\t\t\t\t\t&& viewMatrix,\n\t\t\tclip = !direct && param.clipItem,\n\t\t\ttransform = !strokeMatrix || clip;\n\t\tif (direct) {\n\t\t\tctx.globalAlpha = opacity;\n\t\t\tif (nativeBlend)\n\t\t\t\tctx.globalCompositeOperation = blendMode;\n\t\t} else if (transform) {\n\t\t\tctx.translate(-itemOffset.x, -itemOffset.y);\n\t\t}\n\t\tif (transform) {\n\t\t\t(direct ? matrix : viewMatrix).applyToContext(ctx);\n\t\t}\n\t\tif (clip) {\n\t\t\tparam.clipItem.draw(ctx, param.extend({ clip: true }));\n\t\t}\n\t\tif (strokeMatrix) {\n\t\t\tctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n\t\t\tvar offset = param.offset;\n\t\t\tif (offset)\n\t\t\t\tctx.translate(-offset.x, -offset.y);\n\t\t}\n\t\tthis._draw(ctx, param, viewMatrix, strokeMatrix);\n\t\tctx.restore();\n\t\tmatrices.pop();\n\t\tif (param.clip && !param.dontFinish) {\n\t\t\tctx.clip(this.getFillRule());\n\t\t}\n\t\tif (!direct) {\n\t\t\tBlendMode.process(blendMode, ctx, mainCtx, opacity,\n\t\t\t\t\titemOffset.subtract(prevOffset).multiply(pixelRatio));\n\t\t\tCanvasProvider.release(ctx);\n\t\t\tparam.offset = prevOffset;\n\t\t}\n\t},\n\n\t_isUpdated: function(updateVersion) {\n\t\tvar parent = this._parent;\n\t\tif (parent instanceof CompoundPath)\n\t\t\treturn parent._isUpdated(updateVersion);\n\t\tvar updated = this._updateVersion === updateVersion;\n\t\tif (!updated && parent && parent._visible\n\t\t\t\t&& parent._isUpdated(updateVersion)) {\n\t\t\tthis._updateVersion = updateVersion;\n\t\t\tupdated = true;\n\t\t}\n\t\treturn updated;\n\t},\n\n\t_drawSelection: function(ctx, matrix, size, selectionItems, updateVersion) {\n\t\tvar selection = this._selection,\n\t\t\titemSelected = selection & 1,\n\t\t\tboundsSelected = selection & 2\n\t\t\t\t\t|| itemSelected && this._selectBounds,\n\t\t\tpositionSelected = selection & 4;\n\t\tif (!this._drawSelected)\n\t\t\titemSelected = false;\n\t\tif ((itemSelected || boundsSelected || positionSelected)\n\t\t\t\t&& this._isUpdated(updateVersion)) {\n\t\t\tvar layer,\n\t\t\t\tcolor = this.getSelectedColor(true) || (layer = this.getLayer())\n\t\t\t\t\t&& layer.getSelectedColor(true),\n\t\t\t\tmx = matrix.appended(this.getGlobalMatrix(true)),\n\t\t\t\thalf = size / 2;\n\t\t\tctx.strokeStyle = ctx.fillStyle = color\n\t\t\t\t\t? color.toCanvasStyle(ctx) : '#009dec';\n\t\t\tif (itemSelected)\n\t\t\t\tthis._drawSelected(ctx, mx, selectionItems);\n\t\t\tif (positionSelected) {\n\t\t\t\tvar pos = this.getPosition(true),\n\t\t\t\t\tparent = this._parent,\n\t\t\t\t\tpoint = parent ? parent.localToGlobal(pos) : pos,\n\t\t\t\t\tx = point.x,\n\t\t\t\t\ty = point.y;\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(x, y, half, 0, Math.PI * 2, true);\n\t\t\t\tctx.stroke();\n\t\t\t\tvar deltas = [[0, -1], [1, 0], [0, 1], [-1, 0]],\n\t\t\t\t\tstart = half,\n\t\t\t\t\tend = size + 1;\n\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\tvar delta = deltas[i],\n\t\t\t\t\t\tdx = delta[0],\n\t\t\t\t\t\tdy = delta[1];\n\t\t\t\t\tctx.moveTo(x + dx * start, y + dy * start);\n\t\t\t\t\tctx.lineTo(x + dx * end, y + dy * end);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (boundsSelected) {\n\t\t\t\tvar coords = mx._transformCorners(this.getInternalBounds());\n\t\t\t\tctx.beginPath();\n\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\tctx[!i ? 'moveTo' : 'lineTo'](coords[i], coords[++i]);\n\t\t\t\t}\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.stroke();\n\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\tctx.fillRect(coords[i] - half, coords[++i] - half,\n\t\t\t\t\t\t\tsize, size);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn false;\n\t}\n}, Base.each(['down', 'drag', 'up', 'move'], function(key) {\n\tthis['removeOn' + Base.capitalize(key)] = function() {\n\t\tvar hash = {};\n\t\thash[key] = true;\n\t\treturn this.removeOn(hash);\n\t};\n}, {\n\n\tremoveOn: function(obj) {\n\t\tfor (var name in obj) {\n\t\t\tif (obj[name]) {\n\t\t\t\tvar key = 'mouse' + name,\n\t\t\t\t\tproject = this._project,\n\t\t\t\t\tsets = project._removeSets = project._removeSets || {};\n\t\t\t\tsets[key] = sets[key] || {};\n\t\t\t\tsets[key][this._id] = this;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n}), {\n\ttween: function(from, to, options) {\n\t\tif (!options) {\n\t\t\toptions = to;\n\t\t\tto = from;\n\t\t\tfrom = null;\n\t\t\tif (!options) {\n\t\t\t\toptions = to;\n\t\t\t\tto = null;\n\t\t\t}\n\t\t}\n\t\tvar easing = options && options.easing,\n\t\t\tstart = options && options.start,\n\t\t\tduration = options != null && (\n\t\t\t\ttypeof options === 'number' ? options : options.duration\n\t\t\t),\n\t\t\ttween = new Tween(this, from, to, duration, easing, start);\n\t\tfunction onFrame(event) {\n\t\t\ttween._handleFrame(event.time * 1000);\n\t\t\tif (!tween.running) {\n\t\t\t\tthis.off('frame', onFrame);\n\t\t\t}\n\t\t}\n\t\tif (duration) {\n\t\t\tthis.on('frame', onFrame);\n\t\t}\n\t\treturn tween;\n\t},\n\n\ttweenTo: function(to, options) {\n\t\treturn this.tween(null, to, options);\n\t},\n\n\ttweenFrom: function(from, options) {\n\t\treturn this.tween(from, null, options);\n\t}\n});\n\nvar Group = Item.extend({\n\t_class: 'Group',\n\t_selectBounds: false,\n\t_selectChildren: true,\n\t_serializeFields: {\n\t\tchildren: []\n\t},\n\n\tinitialize: function Group(arg) {\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tif (!this._initialize(arg))\n\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t},\n\n\t_changed: function _changed(flags) {\n\t\t_changed.base.call(this, flags);\n\t\tif (flags & 2050) {\n\t\t\tthis._clipItem = undefined;\n\t\t}\n\t},\n\n\t_getClipItem: function() {\n\t\tvar clipItem = this._clipItem;\n\t\tif (clipItem === undefined) {\n\t\t\tclipItem = null;\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tif (children[i]._clipMask) {\n\t\t\t\t\tclipItem = children[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._clipItem = clipItem;\n\t\t}\n\t\treturn clipItem;\n\t},\n\n\tisClipped: function() {\n\t\treturn !!this._getClipItem();\n\t},\n\n\tsetClipped: function(clipped) {\n\t\tvar child = this.getFirstChild();\n\t\tif (child)\n\t\t\tchild.setClipMask(clipped);\n\t},\n\n\t_getBounds: function _getBounds(matrix, options) {\n\t\tvar clipItem = this._getClipItem();\n\t\treturn clipItem\n\t\t\t? clipItem._getCachedBounds(clipItem._matrix.prepended(matrix),\n\t\t\t\tBase.set({}, options, { stroke: false }))\n\t\t\t: _getBounds.base.call(this, matrix, options);\n\t},\n\n\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\tvar clipItem = this._getClipItem();\n\t\treturn (!clipItem || clipItem.contains(point))\n\t\t\t\t&& _hitTestChildren.base.call(this, point, options, viewMatrix,\n\t\t\t\t\tclipItem);\n\t},\n\n\t_draw: function(ctx, param) {\n\t\tvar clip = param.clip,\n\t\t\tclipItem = !clip && this._getClipItem();\n\t\tparam = param.extend({ clipItem: clipItem, clip: false });\n\t\tif (clip) {\n\t\t\tctx.beginPath();\n\t\t\tparam.dontStart = param.dontFinish = true;\n\t\t} else if (clipItem) {\n\t\t\tclipItem.draw(ctx, param.extend({ clip: true }));\n\t\t}\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar item = children[i];\n\t\t\tif (item !== clipItem)\n\t\t\t\titem.draw(ctx, param);\n\t\t}\n\t}\n});\n\nvar Layer = Group.extend({\n\t_class: 'Layer',\n\n\tinitialize: function Layer() {\n\t\tGroup.apply(this, arguments);\n\t},\n\n\t_getOwner: function() {\n\t\treturn this._parent || this._index != null && this._project;\n\t},\n\n\tisInserted: function isInserted() {\n\t\treturn this._parent ? isInserted.base.call(this) : this._index != null;\n\t},\n\n\tactivate: function() {\n\t\tthis._project._activeLayer = this;\n\t},\n\n\t_hitTestSelf: function() {\n\t}\n});\n\nvar Shape = Item.extend({\n\t_class: 'Shape',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_canScaleStroke: true,\n\t_serializeFields: {\n\t\ttype: null,\n\t\tsize: null,\n\t\tradius: null\n\t},\n\n\tinitialize: function Shape(props, point) {\n\t\tthis._initialize(props, point);\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._type === item._type\n\t\t\t&& this._size.equals(item._size)\n\t\t\t&& Base.equals(this._radius, item._radius);\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setType(source._type);\n\t\tthis.setSize(source._size);\n\t\tthis.setRadius(source._radius);\n\t},\n\n\tgetType: function() {\n\t\treturn this._type;\n\t},\n\n\tsetType: function(type) {\n\t\tthis._type = type;\n\t},\n\n\tgetShape: '#getType',\n\tsetShape: '#setType',\n\n\tgetSize: function() {\n\t\tvar size = this._size;\n\t\treturn new LinkedSize(size.width, size.height, this, 'setSize');\n\t},\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments);\n\t\tif (!this._size) {\n\t\t\tthis._size = size.clone();\n\t\t} else if (!this._size.equals(size)) {\n\t\t\tvar type = this._type,\n\t\t\t\twidth = size.width,\n\t\t\t\theight = size.height;\n\t\t\tif (type === 'rectangle') {\n\t\t\t\tthis._radius.set(Size.min(this._radius, size.divide(2).abs()));\n\t\t\t} else if (type === 'circle') {\n\t\t\t\twidth = height = (width + height) / 2;\n\t\t\t\tthis._radius = width / 2;\n\t\t\t} else if (type === 'ellipse') {\n\t\t\t\tthis._radius._set(width / 2, height / 2);\n\t\t\t}\n\t\t\tthis._size._set(width, height);\n\t\t\tthis._changed(9);\n\t\t}\n\t},\n\n\tgetRadius: function() {\n\t\tvar rad = this._radius;\n\t\treturn this._type === 'circle'\n\t\t\t\t? rad\n\t\t\t\t: new LinkedSize(rad.width, rad.height, this, 'setRadius');\n\t},\n\n\tsetRadius: function(radius) {\n\t\tvar type = this._type;\n\t\tif (type === 'circle') {\n\t\t\tif (radius === this._radius)\n\t\t\t\treturn;\n\t\t\tvar size = radius * 2;\n\t\t\tthis._radius = radius;\n\t\t\tthis._size._set(size, size);\n\t\t} else {\n\t\t\tradius = Size.read(arguments);\n\t\t\tif (!this._radius) {\n\t\t\t\tthis._radius = radius.clone();\n\t\t\t} else {\n\t\t\t\tif (this._radius.equals(radius))\n\t\t\t\t\treturn;\n\t\t\t\tthis._radius.set(radius);\n\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\tvar size = Size.max(this._size, radius.multiply(2));\n\t\t\t\t\tthis._size.set(size);\n\t\t\t\t} else if (type === 'ellipse') {\n\t\t\t\t\tthis._size._set(radius.width * 2, radius.height * 2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis._changed(9);\n\t},\n\n\tisEmpty: function() {\n\t\treturn false;\n\t},\n\n\ttoPath: function(insert) {\n\t\tvar path = new Path[Base.capitalize(this._type)]({\n\t\t\tcenter: new Point(),\n\t\t\tsize: this._size,\n\t\t\tradius: this._radius,\n\t\t\tinsert: false\n\t\t});\n\t\tpath.copyAttributes(this);\n\t\tif (paper.settings.applyMatrix)\n\t\t\tpath.setApplyMatrix(true);\n\t\tif (insert === undefined || insert)\n\t\t\tpath.insertAbove(this);\n\t\treturn path;\n\t},\n\n\ttoShape: '#clone',\n\n\t_asPathItem: function() {\n\t\treturn this.toPath(false);\n\t},\n\n\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\tvar style = this._style,\n\t\t\thasFill = style.hasFill(),\n\t\t\thasStroke = style.hasStroke(),\n\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\tuntransformed = !strokeMatrix;\n\t\tif (hasFill || hasStroke || dontPaint) {\n\t\t\tvar type = this._type,\n\t\t\t\tradius = this._radius,\n\t\t\t\tisCircle = type === 'circle';\n\t\t\tif (!param.dontStart)\n\t\t\t\tctx.beginPath();\n\t\t\tif (untransformed && isCircle) {\n\t\t\t\tctx.arc(0, 0, radius, 0, Math.PI * 2, true);\n\t\t\t} else {\n\t\t\t\tvar rx = isCircle ? radius : radius.width,\n\t\t\t\t\try = isCircle ? radius : radius.height,\n\t\t\t\t\tsize = this._size,\n\t\t\t\t\twidth = size.width,\n\t\t\t\t\theight = size.height;\n\t\t\t\tif (untransformed && type === 'rectangle' && rx === 0 && ry === 0) {\n\t\t\t\t\tctx.rect(-width / 2, -height / 2, width, height);\n\t\t\t\t} else {\n\t\t\t\t\tvar x = width / 2,\n\t\t\t\t\t\ty = height / 2,\n\t\t\t\t\t\tkappa = 1 - 0.5522847498307936,\n\t\t\t\t\t\tcx = rx * kappa,\n\t\t\t\t\t\tcy = ry * kappa,\n\t\t\t\t\t\tc = [\n\t\t\t\t\t\t\t-x, -y + ry,\n\t\t\t\t\t\t\t-x, -y + cy,\n\t\t\t\t\t\t\t-x + cx, -y,\n\t\t\t\t\t\t\t-x + rx, -y,\n\t\t\t\t\t\t\tx - rx, -y,\n\t\t\t\t\t\t\tx - cx, -y,\n\t\t\t\t\t\t\tx, -y + cy,\n\t\t\t\t\t\t\tx, -y + ry,\n\t\t\t\t\t\t\tx, y - ry,\n\t\t\t\t\t\t\tx, y - cy,\n\t\t\t\t\t\t\tx - cx, y,\n\t\t\t\t\t\t\tx - rx, y,\n\t\t\t\t\t\t\t-x + rx, y,\n\t\t\t\t\t\t\t-x + cx, y,\n\t\t\t\t\t\t\t-x, y - cy,\n\t\t\t\t\t\t\t-x, y - ry\n\t\t\t\t\t\t];\n\t\t\t\t\tif (strokeMatrix)\n\t\t\t\t\t\tstrokeMatrix.transform(c, c, 32);\n\t\t\t\t\tctx.moveTo(c[0], c[1]);\n\t\t\t\t\tctx.bezierCurveTo(c[2], c[3], c[4], c[5], c[6], c[7]);\n\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\tctx.lineTo(c[8], c[9]);\n\t\t\t\t\tctx.bezierCurveTo(c[10], c[11], c[12], c[13], c[14], c[15]);\n\t\t\t\t\tif (y !== ry)\n\t\t\t\t\t\tctx.lineTo(c[16], c[17]);\n\t\t\t\t\tctx.bezierCurveTo(c[18], c[19], c[20], c[21], c[22], c[23]);\n\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\tctx.lineTo(c[24], c[25]);\n\t\t\t\t\tctx.bezierCurveTo(c[26], c[27], c[28], c[29], c[30], c[31]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tctx.closePath();\n\t\t}\n\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\tif (hasFill) {\n\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (hasStroke)\n\t\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn !(this.hasFill() && this.hasStroke());\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\tstyle = this._style,\n\t\t\tstrokeWidth = options.stroke && style.hasStroke()\n\t\t\t\t\t&& style.getStrokeWidth();\n\t\tif (matrix)\n\t\t\trect = matrix._transformBounds(rect);\n\t\treturn strokeWidth\n\t\t\t\t? rect.expand(Path._getStrokePadding(strokeWidth,\n\t\t\t\t\tthis._getStrokeMatrix(matrix, options)))\n\t\t\t\t: rect;\n\t}\n},\nnew function() {\n\tfunction getCornerCenter(that, point, expand) {\n\t\tvar radius = that._radius;\n\t\tif (!radius.isZero()) {\n\t\t\tvar halfSize = that._size.divide(2);\n\t\t\tfor (var q = 1; q <= 4; q++) {\n\t\t\t\tvar dir = new Point(q > 1 && q < 4 ? -1 : 1, q > 2 ? -1 : 1),\n\t\t\t\t\tcorner = dir.multiply(halfSize),\n\t\t\t\t\tcenter = corner.subtract(dir.multiply(radius)),\n\t\t\t\t\trect = new Rectangle(\n\t\t\t\t\t\t\texpand ? corner.add(dir.multiply(expand)) : corner,\n\t\t\t\t\t\t\tcenter);\n\t\t\t\tif (rect.contains(point))\n\t\t\t\t\treturn { point: center, quadrant: q };\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction isOnEllipseStroke(point, radius, padding, quadrant) {\n\t\tvar vector = point.divide(radius);\n\t\treturn (!quadrant || vector.isInQuadrant(quadrant)) &&\n\t\t\t\tvector.subtract(vector.normalize()).multiply(radius)\n\t\t\t\t\t.divide(padding).length <= 1;\n\t}\n\n\treturn {\n\t\t_contains: function _contains(point) {\n\t\t\tif (this._type === 'rectangle') {\n\t\t\t\tvar center = getCornerCenter(this, point);\n\t\t\t\treturn center\n\t\t\t\t\t\t? point.subtract(center.point).divide(this._radius)\n\t\t\t\t\t\t\t.getLength() <= 1\n\t\t\t\t\t\t: _contains.base.call(this, point);\n\t\t\t} else {\n\t\t\t\treturn point.divide(this.size).getLength() <= 0.5;\n\t\t\t}\n\t\t},\n\n\t\t_hitTestSelf: function _hitTestSelf(point, options, viewMatrix,\n\t\t\t\tstrokeMatrix) {\n\t\t\tvar hit = false,\n\t\t\t\tstyle = this._style,\n\t\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\t\thitFill = options.fill && style.hasFill();\n\t\t\tif (hitStroke || hitFill) {\n\t\t\t\tvar type = this._type,\n\t\t\t\t\tradius = this._radius,\n\t\t\t\t\tstrokeRadius = hitStroke ? style.getStrokeWidth() / 2 : 0,\n\t\t\t\t\tstrokePadding = options._tolerancePadding.add(\n\t\t\t\t\t\tPath._getStrokePadding(strokeRadius,\n\t\t\t\t\t\t\t!style.getStrokeScaling() && strokeMatrix));\n\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\tvar padding = strokePadding.multiply(2),\n\t\t\t\t\t\tcenter = getCornerCenter(this, point, padding);\n\t\t\t\t\tif (center) {\n\t\t\t\t\t\thit = isOnEllipseStroke(point.subtract(center.point),\n\t\t\t\t\t\t\t\tradius, strokePadding, center.quadrant);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\t\t\t\t\touter = rect.expand(padding),\n\t\t\t\t\t\t\tinner = rect.expand(padding.negate());\n\t\t\t\t\t\thit = outer._containsPoint(point)\n\t\t\t\t\t\t\t\t&& !inner._containsPoint(point);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\thit = isOnEllipseStroke(point, radius, strokePadding);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn hit ? new HitResult(hitStroke ? 'stroke' : 'fill', this)\n\t\t\t\t\t: _hitTestSelf.base.apply(this, arguments);\n\t\t}\n\t};\n}, {\n\nstatics: new function() {\n\tfunction createShape(type, point, size, radius, args) {\n\t\tvar item = Base.create(Shape.prototype);\n\t\titem._type = type;\n\t\titem._size = size;\n\t\titem._radius = radius;\n\t\titem._initialize(Base.getNamed(args), point);\n\t\treturn item;\n\t}\n\n\treturn {\n\t\tCircle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tradius = Base.readNamed(args, 'radius');\n\t\t\treturn createShape('circle', center, new Size(radius * 2), radius,\n\t\t\t\t\targs);\n\t\t},\n\n\t\tRectangle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\trect = Rectangle.readNamed(args, 'rectangle'),\n\t\t\t\tradius = Size.min(Size.readNamed(args, 'radius'),\n\t\t\t\t\t\trect.getSize(true).divide(2));\n\t\t\treturn createShape('rectangle', rect.getCenter(true),\n\t\t\t\t\trect.getSize(true), radius, args);\n\t\t},\n\n\t\tEllipse: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tellipse = Shape._readEllipse(args),\n\t\t\t\tradius = ellipse.radius;\n\t\t\treturn createShape('ellipse', ellipse.center, radius.multiply(2),\n\t\t\t\t\tradius, args);\n\t\t},\n\n\t\t_readEllipse: function(args) {\n\t\t\tvar center,\n\t\t\t\tradius;\n\t\t\tif (Base.hasNamed(args, 'radius')) {\n\t\t\t\tcenter = Point.readNamed(args, 'center');\n\t\t\t\tradius = Size.readNamed(args, 'radius');\n\t\t\t} else {\n\t\t\t\tvar rect = Rectangle.readNamed(args, 'rectangle');\n\t\t\t\tcenter = rect.getCenter(true);\n\t\t\t\tradius = rect.getSize(true).divide(2);\n\t\t\t}\n\t\t\treturn { center: center, radius: radius };\n\t\t}\n\t};\n}});\n\nvar Raster = Item.extend({\n\t_class: 'Raster',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_boundsOptions: { stroke: false, handle: false },\n\t_serializeFields: {\n\t\tcrossOrigin: null,\n\t\tsource: null\n\t},\n\t_prioritize: ['crossOrigin'],\n\t_smoothing: 'low',\n\tbeans: true,\n\n\tinitialize: function Raster(source, position) {\n\t\tif (!this._initialize(source,\n\t\t\t\tposition !== undefined && Point.read(arguments))) {\n\t\t\tvar image,\n\t\t\t\ttype = typeof source,\n\t\t\t\tobject = type === 'string'\n\t\t\t\t\t? document.getElementById(source)\n\t\t\t\t\t: type  === 'object'\n\t\t\t\t\t\t? source\n\t\t\t\t\t\t: null;\n\t\t\tif (object && object !== Item.NO_INSERT) {\n\t\t\t\tif (object.getContext || object.naturalHeight != null) {\n\t\t\t\t\timage = object;\n\t\t\t\t} else if (object) {\n\t\t\t\t\tvar size = Size.read(arguments);\n\t\t\t\t\tif (!size.isZero()) {\n\t\t\t\t\t\timage = CanvasProvider.getCanvas(size);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (image) {\n\t\t\t\tthis.setImage(image);\n\t\t\t} else {\n\t\t\t\tthis.setSource(source);\n\t\t\t}\n\t\t}\n\t\tif (!this._size) {\n\t\t\tthis._size = new Size();\n\t\t\tthis._loaded = false;\n\t\t}\n\t},\n\n\t_equals: function(item) {\n\t\treturn this.getSource() === item.getSource();\n\t},\n\n\tcopyContent: function(source) {\n\t\tvar image = source._image,\n\t\t\tcanvas = source._canvas;\n\t\tif (image) {\n\t\t\tthis._setImage(image);\n\t\t} else if (canvas) {\n\t\t\tvar copyCanvas = CanvasProvider.getCanvas(source._size);\n\t\t\tcopyCanvas.getContext('2d').drawImage(canvas, 0, 0);\n\t\t\tthis._setImage(copyCanvas);\n\t\t}\n\t\tthis._crossOrigin = source._crossOrigin;\n\t},\n\n\tgetSize: function() {\n\t\tvar size = this._size;\n\t\treturn new LinkedSize(size ? size.width : 0, size ? size.height : 0,\n\t\t\t\tthis, 'setSize');\n\t},\n\n\tsetSize: function(_size, _clear) {\n\t\tvar size = Size.read(arguments);\n\t\tif (!size.equals(this._size)) {\n\t\t\tif (size.width > 0 && size.height > 0) {\n\t\t\t\tvar element = !_clear && this.getElement();\n\t\t\t\tthis._setImage(CanvasProvider.getCanvas(size));\n\t\t\t\tif (element) {\n\t\t\t\t\tthis.getContext(true).drawImage(element, 0, 0,\n\t\t\t\t\t\t\tsize.width, size.height);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this._canvas)\n\t\t\t\t\tCanvasProvider.release(this._canvas);\n\t\t\t\tthis._size = size.clone();\n\t\t\t}\n\t\t} else if (_clear) {\n\t\t\tthis.clear();\n\t\t}\n\t},\n\n\tgetWidth: function() {\n\t\treturn this._size ? this._size.width : 0;\n\t},\n\n\tsetWidth: function(width) {\n\t\tthis.setSize(width, this.getHeight());\n\t},\n\n\tgetHeight: function() {\n\t\treturn this._size ? this._size.height : 0;\n\t},\n\n\tsetHeight: function(height) {\n\t\tthis.setSize(this.getWidth(), height);\n\t},\n\n\tgetLoaded: function() {\n\t\treturn this._loaded;\n\t},\n\n\tisEmpty: function() {\n\t\tvar size = this._size;\n\t\treturn !size || size.width === 0 && size.height === 0;\n\t},\n\n\tgetResolution: function() {\n\t\tvar matrix = this._matrix,\n\t\t\torig = new Point(0, 0).transform(matrix),\n\t\t\tu = new Point(1, 0).transform(matrix).subtract(orig),\n\t\t\tv = new Point(0, 1).transform(matrix).subtract(orig);\n\t\treturn new Size(\n\t\t\t72 / u.getLength(),\n\t\t\t72 / v.getLength()\n\t\t);\n\t},\n\n\tgetPpi: '#getResolution',\n\n\tgetImage: function() {\n\t\treturn this._image;\n\t},\n\n\tsetImage: function(image) {\n\t\tvar that = this;\n\n\t\tfunction emit(event) {\n\t\t\tvar view = that.getView(),\n\t\t\t\ttype = event && event.type || 'load';\n\t\t\tif (view && that.responds(type)) {\n\t\t\t\tpaper = view._scope;\n\t\t\t\tthat.emit(type, new Event(event));\n\t\t\t}\n\t\t}\n\n\t\tthis._setImage(image);\n\t\tif (this._loaded) {\n\t\t\tsetTimeout(emit, 0);\n\t\t} else if (image) {\n\t\t\tDomEvent.add(image, {\n\t\t\t\tload: function(event) {\n\t\t\t\t\tthat._setImage(image);\n\t\t\t\t\temit(event);\n\t\t\t\t},\n\t\t\t\terror: emit\n\t\t\t});\n\t\t}\n\t},\n\n\t_setImage: function(image) {\n\t\tif (this._canvas)\n\t\t\tCanvasProvider.release(this._canvas);\n\t\tif (image && image.getContext) {\n\t\t\tthis._image = null;\n\t\t\tthis._canvas = image;\n\t\t\tthis._loaded = true;\n\t\t} else {\n\t\t\tthis._image = image;\n\t\t\tthis._canvas = null;\n\t\t\tthis._loaded = !!(image && image.src && image.complete);\n\t\t}\n\t\tthis._size = new Size(\n\t\t\t\timage ? image.naturalWidth || image.width : 0,\n\t\t\t\timage ? image.naturalHeight || image.height : 0);\n\t\tthis._context = null;\n\t\tthis._changed(1033);\n\t},\n\n\tgetCanvas: function() {\n\t\tif (!this._canvas) {\n\t\t\tvar ctx = CanvasProvider.getContext(this._size);\n\t\t\ttry {\n\t\t\t\tif (this._image)\n\t\t\t\t\tctx.drawImage(this._image, 0, 0);\n\t\t\t\tthis._canvas = ctx.canvas;\n\t\t\t} catch (e) {\n\t\t\t\tCanvasProvider.release(ctx);\n\t\t\t}\n\t\t}\n\t\treturn this._canvas;\n\t},\n\n\tsetCanvas: '#setImage',\n\n\tgetContext: function(_change) {\n\t\tif (!this._context)\n\t\t\tthis._context = this.getCanvas().getContext('2d');\n\t\tif (_change) {\n\t\t\tthis._image = null;\n\t\t\tthis._changed(1025);\n\t\t}\n\t\treturn this._context;\n\t},\n\n\tsetContext: function(context) {\n\t\tthis._context = context;\n\t},\n\n\tgetSource: function() {\n\t\tvar image = this._image;\n\t\treturn image && image.src || this.toDataURL();\n\t},\n\n\tsetSource: function(src) {\n\t\tvar image = new self.Image(),\n\t\t\tcrossOrigin = this._crossOrigin;\n\t\tif (crossOrigin)\n\t\t\timage.crossOrigin = crossOrigin;\n\t\tif (src)\n\t\t\timage.src = src;\n\t\tthis.setImage(image);\n\t},\n\n\tgetCrossOrigin: function() {\n\t\tvar image = this._image;\n\t\treturn image && image.crossOrigin || this._crossOrigin || '';\n\t},\n\n\tsetCrossOrigin: function(crossOrigin) {\n\t\tthis._crossOrigin = crossOrigin;\n\t\tvar image = this._image;\n\t\tif (image)\n\t\t\timage.crossOrigin = crossOrigin;\n\t},\n\n\tgetSmoothing: function() {\n\t\treturn this._smoothing;\n\t},\n\n\tsetSmoothing: function(smoothing) {\n\t\tthis._smoothing = typeof smoothing === 'string'\n\t\t\t? smoothing\n\t\t\t: smoothing ? 'low' : 'off';\n\t\tthis._changed(257);\n\t},\n\n\tgetElement: function() {\n\t\treturn this._canvas || this._loaded && this._image;\n\t}\n}, {\n\tbeans: false,\n\n\tgetSubCanvas: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tctx = CanvasProvider.getContext(rect.getSize());\n\t\tctx.drawImage(this.getCanvas(), rect.x, rect.y,\n\t\t\t\trect.width, rect.height, 0, 0, rect.width, rect.height);\n\t\treturn ctx.canvas;\n\t},\n\n\tgetSubRaster: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\traster = new Raster(Item.NO_INSERT);\n\t\traster._setImage(this.getSubCanvas(rect));\n\t\traster.translate(rect.getCenter().subtract(this.getSize().divide(2)));\n\t\traster._matrix.prepend(this._matrix);\n\t\traster.insertAbove(this);\n\t\treturn raster;\n\t},\n\n\ttoDataURL: function() {\n\t\tvar image = this._image,\n\t\t\tsrc = image && image.src;\n\t\tif (/^data:/.test(src))\n\t\t\treturn src;\n\t\tvar canvas = this.getCanvas();\n\t\treturn canvas ? canvas.toDataURL.apply(canvas, arguments) : null;\n\t},\n\n\tdrawImage: function(image ) {\n\t\tvar point = Point.read(arguments, 1);\n\t\tthis.getContext(true).drawImage(image, point.x, point.y);\n\t},\n\n\tgetAverageColor: function(object) {\n\t\tvar bounds, path;\n\t\tif (!object) {\n\t\t\tbounds = this.getBounds();\n\t\t} else if (object instanceof PathItem) {\n\t\t\tpath = object;\n\t\t\tbounds = object.getBounds();\n\t\t} else if (typeof object === 'object') {\n\t\t\tif ('width' in object) {\n\t\t\t\tbounds = new Rectangle(object);\n\t\t\t} else if ('x' in object) {\n\t\t\t\tbounds = new Rectangle(object.x - 0.5, object.y - 0.5, 1, 1);\n\t\t\t}\n\t\t}\n\t\tif (!bounds)\n\t\t\treturn null;\n\t\tvar sampleSize = 32,\n\t\t\twidth = Math.min(bounds.width, sampleSize),\n\t\t\theight = Math.min(bounds.height, sampleSize);\n\t\tvar ctx = Raster._sampleContext;\n\t\tif (!ctx) {\n\t\t\tctx = Raster._sampleContext = CanvasProvider.getContext(\n\t\t\t\t\tnew Size(sampleSize));\n\t\t} else {\n\t\t\tctx.clearRect(0, 0, sampleSize + 1, sampleSize + 1);\n\t\t}\n\t\tctx.save();\n\t\tvar matrix = new Matrix()\n\t\t\t\t.scale(width / bounds.width, height / bounds.height)\n\t\t\t\t.translate(-bounds.x, -bounds.y);\n\t\tmatrix.applyToContext(ctx);\n\t\tif (path)\n\t\t\tpath.draw(ctx, new Base({ clip: true, matrices: [matrix] }));\n\t\tthis._matrix.applyToContext(ctx);\n\t\tvar element = this.getElement(),\n\t\t\tsize = this._size;\n\t\tif (element)\n\t\t\tctx.drawImage(element, -size.width / 2, -size.height / 2);\n\t\tctx.restore();\n\t\tvar pixels = ctx.getImageData(0.5, 0.5, Math.ceil(width),\n\t\t\t\tMath.ceil(height)).data,\n\t\t\tchannels = [0, 0, 0],\n\t\t\ttotal = 0;\n\t\tfor (var i = 0, l = pixels.length; i < l; i += 4) {\n\t\t\tvar alpha = pixels[i + 3];\n\t\t\ttotal += alpha;\n\t\t\talpha /= 255;\n\t\t\tchannels[0] += pixels[i] * alpha;\n\t\t\tchannels[1] += pixels[i + 1] * alpha;\n\t\t\tchannels[2] += pixels[i + 2] * alpha;\n\t\t}\n\t\tfor (var i = 0; i < 3; i++)\n\t\t\tchannels[i] /= total;\n\t\treturn total ? Color.read(channels) : null;\n\t},\n\n\tgetPixel: function() {\n\t\tvar point = Point.read(arguments);\n\t\tvar data = this.getContext().getImageData(point.x, point.y, 1, 1).data;\n\t\treturn new Color('rgb', [data[0] / 255, data[1] / 255, data[2] / 255],\n\t\t\t\tdata[3] / 255);\n\t},\n\n\tsetPixel: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\tcolor = Color.read(args),\n\t\t\tcomponents = color._convert('rgb'),\n\t\t\talpha = color._alpha,\n\t\t\tctx = this.getContext(true),\n\t\t\timageData = ctx.createImageData(1, 1),\n\t\t\tdata = imageData.data;\n\t\tdata[0] = components[0] * 255;\n\t\tdata[1] = components[1] * 255;\n\t\tdata[2] = components[2] * 255;\n\t\tdata[3] = alpha != null ? alpha * 255 : 255;\n\t\tctx.putImageData(imageData, point.x, point.y);\n\t},\n\n\tclear: function() {\n\t\tvar size = this._size;\n\t\tthis.getContext(true).clearRect(0, 0, size.width + 1, size.height + 1);\n\t},\n\n\tcreateImageData: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn this.getContext().createImageData(size.width, size.height);\n\t},\n\n\tgetImageData: function() {\n\t\tvar rect = Rectangle.read(arguments);\n\t\tif (rect.isEmpty())\n\t\t\trect = new Rectangle(this._size);\n\t\treturn this.getContext().getImageData(rect.x, rect.y,\n\t\t\t\trect.width, rect.height);\n\t},\n\n\tsetImageData: function(data ) {\n\t\tvar point = Point.read(arguments, 1);\n\t\tthis.getContext(true).putImageData(data, point.x, point.y);\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar rect = new Rectangle(this._size).setCenter(0, 0);\n\t\treturn matrix ? matrix._transformBounds(rect) : rect;\n\t},\n\n\t_hitTestSelf: function(point) {\n\t\tif (this._contains(point)) {\n\t\t\tvar that = this;\n\t\t\treturn new HitResult('pixel', that, {\n\t\t\t\toffset: point.add(that._size.divide(2)).round(),\n\t\t\t\tcolor: {\n\t\t\t\t\tget: function() {\n\t\t\t\t\t\treturn that.getPixel(this.offset);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\n\t_draw: function(ctx, param, viewMatrix) {\n\t\tvar element = this.getElement();\n\t\tif (element && element.width > 0 && element.height > 0) {\n\t\t\tctx.globalAlpha = Numerical.clamp(this._opacity, 0, 1);\n\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\n\t\t\tvar smoothing = this._smoothing,\n\t\t\t\tdisabled = smoothing === 'off';\n\t\t\tDomElement.setPrefixed(\n\t\t\t\tctx,\n\t\t\t\tdisabled ? 'imageSmoothingEnabled' : 'imageSmoothingQuality',\n\t\t\t\tdisabled ? false : smoothing\n\t\t\t);\n\n\t\t\tctx.drawImage(element,\n\t\t\t\t\t-this._size.width / 2, -this._size.height / 2);\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn true;\n\t}\n});\n\nvar SymbolItem = Item.extend({\n\t_class: 'SymbolItem',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_boundsOptions: { stroke: true },\n\t_serializeFields: {\n\t\tsymbol: null\n\t},\n\n\tinitialize: function SymbolItem(arg0, arg1) {\n\t\tif (!this._initialize(arg0,\n\t\t\t\targ1 !== undefined && Point.read(arguments, 1)))\n\t\t\tthis.setDefinition(arg0 instanceof SymbolDefinition ?\n\t\t\t\t\targ0 : new SymbolDefinition(arg0));\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._definition === item._definition;\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setDefinition(source._definition);\n\t},\n\n\tgetDefinition: function() {\n\t\treturn this._definition;\n\t},\n\n\tsetDefinition: function(definition) {\n\t\tthis._definition = definition;\n\t\tthis._changed(9);\n\t},\n\n\tgetSymbol: '#getDefinition',\n\tsetSymbol: '#setDefinition',\n\n\tisEmpty: function() {\n\t\treturn this._definition._item.isEmpty();\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar item = this._definition._item;\n\t\treturn item._getCachedBounds(item._matrix.prepended(matrix), options);\n\t},\n\n\t_hitTestSelf: function(point, options, viewMatrix) {\n\t\tvar opts = options.extend({ all: false });\n\t\tvar res = this._definition._item._hitTest(point, opts, viewMatrix);\n\t\tif (res)\n\t\t\tres.item = this;\n\t\treturn res;\n\t},\n\n\t_draw: function(ctx, param) {\n\t\tthis._definition._item.draw(ctx, param);\n\t}\n\n});\n\nvar SymbolDefinition = Base.extend({\n\t_class: 'SymbolDefinition',\n\n\tinitialize: function SymbolDefinition(item, dontCenter) {\n\t\tthis._id = UID.get();\n\t\tthis.project = paper.project;\n\t\tif (item)\n\t\t\tthis.setItem(item, dontCenter);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn dictionary.add(this, function() {\n\t\t\treturn Base.serialize([this._class, this._item],\n\t\t\t\t\toptions, false, dictionary);\n\t\t});\n\t},\n\n\t_changed: function(flags) {\n\t\tif (flags & 8)\n\t\t\tItem._clearBoundsCache(this);\n\t\tif (flags & 1)\n\t\t\tthis.project._changed(flags);\n\t},\n\n\tgetItem: function() {\n\t\treturn this._item;\n\t},\n\n\tsetItem: function(item, _dontCenter) {\n\t\tif (item._symbol)\n\t\t\titem = item.clone();\n\t\tif (this._item)\n\t\t\tthis._item._symbol = null;\n\t\tthis._item = item;\n\t\titem.remove();\n\t\titem.setSelected(false);\n\t\tif (!_dontCenter)\n\t\t\titem.setPosition(new Point());\n\t\titem._symbol = this;\n\t\tthis._changed(9);\n\t},\n\n\tgetDefinition: '#getItem',\n\tsetDefinition: '#setItem',\n\n\tplace: function(position) {\n\t\treturn new SymbolItem(this, position);\n\t},\n\n\tclone: function() {\n\t\treturn new SymbolDefinition(this._item.clone(false));\n\t},\n\n\tequals: function(symbol) {\n\t\treturn symbol === this\n\t\t\t\t|| symbol && this._item.equals(symbol._item)\n\t\t\t\t|| false;\n\t}\n});\n\nvar HitResult = Base.extend({\n\t_class: 'HitResult',\n\n\tinitialize: function HitResult(type, item, values) {\n\t\tthis.type = type;\n\t\tthis.item = item;\n\t\tif (values)\n\t\t\tthis.inject(values);\n\t},\n\n\tstatics: {\n\t\tgetOptions: function(args) {\n\t\t\tvar options = args && Base.read(args);\n\t\t\treturn new Base({\n\t\t\t\ttype: null,\n\t\t\t\ttolerance: paper.settings.hitTolerance,\n\t\t\t\tfill: !options,\n\t\t\t\tstroke: !options,\n\t\t\t\tsegments: !options,\n\t\t\t\thandles: false,\n\t\t\t\tends: false,\n\t\t\t\tposition: false,\n\t\t\t\tcenter: false,\n\t\t\t\tbounds: false,\n\t\t\t\tguides: false,\n\t\t\t\tselected: false\n\t\t\t}, options);\n\t\t}\n\t}\n});\n\nvar Segment = Base.extend({\n\t_class: 'Segment',\n\tbeans: true,\n\t_selection: 0,\n\n\tinitialize: function Segment(arg0, arg1, arg2, arg3, arg4, arg5) {\n\t\tvar count = arguments.length,\n\t\t\tpoint, handleIn, handleOut, selection;\n\t\tif (count > 0) {\n\t\t\tif (arg0 == null || typeof arg0 === 'object') {\n\t\t\t\tif (count === 1 && arg0 && 'point' in arg0) {\n\t\t\t\t\tpoint = arg0.point;\n\t\t\t\t\thandleIn = arg0.handleIn;\n\t\t\t\t\thandleOut = arg0.handleOut;\n\t\t\t\t\tselection = arg0.selection;\n\t\t\t\t} else {\n\t\t\t\t\tpoint = arg0;\n\t\t\t\t\thandleIn = arg1;\n\t\t\t\t\thandleOut = arg2;\n\t\t\t\t\tselection = arg3;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tpoint = [ arg0, arg1 ];\n\t\t\t\thandleIn = arg2 !== undefined ? [ arg2, arg3 ] : null;\n\t\t\t\thandleOut = arg4 !== undefined ? [ arg4, arg5 ] : null;\n\t\t\t}\n\t\t}\n\t\tnew SegmentPoint(point, this, '_point');\n\t\tnew SegmentPoint(handleIn, this, '_handleIn');\n\t\tnew SegmentPoint(handleOut, this, '_handleOut');\n\t\tif (selection)\n\t\t\tthis.setSelection(selection);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar point = this._point,\n\t\t\tselection = this._selection,\n\t\t\tobj = selection || this.hasHandles()\n\t\t\t\t\t? [point, this._handleIn, this._handleOut]\n\t\t\t\t\t: point;\n\t\tif (selection)\n\t\t\tobj.push(selection);\n\t\treturn Base.serialize(obj, options, true, dictionary);\n\t},\n\n\t_changed: function(point) {\n\t\tvar path = this._path;\n\t\tif (!path)\n\t\t\treturn;\n\t\tvar curves = path._curves,\n\t\t\tindex = this._index,\n\t\t\tcurve;\n\t\tif (curves) {\n\t\t\tif ((!point || point === this._point || point === this._handleIn)\n\t\t\t\t\t&& (curve = index > 0 ? curves[index - 1] : path._closed\n\t\t\t\t\t\t? curves[curves.length - 1] : null))\n\t\t\t\tcurve._changed();\n\t\t\tif ((!point || point === this._point || point === this._handleOut)\n\t\t\t\t\t&& (curve = curves[index]))\n\t\t\t\tcurve._changed();\n\t\t}\n\t\tpath._changed(41);\n\t},\n\n\tgetPoint: function() {\n\t\treturn this._point;\n\t},\n\n\tsetPoint: function() {\n\t\tthis._point.set(Point.read(arguments));\n\t},\n\n\tgetHandleIn: function() {\n\t\treturn this._handleIn;\n\t},\n\n\tsetHandleIn: function() {\n\t\tthis._handleIn.set(Point.read(arguments));\n\t},\n\n\tgetHandleOut: function() {\n\t\treturn this._handleOut;\n\t},\n\n\tsetHandleOut: function() {\n\t\tthis._handleOut.set(Point.read(arguments));\n\t},\n\n\thasHandles: function() {\n\t\treturn !this._handleIn.isZero() || !this._handleOut.isZero();\n\t},\n\n\tisSmooth: function() {\n\t\tvar handleIn = this._handleIn,\n\t\t\thandleOut = this._handleOut;\n\t\treturn !handleIn.isZero() && !handleOut.isZero()\n\t\t\t\t&& handleIn.isCollinear(handleOut);\n\t},\n\n\tclearHandles: function() {\n\t\tthis._handleIn._set(0, 0);\n\t\tthis._handleOut._set(0, 0);\n\t},\n\n\tgetSelection: function() {\n\t\treturn this._selection;\n\t},\n\n\tsetSelection: function(selection) {\n\t\tvar oldSelection = this._selection,\n\t\t\tpath = this._path;\n\t\tthis._selection = selection = selection || 0;\n\t\tif (path && selection !== oldSelection) {\n\t\t\tpath._updateSelection(this, oldSelection, selection);\n\t\t\tpath._changed(257);\n\t\t}\n\t},\n\n\t_changeSelection: function(flag, selected) {\n\t\tvar selection = this._selection;\n\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._selection & 7);\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._changeSelection(7, selected);\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index !== undefined ? this._index : null;\n\t},\n\n\tgetPath: function() {\n\t\treturn this._path || null;\n\t},\n\n\tgetCurve: function() {\n\t\tvar path = this._path,\n\t\t\tindex = this._index;\n\t\tif (path) {\n\t\t\tif (index > 0 && !path._closed\n\t\t\t\t\t&& index === path._segments.length - 1)\n\t\t\t\tindex--;\n\t\t\treturn path.getCurves()[index] || null;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetLocation: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve\n\t\t\t\t? new CurveLocation(curve, this === curve._segment1 ? 0 : 1)\n\t\t\t\t: null;\n\t},\n\n\tgetNext: function() {\n\t\tvar segments = this._path && this._path._segments;\n\t\treturn segments && (segments[this._index + 1]\n\t\t\t\t|| this._path._closed && segments[0]) || null;\n\t},\n\n\tsmooth: function(options, _first, _last) {\n\t\tvar opts = options || {},\n\t\t\ttype = opts.type,\n\t\t\tfactor = opts.factor,\n\t\t\tprev = this.getPrevious(),\n\t\t\tnext = this.getNext(),\n\t\t\tp0 = (prev || this)._point,\n\t\t\tp1 = this._point,\n\t\t\tp2 = (next || this)._point,\n\t\t\td1 = p0.getDistance(p1),\n\t\t\td2 = p1.getDistance(p2);\n\t\tif (!type || type === 'catmull-rom') {\n\t\t\tvar a = factor === undefined ? 0.5 : factor,\n\t\t\t\td1_a = Math.pow(d1, a),\n\t\t\t\td1_2a = d1_a * d1_a,\n\t\t\t\td2_a = Math.pow(d2, a),\n\t\t\t\td2_2a = d2_a * d2_a;\n\t\t\tif (!_first && prev) {\n\t\t\t\tvar A = 2 * d2_2a + 3 * d2_a * d1_a + d1_2a,\n\t\t\t\t\tN = 3 * d2_a * (d2_a + d1_a);\n\t\t\t\tthis.setHandleIn(N !== 0\n\t\t\t\t\t? new Point(\n\t\t\t\t\t\t(d2_2a * p0._x + A * p1._x - d1_2a * p2._x) / N - p1._x,\n\t\t\t\t\t\t(d2_2a * p0._y + A * p1._y - d1_2a * p2._y) / N - p1._y)\n\t\t\t\t\t: new Point());\n\t\t\t}\n\t\t\tif (!_last && next) {\n\t\t\t\tvar A = 2 * d1_2a + 3 * d1_a * d2_a + d2_2a,\n\t\t\t\t\tN = 3 * d1_a * (d1_a + d2_a);\n\t\t\t\tthis.setHandleOut(N !== 0\n\t\t\t\t\t? new Point(\n\t\t\t\t\t\t(d1_2a * p2._x + A * p1._x - d2_2a * p0._x) / N - p1._x,\n\t\t\t\t\t\t(d1_2a * p2._y + A * p1._y - d2_2a * p0._y) / N - p1._y)\n\t\t\t\t\t: new Point());\n\t\t\t}\n\t\t} else if (type === 'geometric') {\n\t\t\tif (prev && next) {\n\t\t\t\tvar vector = p0.subtract(p2),\n\t\t\t\t\tt = factor === undefined ? 0.4 : factor,\n\t\t\t\t\tk = t * d1 / (d1 + d2);\n\t\t\t\tif (!_first)\n\t\t\t\t\tthis.setHandleIn(vector.multiply(k));\n\t\t\t\tif (!_last)\n\t\t\t\t\tthis.setHandleOut(vector.multiply(k - t));\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error('Smoothing method \\'' + type + '\\' not supported.');\n\t\t}\n\t},\n\n\tgetPrevious: function() {\n\t\tvar segments = this._path && this._path._segments;\n\t\treturn segments && (segments[this._index - 1]\n\t\t\t\t|| this._path._closed && segments[segments.length - 1]) || null;\n\t},\n\n\tisFirst: function() {\n\t\treturn !this._index;\n\t},\n\n\tisLast: function() {\n\t\tvar path = this._path;\n\t\treturn path && this._index === path._segments.length - 1 || false;\n\t},\n\n\treverse: function() {\n\t\tvar handleIn = this._handleIn,\n\t\t\thandleOut = this._handleOut,\n\t\t\ttmp = handleIn.clone();\n\t\thandleIn.set(handleOut);\n\t\thandleOut.set(tmp);\n\t},\n\n\treversed: function() {\n\t\treturn new Segment(this._point, this._handleOut, this._handleIn);\n\t},\n\n\tremove: function() {\n\t\treturn this._path ? !!this._path.removeSegment(this._index) : false;\n\t},\n\n\tclone: function() {\n\t\treturn new Segment(this._point, this._handleIn, this._handleOut);\n\t},\n\n\tequals: function(segment) {\n\t\treturn segment === this || segment && this._class === segment._class\n\t\t\t\t&& this._point.equals(segment._point)\n\t\t\t\t&& this._handleIn.equals(segment._handleIn)\n\t\t\t\t&& this._handleOut.equals(segment._handleOut)\n\t\t\t\t|| false;\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [ 'point: ' + this._point ];\n\t\tif (!this._handleIn.isZero())\n\t\t\tparts.push('handleIn: ' + this._handleIn);\n\t\tif (!this._handleOut.isZero())\n\t\t\tparts.push('handleOut: ' + this._handleOut);\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\ttransform: function(matrix) {\n\t\tthis._transformCoordinates(matrix, new Array(6), true);\n\t\tthis._changed();\n\t},\n\n\tinterpolate: function(from, to, factor) {\n\t\tvar u = 1 - factor,\n\t\t\tv = factor,\n\t\t\tpoint1 = from._point,\n\t\t\tpoint2 = to._point,\n\t\t\thandleIn1 = from._handleIn,\n\t\t\thandleIn2 = to._handleIn,\n\t\t\thandleOut2 = to._handleOut,\n\t\t\thandleOut1 = from._handleOut;\n\t\tthis._point._set(\n\t\t\t\tu * point1._x + v * point2._x,\n\t\t\t\tu * point1._y + v * point2._y, true);\n\t\tthis._handleIn._set(\n\t\t\t\tu * handleIn1._x + v * handleIn2._x,\n\t\t\t\tu * handleIn1._y + v * handleIn2._y, true);\n\t\tthis._handleOut._set(\n\t\t\t\tu * handleOut1._x + v * handleOut2._x,\n\t\t\t\tu * handleOut1._y + v * handleOut2._y, true);\n\t\tthis._changed();\n\t},\n\n\t_transformCoordinates: function(matrix, coords, change) {\n\t\tvar point = this._point,\n\t\t\thandleIn = !change || !this._handleIn.isZero()\n\t\t\t\t\t? this._handleIn : null,\n\t\t\thandleOut = !change || !this._handleOut.isZero()\n\t\t\t\t\t? this._handleOut : null,\n\t\t\tx = point._x,\n\t\t\ty = point._y,\n\t\t\ti = 2;\n\t\tcoords[0] = x;\n\t\tcoords[1] = y;\n\t\tif (handleIn) {\n\t\t\tcoords[i++] = handleIn._x + x;\n\t\t\tcoords[i++] = handleIn._y + y;\n\t\t}\n\t\tif (handleOut) {\n\t\t\tcoords[i++] = handleOut._x + x;\n\t\t\tcoords[i++] = handleOut._y + y;\n\t\t}\n\t\tif (matrix) {\n\t\t\tmatrix._transformCoordinates(coords, coords, i / 2);\n\t\t\tx = coords[0];\n\t\t\ty = coords[1];\n\t\t\tif (change) {\n\t\t\t\tpoint._x = x;\n\t\t\t\tpoint._y = y;\n\t\t\t\ti = 2;\n\t\t\t\tif (handleIn) {\n\t\t\t\t\thandleIn._x = coords[i++] - x;\n\t\t\t\t\thandleIn._y = coords[i++] - y;\n\t\t\t\t}\n\t\t\t\tif (handleOut) {\n\t\t\t\t\thandleOut._x = coords[i++] - x;\n\t\t\t\t\thandleOut._y = coords[i++] - y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!handleIn) {\n\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t}\n\t\t\t\tif (!handleOut) {\n\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn coords;\n\t}\n});\n\nvar SegmentPoint = Point.extend({\n\tinitialize: function SegmentPoint(point, owner, key) {\n\t\tvar x, y,\n\t\t\tselected;\n\t\tif (!point) {\n\t\t\tx = y = 0;\n\t\t} else if ((x = point[0]) !== undefined) {\n\t\t\ty = point[1];\n\t\t} else {\n\t\t\tvar pt = point;\n\t\t\tif ((x = pt.x) === undefined) {\n\t\t\t\tpt = Point.read(arguments);\n\t\t\t\tx = pt.x;\n\t\t\t}\n\t\t\ty = pt.y;\n\t\t\tselected = pt.selected;\n\t\t}\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner = owner;\n\t\towner[key] = this;\n\t\tif (selected)\n\t\t\tthis.setSelected(true);\n\t},\n\n\t_set: function(x, y) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner._changed(this);\n\t\treturn this;\n\t},\n\n\tgetX: function() {\n\t\treturn this._x;\n\t},\n\n\tsetX: function(x) {\n\t\tthis._x = x;\n\t\tthis._owner._changed(this);\n\t},\n\n\tgetY: function() {\n\t\treturn this._y;\n\t},\n\n\tsetY: function(y) {\n\t\tthis._y = y;\n\t\tthis._owner._changed(this);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this._x) && isZero(this._y);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._owner._selection & this._getSelection());\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._owner._changeSelection(this._getSelection(), selected);\n\t},\n\n\t_getSelection: function() {\n\t\tvar owner = this._owner;\n\t\treturn this === owner._point ? 1\n\t\t\t: this === owner._handleIn ? 2\n\t\t\t: this === owner._handleOut ? 4\n\t\t\t: 0;\n\t}\n});\n\nvar Curve = Base.extend({\n\t_class: 'Curve',\n\tbeans: true,\n\n\tinitialize: function Curve(arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7) {\n\t\tvar count = arguments.length,\n\t\t\tseg1, seg2,\n\t\t\tpoint1, point2,\n\t\t\thandle1, handle2;\n\t\tif (count === 3) {\n\t\t\tthis._path = arg0;\n\t\t\tseg1 = arg1;\n\t\t\tseg2 = arg2;\n\t\t} else if (!count) {\n\t\t\tseg1 = new Segment();\n\t\t\tseg2 = new Segment();\n\t\t} else if (count === 1) {\n\t\t\tif ('segment1' in arg0) {\n\t\t\t\tseg1 = new Segment(arg0.segment1);\n\t\t\t\tseg2 = new Segment(arg0.segment2);\n\t\t\t} else if ('point1' in arg0) {\n\t\t\t\tpoint1 = arg0.point1;\n\t\t\t\thandle1 = arg0.handle1;\n\t\t\t\thandle2 = arg0.handle2;\n\t\t\t\tpoint2 = arg0.point2;\n\t\t\t} else if (Array.isArray(arg0)) {\n\t\t\t\tpoint1 = [arg0[0], arg0[1]];\n\t\t\t\tpoint2 = [arg0[6], arg0[7]];\n\t\t\t\thandle1 = [arg0[2] - arg0[0], arg0[3] - arg0[1]];\n\t\t\t\thandle2 = [arg0[4] - arg0[6], arg0[5] - arg0[7]];\n\t\t\t}\n\t\t} else if (count === 2) {\n\t\t\tseg1 = new Segment(arg0);\n\t\t\tseg2 = new Segment(arg1);\n\t\t} else if (count === 4) {\n\t\t\tpoint1 = arg0;\n\t\t\thandle1 = arg1;\n\t\t\thandle2 = arg2;\n\t\t\tpoint2 = arg3;\n\t\t} else if (count === 8) {\n\t\t\tpoint1 = [arg0, arg1];\n\t\t\tpoint2 = [arg6, arg7];\n\t\t\thandle1 = [arg2 - arg0, arg3 - arg1];\n\t\t\thandle2 = [arg4 - arg6, arg5 - arg7];\n\t\t}\n\t\tthis._segment1 = seg1 || new Segment(point1, null, handle1);\n\t\tthis._segment2 = seg2 || new Segment(point2, handle2, null);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this.hasHandles()\n\t\t\t\t? [this.getPoint1(), this.getHandle1(), this.getHandle2(),\n\t\t\t\t\tthis.getPoint2()]\n\t\t\t\t: [this.getPoint1(), this.getPoint2()],\n\t\t\t\toptions, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tthis._length = this._bounds = undefined;\n\t},\n\n\tclone: function() {\n\t\treturn new Curve(this._segment1, this._segment2);\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [ 'point1: ' + this._segment1._point ];\n\t\tif (!this._segment1._handleOut.isZero())\n\t\t\tparts.push('handle1: ' + this._segment1._handleOut);\n\t\tif (!this._segment2._handleIn.isZero())\n\t\t\tparts.push('handle2: ' + this._segment2._handleIn);\n\t\tparts.push('point2: ' + this._segment2._point);\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\tclassify: function() {\n\t\treturn Curve.classify(this.getValues());\n\t},\n\n\tremove: function() {\n\t\tvar removed = false;\n\t\tif (this._path) {\n\t\t\tvar segment2 = this._segment2,\n\t\t\t\thandleOut = segment2._handleOut;\n\t\t\tremoved = segment2.remove();\n\t\t\tif (removed)\n\t\t\t\tthis._segment1._handleOut.set(handleOut);\n\t\t}\n\t\treturn removed;\n\t},\n\n\tgetPoint1: function() {\n\t\treturn this._segment1._point;\n\t},\n\n\tsetPoint1: function() {\n\t\tthis._segment1._point.set(Point.read(arguments));\n\t},\n\n\tgetPoint2: function() {\n\t\treturn this._segment2._point;\n\t},\n\n\tsetPoint2: function() {\n\t\tthis._segment2._point.set(Point.read(arguments));\n\t},\n\n\tgetHandle1: function() {\n\t\treturn this._segment1._handleOut;\n\t},\n\n\tsetHandle1: function() {\n\t\tthis._segment1._handleOut.set(Point.read(arguments));\n\t},\n\n\tgetHandle2: function() {\n\t\treturn this._segment2._handleIn;\n\t},\n\n\tsetHandle2: function() {\n\t\tthis._segment2._handleIn.set(Point.read(arguments));\n\t},\n\n\tgetSegment1: function() {\n\t\treturn this._segment1;\n\t},\n\n\tgetSegment2: function() {\n\t\treturn this._segment2;\n\t},\n\n\tgetPath: function() {\n\t\treturn this._path;\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._segment1._index;\n\t},\n\n\tgetNext: function() {\n\t\tvar curves = this._path && this._path._curves;\n\t\treturn curves && (curves[this._segment1._index + 1]\n\t\t\t\t|| this._path._closed && curves[0]) || null;\n\t},\n\n\tgetPrevious: function() {\n\t\tvar curves = this._path && this._path._curves;\n\t\treturn curves && (curves[this._segment1._index - 1]\n\t\t\t\t|| this._path._closed && curves[curves.length - 1]) || null;\n\t},\n\n\tisFirst: function() {\n\t\treturn !this._segment1._index;\n\t},\n\n\tisLast: function() {\n\t\tvar path = this._path;\n\t\treturn path && this._segment1._index === path._curves.length - 1\n\t\t\t\t|| false;\n\t},\n\n\tisSelected: function() {\n\t\treturn this.getPoint1().isSelected()\n\t\t\t\t&& this.getHandle1().isSelected()\n\t\t\t\t&& this.getHandle2().isSelected()\n\t\t\t\t&& this.getPoint2().isSelected();\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis.getPoint1().setSelected(selected);\n\t\tthis.getHandle1().setSelected(selected);\n\t\tthis.getHandle2().setSelected(selected);\n\t\tthis.getPoint2().setSelected(selected);\n\t},\n\n\tgetValues: function(matrix) {\n\t\treturn Curve.getValues(this._segment1, this._segment2, matrix);\n\t},\n\n\tgetPoints: function() {\n\t\tvar coords = this.getValues(),\n\t\t\tpoints = [];\n\t\tfor (var i = 0; i < 8; i += 2)\n\t\t\tpoints.push(new Point(coords[i], coords[i + 1]));\n\t\treturn points;\n\t}\n}, {\n\tgetLength: function() {\n\t\tif (this._length == null)\n\t\t\tthis._length = Curve.getLength(this.getValues(), 0, 1);\n\t\treturn this._length;\n\t},\n\n\tgetArea: function() {\n\t\treturn Curve.getArea(this.getValues());\n\t},\n\n\tgetLine: function() {\n\t\treturn new Line(this._segment1._point, this._segment2._point);\n\t},\n\n\tgetPart: function(from, to) {\n\t\treturn new Curve(Curve.getPart(this.getValues(), from, to));\n\t},\n\n\tgetPartLength: function(from, to) {\n\t\treturn Curve.getLength(this.getValues(), from, to);\n\t},\n\n\tdivideAt: function(location) {\n\t\treturn this.divideAtTime(location && location.curve === this\n\t\t\t\t? location.time : this.getTimeAt(location));\n\t},\n\n\tdivideAtTime: function(time, _setHandles) {\n\t\tvar tMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tres = null;\n\t\tif (time >= tMin && time <= tMax) {\n\t\t\tvar parts = Curve.subdivide(this.getValues(), time),\n\t\t\t\tleft = parts[0],\n\t\t\t\tright = parts[1],\n\t\t\t\tsetHandles = _setHandles || this.hasHandles(),\n\t\t\t\tseg1 = this._segment1,\n\t\t\t\tseg2 = this._segment2,\n\t\t\t\tpath = this._path;\n\t\t\tif (setHandles) {\n\t\t\t\tseg1._handleOut._set(left[2] - left[0], left[3] - left[1]);\n\t\t\t\tseg2._handleIn._set(right[4] - right[6],right[5] - right[7]);\n\t\t\t}\n\t\t\tvar x = left[6], y = left[7],\n\t\t\t\tsegment = new Segment(new Point(x, y),\n\t\t\t\t\t\tsetHandles && new Point(left[4] - x, left[5] - y),\n\t\t\t\t\t\tsetHandles && new Point(right[2] - x, right[3] - y));\n\t\t\tif (path) {\n\t\t\t\tpath.insert(seg1._index + 1, segment);\n\t\t\t\tres = this.getNext();\n\t\t\t} else {\n\t\t\t\tthis._segment2 = segment;\n\t\t\t\tthis._changed();\n\t\t\t\tres = new Curve(segment, seg2);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\n\tsplitAt: function(location) {\n\t\tvar path = this._path;\n\t\treturn path ? path.splitAt(location) : null;\n\t},\n\n\tsplitAtTime: function(time) {\n\t\treturn this.splitAt(this.getLocationAtTime(time));\n\t},\n\n\tdivide: function(offset, isTime) {\n\t\treturn this.divideAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t: this.getTimeAt(offset));\n\t},\n\n\tsplit: function(offset, isTime) {\n\t\treturn this.splitAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t: this.getTimeAt(offset));\n\t},\n\n\treversed: function() {\n\t\treturn new Curve(this._segment2.reversed(), this._segment1.reversed());\n\t},\n\n\tclearHandles: function() {\n\t\tthis._segment1._handleOut._set(0, 0);\n\t\tthis._segment2._handleIn._set(0, 0);\n\t},\n\nstatics: {\n\tgetValues: function(segment1, segment2, matrix, straight) {\n\t\tvar p1 = segment1._point,\n\t\t\th1 = segment1._handleOut,\n\t\t\th2 = segment2._handleIn,\n\t\t\tp2 = segment2._point,\n\t\t\tx1 = p1.x, y1 = p1.y,\n\t\t\tx2 = p2.x, y2 = p2.y,\n\t\t\tvalues = straight\n\t\t\t\t? [ x1, y1, x1, y1, x2, y2, x2, y2 ]\n\t\t\t\t: [\n\t\t\t\t\tx1, y1,\n\t\t\t\t\tx1 + h1._x, y1 + h1._y,\n\t\t\t\t\tx2 + h2._x, y2 + h2._y,\n\t\t\t\t\tx2, y2\n\t\t\t\t];\n\t\tif (matrix)\n\t\t\tmatrix._transformCoordinates(values, values, 4);\n\t\treturn values;\n\t},\n\n\tsubdivide: function(v, t) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\tif (t === undefined)\n\t\t\tt = 0.5;\n\t\tvar u = 1 - t,\n\t\t\tx4 = u * x0 + t * x1, y4 = u * y0 + t * y1,\n\t\t\tx5 = u * x1 + t * x2, y5 = u * y1 + t * y2,\n\t\t\tx6 = u * x2 + t * x3, y6 = u * y2 + t * y3,\n\t\t\tx7 = u * x4 + t * x5, y7 = u * y4 + t * y5,\n\t\t\tx8 = u * x5 + t * x6, y8 = u * y5 + t * y6,\n\t\t\tx9 = u * x7 + t * x8, y9 = u * y7 + t * y8;\n\t\treturn [\n\t\t\t[x0, y0, x4, y4, x7, y7, x9, y9],\n\t\t\t[x9, y9, x8, y8, x6, y6, x3, y3]\n\t\t];\n\t},\n\n\tgetMonoCurves: function(v, dir) {\n\t\tvar curves = [],\n\t\t\tio = dir ? 0 : 1,\n\t\t\to0 = v[io + 0],\n\t\t\to1 = v[io + 2],\n\t\t\to2 = v[io + 4],\n\t\t\to3 = v[io + 6];\n\t\tif ((o0 >= o1) === (o1 >= o2) && (o1 >= o2) === (o2 >= o3)\n\t\t\t\t|| Curve.isStraight(v)) {\n\t\t\tcurves.push(v);\n\t\t} else {\n\t\t\tvar a = 3 * (o1 - o2) - o0 + o3,\n\t\t\t\tb = 2 * (o0 + o2) - 4 * o1,\n\t\t\t\tc = o1 - o0,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\troots = [],\n\t\t\t\tn = Numerical.solveQuadratic(a, b, c, roots, tMin, tMax);\n\t\t\tif (!n) {\n\t\t\t\tcurves.push(v);\n\t\t\t} else {\n\t\t\t\troots.sort();\n\t\t\t\tvar t = roots[0],\n\t\t\t\t\tparts = Curve.subdivide(v, t);\n\t\t\t\tcurves.push(parts[0]);\n\t\t\t\tif (n > 1) {\n\t\t\t\t\tt = (roots[1] - t) / (1 - t);\n\t\t\t\t\tparts = Curve.subdivide(parts[1], t);\n\t\t\t\t\tcurves.push(parts[0]);\n\t\t\t\t}\n\t\t\t\tcurves.push(parts[1]);\n\t\t\t}\n\t\t}\n\t\treturn curves;\n\t},\n\n\tsolveCubic: function (v, coord, val, roots, min, max) {\n\t\tvar v0 = v[coord],\n\t\t\tv1 = v[coord + 2],\n\t\t\tv2 = v[coord + 4],\n\t\t\tv3 = v[coord + 6],\n\t\t\tres = 0;\n\t\tif (  !(v0 < val && v3 < val && v1 < val && v2 < val ||\n\t\t\t\tv0 > val && v3 > val && v1 > val && v2 > val)) {\n\t\t\tvar c = 3 * (v1 - v0),\n\t\t\t\tb = 3 * (v2 - v1) - c,\n\t\t\t\ta = v3 - v0 - c - b;\n\t\t\tres = Numerical.solveCubic(a, b, c, v0 - val, roots, min, max);\n\t\t}\n\t\treturn res;\n\t},\n\n\tgetTimeOf: function(v, point) {\n\t\tvar p0 = new Point(v[0], v[1]),\n\t\t\tp3 = new Point(v[6], v[7]),\n\t\t\tepsilon = 1e-12,\n\t\t\tgeomEpsilon = 1e-7,\n\t\t\tt = point.isClose(p0, epsilon) ? 0\n\t\t\t  : point.isClose(p3, epsilon) ? 1\n\t\t\t  : null;\n\t\tif (t === null) {\n\t\t\tvar coords = [point.x, point.y],\n\t\t\t\troots = [];\n\t\t\tfor (var c = 0; c < 2; c++) {\n\t\t\t\tvar count = Curve.solveCubic(v, c, coords[c], roots, 0, 1);\n\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\tvar u = roots[i];\n\t\t\t\t\tif (point.isClose(Curve.getPoint(v, u), geomEpsilon))\n\t\t\t\t\t\treturn u;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn point.isClose(p0, geomEpsilon) ? 0\n\t\t\t : point.isClose(p3, geomEpsilon) ? 1\n\t\t\t : null;\n\t},\n\n\tgetNearestTime: function(v, point) {\n\t\tif (Curve.isStraight(v)) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tvx = x3 - x0, vy = y3 - y0,\n\t\t\t\tdet = vx * vx + vy * vy;\n\t\t\tif (det === 0)\n\t\t\t\treturn 0;\n\t\t\tvar u = ((point.x - x0) * vx + (point.y - y0) * vy) / det;\n\t\t\treturn u < 1e-12 ? 0\n\t\t\t\t : u > 0.999999999999 ? 1\n\t\t\t\t : Curve.getTimeOf(v,\n\t\t\t\t\tnew Point(x0 + u * vx, y0 + u * vy));\n\t\t}\n\n\t\tvar count = 100,\n\t\t\tminDist = Infinity,\n\t\t\tminT = 0;\n\n\t\tfunction refine(t) {\n\t\t\tif (t >= 0 && t <= 1) {\n\t\t\t\tvar dist = point.getDistance(Curve.getPoint(v, t), true);\n\t\t\t\tif (dist < minDist) {\n\t\t\t\t\tminDist = dist;\n\t\t\t\t\tminT = t;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i <= count; i++)\n\t\t\trefine(i / count);\n\n\t\tvar step = 1 / (count * 2);\n\t\twhile (step > 1e-8) {\n\t\t\tif (!refine(minT - step) && !refine(minT + step))\n\t\t\t\tstep /= 2;\n\t\t}\n\t\treturn minT;\n\t},\n\n\tgetPart: function(v, from, to) {\n\t\tvar flip = from > to;\n\t\tif (flip) {\n\t\t\tvar tmp = from;\n\t\t\tfrom = to;\n\t\t\tto = tmp;\n\t\t}\n\t\tif (from > 0)\n\t\t\tv = Curve.subdivide(v, from)[1];\n\t\tif (to < 1)\n\t\t\tv = Curve.subdivide(v, (to - from) / (1 - from))[0];\n\t\treturn flip\n\t\t\t\t? [v[6], v[7], v[4], v[5], v[2], v[3], v[0], v[1]]\n\t\t\t\t: v;\n\t},\n\n\tisFlatEnough: function(v, flatness) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tux = 3 * x1 - 2 * x0 - x3,\n\t\t\tuy = 3 * y1 - 2 * y0 - y3,\n\t\t\tvx = 3 * x2 - 2 * x3 - x0,\n\t\t\tvy = 3 * y2 - 2 * y3 - y0;\n\t\treturn Math.max(ux * ux, vx * vx) + Math.max(uy * uy, vy * vy)\n\t\t\t\t<= 16 * flatness * flatness;\n\t},\n\n\tgetArea: function(v) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\treturn 3 * ((y3 - y0) * (x1 + x2) - (x3 - x0) * (y1 + y2)\n\t\t\t\t+ y1 * (x0 - x2) - x1 * (y0 - y2)\n\t\t\t\t+ y3 * (x2 + x0 / 3) - x3 * (y2 + y0 / 3)) / 20;\n\t},\n\n\tgetBounds: function(v) {\n\t\tvar min = v.slice(0, 2),\n\t\t\tmax = min.slice(),\n\t\t\troots = [0, 0];\n\t\tfor (var i = 0; i < 2; i++)\n\t\t\tCurve._addBounds(v[i], v[i + 2], v[i + 4], v[i + 6],\n\t\t\t\t\ti, 0, min, max, roots);\n\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t},\n\n\t_addBounds: function(v0, v1, v2, v3, coord, padding, min, max, roots) {\n\t\tfunction add(value, padding) {\n\t\t\tvar left = value - padding,\n\t\t\t\tright = value + padding;\n\t\t\tif (left < min[coord])\n\t\t\t\tmin[coord] = left;\n\t\t\tif (right > max[coord])\n\t\t\t\tmax[coord] = right;\n\t\t}\n\n\t\tpadding /= 2;\n\t\tvar minPad = min[coord] + padding,\n\t\t\tmaxPad = max[coord] - padding;\n\t\tif (    v0 < minPad || v1 < minPad || v2 < minPad || v3 < minPad ||\n\t\t\t\tv0 > maxPad || v1 > maxPad || v2 > maxPad || v3 > maxPad) {\n\t\t\tif (v1 < v0 != v1 < v3 && v2 < v0 != v2 < v3) {\n\t\t\t\tadd(v0, 0);\n\t\t\t\tadd(v3, 0);\n\t\t\t} else {\n\t\t\t\tvar a = 3 * (v1 - v2) - v0 + v3,\n\t\t\t\t\tb = 2 * (v0 + v2) - 4 * v1,\n\t\t\t\t\tc = v1 - v0,\n\t\t\t\t\tcount = Numerical.solveQuadratic(a, b, c, roots),\n\t\t\t\t\ttMin = 1e-8,\n\t\t\t\t\ttMax = 1 - tMin;\n\t\t\t\tadd(v3, 0);\n\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\tvar t = roots[i],\n\t\t\t\t\t\tu = 1 - t;\n\t\t\t\t\tif (tMin <= t && t <= tMax)\n\t\t\t\t\t\tadd(u * u * u * v0\n\t\t\t\t\t\t\t+ 3 * u * u * t * v1\n\t\t\t\t\t\t\t+ 3 * u * t * t * v2\n\t\t\t\t\t\t\t+ t * t * t * v3,\n\t\t\t\t\t\t\tpadding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}}, Base.each(\n\t['getBounds', 'getStrokeBounds', 'getHandleBounds'],\n\tfunction(name) {\n\t\tthis[name] = function() {\n\t\t\tif (!this._bounds)\n\t\t\t\tthis._bounds = {};\n\t\t\tvar bounds = this._bounds[name];\n\t\t\tif (!bounds) {\n\t\t\t\tbounds = this._bounds[name] = Path[name](\n\t\t\t\t\t\t[this._segment1, this._segment2], false, this._path);\n\t\t\t}\n\t\t\treturn bounds.clone();\n\t\t};\n\t},\n{\n\n}), Base.each({\n\tisStraight: function(p1, h1, h2, p2) {\n\t\tif (h1.isZero() && h2.isZero()) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tvar v = p2.subtract(p1);\n\t\t\tif (v.isZero()) {\n\t\t\t\treturn false;\n\t\t\t} else if (v.isCollinear(h1) && v.isCollinear(h2)) {\n\t\t\t\tvar l = new Line(p1, p2),\n\t\t\t\t\tepsilon = 1e-7;\n\t\t\t\tif (l.getDistance(p1.add(h1)) < epsilon &&\n\t\t\t\t\tl.getDistance(p2.add(h2)) < epsilon) {\n\t\t\t\t\tvar div = v.dot(v),\n\t\t\t\t\t\ts1 = v.dot(h1) / div,\n\t\t\t\t\t\ts2 = v.dot(h2) / div;\n\t\t\t\t\treturn s1 >= 0 && s1 <= 1 && s2 <= 0 && s2 >= -1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\tisLinear: function(p1, h1, h2, p2) {\n\t\tvar third = p2.subtract(p1).divide(3);\n\t\treturn h1.equals(third) && h2.negate().equals(third);\n\t}\n}, function(test, name) {\n\tthis[name] = function(epsilon) {\n\t\tvar seg1 = this._segment1,\n\t\t\tseg2 = this._segment2;\n\t\treturn test(seg1._point, seg1._handleOut, seg2._handleIn, seg2._point,\n\t\t\t\tepsilon);\n\t};\n\n\tthis.statics[name] = function(v, epsilon) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\treturn test(\n\t\t\t\tnew Point(x0, y0),\n\t\t\t\tnew Point(v[2] - x0, v[3] - y0),\n\t\t\t\tnew Point(v[4] - x3, v[5] - y3),\n\t\t\t\tnew Point(x3, y3), epsilon);\n\t};\n}, {\n\tstatics: {},\n\n\thasHandles: function() {\n\t\treturn !this._segment1._handleOut.isZero()\n\t\t\t\t|| !this._segment2._handleIn.isZero();\n\t},\n\n\thasLength: function(epsilon) {\n\t\treturn (!this.getPoint1().equals(this.getPoint2()) || this.hasHandles())\n\t\t\t\t&& this.getLength() > (epsilon || 0);\n\t},\n\n\tisCollinear: function(curve) {\n\t\treturn curve && this.isStraight() && curve.isStraight()\n\t\t\t\t&& this.getLine().isCollinear(curve.getLine());\n\t},\n\n\tisHorizontal: function() {\n\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).y)\n\t\t\t\t< 1e-8;\n\t},\n\n\tisVertical: function() {\n\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).x)\n\t\t\t\t< 1e-8;\n\t}\n}), {\n\tbeans: false,\n\n\tgetLocationAt: function(offset, _isTime) {\n\t\treturn this.getLocationAtTime(\n\t\t\t\t_isTime ? offset : this.getTimeAt(offset));\n\t},\n\n\tgetLocationAtTime: function(t) {\n\t\treturn t != null && t >= 0 && t <= 1\n\t\t\t\t? new CurveLocation(this, t)\n\t\t\t\t: null;\n\t},\n\n\tgetTimeAt: function(offset, start) {\n\t\treturn Curve.getTimeAt(this.getValues(), offset, start);\n\t},\n\n\tgetParameterAt: '#getTimeAt',\n\n\tgetTimesWithTangent: function () {\n\t\tvar tangent = Point.read(arguments);\n\t\treturn tangent.isZero()\n\t\t\t\t? []\n\t\t\t\t: Curve.getTimesWithTangent(this.getValues(), tangent);\n\t},\n\n\tgetOffsetAtTime: function(t) {\n\t\treturn this.getPartLength(0, t);\n\t},\n\n\tgetLocationOf: function() {\n\t\treturn this.getLocationAtTime(this.getTimeOf(Point.read(arguments)));\n\t},\n\n\tgetOffsetOf: function() {\n\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\treturn loc ? loc.getOffset() : null;\n\t},\n\n\tgetTimeOf: function() {\n\t\treturn Curve.getTimeOf(this.getValues(), Point.read(arguments));\n\t},\n\n\tgetParameterOf: '#getTimeOf',\n\n\tgetNearestLocation: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tvalues = this.getValues(),\n\t\t\tt = Curve.getNearestTime(values, point),\n\t\t\tpt = Curve.getPoint(values, t);\n\t\treturn new CurveLocation(this, t, pt, null, point.getDistance(pt));\n\t},\n\n\tgetNearestPoint: function() {\n\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\treturn loc ? loc.getPoint() : loc;\n\t}\n\n},\nnew function() {\n\tvar methods = ['getPoint', 'getTangent', 'getNormal', 'getWeightedTangent',\n\t\t'getWeightedNormal', 'getCurvature'];\n\treturn Base.each(methods,\n\t\tfunction(name) {\n\t\t\tthis[name + 'At'] = function(location, _isTime) {\n\t\t\t\tvar values = this.getValues();\n\t\t\t\treturn Curve[name](values, _isTime ? location\n\t\t\t\t\t\t: Curve.getTimeAt(values, location));\n\t\t\t};\n\n\t\t\tthis[name + 'AtTime'] = function(time) {\n\t\t\t\treturn Curve[name](this.getValues(), time);\n\t\t\t};\n\t\t}, {\n\t\t\tstatics: {\n\t\t\t\t_evaluateMethods: methods\n\t\t\t}\n\t\t}\n\t);\n},\nnew function() {\n\n\tfunction getLengthIntegrand(v) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\n\t\t\tax = 9 * (x1 - x2) + 3 * (x3 - x0),\n\t\t\tbx = 6 * (x0 + x2) - 12 * x1,\n\t\t\tcx = 3 * (x1 - x0),\n\n\t\t\tay = 9 * (y1 - y2) + 3 * (y3 - y0),\n\t\t\tby = 6 * (y0 + y2) - 12 * y1,\n\t\t\tcy = 3 * (y1 - y0);\n\n\t\treturn function(t) {\n\t\t\tvar dx = (ax * t + bx) * t + cx,\n\t\t\t\tdy = (ay * t + by) * t + cy;\n\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t};\n\t}\n\n\tfunction getIterations(a, b) {\n\t\treturn Math.max(2, Math.min(16, Math.ceil(Math.abs(b - a) * 32)));\n\t}\n\n\tfunction evaluate(v, t, type, normalized) {\n\t\tif (t == null || t < 0 || t > 1)\n\t\t\treturn null;\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tisZero = Numerical.isZero;\n\t\tif (isZero(x1 - x0) && isZero(y1 - y0)) {\n\t\t\tx1 = x0;\n\t\t\ty1 = y0;\n\t\t}\n\t\tif (isZero(x2 - x3) && isZero(y2 - y3)) {\n\t\t\tx2 = x3;\n\t\t\ty2 = y3;\n\t\t}\n\t\tvar cx = 3 * (x1 - x0),\n\t\t\tbx = 3 * (x2 - x1) - cx,\n\t\t\tax = x3 - x0 - cx - bx,\n\t\t\tcy = 3 * (y1 - y0),\n\t\t\tby = 3 * (y2 - y1) - cy,\n\t\t\tay = y3 - y0 - cy - by,\n\t\t\tx, y;\n\t\tif (type === 0) {\n\t\t\tx = t === 0 ? x0 : t === 1 ? x3\n\t\t\t\t\t: ((ax * t + bx) * t + cx) * t + x0;\n\t\t\ty = t === 0 ? y0 : t === 1 ? y3\n\t\t\t\t\t: ((ay * t + by) * t + cy) * t + y0;\n\t\t} else {\n\t\t\tvar tMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin;\n\t\t\tif (t < tMin) {\n\t\t\t\tx = cx;\n\t\t\t\ty = cy;\n\t\t\t} else if (t > tMax) {\n\t\t\t\tx = 3 * (x3 - x2);\n\t\t\t\ty = 3 * (y3 - y2);\n\t\t\t} else {\n\t\t\t\tx = (3 * ax * t + 2 * bx) * t + cx;\n\t\t\t\ty = (3 * ay * t + 2 * by) * t + cy;\n\t\t\t}\n\t\t\tif (normalized) {\n\t\t\t\tif (x === 0 && y === 0 && (t < tMin || t > tMax)) {\n\t\t\t\t\tx = x2 - x1;\n\t\t\t\t\ty = y2 - y1;\n\t\t\t\t}\n\t\t\t\tvar len = Math.sqrt(x * x + y * y);\n\t\t\t\tif (len) {\n\t\t\t\t\tx /= len;\n\t\t\t\t\ty /= len;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (type === 3) {\n\t\t\t\tvar x2 = 6 * ax * t + 2 * bx,\n\t\t\t\t\ty2 = 6 * ay * t + 2 * by,\n\t\t\t\t\td = Math.pow(x * x + y * y, 3 / 2);\n\t\t\t\tx = d !== 0 ? (x * y2 - y * x2) / d : 0;\n\t\t\t\ty = 0;\n\t\t\t}\n\t\t}\n\t\treturn type === 2 ? new Point(y, -x) : new Point(x, y);\n\t}\n\n\treturn { statics: {\n\n\t\tclassify: function(v) {\n\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\ta1 = x0 * (y3 - y2) + y0 * (x2 - x3) + x3 * y2 - y3 * x2,\n\t\t\t\ta2 = x1 * (y0 - y3) + y1 * (x3 - x0) + x0 * y3 - y0 * x3,\n\t\t\t\ta3 = x2 * (y1 - y0) + y2 * (x0 - x1) + x1 * y0 - y1 * x0,\n\t\t\t\td3 = 3 * a3,\n\t\t\t\td2 = d3 - a2,\n\t\t\t\td1 = d2 - a2 + a1,\n\t\t\t\tl = Math.sqrt(d1 * d1 + d2 * d2 + d3 * d3),\n\t\t\t\ts = l !== 0 ? 1 / l : 0,\n\t\t\t\tisZero = Numerical.isZero,\n\t\t\t\tserpentine = 'serpentine';\n\t\t\td1 *= s;\n\t\t\td2 *= s;\n\t\t\td3 *= s;\n\n\t\t\tfunction type(type, t1, t2) {\n\t\t\t\tvar hasRoots = t1 !== undefined,\n\t\t\t\t\tt1Ok = hasRoots && t1 > 0 && t1 < 1,\n\t\t\t\t\tt2Ok = hasRoots && t2 > 0 && t2 < 1;\n\t\t\t\tif (hasRoots && (!(t1Ok || t2Ok)\n\t\t\t\t\t\t|| type === 'loop' && !(t1Ok && t2Ok))) {\n\t\t\t\t\ttype = 'arch';\n\t\t\t\t\tt1Ok = t2Ok = false;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\ttype: type,\n\t\t\t\t\troots: t1Ok || t2Ok\n\t\t\t\t\t\t\t? t1Ok && t2Ok\n\t\t\t\t\t\t\t\t? t1 < t2 ? [t1, t2] : [t2, t1]\n\t\t\t\t\t\t\t\t: [t1Ok ? t1 : t2]\n\t\t\t\t\t\t\t: null\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (isZero(d1)) {\n\t\t\t\treturn isZero(d2)\n\t\t\t\t\t\t? type(isZero(d3) ? 'line' : 'quadratic')\n\t\t\t\t\t\t: type(serpentine, d3 / (3 * d2));\n\t\t\t}\n\t\t\tvar d = 3 * d2 * d2 - 4 * d1 * d3;\n\t\t\tif (isZero(d)) {\n\t\t\t\treturn type('cusp', d2 / (2 * d1));\n\t\t\t}\n\t\t\tvar f1 = d > 0 ? Math.sqrt(d / 3) : Math.sqrt(-d),\n\t\t\t\tf2 = 2 * d1;\n\t\t\treturn type(d > 0 ? serpentine : 'loop',\n\t\t\t\t\t(d2 + f1) / f2,\n\t\t\t\t\t(d2 - f1) / f2);\n\t\t},\n\n\t\tgetLength: function(v, a, b, ds) {\n\t\t\tif (a === undefined)\n\t\t\t\ta = 0;\n\t\t\tif (b === undefined)\n\t\t\t\tb = 1;\n\t\t\tif (Curve.isStraight(v)) {\n\t\t\t\tvar c = v;\n\t\t\t\tif (b < 1) {\n\t\t\t\t\tc = Curve.subdivide(c, b)[0];\n\t\t\t\t\ta /= b;\n\t\t\t\t}\n\t\t\t\tif (a > 0) {\n\t\t\t\t\tc = Curve.subdivide(c, a)[1];\n\t\t\t\t}\n\t\t\t\tvar dx = c[6] - c[0],\n\t\t\t\t\tdy = c[7] - c[1];\n\t\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t\t}\n\t\t\treturn Numerical.integrate(ds || getLengthIntegrand(v), a, b,\n\t\t\t\t\tgetIterations(a, b));\n\t\t},\n\n\t\tgetTimeAt: function(v, offset, start) {\n\t\t\tif (start === undefined)\n\t\t\t\tstart = offset < 0 ? 1 : 0;\n\t\t\tif (offset === 0)\n\t\t\t\treturn start;\n\t\t\tvar abs = Math.abs,\n\t\t\t\tepsilon = 1e-12,\n\t\t\t\tforward = offset > 0,\n\t\t\t\ta = forward ? start : 0,\n\t\t\t\tb = forward ? 1 : start,\n\t\t\t\tds = getLengthIntegrand(v),\n\t\t\t\trangeLength = Curve.getLength(v, a, b, ds),\n\t\t\t\tdiff = abs(offset) - rangeLength;\n\t\t\tif (abs(diff) < epsilon) {\n\t\t\t\treturn forward ? b : a;\n\t\t\t} else if (diff > epsilon) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar guess = offset / rangeLength,\n\t\t\t\tlength = 0;\n\t\t\tfunction f(t) {\n\t\t\t\tlength += Numerical.integrate(ds, start, t,\n\t\t\t\t\t\tgetIterations(start, t));\n\t\t\t\tstart = t;\n\t\t\t\treturn length - offset;\n\t\t\t}\n\t\t\treturn Numerical.findRoot(f, ds, start + guess, a, b, 32,\n\t\t\t\t\t1e-12);\n\t\t},\n\n\t\tgetPoint: function(v, t) {\n\t\t\treturn evaluate(v, t, 0, false);\n\t\t},\n\n\t\tgetTangent: function(v, t) {\n\t\t\treturn evaluate(v, t, 1, true);\n\t\t},\n\n\t\tgetWeightedTangent: function(v, t) {\n\t\t\treturn evaluate(v, t, 1, false);\n\t\t},\n\n\t\tgetNormal: function(v, t) {\n\t\t\treturn evaluate(v, t, 2, true);\n\t\t},\n\n\t\tgetWeightedNormal: function(v, t) {\n\t\t\treturn evaluate(v, t, 2, false);\n\t\t},\n\n\t\tgetCurvature: function(v, t) {\n\t\t\treturn evaluate(v, t, 3, false).x;\n\t\t},\n\n\t\tgetPeaks: function(v) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tax =     -x0 + 3 * x1 - 3 * x2 + x3,\n\t\t\t\tbx =  3 * x0 - 6 * x1 + 3 * x2,\n\t\t\t\tcx = -3 * x0 + 3 * x1,\n\t\t\t\tay =     -y0 + 3 * y1 - 3 * y2 + y3,\n\t\t\t\tby =  3 * y0 - 6 * y1 + 3 * y2,\n\t\t\t\tcy = -3 * y0 + 3 * y1,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\troots = [];\n\t\t\tNumerical.solveCubic(\n\t\t\t\t\t9 * (ax * ax + ay * ay),\n\t\t\t\t\t9 * (ax * bx + by * ay),\n\t\t\t\t\t2 * (bx * bx + by * by) + 3 * (cx * ax + cy * ay),\n\t\t\t\t\t(cx * bx + by * cy),\n\t\t\t\t\troots, tMin, tMax);\n\t\t\treturn roots.sort();\n\t\t}\n\t}};\n},\nnew function() {\n\n\tfunction addLocation(locations, include, c1, t1, c2, t2, overlap) {\n\t\tvar excludeStart = !overlap && c1.getPrevious() === c2,\n\t\t\texcludeEnd = !overlap && c1 !== c2 && c1.getNext() === c2,\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin;\n\t\tif (t1 !== null && t1 >= (excludeStart ? tMin : 0) &&\n\t\t\tt1 <= (excludeEnd ? tMax : 1)) {\n\t\t\tif (t2 !== null && t2 >= (excludeEnd ? tMin : 0) &&\n\t\t\t\tt2 <= (excludeStart ? tMax : 1)) {\n\t\t\t\tvar loc1 = new CurveLocation(c1, t1, null, overlap),\n\t\t\t\t\tloc2 = new CurveLocation(c2, t2, null, overlap);\n\t\t\t\tloc1._intersection = loc2;\n\t\t\t\tloc2._intersection = loc1;\n\t\t\t\tif (!include || include(loc1)) {\n\t\t\t\t\tCurveLocation.insert(locations, loc1, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addCurveIntersections(v1, v2, c1, c2, locations, include, flip,\n\t\t\trecursion, calls, tMin, tMax, uMin, uMax) {\n\t\tif (++calls >= 4096 || ++recursion >= 40)\n\t\t\treturn calls;\n\t\tvar fatLineEpsilon = 1e-9,\n\t\t\tq0x = v2[0], q0y = v2[1], q3x = v2[6], q3y = v2[7],\n\t\t\tgetSignedDistance = Line.getSignedDistance,\n\t\t\td1 = getSignedDistance(q0x, q0y, q3x, q3y, v2[2], v2[3]),\n\t\t\td2 = getSignedDistance(q0x, q0y, q3x, q3y, v2[4], v2[5]),\n\t\t\tfactor = d1 * d2 > 0 ? 3 / 4 : 4 / 9,\n\t\t\tdMin = factor * Math.min(0, d1, d2),\n\t\t\tdMax = factor * Math.max(0, d1, d2),\n\t\t\tdp0 = getSignedDistance(q0x, q0y, q3x, q3y, v1[0], v1[1]),\n\t\t\tdp1 = getSignedDistance(q0x, q0y, q3x, q3y, v1[2], v1[3]),\n\t\t\tdp2 = getSignedDistance(q0x, q0y, q3x, q3y, v1[4], v1[5]),\n\t\t\tdp3 = getSignedDistance(q0x, q0y, q3x, q3y, v1[6], v1[7]),\n\t\t\thull = getConvexHull(dp0, dp1, dp2, dp3),\n\t\t\ttop = hull[0],\n\t\t\tbottom = hull[1],\n\t\t\ttMinClip,\n\t\t\ttMaxClip;\n\t\tif (d1 === 0 && d2 === 0\n\t\t\t\t&& dp0 === 0 && dp1 === 0 && dp2 === 0 && dp3 === 0\n\t\t\t|| (tMinClip = clipConvexHull(top, bottom, dMin, dMax)) == null\n\t\t\t|| (tMaxClip = clipConvexHull(top.reverse(), bottom.reverse(),\n\t\t\t\tdMin, dMax)) == null)\n\t\t\treturn calls;\n\t\tvar tMinNew = tMin + (tMax - tMin) * tMinClip,\n\t\t\ttMaxNew = tMin + (tMax - tMin) * tMaxClip;\n\t\tif (Math.max(uMax - uMin, tMaxNew - tMinNew) < fatLineEpsilon) {\n\t\t\tvar t = (tMinNew + tMaxNew) / 2,\n\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tflip ? c2 : c1, flip ? u : t,\n\t\t\t\t\tflip ? c1 : c2, flip ? t : u);\n\t\t} else {\n\t\t\tv1 = Curve.getPart(v1, tMinClip, tMaxClip);\n\t\t\tvar uDiff = uMax - uMin;\n\t\t\tif (tMaxClip - tMinClip > 0.8) {\n\t\t\t\tif (tMaxNew - tMinNew > uDiff) {\n\t\t\t\t\tvar parts = Curve.subdivide(v1, 0.5),\n\t\t\t\t\t\tt = (tMinNew + tMaxNew) / 2;\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, parts[0], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, t);\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, parts[1], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, t, tMaxNew);\n\t\t\t\t} else {\n\t\t\t\t\tvar parts = Curve.subdivide(v2, 0.5),\n\t\t\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tparts[0], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, u, tMinNew, tMaxNew);\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tparts[1], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, u, uMax, tMinNew, tMaxNew);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (uDiff === 0 || uDiff >= fatLineEpsilon) {\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, tMaxNew);\n\t\t\t\t} else {\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv1, v2, c1, c2, locations, include, flip,\n\t\t\t\t\t\t\trecursion, calls, tMinNew, tMaxNew, uMin, uMax);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn calls;\n\t}\n\n\tfunction getConvexHull(dq0, dq1, dq2, dq3) {\n\t\tvar p0 = [ 0, dq0 ],\n\t\t\tp1 = [ 1 / 3, dq1 ],\n\t\t\tp2 = [ 2 / 3, dq2 ],\n\t\t\tp3 = [ 1, dq3 ],\n\t\t\tdist1 = dq1 - (2 * dq0 + dq3) / 3,\n\t\t\tdist2 = dq2 - (dq0 + 2 * dq3) / 3,\n\t\t\thull;\n\t\tif (dist1 * dist2 < 0) {\n\t\t\thull = [[p0, p1, p3], [p0, p2, p3]];\n\t\t} else {\n\t\t\tvar distRatio = dist1 / dist2;\n\t\t\thull = [\n\t\t\t\tdistRatio >= 2 ? [p0, p1, p3]\n\t\t\t\t: distRatio <= 0.5 ? [p0, p2, p3]\n\t\t\t\t: [p0, p1, p2, p3],\n\t\t\t\t[p0, p3]\n\t\t\t];\n\t\t}\n\t\treturn (dist1 || dist2) < 0 ? hull.reverse() : hull;\n\t}\n\n\tfunction clipConvexHull(hullTop, hullBottom, dMin, dMax) {\n\t\tif (hullTop[0][1] < dMin) {\n\t\t\treturn clipConvexHullPart(hullTop, true, dMin);\n\t\t} else if (hullBottom[0][1] > dMax) {\n\t\t\treturn clipConvexHullPart(hullBottom, false, dMax);\n\t\t} else {\n\t\t\treturn hullTop[0][0];\n\t\t}\n\t}\n\n\tfunction clipConvexHullPart(part, top, threshold) {\n\t\tvar px = part[0][0],\n\t\t\tpy = part[0][1];\n\t\tfor (var i = 1, l = part.length; i < l; i++) {\n\t\t\tvar qx = part[i][0],\n\t\t\t\tqy = part[i][1];\n\t\t\tif (top ? qy >= threshold : qy <= threshold) {\n\t\t\t\treturn qy === threshold ? qx\n\t\t\t\t\t\t: px + (threshold - py) * (qx - px) / (qy - py);\n\t\t\t}\n\t\t\tpx = qx;\n\t\t\tpy = qy;\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction getCurveLineIntersections(v, px, py, vx, vy) {\n\t\tvar isZero = Numerical.isZero;\n\t\tif (isZero(vx) && isZero(vy)) {\n\t\t\tvar t = Curve.getTimeOf(v, new Point(px, py));\n\t\t\treturn t === null ? [] : [t];\n\t\t}\n\t\tvar angle = Math.atan2(-vy, vx),\n\t\t\tsin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle),\n\t\t\trv = [],\n\t\t\troots = [];\n\t\tfor (var i = 0; i < 8; i += 2) {\n\t\t\tvar x = v[i] - px,\n\t\t\t\ty = v[i + 1] - py;\n\t\t\trv.push(\n\t\t\t\tx * cos - y * sin,\n\t\t\t\tx * sin + y * cos);\n\t\t}\n\t\tCurve.solveCubic(rv, 1, 0, roots, 0, 1);\n\t\treturn roots;\n\t}\n\n\tfunction addCurveLineIntersections(v1, v2, c1, c2, locations, include,\n\t\t\tflip) {\n\t\tvar x1 = v2[0], y1 = v2[1],\n\t\t\tx2 = v2[6], y2 = v2[7],\n\t\t\troots = getCurveLineIntersections(v1, x1, y1, x2 - x1, y2 - y1);\n\t\tfor (var i = 0, l = roots.length; i < l; i++) {\n\t\t\tvar t1 = roots[i],\n\t\t\t\tp1 = Curve.getPoint(v1, t1),\n\t\t\t\tt2 = Curve.getTimeOf(v2, p1);\n\t\t\tif (t2 !== null) {\n\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\tflip ? c2 : c1, flip ? t2 : t1,\n\t\t\t\t\t\tflip ? c1 : c2, flip ? t1 : t2);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addLineIntersection(v1, v2, c1, c2, locations, include) {\n\t\tvar pt = Line.intersect(\n\t\t\t\tv1[0], v1[1], v1[6], v1[7],\n\t\t\t\tv2[0], v2[1], v2[6], v2[7]);\n\t\tif (pt) {\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tc1, Curve.getTimeOf(v1, pt),\n\t\t\t\t\tc2, Curve.getTimeOf(v2, pt));\n\t\t}\n\t}\n\n\tfunction getCurveIntersections(v1, v2, c1, c2, locations, include) {\n\t\tvar epsilon = 1e-12,\n\t\t\tmin = Math.min,\n\t\t\tmax = Math.max;\n\n\t\tif (max(v1[0], v1[2], v1[4], v1[6]) + epsilon >\n\t\t\tmin(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\tmin(v1[0], v1[2], v1[4], v1[6]) - epsilon <\n\t\t\tmax(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\tmax(v1[1], v1[3], v1[5], v1[7]) + epsilon >\n\t\t\tmin(v2[1], v2[3], v2[5], v2[7]) &&\n\t\t\tmin(v1[1], v1[3], v1[5], v1[7]) - epsilon <\n\t\t\tmax(v2[1], v2[3], v2[5], v2[7])) {\n\t\t\tvar overlaps = getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\t\tvar overlap = overlaps[i];\n\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\tc1, overlap[0],\n\t\t\t\t\t\t\tc2, overlap[1], true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar straight1 = Curve.isStraight(v1),\n\t\t\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\t\t\tstraight = straight1 && straight2,\n\t\t\t\t\tflip = straight1 && !straight2,\n\t\t\t\t\tbefore = locations.length;\n\t\t\t\t(straight\n\t\t\t\t\t? addLineIntersection\n\t\t\t\t\t: straight1 || straight2\n\t\t\t\t\t\t? addCurveLineIntersections\n\t\t\t\t\t\t: addCurveIntersections)(\n\t\t\t\t\t\t\tflip ? v2 : v1, flip ? v1 : v2,\n\t\t\t\t\t\t\tflip ? c2 : c1, flip ? c1 : c2,\n\t\t\t\t\t\t\tlocations, include, flip,\n\t\t\t\t\t\t\t0, 0, 0, 1, 0, 1);\n\t\t\t\tif (!straight || locations.length === before) {\n\t\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\t\tvar t1 = i >> 1,\n\t\t\t\t\t\t\tt2 = i & 1,\n\t\t\t\t\t\t\ti1 = t1 * 6,\n\t\t\t\t\t\t\ti2 = t2 * 6,\n\t\t\t\t\t\t\tp1 = new Point(v1[i1], v1[i1 + 1]),\n\t\t\t\t\t\t\tp2 = new Point(v2[i2], v2[i2 + 1]);\n\t\t\t\t\t\tif (p1.isClose(p2, epsilon)) {\n\t\t\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\t\t\tc1, t1,\n\t\t\t\t\t\t\t\t\tc2, t2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn locations;\n\t}\n\n\tfunction getSelfIntersection(v1, c1, locations, include) {\n\t\tvar info = Curve.classify(v1);\n\t\tif (info.type === 'loop') {\n\t\t\tvar roots = info.roots;\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tc1, roots[0],\n\t\t\t\t\tc1, roots[1]);\n\t\t}\n\t  return locations;\n\t}\n\n\tfunction getIntersections(curves1, curves2, include, matrix1, matrix2,\n\t\t\t_returnFirst) {\n\t\tvar epsilon = 1e-7,\n\t\t\tself = !curves2;\n\t\tif (self)\n\t\t\tcurves2 = curves1;\n\t\tvar length1 = curves1.length,\n\t\t\tlength2 = curves2.length,\n\t\t\tvalues1 = new Array(length1),\n\t\t\tvalues2 = self ? values1 : new Array(length2),\n\t\t\tlocations = [];\n\n\t\tfor (var i = 0; i < length1; i++) {\n\t\t\tvalues1[i] = curves1[i].getValues(matrix1);\n\t\t}\n\t\tif (!self) {\n\t\t\tfor (var i = 0; i < length2; i++) {\n\t\t\t\tvalues2[i] = curves2[i].getValues(matrix2);\n\t\t\t}\n\t\t}\n\t\tvar boundsCollisions = CollisionDetection.findCurveBoundsCollisions(\n\t\t\t\tvalues1, values2, epsilon);\n\t\tfor (var index1 = 0; index1 < length1; index1++) {\n\t\t\tvar curve1 = curves1[index1],\n\t\t\t\tv1 = values1[index1];\n\t\t\tif (self) {\n\t\t\t\tgetSelfIntersection(v1, curve1, locations, include);\n\t\t\t}\n\t\t\tvar collisions1 = boundsCollisions[index1];\n\t\t\tif (collisions1) {\n\t\t\t\tfor (var j = 0; j < collisions1.length; j++) {\n\t\t\t\t\tif (_returnFirst && locations.length)\n\t\t\t\t\t\treturn locations;\n\t\t\t\t\tvar index2 = collisions1[j];\n\t\t\t\t\tif (!self || index2 > index1) {\n\t\t\t\t\t\tvar curve2 = curves2[index2],\n\t\t\t\t\t\t\tv2 = values2[index2];\n\t\t\t\t\t\tgetCurveIntersections(\n\t\t\t\t\t\t\t\tv1, v2, curve1, curve2, locations, include);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn locations;\n\t}\n\n\tfunction getOverlaps(v1, v2) {\n\n\t\tfunction getSquaredLineLength(v) {\n\t\t\tvar x = v[6] - v[0],\n\t\t\t\ty = v[7] - v[1];\n\t\t\treturn x * x + y * y;\n\t\t}\n\n\t\tvar abs = Math.abs,\n\t\t\tgetDistance = Line.getDistance,\n\t\t\ttimeEpsilon = 1e-8,\n\t\t\tgeomEpsilon = 1e-7,\n\t\t\tstraight1 = Curve.isStraight(v1),\n\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\tstraightBoth = straight1 && straight2,\n\t\t\tflip = getSquaredLineLength(v1) < getSquaredLineLength(v2),\n\t\t\tl1 = flip ? v2 : v1,\n\t\t\tl2 = flip ? v1 : v2,\n\t\t\tpx = l1[0], py = l1[1],\n\t\t\tvx = l1[6] - px, vy = l1[7] - py;\n\t\tif (getDistance(px, py, vx, vy, l2[0], l2[1], true) < geomEpsilon &&\n\t\t\tgetDistance(px, py, vx, vy, l2[6], l2[7], true) < geomEpsilon) {\n\t\t\tif (!straightBoth &&\n\t\t\t\tgetDistance(px, py, vx, vy, l1[2], l1[3], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l1[4], l1[5], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l2[2], l2[3], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l2[4], l2[5], true) < geomEpsilon) {\n\t\t\t\tstraight1 = straight2 = straightBoth = true;\n\t\t\t}\n\t\t} else if (straightBoth) {\n\t\t\treturn null;\n\t\t}\n\t\tif (straight1 ^ straight2) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar v = [v1, v2],\n\t\t\tpairs = [];\n\t\tfor (var i = 0; i < 4 && pairs.length < 2; i++) {\n\t\t\tvar i1 = i & 1,\n\t\t\t\ti2 = i1 ^ 1,\n\t\t\t\tt1 = i >> 1,\n\t\t\t\tt2 = Curve.getTimeOf(v[i1], new Point(\n\t\t\t\t\tv[i2][t1 ? 6 : 0],\n\t\t\t\t\tv[i2][t1 ? 7 : 1]));\n\t\t\tif (t2 != null) {\n\t\t\t\tvar pair = i1 ? [t1, t2] : [t2, t1];\n\t\t\t\tif (!pairs.length ||\n\t\t\t\t\tabs(pair[0] - pairs[0][0]) > timeEpsilon &&\n\t\t\t\t\tabs(pair[1] - pairs[0][1]) > timeEpsilon) {\n\t\t\t\t\tpairs.push(pair);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (i > 2 && !pairs.length)\n\t\t\t\tbreak;\n\t\t}\n\t\tif (pairs.length !== 2) {\n\t\t\tpairs = null;\n\t\t} else if (!straightBoth) {\n\t\t\tvar o1 = Curve.getPart(v1, pairs[0][0], pairs[1][0]),\n\t\t\t\to2 = Curve.getPart(v2, pairs[0][1], pairs[1][1]);\n\t\t\tif (abs(o2[2] - o1[2]) > geomEpsilon ||\n\t\t\t\tabs(o2[3] - o1[3]) > geomEpsilon ||\n\t\t\t\tabs(o2[4] - o1[4]) > geomEpsilon ||\n\t\t\t\tabs(o2[5] - o1[5]) > geomEpsilon)\n\t\t\t\tpairs = null;\n\t\t}\n\t\treturn pairs;\n\t}\n\n\tfunction getTimesWithTangent(v, tangent) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tnormalized = tangent.normalize(),\n\t\t\ttx = normalized.x,\n\t\t\tty = normalized.y,\n\t\t\tax = 3 * x3 - 9 * x2 + 9 * x1 - 3 * x0,\n\t\t\tay = 3 * y3 - 9 * y2 + 9 * y1 - 3 * y0,\n\t\t\tbx = 6 * x2 - 12 * x1 + 6 * x0,\n\t\t\tby = 6 * y2 - 12 * y1 + 6 * y0,\n\t\t\tcx = 3 * x1 - 3 * x0,\n\t\t\tcy = 3 * y1 - 3 * y0,\n\t\t\tden = 2 * ax * ty - 2 * ay * tx,\n\t\t\ttimes = [];\n\t\tif (Math.abs(den) < Numerical.CURVETIME_EPSILON) {\n\t\t\tvar num = ax * cy - ay * cx,\n\t\t\t\tden = ax * by - ay * bx;\n\t\t\tif (den != 0) {\n\t\t\t\tvar t = -num / den;\n\t\t\t\tif (t >= 0 && t <= 1) times.push(t);\n\t\t\t}\n\t\t} else {\n\t\t\tvar delta = (bx * bx - 4 * ax * cx) * ty * ty +\n\t\t\t\t(-2 * bx * by + 4 * ay * cx + 4 * ax * cy) * tx * ty +\n\t\t\t\t(by * by - 4 * ay * cy) * tx * tx,\n\t\t\t\tk = bx * ty - by * tx;\n\t\t\tif (delta >= 0 && den != 0) {\n\t\t\t\tvar d = Math.sqrt(delta),\n\t\t\t\t\tt0 = -(k + d) / den,\n\t\t\t\t\tt1 = (-k + d) / den;\n\t\t\t\tif (t0 >= 0 && t0 <= 1) times.push(t0);\n\t\t\t\tif (t1 >= 0 && t1 <= 1) times.push(t1);\n\t\t\t}\n\t\t}\n\t\treturn times;\n\t}\n\n\treturn {\n\t\tgetIntersections: function(curve) {\n\t\t\tvar v1 = this.getValues(),\n\t\t\t\tv2 = curve && curve !== this && curve.getValues();\n\t\t\treturn v2 ? getCurveIntersections(v1, v2, this, curve, [])\n\t\t\t\t\t  : getSelfIntersection(v1, this, []);\n\t\t},\n\n\t\tstatics: {\n\t\t\tgetOverlaps: getOverlaps,\n\t\t\tgetIntersections: getIntersections,\n\t\t\tgetCurveLineIntersections: getCurveLineIntersections,\n\t\t\tgetTimesWithTangent: getTimesWithTangent\n\t\t}\n\t};\n});\n\nvar CurveLocation = Base.extend({\n\t_class: 'CurveLocation',\n\n\tinitialize: function CurveLocation(curve, time, point, _overlap, _distance) {\n\t\tif (time >= 0.99999999) {\n\t\t\tvar next = curve.getNext();\n\t\t\tif (next) {\n\t\t\t\ttime = 0;\n\t\t\t\tcurve = next;\n\t\t\t}\n\t\t}\n\t\tthis._setCurve(curve);\n\t\tthis._time = time;\n\t\tthis._point = point || curve.getPointAtTime(time);\n\t\tthis._overlap = _overlap;\n\t\tthis._distance = _distance;\n\t\tthis._intersection = this._next = this._previous = null;\n\t},\n\n\t_setPath: function(path) {\n\t\tthis._path = path;\n\t\tthis._version = path ? path._version : 0;\n\t},\n\n\t_setCurve: function(curve) {\n\t\tthis._setPath(curve._path);\n\t\tthis._curve = curve;\n\t\tthis._segment = null;\n\t\tthis._segment1 = curve._segment1;\n\t\tthis._segment2 = curve._segment2;\n\t},\n\n\t_setSegment: function(segment) {\n\t\tvar curve = segment.getCurve();\n\t\tif (curve) {\n\t\t\tthis._setCurve(curve);\n\t\t} else {\n\t\t\tthis._setPath(segment._path);\n\t\t\tthis._segment1 = segment;\n\t\t\tthis._segment2 = null;\n\t\t}\n\t\tthis._segment = segment;\n\t\tthis._time = segment === this._segment1 ? 0 : 1;\n\t\tthis._point = segment._point.clone();\n\t},\n\n\tgetSegment: function() {\n\t\tvar segment = this._segment;\n\t\tif (!segment) {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this.getTime();\n\t\t\tif (time === 0) {\n\t\t\t\tsegment = curve._segment1;\n\t\t\t} else if (time === 1) {\n\t\t\t\tsegment = curve._segment2;\n\t\t\t} else if (time != null) {\n\t\t\t\tsegment = curve.getPartLength(0, time)\n\t\t\t\t\t< curve.getPartLength(time, 1)\n\t\t\t\t\t\t? curve._segment1\n\t\t\t\t\t\t: curve._segment2;\n\t\t\t}\n\t\t\tthis._segment = segment;\n\t\t}\n\t\treturn segment;\n\t},\n\n\tgetCurve: function() {\n\t\tvar path = this._path,\n\t\t\tthat = this;\n\t\tif (path && path._version !== this._version) {\n\t\t\tthis._time = this._offset = this._curveOffset = this._curve = null;\n\t\t}\n\n\t\tfunction trySegment(segment) {\n\t\t\tvar curve = segment && segment.getCurve();\n\t\t\tif (curve && (that._time = curve.getTimeOf(that._point)) != null) {\n\t\t\t\tthat._setCurve(curve);\n\t\t\t\treturn curve;\n\t\t\t}\n\t\t}\n\n\t\treturn this._curve\n\t\t\t|| trySegment(this._segment)\n\t\t\t|| trySegment(this._segment1)\n\t\t\t|| trySegment(this._segment2.getPrevious());\n\t},\n\n\tgetPath: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve && curve._path;\n\t},\n\n\tgetIndex: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve && curve.getIndex();\n\t},\n\n\tgetTime: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\ttime = this._time;\n\t\treturn curve && time == null\n\t\t\t? this._time = curve.getTimeOf(this._point)\n\t\t\t: time;\n\t},\n\n\tgetParameter: '#getTime',\n\n\tgetPoint: function() {\n\t\treturn this._point;\n\t},\n\n\tgetOffset: function() {\n\t\tvar offset = this._offset;\n\t\tif (offset == null) {\n\t\t\toffset = 0;\n\t\t\tvar path = this.getPath(),\n\t\t\t\tindex = this.getIndex();\n\t\t\tif (path && index != null) {\n\t\t\t\tvar curves = path.getCurves();\n\t\t\t\tfor (var i = 0; i < index; i++)\n\t\t\t\t\toffset += curves[i].getLength();\n\t\t\t}\n\t\t\tthis._offset = offset += this.getCurveOffset();\n\t\t}\n\t\treturn offset;\n\t},\n\n\tgetCurveOffset: function() {\n\t\tvar offset = this._curveOffset;\n\t\tif (offset == null) {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this.getTime();\n\t\t\tthis._curveOffset = offset = time != null && curve\n\t\t\t\t\t&& curve.getPartLength(0, time);\n\t\t}\n\t\treturn offset;\n\t},\n\n\tgetIntersection: function() {\n\t\treturn this._intersection;\n\t},\n\n\tgetDistance: function() {\n\t\treturn this._distance;\n\t},\n\n\tdivide: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\tres = curve && curve.divideAtTime(this.getTime());\n\t\tif (res) {\n\t\t\tthis._setSegment(res._segment1);\n\t\t}\n\t\treturn res;\n\t},\n\n\tsplit: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\tpath = curve._path,\n\t\t\tres = curve && curve.splitAtTime(this.getTime());\n\t\tif (res) {\n\t\t\tthis._setSegment(path.getLastSegment());\n\t\t}\n\t\treturn  res;\n\t},\n\n\tequals: function(loc, _ignoreOther) {\n\t\tvar res = this === loc;\n\t\tif (!res && loc instanceof CurveLocation) {\n\t\t\tvar c1 = this.getCurve(),\n\t\t\t\tc2 = loc.getCurve(),\n\t\t\t\tp1 = c1._path,\n\t\t\t\tp2 = c2._path;\n\t\t\tif (p1 === p2) {\n\t\t\t\tvar abs = Math.abs,\n\t\t\t\t\tepsilon = 1e-7,\n\t\t\t\t\tdiff = abs(this.getOffset() - loc.getOffset()),\n\t\t\t\t\ti1 = !_ignoreOther && this._intersection,\n\t\t\t\t\ti2 = !_ignoreOther && loc._intersection;\n\t\t\t\tres = (diff < epsilon\n\t\t\t\t\t\t|| p1 && abs(p1.getLength() - diff) < epsilon)\n\t\t\t\t\t&& (!i1 && !i2 || i1 && i2 && i1.equals(i2, true));\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [],\n\t\t\tpoint = this.getPoint(),\n\t\t\tf = Formatter.instance;\n\t\tif (point)\n\t\t\tparts.push('point: ' + point);\n\t\tvar index = this.getIndex();\n\t\tif (index != null)\n\t\t\tparts.push('index: ' + index);\n\t\tvar time = this.getTime();\n\t\tif (time != null)\n\t\t\tparts.push('time: ' + f.number(time));\n\t\tif (this._distance != null)\n\t\t\tparts.push('distance: ' + f.number(this._distance));\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\tisTouching: function() {\n\t\tvar inter = this._intersection;\n\t\tif (inter && this.getTangent().isCollinear(inter.getTangent())) {\n\t\t\tvar curve1 = this.getCurve(),\n\t\t\t\tcurve2 = inter.getCurve();\n\t\t\treturn !(curve1.isStraight() && curve2.isStraight()\n\t\t\t\t\t&& curve1.getLine().intersect(curve2.getLine()));\n\t\t}\n\t\treturn false;\n\t},\n\n\tisCrossing: function() {\n\t\tvar inter = this._intersection;\n\t\tif (!inter)\n\t\t\treturn false;\n\t\tvar t1 = this.getTime(),\n\t\t\tt2 = inter.getTime(),\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tt1Inside = t1 >= tMin && t1 <= tMax,\n\t\t\tt2Inside = t2 >= tMin && t2 <= tMax;\n\t\tif (t1Inside && t2Inside)\n\t\t\treturn !this.isTouching();\n\t\tvar c2 = this.getCurve(),\n\t\t\tc1 = c2 && t1 < tMin ? c2.getPrevious() : c2,\n\t\t\tc4 = inter.getCurve(),\n\t\t\tc3 = c4 && t2 < tMin ? c4.getPrevious() : c4;\n\t\tif (t1 > tMax)\n\t\t\tc2 = c2.getNext();\n\t\tif (t2 > tMax)\n\t\t\tc4 = c4.getNext();\n\t\tif (!c1 || !c2 || !c3 || !c4)\n\t\t\treturn false;\n\n\t\tvar offsets = [];\n\n\t\tfunction addOffsets(curve, end) {\n\t\t\tvar v = curve.getValues(),\n\t\t\t\troots = Curve.classify(v).roots || Curve.getPeaks(v),\n\t\t\t\tcount = roots.length,\n\t\t\t\toffset = Curve.getLength(v,\n\t\t\t\t\tend && count ? roots[count - 1] : 0,\n\t\t\t\t\t!end && count ? roots[0] : 1);\n\t\t\toffsets.push(count ? offset : offset / 32);\n\t\t}\n\n\t\tfunction isInRange(angle, min, max) {\n\t\t\treturn min < max\n\t\t\t\t\t? angle > min && angle < max\n\t\t\t\t\t: angle > min || angle < max;\n\t\t}\n\n\t\tif (!t1Inside) {\n\t\t\taddOffsets(c1, true);\n\t\t\taddOffsets(c2, false);\n\t\t}\n\t\tif (!t2Inside) {\n\t\t\taddOffsets(c3, true);\n\t\t\taddOffsets(c4, false);\n\t\t}\n\t\tvar pt = this.getPoint(),\n\t\t\toffset = Math.min.apply(Math, offsets),\n\t\t\tv2 = t1Inside ? c2.getTangentAtTime(t1)\n\t\t\t\t\t: c2.getPointAt(offset).subtract(pt),\n\t\t\tv1 = t1Inside ? v2.negate()\n\t\t\t\t\t: c1.getPointAt(-offset).subtract(pt),\n\t\t\tv4 = t2Inside ? c4.getTangentAtTime(t2)\n\t\t\t\t\t: c4.getPointAt(offset).subtract(pt),\n\t\t\tv3 = t2Inside ? v4.negate()\n\t\t\t\t\t: c3.getPointAt(-offset).subtract(pt),\n\t\t\ta1 = v1.getAngle(),\n\t\t\ta2 = v2.getAngle(),\n\t\t\ta3 = v3.getAngle(),\n\t\t\ta4 = v4.getAngle();\n\t\treturn !!(t1Inside\n\t\t\t\t? (isInRange(a1, a3, a4) ^ isInRange(a2, a3, a4)) &&\n\t\t\t\t  (isInRange(a1, a4, a3) ^ isInRange(a2, a4, a3))\n\t\t\t\t: (isInRange(a3, a1, a2) ^ isInRange(a4, a1, a2)) &&\n\t\t\t\t  (isInRange(a3, a2, a1) ^ isInRange(a4, a2, a1)));\n\t},\n\n\thasOverlap: function() {\n\t\treturn !!this._overlap;\n\t}\n}, Base.each(Curve._evaluateMethods, function(name) {\n\tvar get = name + 'At';\n\tthis[name] = function() {\n\t\tvar curve = this.getCurve(),\n\t\t\ttime = this.getTime();\n\t\treturn time != null && curve && curve[get](time, true);\n\t};\n}, {\n\tpreserve: true\n}),\nnew function() {\n\n\tfunction insert(locations, loc, merge) {\n\t\tvar length = locations.length,\n\t\t\tl = 0,\n\t\t\tr = length - 1;\n\n\t\tfunction search(index, dir) {\n\t\t\tfor (var i = index + dir; i >= -1 && i <= length; i += dir) {\n\t\t\t\tvar loc2 = locations[((i % length) + length) % length];\n\t\t\t\tif (!loc.getPoint().isClose(loc2.getPoint(),\n\t\t\t\t\t\t1e-7))\n\t\t\t\t\tbreak;\n\t\t\t\tif (loc.equals(loc2))\n\t\t\t\t\treturn loc2;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\twhile (l <= r) {\n\t\t\tvar m = (l + r) >>> 1,\n\t\t\t\tloc2 = locations[m],\n\t\t\t\tfound;\n\t\t\tif (merge && (found = loc.equals(loc2) ? loc2\n\t\t\t\t\t: (search(m, -1) || search(m, 1)))) {\n\t\t\t\tif (loc._overlap) {\n\t\t\t\t\tfound._overlap = found._intersection._overlap = true;\n\t\t\t\t}\n\t\t\t\treturn found;\n\t\t\t}\n\t\tvar path1 = loc.getPath(),\n\t\t\tpath2 = loc2.getPath(),\n\t\t\tdiff = path1 !== path2\n\t\t\t\t? path1._id - path2._id\n\t\t\t\t: (loc.getIndex() + loc.getTime())\n\t\t\t\t- (loc2.getIndex() + loc2.getTime());\n\t\t\tif (diff < 0) {\n\t\t\t\tr = m - 1;\n\t\t\t} else {\n\t\t\t\tl = m + 1;\n\t\t\t}\n\t\t}\n\t\tlocations.splice(l, 0, loc);\n\t\treturn loc;\n\t}\n\n\treturn { statics: {\n\t\tinsert: insert,\n\n\t\texpand: function(locations) {\n\t\t\tvar expanded = locations.slice();\n\t\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\t\tinsert(expanded, locations[i]._intersection, false);\n\t\t\t}\n\t\t\treturn expanded;\n\t\t}\n\t}};\n});\n\nvar PathItem = Item.extend({\n\t_class: 'PathItem',\n\t_selectBounds: false,\n\t_canScaleStroke: true,\n\tbeans: true,\n\n\tinitialize: function PathItem() {\n\t},\n\n\tstatics: {\n\t\tcreate: function(arg) {\n\t\t\tvar data,\n\t\t\t\tsegments,\n\t\t\t\tcompound;\n\t\t\tif (Base.isPlainObject(arg)) {\n\t\t\t\tsegments = arg.segments;\n\t\t\t\tdata = arg.pathData;\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tsegments = arg;\n\t\t\t} else if (typeof arg === 'string') {\n\t\t\t\tdata = arg;\n\t\t\t}\n\t\t\tif (segments) {\n\t\t\t\tvar first = segments[0];\n\t\t\t\tcompound = first && Array.isArray(first[0]);\n\t\t\t} else if (data) {\n\t\t\t\tcompound = (data.match(/m/gi) || []).length > 1\n\t\t\t\t\t\t|| /z\\s*\\S+/i.test(data);\n\t\t\t}\n\t\t\tvar ctor = compound ? CompoundPath : Path;\n\t\t\treturn new ctor(arg);\n\t\t}\n\t},\n\n\t_asPathItem: function() {\n\t\treturn this;\n\t},\n\n\tisClockwise: function() {\n\t\treturn this.getArea() >= 0;\n\t},\n\n\tsetClockwise: function(clockwise) {\n\t\tif (this.isClockwise() != (clockwise = !!clockwise))\n\t\t\tthis.reverse();\n\t},\n\n\tsetPathData: function(data) {\n\n\t\tvar parts = data && data.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),\n\t\t\tcoords,\n\t\t\trelative = false,\n\t\t\tprevious,\n\t\t\tcontrol,\n\t\t\tcurrent = new Point(),\n\t\t\tstart = new Point();\n\n\t\tfunction getCoord(index, coord) {\n\t\t\tvar val = +coords[index];\n\t\t\tif (relative)\n\t\t\t\tval += current[coord];\n\t\t\treturn val;\n\t\t}\n\n\t\tfunction getPoint(index) {\n\t\t\treturn new Point(\n\t\t\t\tgetCoord(index, 'x'),\n\t\t\t\tgetCoord(index + 1, 'y')\n\t\t\t);\n\t\t}\n\n\t\tthis.clear();\n\n\t\tfor (var i = 0, l = parts && parts.length; i < l; i++) {\n\t\t\tvar part = parts[i],\n\t\t\t\tcommand = part[0],\n\t\t\t\tlower = command.toLowerCase();\n\t\t\tcoords = part.match(/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g);\n\t\t\tvar length = coords && coords.length;\n\t\t\trelative = command === lower;\n\t\t\tif (previous === 'z' && !/[mz]/.test(lower))\n\t\t\t\tthis.moveTo(current);\n\t\t\tswitch (lower) {\n\t\t\tcase 'm':\n\t\t\tcase 'l':\n\t\t\t\tvar move = lower === 'm';\n\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\tthis[move ? 'moveTo' : 'lineTo'](current = getPoint(j));\n\t\t\t\t\tif (move) {\n\t\t\t\t\t\tstart = current;\n\t\t\t\t\t\tmove = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontrol = current;\n\t\t\t\tbreak;\n\t\t\tcase 'h':\n\t\t\tcase 'v':\n\t\t\t\tvar coord = lower === 'h' ? 'x' : 'y';\n\t\t\t\tcurrent = current.clone();\n\t\t\t\tfor (var j = 0; j < length; j++) {\n\t\t\t\t\tcurrent[coord] = getCoord(j, coord);\n\t\t\t\t\tthis.lineTo(current);\n\t\t\t\t}\n\t\t\t\tcontrol = current;\n\t\t\t\tbreak;\n\t\t\tcase 'c':\n\t\t\t\tfor (var j = 0; j < length; j += 6) {\n\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\tgetPoint(j),\n\t\t\t\t\t\t\tcontrol = getPoint(j + 2),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 4));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 's':\n\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\t/[cs]/.test(previous)\n\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t: current,\n\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t\tprevious = lower;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'q':\n\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 't':\n\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\tcontrol = (/[qt]/.test(previous)\n\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t: current),\n\t\t\t\t\t\t\tcurrent = getPoint(j));\n\t\t\t\t\tprevious = lower;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'a':\n\t\t\t\tfor (var j = 0; j < length; j += 7) {\n\t\t\t\t\tthis.arcTo(current = getPoint(j + 5),\n\t\t\t\t\t\t\tnew Size(+coords[j], +coords[j + 1]),\n\t\t\t\t\t\t\t+coords[j + 2], +coords[j + 4], +coords[j + 3]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'z':\n\t\t\t\tthis.closePath(1e-12);\n\t\t\t\tcurrent = start;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tprevious = lower;\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn !(this.hasFill() && this.hasStroke());\n\t},\n\n\t_contains: function(point) {\n\t\tvar winding = point.isInside(\n\t\t\t\tthis.getBounds({ internal: true, handle: true }))\n\t\t\t\t\t? this._getWinding(point)\n\t\t\t\t\t: {};\n\t\treturn winding.onPath || !!(this.getFillRule() === 'evenodd'\n\t\t\t\t? winding.windingL & 1 || winding.windingR & 1\n\t\t\t\t: winding.winding);\n\t},\n\n\tgetIntersections: function(path, include, _matrix, _returnFirst) {\n\t\tvar self = this === path || !path,\n\t\t\tmatrix1 = this._matrix._orNullIfIdentity(),\n\t\t\tmatrix2 = self ? matrix1\n\t\t\t\t: (_matrix || path._matrix)._orNullIfIdentity();\n\t\treturn self || this.getBounds(matrix1).intersects(\n\t\t\t\tpath.getBounds(matrix2), 1e-12)\n\t\t\t\t? Curve.getIntersections(\n\t\t\t\t\t\tthis.getCurves(), !self && path.getCurves(), include,\n\t\t\t\t\t\tmatrix1, matrix2, _returnFirst)\n\t\t\t\t: [];\n\t},\n\n\tgetCrossings: function(path) {\n\t\treturn this.getIntersections(path, function(inter) {\n\t\t\treturn inter.isCrossing();\n\t\t});\n\t},\n\n\tgetNearestLocation: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tcurves = this.getCurves(),\n\t\t\tminDist = Infinity,\n\t\t\tminLoc = null;\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar loc = curves[i].getNearestLocation(point);\n\t\t\tif (loc._distance < minDist) {\n\t\t\t\tminDist = loc._distance;\n\t\t\t\tminLoc = loc;\n\t\t\t}\n\t\t}\n\t\treturn minLoc;\n\t},\n\n\tgetNearestPoint: function() {\n\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\treturn loc ? loc.getPoint() : loc;\n\t},\n\n\tinterpolate: function(from, to, factor) {\n\t\tvar isPath = !this._children,\n\t\t\tname = isPath ? '_segments' : '_children',\n\t\t\titemsFrom = from[name],\n\t\t\titemsTo = to[name],\n\t\t\titems = this[name];\n\t\tif (!itemsFrom || !itemsTo || itemsFrom.length !== itemsTo.length) {\n\t\t\tthrow new Error('Invalid operands in interpolate() call: ' +\n\t\t\t\t\tfrom + ', ' + to);\n\t\t}\n\t\tvar current = items.length,\n\t\t\tlength = itemsTo.length;\n\t\tif (current < length) {\n\t\t\tvar ctor = isPath ? Segment : Path;\n\t\t\tfor (var i = current; i < length; i++) {\n\t\t\t\tthis.add(new ctor());\n\t\t\t}\n\t\t} else if (current > length) {\n\t\t\tthis[isPath ? 'removeSegments' : 'removeChildren'](length, current);\n\t\t}\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\titems[i].interpolate(itemsFrom[i], itemsTo[i], factor);\n\t\t}\n\t\tif (isPath) {\n\t\t\tthis.setClosed(from._closed);\n\t\t\tthis._changed(9);\n\t\t}\n\t},\n\n\tcompare: function(path) {\n\t\tvar ok = false;\n\t\tif (path) {\n\t\t\tvar paths1 = this._children || [this],\n\t\t\t\tpaths2 = path._children ? path._children.slice() : [path],\n\t\t\t\tlength1 = paths1.length,\n\t\t\t\tlength2 = paths2.length,\n\t\t\t\tmatched = [],\n\t\t\t\tcount = 0;\n\t\t\tok = true;\n\t\t\tvar boundsOverlaps = CollisionDetection.findItemBoundsCollisions(paths1, paths2, Numerical.GEOMETRIC_EPSILON);\n\t\t\tfor (var i1 = length1 - 1; i1 >= 0 && ok; i1--) {\n\t\t\t\tvar path1 = paths1[i1];\n\t\t\t\tok = false;\n\t\t\t\tvar pathBoundsOverlaps = boundsOverlaps[i1];\n\t\t\t\tif (pathBoundsOverlaps) {\n\t\t\t\t\tfor (var i2 = pathBoundsOverlaps.length - 1; i2 >= 0 && !ok; i2--) {\n\t\t\t\t\t\tif (path1.compare(paths2[pathBoundsOverlaps[i2]])) {\n\t\t\t\t\t\t\tif (!matched[pathBoundsOverlaps[i2]]) {\n\t\t\t\t\t\t\t\tmatched[pathBoundsOverlaps[i2]] = true;\n\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tok = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tok = ok && count === length2;\n\t\t}\n\t\treturn ok;\n\t},\n\n});\n\nvar Path = PathItem.extend({\n\t_class: 'Path',\n\t_serializeFields: {\n\t\tsegments: [],\n\t\tclosed: false\n\t},\n\n\tinitialize: function Path(arg) {\n\t\tthis._closed = false;\n\t\tthis._segments = [];\n\t\tthis._version = 0;\n\t\tvar args = arguments,\n\t\t\tsegments = Array.isArray(arg)\n\t\t\t? typeof arg[0] === 'object'\n\t\t\t\t? arg\n\t\t\t\t: args\n\t\t\t: arg && (arg.size === undefined && (arg.x !== undefined\n\t\t\t\t\t|| arg.point !== undefined))\n\t\t\t\t? args\n\t\t\t\t: null;\n\t\tif (segments && segments.length > 0) {\n\t\t\tthis.setSegments(segments);\n\t\t} else {\n\t\t\tthis._curves = undefined;\n\t\t\tthis._segmentSelection = 0;\n\t\t\tif (!segments && typeof arg === 'string') {\n\t\t\t\tthis.setPathData(arg);\n\t\t\t\targ = null;\n\t\t\t}\n\t\t}\n\t\tthis._initialize(!segments && arg);\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._closed === item._closed\n\t\t\t\t&& Base.equals(this._segments, item._segments);\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setSegments(source._segments);\n\t\tthis._closed = source._closed;\n\t},\n\n\t_changed: function _changed(flags) {\n\t\t_changed.base.call(this, flags);\n\t\tif (flags & 8) {\n\t\t\tthis._length = this._area = undefined;\n\t\t\tif (flags & 32) {\n\t\t\t\tthis._version++;\n\t\t\t} else if (this._curves) {\n\t\t\t   for (var i = 0, l = this._curves.length; i < l; i++)\n\t\t\t\t\tthis._curves[i]._changed();\n\t\t\t}\n\t\t} else if (flags & 64) {\n\t\t\tthis._bounds = undefined;\n\t\t}\n\t},\n\n\tgetStyle: function() {\n\t\tvar parent = this._parent;\n\t\treturn (parent instanceof CompoundPath ? parent : this)._style;\n\t},\n\n\tgetSegments: function() {\n\t\treturn this._segments;\n\t},\n\n\tsetSegments: function(segments) {\n\t\tvar fullySelected = this.isFullySelected(),\n\t\t\tlength = segments && segments.length;\n\t\tthis._segments.length = 0;\n\t\tthis._segmentSelection = 0;\n\t\tthis._curves = undefined;\n\t\tif (length) {\n\t\t\tvar last = segments[length - 1];\n\t\t\tif (typeof last === 'boolean') {\n\t\t\t\tthis.setClosed(last);\n\t\t\t\tlength--;\n\t\t\t}\n\t\t\tthis._add(Segment.readList(segments, 0, {}, length));\n\t\t}\n\t\tif (fullySelected)\n\t\t\tthis.setFullySelected(true);\n\t},\n\n\tgetFirstSegment: function() {\n\t\treturn this._segments[0];\n\t},\n\n\tgetLastSegment: function() {\n\t\treturn this._segments[this._segments.length - 1];\n\t},\n\n\tgetCurves: function() {\n\t\tvar curves = this._curves,\n\t\t\tsegments = this._segments;\n\t\tif (!curves) {\n\t\t\tvar length = this._countCurves();\n\t\t\tcurves = this._curves = new Array(length);\n\t\t\tfor (var i = 0; i < length; i++)\n\t\t\t\tcurves[i] = new Curve(this, segments[i],\n\t\t\t\t\tsegments[i + 1] || segments[0]);\n\t\t}\n\t\treturn curves;\n\t},\n\n\tgetFirstCurve: function() {\n\t\treturn this.getCurves()[0];\n\t},\n\n\tgetLastCurve: function() {\n\t\tvar curves = this.getCurves();\n\t\treturn curves[curves.length - 1];\n\t},\n\n\tisClosed: function() {\n\t\treturn this._closed;\n\t},\n\n\tsetClosed: function(closed) {\n\t\tif (this._closed != (closed = !!closed)) {\n\t\t\tthis._closed = closed;\n\t\t\tif (this._curves) {\n\t\t\t\tvar length = this._curves.length = this._countCurves();\n\t\t\t\tif (closed)\n\t\t\t\t\tthis._curves[length - 1] = new Curve(this,\n\t\t\t\t\t\tthis._segments[length - 1], this._segments[0]);\n\t\t\t}\n\t\t\tthis._changed(41);\n\t\t}\n\t}\n}, {\n\tbeans: true,\n\n\tgetPathData: function(_matrix, _precision) {\n\t\tvar segments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tf = new Formatter(_precision),\n\t\t\tcoords = new Array(6),\n\t\t\tfirst = true,\n\t\t\tcurX, curY,\n\t\t\tprevX, prevY,\n\t\t\tinX, inY,\n\t\t\toutX, outY,\n\t\t\tparts = [];\n\n\t\tfunction addSegment(segment, skipLine) {\n\t\t\tsegment._transformCoordinates(_matrix, coords);\n\t\t\tcurX = coords[0];\n\t\t\tcurY = coords[1];\n\t\t\tif (first) {\n\t\t\t\tparts.push('M' + f.pair(curX, curY));\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tinX = coords[2];\n\t\t\t\tinY = coords[3];\n\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\tif (!skipLine) {\n\t\t\t\t\t\tvar dx = curX - prevX,\n\t\t\t\t\t\t\tdy = curY - prevY;\n\t\t\t\t\t\tparts.push(\n\t\t\t\t\t\t\t  dx === 0 ? 'v' + f.number(dy)\n\t\t\t\t\t\t\t: dy === 0 ? 'h' + f.number(dx)\n\t\t\t\t\t\t\t: 'l' + f.pair(dx, dy));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tparts.push('c' + f.pair(outX - prevX, outY - prevY)\n\t\t\t\t\t\t\t + ' ' + f.pair( inX - prevX,  inY - prevY)\n\t\t\t\t\t\t\t + ' ' + f.pair(curX - prevX, curY - prevY));\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevX = curX;\n\t\t\tprevY = curY;\n\t\t\toutX = coords[4];\n\t\t\toutY = coords[5];\n\t\t}\n\n\t\tif (!length)\n\t\t\treturn '';\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\taddSegment(segments[i]);\n\t\tif (this._closed && length > 0) {\n\t\t\taddSegment(segments[0], true);\n\t\t\tparts.push('z');\n\t\t}\n\t\treturn parts.join('');\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._segments.length;\n\t},\n\n\t_transformContent: function(matrix) {\n\t\tvar segments = this._segments,\n\t\t\tcoords = new Array(6);\n\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\tsegments[i]._transformCoordinates(matrix, coords, true);\n\t\treturn true;\n\t},\n\n\t_add: function(segs, index) {\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tamount = segs.length,\n\t\t\tappend = index == null,\n\t\t\tindex = append ? segments.length : index;\n\t\tfor (var i = 0; i < amount; i++) {\n\t\t\tvar segment = segs[i];\n\t\t\tif (segment._path)\n\t\t\t\tsegment = segs[i] = segment.clone();\n\t\t\tsegment._path = this;\n\t\t\tsegment._index = index + i;\n\t\t\tif (segment._selection)\n\t\t\t\tthis._updateSelection(segment, 0, segment._selection);\n\t\t}\n\t\tif (append) {\n\t\t\tBase.push(segments, segs);\n\t\t} else {\n\t\t\tsegments.splice.apply(segments, [index, 0].concat(segs));\n\t\t\tfor (var i = index + amount, l = segments.length; i < l; i++)\n\t\t\t\tsegments[i]._index = i;\n\t\t}\n\t\tif (curves) {\n\t\t\tvar total = this._countCurves(),\n\t\t\t\tstart = index > 0 && index + amount - 1 === total ? index - 1\n\t\t\t\t\t: index,\n\t\t\t\tinsert = start,\n\t\t\t\tend = Math.min(start + amount, total);\n\t\t\tif (segs._curves) {\n\t\t\t\tcurves.splice.apply(curves, [start, 0].concat(segs._curves));\n\t\t\t\tinsert += segs._curves.length;\n\t\t\t}\n\t\t\tfor (var i = insert; i < end; i++)\n\t\t\t\tcurves.splice(i, 0, new Curve(this, null, null));\n\t\t\tthis._adjustCurves(start, end);\n\t\t}\n\t\tthis._changed(41);\n\t\treturn segs;\n\t},\n\n\t_adjustCurves: function(start, end) {\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tcurve;\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tcurve = curves[i];\n\t\t\tcurve._path = this;\n\t\t\tcurve._segment1 = segments[i];\n\t\t\tcurve._segment2 = segments[i + 1] || segments[0];\n\t\t\tcurve._changed();\n\t\t}\n\t\tif (curve = curves[this._closed && !start ? segments.length - 1\n\t\t\t\t: start - 1]) {\n\t\t\tcurve._segment2 = segments[start] || segments[0];\n\t\t\tcurve._changed();\n\t\t}\n\t\tif (curve = curves[end]) {\n\t\t\tcurve._segment1 = segments[end];\n\t\t\tcurve._changed();\n\t\t}\n\t},\n\n\t_countCurves: function() {\n\t\tvar length = this._segments.length;\n\t\treturn !this._closed && length > 0 ? length - 1 : length;\n\t},\n\n\tadd: function(segment1 ) {\n\t\tvar args = arguments;\n\t\treturn args.length > 1 && typeof segment1 !== 'number'\n\t\t\t? this._add(Segment.readList(args))\n\t\t\t: this._add([ Segment.read(args) ])[0];\n\t},\n\n\tinsert: function(index, segment1 ) {\n\t\tvar args = arguments;\n\t\treturn args.length > 2 && typeof segment1 !== 'number'\n\t\t\t? this._add(Segment.readList(args, 1), index)\n\t\t\t: this._add([ Segment.read(args, 1) ], index)[0];\n\t},\n\n\taddSegment: function() {\n\t\treturn this._add([ Segment.read(arguments) ])[0];\n\t},\n\n\tinsertSegment: function(index ) {\n\t\treturn this._add([ Segment.read(arguments, 1) ], index)[0];\n\t},\n\n\taddSegments: function(segments) {\n\t\treturn this._add(Segment.readList(segments));\n\t},\n\n\tinsertSegments: function(index, segments) {\n\t\treturn this._add(Segment.readList(segments), index);\n\t},\n\n\tremoveSegment: function(index) {\n\t\treturn this.removeSegments(index, index + 1)[0] || null;\n\t},\n\n\tremoveSegments: function(start, end, _includeCurves) {\n\t\tstart = start || 0;\n\t\tend = Base.pick(end, this._segments.length);\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tcount = segments.length,\n\t\t\tremoved = segments.splice(start, end - start),\n\t\t\tamount = removed.length;\n\t\tif (!amount)\n\t\t\treturn removed;\n\t\tfor (var i = 0; i < amount; i++) {\n\t\t\tvar segment = removed[i];\n\t\t\tif (segment._selection)\n\t\t\t\tthis._updateSelection(segment, segment._selection, 0);\n\t\t\tsegment._index = segment._path = null;\n\t\t}\n\t\tfor (var i = start, l = segments.length; i < l; i++)\n\t\t\tsegments[i]._index = i;\n\t\tif (curves) {\n\t\t\tvar index = start > 0 && end === count + (this._closed ? 1 : 0)\n\t\t\t\t\t? start - 1\n\t\t\t\t\t: start,\n\t\t\t\tcurves = curves.splice(index, amount);\n\t\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\t\tcurves[i]._path = null;\n\t\t\tif (_includeCurves)\n\t\t\t\tremoved._curves = curves.slice(1);\n\t\t\tthis._adjustCurves(index, index);\n\t\t}\n\t\tthis._changed(41);\n\t\treturn removed;\n\t},\n\n\tclear: '#removeSegments',\n\n\thasHandles: function() {\n\t\tvar segments = this._segments;\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tif (segments[i].hasHandles())\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tclearHandles: function() {\n\t\tvar segments = this._segments;\n\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\tsegments[i].clearHandles();\n\t},\n\n\tgetLength: function() {\n\t\tif (this._length == null) {\n\t\t\tvar curves = this.getCurves(),\n\t\t\t\tlength = 0;\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++)\n\t\t\t\tlength += curves[i].getLength();\n\t\t\tthis._length = length;\n\t\t}\n\t\treturn this._length;\n\t},\n\n\tgetArea: function() {\n\t\tvar area = this._area;\n\t\tif (area == null) {\n\t\t\tvar segments = this._segments,\n\t\t\t\tclosed = this._closed;\n\t\t\tarea = 0;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar last = i + 1 === l;\n\t\t\t\tarea += Curve.getArea(Curve.getValues(\n\t\t\t\t\t\tsegments[i], segments[last ? 0 : i + 1],\n\t\t\t\t\t\tnull, last && !closed));\n\t\t\t}\n\t\t\tthis._area = area;\n\t\t}\n\t\treturn area;\n\t},\n\n\tisFullySelected: function() {\n\t\tvar length = this._segments.length;\n\t\treturn this.isSelected() && length > 0 && this._segmentSelection\n\t\t\t\t=== length * 7;\n\t},\n\n\tsetFullySelected: function(selected) {\n\t\tif (selected)\n\t\t\tthis._selectSegments(true);\n\t\tthis.setSelected(selected);\n\t},\n\n\tsetSelection: function setSelection(selection) {\n\t\tif (!(selection & 1))\n\t\t\tthis._selectSegments(false);\n\t\tsetSelection.base.call(this, selection);\n\t},\n\n\t_selectSegments: function(selected) {\n\t\tvar segments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tselection = selected ? 7 : 0;\n\t\tthis._segmentSelection = selection * length;\n\t\tfor (var i = 0; i < length; i++)\n\t\t\tsegments[i]._selection = selection;\n\t},\n\n\t_updateSelection: function(segment, oldSelection, newSelection) {\n\t\tsegment._selection = newSelection;\n\t\tvar selection = this._segmentSelection += newSelection - oldSelection;\n\t\tif (selection > 0)\n\t\t\tthis.setSelected(true);\n\t},\n\n\tdivideAt: function(location) {\n\t\tvar loc = this.getLocationAt(location),\n\t\t\tcurve;\n\t\treturn loc && (curve = loc.getCurve().divideAt(loc.getCurveOffset()))\n\t\t\t\t? curve._segment1\n\t\t\t\t: null;\n\t},\n\n\tsplitAt: function(location) {\n\t\tvar loc = this.getLocationAt(location),\n\t\t\tindex = loc && loc.index,\n\t\t\ttime = loc && loc.time,\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin;\n\t\tif (time > tMax) {\n\t\t\tindex++;\n\t\t\ttime = 0;\n\t\t}\n\t\tvar curves = this.getCurves();\n\t\tif (index >= 0 && index < curves.length) {\n\t\t\tif (time >= tMin) {\n\t\t\t\tcurves[index++].divideAtTime(time);\n\t\t\t}\n\t\t\tvar segs = this.removeSegments(index, this._segments.length, true),\n\t\t\t\tpath;\n\t\t\tif (this._closed) {\n\t\t\t\tthis.setClosed(false);\n\t\t\t\tpath = this;\n\t\t\t} else {\n\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\tpath.insertAbove(this);\n\t\t\t\tpath.copyAttributes(this);\n\t\t\t}\n\t\t\tpath._add(segs, 0);\n\t\t\tthis.addSegment(segs[0]);\n\t\t\treturn path;\n\t\t}\n\t\treturn null;\n\t},\n\n\tsplit: function(index, time) {\n\t\tvar curve,\n\t\t\tlocation = time === undefined ? index\n\t\t\t\t: (curve = this.getCurves()[index])\n\t\t\t\t\t&& curve.getLocationAtTime(time);\n\t\treturn location != null ? this.splitAt(location) : null;\n\t},\n\n\tjoin: function(path, tolerance) {\n\t\tvar epsilon = tolerance || 0;\n\t\tif (path && path !== this) {\n\t\t\tvar segments = path._segments,\n\t\t\t\tlast1 = this.getLastSegment(),\n\t\t\t\tlast2 = path.getLastSegment();\n\t\t\tif (!last2)\n\t\t\t\treturn this;\n\t\t\tif (last1 && last1._point.isClose(last2._point, epsilon))\n\t\t\t\tpath.reverse();\n\t\t\tvar first2 = path.getFirstSegment();\n\t\t\tif (last1 && last1._point.isClose(first2._point, epsilon)) {\n\t\t\t\tlast1.setHandleOut(first2._handleOut);\n\t\t\t\tthis._add(segments.slice(1));\n\t\t\t} else {\n\t\t\t\tvar first1 = this.getFirstSegment();\n\t\t\t\tif (first1 && first1._point.isClose(first2._point, epsilon))\n\t\t\t\t\tpath.reverse();\n\t\t\t\tlast2 = path.getLastSegment();\n\t\t\t\tif (first1 && first1._point.isClose(last2._point, epsilon)) {\n\t\t\t\t\tfirst1.setHandleIn(last2._handleIn);\n\t\t\t\t\tthis._add(segments.slice(0, segments.length - 1), 0);\n\t\t\t\t} else {\n\t\t\t\t\tthis._add(segments.slice());\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (path._closed)\n\t\t\t\tthis._add([segments[0]]);\n\t\t\tpath.remove();\n\t\t}\n\t\tvar first = this.getFirstSegment(),\n\t\t\tlast = this.getLastSegment();\n\t\tif (first !== last && first._point.isClose(last._point, epsilon)) {\n\t\t\tfirst.setHandleIn(last._handleIn);\n\t\t\tlast.remove();\n\t\t\tthis.setClosed(true);\n\t\t}\n\t\treturn this;\n\t},\n\n\treduce: function(options) {\n\t\tvar curves = this.getCurves(),\n\t\t\tsimplify = options && options.simplify,\n\t\t\ttolerance = simplify ? 1e-7 : 0;\n\t\tfor (var i = curves.length - 1; i >= 0; i--) {\n\t\t\tvar curve = curves[i];\n\t\t\tif (!curve.hasHandles() && (!curve.hasLength(tolerance)\n\t\t\t\t\t|| simplify && curve.isCollinear(curve.getNext())))\n\t\t\t\tcurve.remove();\n\t\t}\n\t\treturn this;\n\t},\n\n\treverse: function() {\n\t\tthis._segments.reverse();\n\t\tfor (var i = 0, l = this._segments.length; i < l; i++) {\n\t\t\tvar segment = this._segments[i];\n\t\t\tvar handleIn = segment._handleIn;\n\t\t\tsegment._handleIn = segment._handleOut;\n\t\t\tsegment._handleOut = handleIn;\n\t\t\tsegment._index = i;\n\t\t}\n\t\tthis._curves = null;\n\t\tthis._changed(9);\n\t},\n\n\tflatten: function(flatness) {\n\t\tvar flattener = new PathFlattener(this, flatness || 0.25, 256, true),\n\t\t\tparts = flattener.parts,\n\t\t\tlength = parts.length,\n\t\t\tsegments = [];\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tsegments.push(new Segment(parts[i].curve.slice(0, 2)));\n\t\t}\n\t\tif (!this._closed && length > 0) {\n\t\t\tsegments.push(new Segment(parts[length - 1].curve.slice(6)));\n\t\t}\n\t\tthis.setSegments(segments);\n\t},\n\n\tsimplify: function(tolerance) {\n\t\tvar segments = new PathFitter(this).fit(tolerance || 2.5);\n\t\tif (segments)\n\t\t\tthis.setSegments(segments);\n\t\treturn !!segments;\n\t},\n\n\tsmooth: function(options) {\n\t\tvar that = this,\n\t\t\topts = options || {},\n\t\t\ttype = opts.type || 'asymmetric',\n\t\t\tsegments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tclosed = this._closed;\n\n\t\tfunction getIndex(value, _default) {\n\t\t\tvar index = value && value.index;\n\t\t\tif (index != null) {\n\t\t\t\tvar path = value.path;\n\t\t\t\tif (path && path !== that)\n\t\t\t\t\tthrow new Error(value._class + ' ' + index + ' of ' + path\n\t\t\t\t\t\t\t+ ' is not part of ' + that);\n\t\t\t\tif (_default && value instanceof Curve)\n\t\t\t\t\tindex++;\n\t\t\t} else {\n\t\t\t\tindex = typeof value === 'number' ? value : _default;\n\t\t\t}\n\t\t\treturn Math.min(index < 0 && closed\n\t\t\t\t\t? index % length\n\t\t\t\t\t: index < 0 ? index + length : index, length - 1);\n\t\t}\n\n\t\tvar loop = closed && opts.from === undefined && opts.to === undefined,\n\t\t\tfrom = getIndex(opts.from, 0),\n\t\t\tto = getIndex(opts.to, length - 1);\n\n\t\tif (from > to) {\n\t\t\tif (closed) {\n\t\t\t\tfrom -= length;\n\t\t\t} else {\n\t\t\t\tvar tmp = from;\n\t\t\t\tfrom = to;\n\t\t\t\tto = tmp;\n\t\t\t}\n\t\t}\n\t\tif (/^(?:asymmetric|continuous)$/.test(type)) {\n\t\t\tvar asymmetric = type === 'asymmetric',\n\t\t\t\tmin = Math.min,\n\t\t\t\tamount = to - from + 1,\n\t\t\t\tn = amount - 1,\n\t\t\t\tpadding = loop ? min(amount, 4) : 1,\n\t\t\t\tpaddingLeft = padding,\n\t\t\t\tpaddingRight = padding,\n\t\t\t\tknots = [];\n\t\t\tif (!closed) {\n\t\t\t\tpaddingLeft = min(1, from);\n\t\t\t\tpaddingRight = min(1, length - to - 1);\n\t\t\t}\n\t\t\tn += paddingLeft + paddingRight;\n\t\t\tif (n <= 1)\n\t\t\t\treturn;\n\t\t\tfor (var i = 0, j = from - paddingLeft; i <= n; i++, j++) {\n\t\t\t\tknots[i] = segments[(j < 0 ? j + length : j) % length]._point;\n\t\t\t}\n\n\t\t\tvar x = knots[0]._x + 2 * knots[1]._x,\n\t\t\t\ty = knots[0]._y + 2 * knots[1]._y,\n\t\t\t\tf = 2,\n\t\t\t\tn_1 = n - 1,\n\t\t\t\trx = [x],\n\t\t\t\try = [y],\n\t\t\t\trf = [f],\n\t\t\t\tpx = [],\n\t\t\t\tpy = [];\n\t\t\tfor (var i = 1; i < n; i++) {\n\t\t\t\tvar internal = i < n_1,\n\t\t\t\t\ta = internal ? 1 : asymmetric ? 1 : 2,\n\t\t\t\t\tb = internal ? 4 : asymmetric ? 2 : 7,\n\t\t\t\t\tu = internal ? 4 : asymmetric ? 3 : 8,\n\t\t\t\t\tv = internal ? 2 : asymmetric ? 0 : 1,\n\t\t\t\t\tm = a / f;\n\t\t\t\tf = rf[i] = b - m;\n\t\t\t\tx = rx[i] = u * knots[i]._x + v * knots[i + 1]._x - m * x;\n\t\t\t\ty = ry[i] = u * knots[i]._y + v * knots[i + 1]._y - m * y;\n\t\t\t}\n\n\t\t\tpx[n_1] = rx[n_1] / rf[n_1];\n\t\t\tpy[n_1] = ry[n_1] / rf[n_1];\n\t\t\tfor (var i = n - 2; i >= 0; i--) {\n\t\t\t\tpx[i] = (rx[i] - px[i + 1]) / rf[i];\n\t\t\t\tpy[i] = (ry[i] - py[i + 1]) / rf[i];\n\t\t\t}\n\t\t\tpx[n] = (3 * knots[n]._x - px[n_1]) / 2;\n\t\t\tpy[n] = (3 * knots[n]._y - py[n_1]) / 2;\n\n\t\t\tfor (var i = paddingLeft, max = n - paddingRight, j = from;\n\t\t\t\t\ti <= max; i++, j++) {\n\t\t\t\tvar segment = segments[j < 0 ? j + length : j],\n\t\t\t\t\tpt = segment._point,\n\t\t\t\t\thx = px[i] - pt._x,\n\t\t\t\t\thy = py[i] - pt._y;\n\t\t\t\tif (loop || i < max)\n\t\t\t\t\tsegment.setHandleOut(hx, hy);\n\t\t\t\tif (loop || i > paddingLeft)\n\t\t\t\t\tsegment.setHandleIn(-hx, -hy);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var i = from; i <= to; i++) {\n\t\t\t\tsegments[i < 0 ? i + length : i].smooth(opts,\n\t\t\t\t\t\t!loop && i === from, !loop && i === to);\n\t\t\t}\n\t\t}\n\t},\n\n\ttoShape: function(insert) {\n\t\tif (!this._closed)\n\t\t\treturn null;\n\n\t\tvar segments = this._segments,\n\t\t\ttype,\n\t\t\tsize,\n\t\t\tradius,\n\t\t\ttopCenter;\n\n\t\tfunction isCollinear(i, j) {\n\t\t\tvar seg1 = segments[i],\n\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\tseg3 = segments[j],\n\t\t\t\tseg4 = seg3.getNext();\n\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t&& seg3._handleOut.isZero() && seg4._handleIn.isZero()\n\t\t\t\t\t&& seg2._point.subtract(seg1._point).isCollinear(\n\t\t\t\t\t\tseg4._point.subtract(seg3._point));\n\t\t}\n\n\t\tfunction isOrthogonal(i) {\n\t\t\tvar seg2 = segments[i],\n\t\t\t\tseg1 = seg2.getPrevious(),\n\t\t\t\tseg3 = seg2.getNext();\n\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t&& seg2._handleOut.isZero() && seg3._handleIn.isZero()\n\t\t\t\t\t&& seg2._point.subtract(seg1._point).isOrthogonal(\n\t\t\t\t\t\tseg3._point.subtract(seg2._point));\n\t\t}\n\n\t\tfunction isArc(i) {\n\t\t\tvar seg1 = segments[i],\n\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\thandle1 = seg1._handleOut,\n\t\t\t\thandle2 = seg2._handleIn,\n\t\t\t\tkappa = 0.5522847498307936;\n\t\t\tif (handle1.isOrthogonal(handle2)) {\n\t\t\t\tvar pt1 = seg1._point,\n\t\t\t\t\tpt2 = seg2._point,\n\t\t\t\t\tcorner = new Line(pt1, handle1, true).intersect(\n\t\t\t\t\t\t\tnew Line(pt2, handle2, true), true);\n\t\t\t\treturn corner && Numerical.isZero(handle1.getLength() /\n\t\t\t\t\t\tcorner.subtract(pt1).getLength() - kappa)\n\t\t\t\t\t&& Numerical.isZero(handle2.getLength() /\n\t\t\t\t\t\tcorner.subtract(pt2).getLength() - kappa);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction getDistance(i, j) {\n\t\t\treturn segments[i]._point.getDistance(segments[j]._point);\n\t\t}\n\n\t\tif (!this.hasHandles() && segments.length === 4\n\t\t\t\t&& isCollinear(0, 2) && isCollinear(1, 3) && isOrthogonal(1)) {\n\t\t\ttype = Shape.Rectangle;\n\t\t\tsize = new Size(getDistance(0, 3), getDistance(0, 1));\n\t\t\ttopCenter = segments[1]._point.add(segments[2]._point).divide(2);\n\t\t} else if (segments.length === 8 && isArc(0) && isArc(2) && isArc(4)\n\t\t\t\t&& isArc(6) && isCollinear(1, 5) && isCollinear(3, 7)) {\n\t\t\ttype = Shape.Rectangle;\n\t\t\tsize = new Size(getDistance(1, 6), getDistance(0, 3));\n\t\t\tradius = size.subtract(new Size(getDistance(0, 7),\n\t\t\t\t\tgetDistance(1, 2))).divide(2);\n\t\t\ttopCenter = segments[3]._point.add(segments[4]._point).divide(2);\n\t\t} else if (segments.length === 4\n\t\t\t\t&& isArc(0) && isArc(1) && isArc(2) && isArc(3)) {\n\t\t\tif (Numerical.isZero(getDistance(0, 2) - getDistance(1, 3))) {\n\t\t\t\ttype = Shape.Circle;\n\t\t\t\tradius = getDistance(0, 2) / 2;\n\t\t\t} else {\n\t\t\t\ttype = Shape.Ellipse;\n\t\t\t\tradius = new Size(getDistance(2, 0) / 2, getDistance(3, 1) / 2);\n\t\t\t}\n\t\t\ttopCenter = segments[1]._point;\n\t\t}\n\n\t\tif (type) {\n\t\t\tvar center = this.getPosition(true),\n\t\t\t\tshape = new type({\n\t\t\t\t\tcenter: center,\n\t\t\t\t\tsize: size,\n\t\t\t\t\tradius: radius,\n\t\t\t\t\tinsert: false\n\t\t\t\t});\n\t\t\tshape.copyAttributes(this, true);\n\t\t\tshape._matrix.prepend(this._matrix);\n\t\t\tshape.rotate(topCenter.subtract(center).getAngle() + 90);\n\t\t\tif (insert === undefined || insert)\n\t\t\t\tshape.insertAbove(this);\n\t\t\treturn shape;\n\t\t}\n\t\treturn null;\n\t},\n\n\ttoPath: '#clone',\n\n\tcompare: function compare(path) {\n\t\tif (!path || path instanceof CompoundPath)\n\t\t\treturn compare.base.call(this, path);\n\t\tvar curves1 = this.getCurves(),\n\t\t\tcurves2 = path.getCurves(),\n\t\t\tlength1 = curves1.length,\n\t\t\tlength2 = curves2.length;\n\t\tif (!length1 || !length2) {\n\t\t\treturn length1 == length2;\n\t\t}\n\t\tvar v1 = curves1[0].getValues(),\n\t\t\tvalues2 = [],\n\t\t\tpos1 = 0, pos2,\n\t\t\tend1 = 0, end2;\n\t\tfor (var i = 0; i < length2; i++) {\n\t\t\tvar v2 = curves2[i].getValues();\n\t\t\tvalues2.push(v2);\n\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tpos2 = !i && overlaps[0][0] > 0 ? length2 - 1 : i;\n\t\t\t\tend2 = overlaps[0][1];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar abs = Math.abs,\n\t\t\tepsilon = 1e-8,\n\t\t\tv2 = values2[pos2],\n\t\t\tstart2;\n\t\twhile (v1 && v2) {\n\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tvar t1 = overlaps[0][0];\n\t\t\t\tif (abs(t1 - end1) < epsilon) {\n\t\t\t\t\tend1 = overlaps[1][0];\n\t\t\t\t\tif (end1 === 1) {\n\t\t\t\t\t\tv1 = ++pos1 < length1 ? curves1[pos1].getValues() : null;\n\t\t\t\t\t\tend1 = 0;\n\t\t\t\t\t}\n\t\t\t\t\tvar t2 = overlaps[0][1];\n\t\t\t\t\tif (abs(t2 - end2) < epsilon) {\n\t\t\t\t\t\tif (!start2)\n\t\t\t\t\t\t\tstart2 = [pos2, t2];\n\t\t\t\t\t\tend2 = overlaps[1][1];\n\t\t\t\t\t\tif (end2 === 1) {\n\t\t\t\t\t\t\tif (++pos2 >= length2)\n\t\t\t\t\t\t\t\tpos2 = 0;\n\t\t\t\t\t\t\tv2 = values2[pos2] || curves2[pos2].getValues();\n\t\t\t\t\t\t\tend2 = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!v1) {\n\t\t\t\t\t\t\treturn start2[0] === pos2 && start2[1] === end2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\treturn false;\n\t},\n\n\t_hitTestSelf: function(point, options, viewMatrix, strokeMatrix) {\n\t\tvar that = this,\n\t\t\tstyle = this.getStyle(),\n\t\t\tsegments = this._segments,\n\t\t\tnumSegments = segments.length,\n\t\t\tclosed = this._closed,\n\t\t\ttolerancePadding = options._tolerancePadding,\n\t\t\tstrokePadding = tolerancePadding,\n\t\t\tjoin, cap, miterLimit,\n\t\t\tarea, loc, res,\n\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\thitFill = options.fill && style.hasFill(),\n\t\t\thitCurves = options.curves,\n\t\t\tstrokeRadius = hitStroke\n\t\t\t\t\t? style.getStrokeWidth() / 2\n\t\t\t\t\t: hitFill && options.tolerance > 0 || hitCurves\n\t\t\t\t\t\t? 0 : null;\n\t\tif (strokeRadius !== null) {\n\t\t\tif (strokeRadius > 0) {\n\t\t\t\tjoin = style.getStrokeJoin();\n\t\t\t\tcap = style.getStrokeCap();\n\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\t\tstrokePadding = strokePadding.add(\n\t\t\t\t\tPath._getStrokePadding(strokeRadius, strokeMatrix));\n\t\t\t} else {\n\t\t\t\tjoin = cap = 'round';\n\t\t\t}\n\t\t}\n\n\t\tfunction isCloseEnough(pt, padding) {\n\t\t\treturn point.subtract(pt).divide(padding).length <= 1;\n\t\t}\n\n\t\tfunction checkSegmentPoint(seg, pt, name) {\n\t\t\tif (!options.selected || pt.isSelected()) {\n\t\t\t\tvar anchor = seg._point;\n\t\t\t\tif (pt !== anchor)\n\t\t\t\t\tpt = pt.add(anchor);\n\t\t\t\tif (isCloseEnough(pt, strokePadding)) {\n\t\t\t\t\treturn new HitResult(name, that, {\n\t\t\t\t\t\tsegment: seg,\n\t\t\t\t\t\tpoint: pt\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction checkSegmentPoints(seg, ends) {\n\t\t\treturn (ends || options.segments)\n\t\t\t\t&& checkSegmentPoint(seg, seg._point, 'segment')\n\t\t\t\t|| (!ends && options.handles) && (\n\t\t\t\t\tcheckSegmentPoint(seg, seg._handleIn, 'handle-in') ||\n\t\t\t\t\tcheckSegmentPoint(seg, seg._handleOut, 'handle-out'));\n\t\t}\n\n\t\tfunction addToArea(point) {\n\t\t\tarea.add(point);\n\t\t}\n\n\t\tfunction checkSegmentStroke(segment) {\n\t\t\tvar isJoin = closed || segment._index > 0\n\t\t\t\t\t&& segment._index < numSegments - 1;\n\t\t\tif ((isJoin ? join : cap) === 'round') {\n\t\t\t\treturn isCloseEnough(segment._point, strokePadding);\n\t\t\t} else {\n\t\t\t\tarea = new Path({ internal: true, closed: true });\n\t\t\t\tif (isJoin) {\n\t\t\t\t\tif (!segment.isSmooth()) {\n\t\t\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius,\n\t\t\t\t\t\t\t   miterLimit, null, strokeMatrix, addToArea, true);\n\t\t\t\t\t}\n\t\t\t\t} else if (cap === 'square') {\n\t\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, null,\n\t\t\t\t\t\t\tstrokeMatrix, addToArea, true);\n\t\t\t\t}\n\t\t\t\tif (!area.isEmpty()) {\n\t\t\t\t\tvar loc;\n\t\t\t\t\treturn area.contains(point)\n\t\t\t\t\t\t|| (loc = area.getNearestLocation(point))\n\t\t\t\t\t\t\t&& isCloseEnough(loc.getPoint(), tolerancePadding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (options.ends && !options.segments && !closed) {\n\t\t\tif (res = checkSegmentPoints(segments[0], true)\n\t\t\t\t\t|| checkSegmentPoints(segments[numSegments - 1], true))\n\t\t\t\treturn res;\n\t\t} else if (options.segments || options.handles) {\n\t\t\tfor (var i = 0; i < numSegments; i++)\n\t\t\t\tif (res = checkSegmentPoints(segments[i]))\n\t\t\t\t\treturn res;\n\t\t}\n\t\tif (strokeRadius !== null) {\n\t\t\tloc = this.getNearestLocation(point);\n\t\t\tif (loc) {\n\t\t\t\tvar time = loc.getTime();\n\t\t\t\tif (time === 0 || time === 1 && numSegments > 1) {\n\t\t\t\t\tif (!checkSegmentStroke(loc.getSegment()))\n\t\t\t\t\t\tloc = null;\n\t\t\t\t} else if (!isCloseEnough(loc.getPoint(), strokePadding)) {\n\t\t\t\t\tloc = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!loc && join === 'miter' && numSegments > 1) {\n\t\t\t\tfor (var i = 0; i < numSegments; i++) {\n\t\t\t\t\tvar segment = segments[i];\n\t\t\t\t\tif (point.getDistance(segment._point)\n\t\t\t\t\t\t\t<= miterLimit * strokeRadius\n\t\t\t\t\t\t\t&& checkSegmentStroke(segment)) {\n\t\t\t\t\t\tloc = segment.getLocation();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn !loc && hitFill && this._contains(point)\n\t\t\t\t|| loc && !hitStroke && !hitCurves\n\t\t\t\t\t? new HitResult('fill', this)\n\t\t\t\t\t: loc\n\t\t\t\t\t\t? new HitResult(hitStroke ? 'stroke' : 'curve', this, {\n\t\t\t\t\t\t\tlocation: loc,\n\t\t\t\t\t\t\tpoint: loc.getPoint()\n\t\t\t\t\t\t})\n\t\t\t\t\t\t: null;\n\t}\n\n}, Base.each(Curve._evaluateMethods,\n\tfunction(name) {\n\t\tthis[name + 'At'] = function(offset) {\n\t\t\tvar loc = this.getLocationAt(offset);\n\t\t\treturn loc && loc[name]();\n\t\t};\n\t},\n{\n\tbeans: false,\n\n\tgetLocationOf: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tcurves = this.getCurves();\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar loc = curves[i].getLocationOf(point);\n\t\t\tif (loc)\n\t\t\t\treturn loc;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetOffsetOf: function() {\n\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\treturn loc ? loc.getOffset() : null;\n\t},\n\n\tgetLocationAt: function(offset) {\n\t\tif (typeof offset === 'number') {\n\t\t\tvar curves = this.getCurves(),\n\t\t\t\tlength = 0;\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tvar start = length,\n\t\t\t\t\tcurve = curves[i];\n\t\t\t\tlength += curve.getLength();\n\t\t\t\tif (length > offset) {\n\t\t\t\t\treturn curve.getLocationAt(offset - start);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (curves.length > 0 && offset <= this.getLength()) {\n\t\t\t\treturn new CurveLocation(curves[curves.length - 1], 1);\n\t\t\t}\n\t\t} else if (offset && offset.getPath && offset.getPath() === this) {\n\t\t\treturn offset;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetOffsetsWithTangent: function() {\n\t\tvar tangent = Point.read(arguments);\n\t\tif (tangent.isZero()) {\n\t\t\treturn [];\n\t\t}\n\n\t\tvar offsets = [];\n\t\tvar curveStart = 0;\n\t\tvar curves = this.getCurves();\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar curve = curves[i];\n\t\t\tvar curveTimes = curve.getTimesWithTangent(tangent);\n\t\t\tfor (var j = 0, m = curveTimes.length; j < m; j++) {\n\t\t\t\tvar offset = curveStart + curve.getOffsetAtTime(curveTimes[j]);\n\t\t\t\tif (offsets.indexOf(offset) < 0) {\n\t\t\t\t\toffsets.push(offset);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcurveStart += curve.length;\n\t\t}\n\t\treturn offsets;\n\t}\n}),\nnew function() {\n\n\tfunction drawHandles(ctx, segments, matrix, size) {\n\t\tif (size <= 0) return;\n\n\t\tvar half = size / 2,\n\t\t\tminiSize = size - 2,\n\t\t\tminiHalf = half - 1,\n\t\t\tcoords = new Array(6),\n\t\t\tpX, pY;\n\n\t\tfunction drawHandle(index) {\n\t\t\tvar hX = coords[index],\n\t\t\t\thY = coords[index + 1];\n\t\t\tif (pX != hX || pY != hY) {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(pX, pY);\n\t\t\t\tctx.lineTo(hX, hY);\n\t\t\t\tctx.stroke();\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(hX, hY, half, 0, Math.PI * 2, true);\n\t\t\t\tctx.fill();\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar segment = segments[i],\n\t\t\t\tselection = segment._selection;\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tpX = coords[0];\n\t\t\tpY = coords[1];\n\t\t\tif (selection & 2)\n\t\t\t\tdrawHandle(2);\n\t\t\tif (selection & 4)\n\t\t\t\tdrawHandle(4);\n\t\t\tctx.fillRect(pX - half, pY - half, size, size);\n\t\t\tif (miniSize > 0 && !(selection & 1)) {\n\t\t\t\tvar fillStyle = ctx.fillStyle;\n\t\t\t\tctx.fillStyle = '#ffffff';\n\t\t\t\tctx.fillRect(pX - miniHalf, pY - miniHalf, miniSize, miniSize);\n\t\t\t\tctx.fillStyle = fillStyle;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction drawSegments(ctx, path, matrix) {\n\t\tvar segments = path._segments,\n\t\t\tlength = segments.length,\n\t\t\tcoords = new Array(6),\n\t\t\tfirst = true,\n\t\t\tcurX, curY,\n\t\t\tprevX, prevY,\n\t\t\tinX, inY,\n\t\t\toutX, outY;\n\n\t\tfunction drawSegment(segment) {\n\t\t\tif (matrix) {\n\t\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\t\tcurX = coords[0];\n\t\t\t\tcurY = coords[1];\n\t\t\t} else {\n\t\t\t\tvar point = segment._point;\n\t\t\t\tcurX = point._x;\n\t\t\t\tcurY = point._y;\n\t\t\t}\n\t\t\tif (first) {\n\t\t\t\tctx.moveTo(curX, curY);\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tif (matrix) {\n\t\t\t\t\tinX = coords[2];\n\t\t\t\t\tinY = coords[3];\n\t\t\t\t} else {\n\t\t\t\t\tvar handle = segment._handleIn;\n\t\t\t\t\tinX = curX + handle._x;\n\t\t\t\t\tinY = curY + handle._y;\n\t\t\t\t}\n\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\tctx.lineTo(curX, curY);\n\t\t\t\t} else {\n\t\t\t\t\tctx.bezierCurveTo(outX, outY, inX, inY, curX, curY);\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevX = curX;\n\t\t\tprevY = curY;\n\t\t\tif (matrix) {\n\t\t\t\toutX = coords[4];\n\t\t\t\toutY = coords[5];\n\t\t\t} else {\n\t\t\t\tvar handle = segment._handleOut;\n\t\t\t\toutX = prevX + handle._x;\n\t\t\t\toutY = prevY + handle._y;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\tdrawSegment(segments[i]);\n\t\tif (path._closed && length > 0)\n\t\t\tdrawSegment(segments[0]);\n\t}\n\n\treturn {\n\t\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\t\tvar dontStart = param.dontStart,\n\t\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\t\tstyle = this.getStyle(),\n\t\t\t\thasFill = style.hasFill(),\n\t\t\t\thasStroke = style.hasStroke(),\n\t\t\t\tdashArray = style.getDashArray(),\n\t\t\t\tdashLength = !paper.support.nativeDash && hasStroke\n\t\t\t\t\t\t&& dashArray && dashArray.length;\n\n\t\t\tif (!dontStart)\n\t\t\t\tctx.beginPath();\n\n\t\t\tif (hasFill || hasStroke && !dashLength || dontPaint) {\n\t\t\t\tdrawSegments(ctx, this, strokeMatrix);\n\t\t\t\tif (this._closed)\n\t\t\t\t\tctx.closePath();\n\t\t\t}\n\n\t\t\tfunction getOffset(i) {\n\t\t\t\treturn dashArray[((i % dashLength) + dashLength) % dashLength];\n\t\t\t}\n\n\t\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\t\tif (hasFill) {\n\t\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t\t}\n\t\t\t\tif (hasStroke) {\n\t\t\t\t\tif (dashLength) {\n\t\t\t\t\t\tif (!dontStart)\n\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tvar flattener = new PathFlattener(this, 0.25, 32, false,\n\t\t\t\t\t\t\t\tstrokeMatrix),\n\t\t\t\t\t\t\tlength = flattener.length,\n\t\t\t\t\t\t\tfrom = -style.getDashOffset(), to,\n\t\t\t\t\t\t\ti = 0;\n\t\t\t\t\t\twhile (from > 0) {\n\t\t\t\t\t\t\tfrom -= getOffset(i--) + getOffset(i--);\n\t\t\t\t\t\t}\n\t\t\t\t\t\twhile (from < length) {\n\t\t\t\t\t\t\tto = from + getOffset(i++);\n\t\t\t\t\t\t\tif (from > 0 || to > 0)\n\t\t\t\t\t\t\t\tflattener.drawPart(ctx,\n\t\t\t\t\t\t\t\t\t\tMath.max(from, 0), Math.max(to, 0));\n\t\t\t\t\t\t\tfrom = to + getOffset(i++);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_drawSelected: function(ctx, matrix) {\n\t\t\tctx.beginPath();\n\t\t\tdrawSegments(ctx, this, matrix);\n\t\t\tctx.stroke();\n\t\t\tdrawHandles(ctx, this._segments, matrix, paper.settings.handleSize);\n\t\t}\n\t};\n},\nnew function() {\n\tfunction getCurrentSegment(that) {\n\t\tvar segments = that._segments;\n\t\tif (!segments.length)\n\t\t\tthrow new Error('Use a moveTo() command first');\n\t\treturn segments[segments.length - 1];\n\t}\n\n\treturn {\n\t\tmoveTo: function() {\n\t\t\tvar segments = this._segments;\n\t\t\tif (segments.length === 1)\n\t\t\t\tthis.removeSegment(0);\n\t\t\tif (!segments.length)\n\t\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t},\n\n\t\tmoveBy: function() {\n\t\t\tthrow new Error('moveBy() is unsupported on Path items.');\n\t\t},\n\n\t\tlineTo: function() {\n\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t},\n\n\t\tcubicCurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle1 = Point.read(args),\n\t\t\t\thandle2 = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this);\n\t\t\tcurrent.setHandleOut(handle1.subtract(current._point));\n\t\t\tthis._add([ new Segment(to, handle2.subtract(to)) ]);\n\t\t},\n\n\t\tquadraticCurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.cubicCurveTo(\n\t\t\t\thandle.add(current.subtract(handle).multiply(1 / 3)),\n\t\t\t\thandle.add(to.subtract(handle).multiply(1 / 3)),\n\t\t\t\tto\n\t\t\t);\n\t\t},\n\n\t\tcurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tthrough = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tt = Base.pick(Base.read(args), 0.5),\n\t\t\t\tt1 = 1 - t,\n\t\t\t\tcurrent = getCurrentSegment(this)._point,\n\t\t\t\thandle = through.subtract(current.multiply(t1 * t1))\n\t\t\t\t\t.subtract(to.multiply(t * t)).divide(2 * t * t1);\n\t\t\tif (handle.isNaN())\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Cannot put a curve through points with parameter = ' + t);\n\t\t\tthis.quadraticCurveTo(handle, to);\n\t\t},\n\n\t\tarcTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tabs = Math.abs,\n\t\t\t\tsqrt = Math.sqrt,\n\t\t\t\tcurrent = getCurrentSegment(this),\n\t\t\t\tfrom = current._point,\n\t\t\t\tto = Point.read(args),\n\t\t\t\tthrough,\n\t\t\t\tpeek = Base.peek(args),\n\t\t\t\tclockwise = Base.pick(peek, true),\n\t\t\t\tcenter, extent, vector, matrix;\n\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\tvar middle = from.add(to).divide(2),\n\t\t\t\tthrough = middle.add(middle.subtract(from).rotate(\n\t\t\t\t\t\tclockwise ? -90 : 90));\n\t\t\t} else if (Base.remain(args) <= 2) {\n\t\t\t\tthrough = to;\n\t\t\t\tto = Point.read(args);\n\t\t\t} else if (!from.equals(to)) {\n\t\t\t\tvar radius = Size.read(args),\n\t\t\t\t\tisZero = Numerical.isZero;\n\t\t\t\tif (isZero(radius.width) || isZero(radius.height))\n\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\tvar rotation = Base.read(args),\n\t\t\t\t\tclockwise = !!Base.read(args),\n\t\t\t\t\tlarge = !!Base.read(args),\n\t\t\t\t\tmiddle = from.add(to).divide(2),\n\t\t\t\t\tpt = from.subtract(middle).rotate(-rotation),\n\t\t\t\t\tx = pt.x,\n\t\t\t\t\ty = pt.y,\n\t\t\t\t\trx = abs(radius.width),\n\t\t\t\t\try = abs(radius.height),\n\t\t\t\t\trxSq = rx * rx,\n\t\t\t\t\trySq = ry * ry,\n\t\t\t\t\txSq = x * x,\n\t\t\t\t\tySq = y * y;\n\t\t\t\tvar factor = sqrt(xSq / rxSq + ySq / rySq);\n\t\t\t\tif (factor > 1) {\n\t\t\t\t\trx *= factor;\n\t\t\t\t\try *= factor;\n\t\t\t\t\trxSq = rx * rx;\n\t\t\t\t\trySq = ry * ry;\n\t\t\t\t}\n\t\t\t\tfactor = (rxSq * rySq - rxSq * ySq - rySq * xSq) /\n\t\t\t\t\t\t(rxSq * ySq + rySq * xSq);\n\t\t\t\tif (abs(factor) < 1e-12)\n\t\t\t\t\tfactor = 0;\n\t\t\t\tif (factor < 0)\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\tcenter = new Point(rx * y / ry, -ry * x / rx)\n\t\t\t\t\t\t.multiply((large === clockwise ? -1 : 1) * sqrt(factor))\n\t\t\t\t\t\t.rotate(rotation).add(middle);\n\t\t\t\tmatrix = new Matrix().translate(center).rotate(rotation)\n\t\t\t\t\t\t.scale(rx, ry);\n\t\t\t\tvector = matrix._inverseTransform(from);\n\t\t\t\textent = vector.getDirectedAngle(matrix._inverseTransform(to));\n\t\t\t\tif (!clockwise && extent > 0)\n\t\t\t\t\textent -= 360;\n\t\t\t\telse if (clockwise && extent < 0)\n\t\t\t\t\textent += 360;\n\t\t\t}\n\t\t\tif (through) {\n\t\t\t\tvar l1 = new Line(from.add(through).divide(2),\n\t\t\t\t\t\t\tthrough.subtract(from).rotate(90), true),\n\t\t\t\t\tl2 = new Line(through.add(to).divide(2),\n\t\t\t\t\t\t\tto.subtract(through).rotate(90), true),\n\t\t\t\t\tline = new Line(from, to),\n\t\t\t\t\tthroughSide = line.getSide(through);\n\t\t\t\tcenter = l1.intersect(l2, true);\n\t\t\t\tif (!center) {\n\t\t\t\t\tif (!throughSide)\n\t\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\t}\n\t\t\t\tvector = from.subtract(center);\n\t\t\t\textent = vector.getDirectedAngle(to.subtract(center));\n\t\t\t\tvar centerSide = line.getSide(center, true);\n\t\t\t\tif (centerSide === 0) {\n\t\t\t\t\textent = throughSide * abs(extent);\n\t\t\t\t} else if (throughSide === centerSide) {\n\t\t\t\t\textent += extent < 0 ? 360 : -360;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (extent) {\n\t\t\t\tvar epsilon = 1e-7,\n\t\t\t\t\text = abs(extent),\n\t\t\t\t\tcount = ext >= 360 ? 4 : Math.ceil((ext - epsilon) / 90),\n\t\t\t\t\tinc = extent / count,\n\t\t\t\t\thalf = inc * Math.PI / 360,\n\t\t\t\t\tz = 4 / 3 * Math.sin(half) / (1 + Math.cos(half)),\n\t\t\t\t\tsegments = [];\n\t\t\t\tfor (var i = 0; i <= count; i++) {\n\t\t\t\t\tvar pt = to,\n\t\t\t\t\t\tout = null;\n\t\t\t\t\tif (i < count) {\n\t\t\t\t\t\tout = vector.rotate(90).multiply(z);\n\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\tpt = matrix._transformPoint(vector);\n\t\t\t\t\t\t\tout = matrix._transformPoint(vector.add(out))\n\t\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpt = center.add(vector);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\tcurrent.setHandleOut(out);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar _in = vector.rotate(-90).multiply(z);\n\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\t_in = matrix._transformPoint(vector.add(_in))\n\t\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsegments.push(new Segment(pt, _in, out));\n\t\t\t\t\t}\n\t\t\t\t\tvector = vector.rotate(inc);\n\t\t\t\t}\n\t\t\t\tthis._add(segments);\n\t\t\t}\n\t\t},\n\n\t\tlineBy: function() {\n\t\t\tvar to = Point.read(arguments),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.lineTo(current.add(to));\n\t\t},\n\n\t\tcurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tthrough = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tparameter = Base.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.curveTo(current.add(through), current.add(to), parameter);\n\t\t},\n\n\t\tcubicCurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle1 = Point.read(args),\n\t\t\t\thandle2 = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.cubicCurveTo(current.add(handle1), current.add(handle2),\n\t\t\t\t\tcurrent.add(to));\n\t\t},\n\n\t\tquadraticCurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.quadraticCurveTo(current.add(handle), current.add(to));\n\t\t},\n\n\t\tarcBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcurrent = getCurrentSegment(this)._point,\n\t\t\t\tpoint = current.add(Point.read(args)),\n\t\t\t\tclockwise = Base.pick(Base.peek(args), true);\n\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\tthis.arcTo(point, clockwise);\n\t\t\t} else {\n\t\t\t\tthis.arcTo(point, current.add(Point.read(args)));\n\t\t\t}\n\t\t},\n\n\t\tclosePath: function(tolerance) {\n\t\t\tthis.setClosed(true);\n\t\t\tthis.join(this, tolerance);\n\t\t}\n\t};\n}, {\n\n\t_getBounds: function(matrix, options) {\n\t\tvar method = options.handle\n\t\t\t\t? 'getHandleBounds'\n\t\t\t\t: options.stroke\n\t\t\t\t? 'getStrokeBounds'\n\t\t\t\t: 'getBounds';\n\t\treturn Path[method](this._segments, this._closed, this, matrix, options);\n\t},\n\nstatics: {\n\tgetBounds: function(segments, closed, path, matrix, options, strokePadding) {\n\t\tvar first = segments[0];\n\t\tif (!first)\n\t\t\treturn new Rectangle();\n\t\tvar coords = new Array(6),\n\t\t\tprevCoords = first._transformCoordinates(matrix, new Array(6)),\n\t\t\tmin = prevCoords.slice(0, 2),\n\t\t\tmax = min.slice(),\n\t\t\troots = new Array(2);\n\n\t\tfunction processSegment(segment) {\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tCurve._addBounds(\n\t\t\t\t\tprevCoords[i],\n\t\t\t\t\tprevCoords[i + 4],\n\t\t\t\t\tcoords[i + 2],\n\t\t\t\t\tcoords[i],\n\t\t\t\t\ti, strokePadding ? strokePadding[i] : 0, min, max, roots);\n\t\t\t}\n\t\t\tvar tmp = prevCoords;\n\t\t\tprevCoords = coords;\n\t\t\tcoords = tmp;\n\t\t}\n\n\t\tfor (var i = 1, l = segments.length; i < l; i++)\n\t\t\tprocessSegment(segments[i]);\n\t\tif (closed)\n\t\t\tprocessSegment(first);\n\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t},\n\n\tgetStrokeBounds: function(segments, closed, path, matrix, options) {\n\t\tvar style = path.getStyle(),\n\t\t\tstroke = style.hasStroke(),\n\t\t\tstrokeWidth = style.getStrokeWidth(),\n\t\t\tstrokeMatrix = stroke && path._getStrokeMatrix(matrix, options),\n\t\t\tstrokePadding = stroke && Path._getStrokePadding(strokeWidth,\n\t\t\t\tstrokeMatrix),\n\t\t\tbounds = Path.getBounds(segments, closed, path, matrix, options,\n\t\t\t\tstrokePadding);\n\t\tif (!stroke)\n\t\t\treturn bounds;\n\t\tvar strokeRadius = strokeWidth / 2,\n\t\t\tjoin = style.getStrokeJoin(),\n\t\t\tcap = style.getStrokeCap(),\n\t\t\tmiterLimit = style.getMiterLimit(),\n\t\t\tjoinBounds = new Rectangle(new Size(strokePadding));\n\n\t\tfunction addPoint(point) {\n\t\t\tbounds = bounds.include(point);\n\t\t}\n\n\t\tfunction addRound(segment) {\n\t\t\tbounds = bounds.unite(\n\t\t\t\t\tjoinBounds.setCenter(segment._point.transform(matrix)));\n\t\t}\n\n\t\tfunction addJoin(segment, join) {\n\t\t\tif (join === 'round' || segment.isSmooth()) {\n\t\t\t\taddRound(segment);\n\t\t\t} else {\n\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius, miterLimit,\n\t\t\t\t\t\tmatrix, strokeMatrix, addPoint);\n\t\t\t}\n\t\t}\n\n\t\tfunction addCap(segment, cap) {\n\t\t\tif (cap === 'round') {\n\t\t\t\taddRound(segment);\n\t\t\t} else {\n\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, matrix,\n\t\t\t\t\t\tstrokeMatrix, addPoint);\n\t\t\t}\n\t\t}\n\n\t\tvar length = segments.length - (closed ? 0 : 1);\n\t\tif (length > 0) {\n\t\t\tfor (var i = 1; i < length; i++) {\n\t\t\t\taddJoin(segments[i], join);\n\t\t\t}\n\t\t\tif (closed) {\n\t\t\t\taddJoin(segments[0], join);\n\t\t\t} else {\n\t\t\t\taddCap(segments[0], cap);\n\t\t\t\taddCap(segments[segments.length - 1], cap);\n\t\t\t}\n\t\t}\n\t\treturn bounds;\n\t},\n\n\t_getStrokePadding: function(radius, matrix) {\n\t\tif (!matrix)\n\t\t\treturn [radius, radius];\n\t\tvar hor = new Point(radius, 0).transform(matrix),\n\t\t\tver = new Point(0, radius).transform(matrix),\n\t\t\tphi = hor.getAngleInRadians(),\n\t\t\ta = hor.getLength(),\n\t\t\tb = ver.getLength();\n\t\tvar sin = Math.sin(phi),\n\t\t\tcos = Math.cos(phi),\n\t\t\ttan = Math.tan(phi),\n\t\t\ttx = Math.atan2(b * tan, a),\n\t\t\tty = Math.atan2(b, tan * a);\n\t\treturn [Math.abs(a * Math.cos(tx) * cos + b * Math.sin(tx) * sin),\n\t\t\t\tMath.abs(b * Math.sin(ty) * cos + a * Math.cos(ty) * sin)];\n\t},\n\n\t_addBevelJoin: function(segment, join, radius, miterLimit, matrix,\n\t\t\tstrokeMatrix, addPoint, isArea) {\n\t\tvar curve2 = segment.getCurve(),\n\t\t\tcurve1 = curve2.getPrevious(),\n\t\t\tpoint = curve2.getPoint1().transform(matrix),\n\t\t\tnormal1 = curve1.getNormalAtTime(1).multiply(radius)\n\t\t\t\t.transform(strokeMatrix),\n\t\t\tnormal2 = curve2.getNormalAtTime(0).multiply(radius)\n\t\t\t\t.transform(strokeMatrix),\n\t\t\t\tangle = normal1.getDirectedAngle(normal2);\n\t\tif (angle < 0 || angle >= 180) {\n\t\t\tnormal1 = normal1.negate();\n\t\t\tnormal2 = normal2.negate();\n\t\t}\n\t\tif (isArea)\n\t\t\taddPoint(point);\n\t\taddPoint(point.add(normal1));\n\t\tif (join === 'miter') {\n\t\t\tvar corner = new Line(point.add(normal1),\n\t\t\t\t\tnew Point(-normal1.y, normal1.x), true\n\t\t\t\t).intersect(new Line(point.add(normal2),\n\t\t\t\t\tnew Point(-normal2.y, normal2.x), true\n\t\t\t\t), true);\n\t\t\tif (corner && point.getDistance(corner) <= miterLimit * radius) {\n\t\t\t\taddPoint(corner);\n\t\t\t}\n\t\t}\n\t\taddPoint(point.add(normal2));\n\t},\n\n\t_addSquareCap: function(segment, cap, radius, matrix, strokeMatrix,\n\t\t\taddPoint, isArea) {\n\t\tvar point = segment._point.transform(matrix),\n\t\t\tloc = segment.getLocation(),\n\t\t\tnormal = loc.getNormal()\n\t\t\t\t\t.multiply(loc.getTime() === 0 ? radius : -radius)\n\t\t\t\t\t.transform(strokeMatrix);\n\t\tif (cap === 'square') {\n\t\t\tif (isArea) {\n\t\t\t\taddPoint(point.subtract(normal));\n\t\t\t\taddPoint(point.add(normal));\n\t\t\t}\n\t\t\tpoint = point.add(normal.rotate(-90));\n\t\t}\n\t\taddPoint(point.add(normal));\n\t\taddPoint(point.subtract(normal));\n\t},\n\n\tgetHandleBounds: function(segments, closed, path, matrix, options) {\n\t\tvar style = path.getStyle(),\n\t\t\tstroke = options.stroke && style.hasStroke(),\n\t\t\tstrokePadding,\n\t\t\tjoinPadding;\n\t\tif (stroke) {\n\t\t\tvar strokeMatrix = path._getStrokeMatrix(matrix, options),\n\t\t\t\tstrokeRadius = style.getStrokeWidth() / 2,\n\t\t\t\tjoinRadius = strokeRadius;\n\t\t\tif (style.getStrokeJoin() === 'miter')\n\t\t\t\tjoinRadius = strokeRadius * style.getMiterLimit();\n\t\t\tif (style.getStrokeCap() === 'square')\n\t\t\t\tjoinRadius = Math.max(joinRadius, strokeRadius * Math.SQRT2);\n\t\t\tstrokePadding = Path._getStrokePadding(strokeRadius, strokeMatrix);\n\t\t\tjoinPadding = Path._getStrokePadding(joinRadius, strokeMatrix);\n\t\t}\n\t\tvar coords = new Array(6),\n\t\t\tx1 = Infinity,\n\t\t\tx2 = -x1,\n\t\t\ty1 = x1,\n\t\t\ty2 = x2;\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar segment = segments[i];\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tfor (var j = 0; j < 6; j += 2) {\n\t\t\t\tvar padding = !j ? joinPadding : strokePadding,\n\t\t\t\t\tpaddingX = padding ? padding[0] : 0,\n\t\t\t\t\tpaddingY = padding ? padding[1] : 0,\n\t\t\t\t\tx = coords[j],\n\t\t\t\t\ty = coords[j + 1],\n\t\t\t\t\txn = x - paddingX,\n\t\t\t\t\txx = x + paddingX,\n\t\t\t\t\tyn = y - paddingY,\n\t\t\t\t\tyx = y + paddingY;\n\t\t\t\tif (xn < x1) x1 = xn;\n\t\t\t\tif (xx > x2) x2 = xx;\n\t\t\t\tif (yn < y1) y1 = yn;\n\t\t\t\tif (yx > y2) y2 = yx;\n\t\t\t}\n\t\t}\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t}\n}});\n\nPath.inject({ statics: new function() {\n\n\tvar kappa = 0.5522847498307936,\n\t\tellipseSegments = [\n\t\t\tnew Segment([-1, 0], [0, kappa ], [0, -kappa]),\n\t\t\tnew Segment([0, -1], [-kappa, 0], [kappa, 0 ]),\n\t\t\tnew Segment([1, 0], [0, -kappa], [0, kappa ]),\n\t\t\tnew Segment([0, 1], [kappa, 0 ], [-kappa, 0])\n\t\t];\n\n\tfunction createPath(segments, closed, args) {\n\t\tvar props = Base.getNamed(args),\n\t\t\tpath = new Path(props && props.insert == false && Item.NO_INSERT);\n\t\tpath._add(segments);\n\t\tpath._closed = closed;\n\t\treturn path.set(props, { insert: true });\n\t}\n\n\tfunction createEllipse(center, radius, args) {\n\t\tvar segments = new Array(4);\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tvar segment = ellipseSegments[i];\n\t\t\tsegments[i] = new Segment(\n\t\t\t\tsegment._point.multiply(radius).add(center),\n\t\t\t\tsegment._handleIn.multiply(radius),\n\t\t\t\tsegment._handleOut.multiply(radius)\n\t\t\t);\n\t\t}\n\t\treturn createPath(segments, true, args);\n\t}\n\n\treturn {\n\t\tLine: function() {\n\t\t\tvar args = arguments;\n\t\t\treturn createPath([\n\t\t\t\tnew Segment(Point.readNamed(args, 'from')),\n\t\t\t\tnew Segment(Point.readNamed(args, 'to'))\n\t\t\t], false, args);\n\t\t},\n\n\t\tCircle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tradius = Base.readNamed(args, 'radius');\n\t\t\treturn createEllipse(center, new Size(radius), args);\n\t\t},\n\n\t\tRectangle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\trect = Rectangle.readNamed(args, 'rectangle'),\n\t\t\t\tradius = Size.readNamed(args, 'radius', 0,\n\t\t\t\t\t\t{ readNull: true }),\n\t\t\t\tbl = rect.getBottomLeft(true),\n\t\t\t\ttl = rect.getTopLeft(true),\n\t\t\t\ttr = rect.getTopRight(true),\n\t\t\t\tbr = rect.getBottomRight(true),\n\t\t\t\tsegments;\n\t\t\tif (!radius || radius.isZero()) {\n\t\t\t\tsegments = [\n\t\t\t\t\tnew Segment(bl),\n\t\t\t\t\tnew Segment(tl),\n\t\t\t\t\tnew Segment(tr),\n\t\t\t\t\tnew Segment(br)\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tradius = Size.min(radius, rect.getSize(true).divide(2));\n\t\t\t\tvar rx = radius.width,\n\t\t\t\t\try = radius.height,\n\t\t\t\t\thx = rx * kappa,\n\t\t\t\t\thy = ry * kappa;\n\t\t\t\tsegments = [\n\t\t\t\t\tnew Segment(bl.add(rx, 0), null, [-hx, 0]),\n\t\t\t\t\tnew Segment(bl.subtract(0, ry), [0, hy]),\n\t\t\t\t\tnew Segment(tl.add(0, ry), null, [0, -hy]),\n\t\t\t\t\tnew Segment(tl.add(rx, 0), [-hx, 0], null),\n\t\t\t\t\tnew Segment(tr.subtract(rx, 0), null, [hx, 0]),\n\t\t\t\t\tnew Segment(tr.add(0, ry), [0, -hy], null),\n\t\t\t\t\tnew Segment(br.subtract(0, ry), null, [0, hy]),\n\t\t\t\t\tnew Segment(br.subtract(rx, 0), [hx, 0])\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn createPath(segments, true, args);\n\t\t},\n\n\t\tRoundRectangle: '#Rectangle',\n\n\t\tEllipse: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tellipse = Shape._readEllipse(args);\n\t\t\treturn createEllipse(ellipse.center, ellipse.radius, args);\n\t\t},\n\n\t\tOval: '#Ellipse',\n\n\t\tArc: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tfrom = Point.readNamed(args, 'from'),\n\t\t\t\tthrough = Point.readNamed(args, 'through'),\n\t\t\t\tto = Point.readNamed(args, 'to'),\n\t\t\t\tprops = Base.getNamed(args),\n\t\t\t\tpath = new Path(props && props.insert == false\n\t\t\t\t\t\t&& Item.NO_INSERT);\n\t\t\tpath.moveTo(from);\n\t\t\tpath.arcTo(through, to);\n\t\t\treturn path.set(props);\n\t\t},\n\n\t\tRegularPolygon: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tsides = Base.readNamed(args, 'sides'),\n\t\t\t\tradius = Base.readNamed(args, 'radius'),\n\t\t\t\tstep = 360 / sides,\n\t\t\t\tthree = sides % 3 === 0,\n\t\t\t\tvector = new Point(0, three ? -radius : radius),\n\t\t\t\toffset = three ? -1 : 0.5,\n\t\t\t\tsegments = new Array(sides);\n\t\t\tfor (var i = 0; i < sides; i++)\n\t\t\t\tsegments[i] = new Segment(center.add(\n\t\t\t\t\tvector.rotate((i + offset) * step)));\n\t\t\treturn createPath(segments, true, args);\n\t\t},\n\n\t\tStar: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tpoints = Base.readNamed(args, 'points') * 2,\n\t\t\t\tradius1 = Base.readNamed(args, 'radius1'),\n\t\t\t\tradius2 = Base.readNamed(args, 'radius2'),\n\t\t\t\tstep = 360 / points,\n\t\t\t\tvector = new Point(0, -1),\n\t\t\t\tsegments = new Array(points);\n\t\t\tfor (var i = 0; i < points; i++)\n\t\t\t\tsegments[i] = new Segment(center.add(vector.rotate(step * i)\n\t\t\t\t\t\t.multiply(i % 2 ? radius2 : radius1)));\n\t\t\treturn createPath(segments, true, args);\n\t\t}\n\t};\n}});\n\nvar CompoundPath = PathItem.extend({\n\t_class: 'CompoundPath',\n\t_serializeFields: {\n\t\tchildren: []\n\t},\n\tbeans: true,\n\n\tinitialize: function CompoundPath(arg) {\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tif (!this._initialize(arg)) {\n\t\t\tif (typeof arg === 'string') {\n\t\t\t\tthis.setPathData(arg);\n\t\t\t} else {\n\t\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t\t\t}\n\t\t}\n\t},\n\n\tinsertChildren: function insertChildren(index, items) {\n\t\tvar list = items,\n\t\t\tfirst = list[0];\n\t\tif (first && typeof first[0] === 'number')\n\t\t\tlist = [list];\n\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\tvar item = list[i];\n\t\t\tif (list === items && !(item instanceof Path))\n\t\t\t\tlist = Base.slice(list);\n\t\t\tif (Array.isArray(item)) {\n\t\t\t\tlist[i] = new Path({ segments: item, insert: false });\n\t\t\t} else if (item instanceof CompoundPath) {\n\t\t\t\tlist.splice.apply(list, [i, 1].concat(item.removeChildren()));\n\t\t\t\titem.remove();\n\t\t\t}\n\t\t}\n\t\treturn insertChildren.base.call(this, index, list);\n\t},\n\n\treduce: function reduce(options) {\n\t\tvar children = this._children;\n\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\tvar path = children[i].reduce(options);\n\t\t\tif (path.isEmpty())\n\t\t\t\tpath.remove();\n\t\t}\n\t\tif (!children.length) {\n\t\t\tvar path = new Path(Item.NO_INSERT);\n\t\t\tpath.copyAttributes(this);\n\t\t\tpath.insertAbove(this);\n\t\t\tthis.remove();\n\t\t\treturn path;\n\t\t}\n\t\treturn reduce.base.call(this);\n\t},\n\n\tisClosed: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tif (!children[i]._closed)\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tsetClosed: function(closed) {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tchildren[i].setClosed(closed);\n\t\t}\n\t},\n\n\tgetFirstSegment: function() {\n\t\tvar first = this.getFirstChild();\n\t\treturn first && first.getFirstSegment();\n\t},\n\n\tgetLastSegment: function() {\n\t\tvar last = this.getLastChild();\n\t\treturn last && last.getLastSegment();\n\t},\n\n\tgetCurves: function() {\n\t\tvar children = this._children,\n\t\t\tcurves = [];\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tBase.push(curves, children[i].getCurves());\n\t\t}\n\t\treturn curves;\n\t},\n\n\tgetFirstCurve: function() {\n\t\tvar first = this.getFirstChild();\n\t\treturn first && first.getFirstCurve();\n\t},\n\n\tgetLastCurve: function() {\n\t\tvar last = this.getLastChild();\n\t\treturn last && last.getLastCurve();\n\t},\n\n\tgetArea: function() {\n\t\tvar children = this._children,\n\t\t\tarea = 0;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tarea += children[i].getArea();\n\t\treturn area;\n\t},\n\n\tgetLength: function() {\n\t\tvar children = this._children,\n\t\t\tlength = 0;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tlength += children[i].getLength();\n\t\treturn length;\n\t},\n\n\tgetPathData: function(_matrix, _precision) {\n\t\tvar children = this._children,\n\t\t\tpaths = [];\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i],\n\t\t\t\tmx = child._matrix;\n\t\t\tpaths.push(child.getPathData(_matrix && !mx.isIdentity()\n\t\t\t\t\t? _matrix.appended(mx) : _matrix, _precision));\n\t\t}\n\t\treturn paths.join('');\n\t},\n\n\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\treturn _hitTestChildren.base.call(this, point,\n\t\t\t\toptions.class === Path || options.type === 'path' ? options\n\t\t\t\t\t: Base.set({}, options, { fill: false }),\n\t\t\t\tviewMatrix);\n\t},\n\n\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\tvar children = this._children;\n\t\tif (!children.length)\n\t\t\treturn;\n\n\t\tparam = param.extend({ dontStart: true, dontFinish: true });\n\t\tctx.beginPath();\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tchildren[i].draw(ctx, param, strokeMatrix);\n\n\t\tif (!param.clip) {\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\tvar style = this._style;\n\t\t\tif (style.hasFill()) {\n\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (style.hasStroke())\n\t\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t_drawSelected: function(ctx, matrix, selectionItems) {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i],\n\t\t\t\tmx = child._matrix;\n\t\t\tif (!selectionItems[child._id]) {\n\t\t\t\tchild._drawSelected(ctx, mx.isIdentity() ? matrix\n\t\t\t\t\t\t: matrix.appended(mx));\n\t\t\t}\n\t\t}\n\t}\n},\nnew function() {\n\tfunction getCurrentPath(that, check) {\n\t\tvar children = that._children;\n\t\tif (check && !children.length)\n\t\t\tthrow new Error('Use a moveTo() command first');\n\t\treturn children[children.length - 1];\n\t}\n\n\treturn Base.each(['lineTo', 'cubicCurveTo', 'quadraticCurveTo', 'curveTo',\n\t\t\t'arcTo', 'lineBy', 'cubicCurveBy', 'quadraticCurveBy', 'curveBy',\n\t\t\t'arcBy'],\n\t\tfunction(key) {\n\t\t\tthis[key] = function() {\n\t\t\t\tvar path = getCurrentPath(this, true);\n\t\t\t\tpath[key].apply(path, arguments);\n\t\t\t};\n\t\t}, {\n\t\t\tmoveTo: function() {\n\t\t\t\tvar current = getCurrentPath(this),\n\t\t\t\t\tpath = current && current.isEmpty() ? current\n\t\t\t\t\t\t\t: new Path(Item.NO_INSERT);\n\t\t\t\tif (path !== current)\n\t\t\t\t\tthis.addChild(path);\n\t\t\t\tpath.moveTo.apply(path, arguments);\n\t\t\t},\n\n\t\t\tmoveBy: function() {\n\t\t\t\tvar current = getCurrentPath(this, true),\n\t\t\t\t\tlast = current && current.getLastSegment(),\n\t\t\t\t\tpoint = Point.read(arguments);\n\t\t\t\tthis.moveTo(last ? point.add(last._point) : point);\n\t\t\t},\n\n\t\t\tclosePath: function(tolerance) {\n\t\t\t\tgetCurrentPath(this, true).closePath(tolerance);\n\t\t\t}\n\t\t}\n\t);\n}, Base.each(['reverse', 'flatten', 'simplify', 'smooth'], function(key) {\n\tthis[key] = function(param) {\n\t\tvar children = this._children,\n\t\t\tres;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tres = children[i][key](param) || res;\n\t\t}\n\t\treturn res;\n\t};\n}, {}));\n\nPathItem.inject(new function() {\n\tvar min = Math.min,\n\t\tmax = Math.max,\n\t\tabs = Math.abs,\n\t\toperators = {\n\t\t\tunite:     { '1': true, '2': true },\n\t\t\tintersect: { '2': true },\n\t\t\tsubtract:  { '1': true },\n\t\t\texclude:   { '1': true, '-1': true }\n\t\t};\n\n\tfunction getPaths(path) {\n\t\treturn path._children || [path];\n\t}\n\n\tfunction preparePath(path, resolve) {\n\t\tvar res = path\n\t\t\t.clone(false)\n\t\t\t.reduce({ simplify: true })\n\t\t\t.transform(null, true, true);\n\t\tif (resolve) {\n\t\t\tvar paths = getPaths(res);\n\t\t\tfor (var i = 0, l = paths.length; i < l; i++) {\n\t\t\t\tvar path = paths[i];\n\t\t\t\tif (!path._closed && !path.isEmpty()) {\n\t\t\t\t\tpath.closePath(1e-12);\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(0, 0);\n\t\t\t\t\tpath.getLastSegment().setHandleOut(0, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = res\n\t\t\t\t.resolveCrossings()\n\t\t\t\t.reorient(res.getFillRule() === 'nonzero', true);\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction createResult(paths, simplify, path1, path2, options) {\n\t\tvar result = new CompoundPath(Item.NO_INSERT);\n\t\tresult.addChildren(paths, true);\n\t\tresult = result.reduce({ simplify: simplify });\n\t\tif (!(options && options.insert == false)) {\n\t\t\tresult.insertAbove(path2 && path1.isSibling(path2)\n\t\t\t\t\t&& path1.getIndex() < path2.getIndex() ? path2 : path1);\n\t\t}\n\t\tresult.copyAttributes(path1, true);\n\t\treturn result;\n\t}\n\n\tfunction filterIntersection(inter) {\n\t\treturn inter.hasOverlap() || inter.isCrossing();\n\t}\n\n\tfunction traceBoolean(path1, path2, operation, options) {\n\t\tif (options && (options.trace == false || options.stroke) &&\n\t\t\t\t/^(subtract|intersect)$/.test(operation))\n\t\t\treturn splitBoolean(path1, path2, operation);\n\t\tvar _path1 = preparePath(path1, true),\n\t\t\t_path2 = path2 && path1 !== path2 && preparePath(path2, true),\n\t\t\toperator = operators[operation];\n\t\toperator[operation] = true;\n\t\tif (_path2 && (operator.subtract || operator.exclude)\n\t\t\t\t^ (_path2.isClockwise() ^ _path1.isClockwise()))\n\t\t\t_path2.reverse();\n\t\tvar crossings = divideLocations(CurveLocation.expand(\n\t\t\t\t_path1.getIntersections(_path2, filterIntersection))),\n\t\t\tpaths1 = getPaths(_path1),\n\t\t\tpaths2 = _path2 && getPaths(_path2),\n\t\t\tsegments = [],\n\t\t\tcurves = [],\n\t\t\tpaths;\n\n\t\tfunction collectPaths(paths) {\n\t\t\tfor (var i = 0, l = paths.length; i < l; i++) {\n\t\t\t\tvar path = paths[i];\n\t\t\t\tBase.push(segments, path._segments);\n\t\t\t\tBase.push(curves, path.getCurves());\n\t\t\t\tpath._overlapsOnly = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction getCurves(indices) {\n\t\t\tvar list = [];\n\t\t\tfor (var i = 0, l = indices && indices.length; i < l; i++) {\n\t\t\t\tlist.push(curves[indices[i]]);\n\t\t\t}\n\t\t\treturn list;\n\t\t}\n\n\t\tif (crossings.length) {\n\t\t\tcollectPaths(paths1);\n\t\t\tif (paths2)\n\t\t\t\tcollectPaths(paths2);\n\n\t\t\tvar curvesValues = new Array(curves.length);\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tcurvesValues[i] = curves[i].getValues();\n\t\t\t}\n\t\t\tvar curveCollisions = CollisionDetection.findCurveBoundsCollisions(\n\t\t\t\t\tcurvesValues, curvesValues, 0, true);\n\t\t\tvar curveCollisionsMap = {};\n\t\t\tfor (var i = 0; i < curves.length; i++) {\n\t\t\t\tvar curve = curves[i],\n\t\t\t\t\tid = curve._path._id,\n\t\t\t\t\tmap = curveCollisionsMap[id] = curveCollisionsMap[id] || {};\n\t\t\t\tmap[curve.getIndex()] = {\n\t\t\t\t\thor: getCurves(curveCollisions[i].hor),\n\t\t\t\t\tver: getCurves(curveCollisions[i].ver)\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (var i = 0, l = crossings.length; i < l; i++) {\n\t\t\t\tpropagateWinding(crossings[i]._segment, _path1, _path2,\n\t\t\t\t\t\tcurveCollisionsMap, operator);\n\t\t\t}\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar segment = segments[i],\n\t\t\t\t\tinter = segment._intersection;\n\t\t\t\tif (!segment._winding) {\n\t\t\t\t\tpropagateWinding(segment, _path1, _path2,\n\t\t\t\t\t\t\tcurveCollisionsMap, operator);\n\t\t\t\t}\n\t\t\t\tif (!(inter && inter._overlap))\n\t\t\t\t\tsegment._path._overlapsOnly = false;\n\t\t\t}\n\t\t\tpaths = tracePaths(segments, operator);\n\t\t} else {\n\t\t\tpaths = reorientPaths(\n\t\t\t\t\tpaths2 ? paths1.concat(paths2) : paths1.slice(),\n\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\treturn !!operator[w];\n\t\t\t\t\t});\n\t\t}\n\t\treturn createResult(paths, true, path1, path2, options);\n\t}\n\n\tfunction splitBoolean(path1, path2, operation) {\n\t\tvar _path1 = preparePath(path1),\n\t\t\t_path2 = preparePath(path2),\n\t\t\tcrossings = _path1.getIntersections(_path2, filterIntersection),\n\t\t\tsubtract = operation === 'subtract',\n\t\t\tdivide = operation === 'divide',\n\t\t\tadded = {},\n\t\t\tpaths = [];\n\n\t\tfunction addPath(path) {\n\t\t\tif (!added[path._id] && (divide ||\n\t\t\t\t\t_path2.contains(path.getPointAt(path.getLength() / 2))\n\t\t\t\t\t\t^ subtract)) {\n\t\t\t\tpaths.unshift(path);\n\t\t\t\treturn added[path._id] = true;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = crossings.length - 1; i >= 0; i--) {\n\t\t\tvar path = crossings[i].split();\n\t\t\tif (path) {\n\t\t\t\tif (addPath(path))\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(0, 0);\n\t\t\t\t_path1.getLastSegment().setHandleOut(0, 0);\n\t\t\t}\n\t\t}\n\t\taddPath(_path1);\n\t\treturn createResult(paths, false, path1, path2);\n\t}\n\n\tfunction linkIntersections(from, to) {\n\t\tvar prev = from;\n\t\twhile (prev) {\n\t\t\tif (prev === to)\n\t\t\t\treturn;\n\t\t\tprev = prev._previous;\n\t\t}\n\t\twhile (from._next && from._next !== to)\n\t\t\tfrom = from._next;\n\t\tif (!from._next) {\n\t\t\twhile (to._previous)\n\t\t\t\tto = to._previous;\n\t\t\tfrom._next = to;\n\t\t\tto._previous = from;\n\t\t}\n\t}\n\n\tfunction clearCurveHandles(curves) {\n\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\tcurves[i].clearHandles();\n\t}\n\n\tfunction reorientPaths(paths, isInside, clockwise) {\n\t\tvar length = paths && paths.length;\n\t\tif (length) {\n\t\t\tvar lookup = Base.each(paths, function (path, i) {\n\t\t\t\t\tthis[path._id] = {\n\t\t\t\t\t\tcontainer: null,\n\t\t\t\t\t\twinding: path.isClockwise() ? 1 : -1,\n\t\t\t\t\t\tindex: i\n\t\t\t\t\t};\n\t\t\t\t}, {}),\n\t\t\t\tsorted = paths.slice().sort(function (a, b) {\n\t\t\t\t\treturn abs(b.getArea()) - abs(a.getArea());\n\t\t\t\t}),\n\t\t\t\tfirst = sorted[0];\n\t\t\tvar collisions = CollisionDetection.findItemBoundsCollisions(sorted,\n\t\t\t\t\tnull, Numerical.GEOMETRIC_EPSILON);\n\t\t\tif (clockwise == null)\n\t\t\t\tclockwise = first.isClockwise();\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tvar path1 = sorted[i],\n\t\t\t\t\tentry1 = lookup[path1._id],\n\t\t\t\t\tcontainerWinding = 0,\n\t\t\t\t\tindices = collisions[i];\n\t\t\t\tif (indices) {\n\t\t\t\t\tvar point = null;\n\t\t\t\t\tfor (var j = indices.length - 1; j >= 0; j--) {\n\t\t\t\t\t\tif (indices[j] < i) {\n\t\t\t\t\t\t\tpoint = point || path1.getInteriorPoint();\n\t\t\t\t\t\t\tvar path2 = sorted[indices[j]];\n\t\t\t\t\t\t\tif (path2.contains(point)) {\n\t\t\t\t\t\t\t\tvar entry2 = lookup[path2._id];\n\t\t\t\t\t\t\t\tcontainerWinding = entry2.winding;\n\t\t\t\t\t\t\t\tentry1.winding += containerWinding;\n\t\t\t\t\t\t\t\tentry1.container = entry2.exclude\n\t\t\t\t\t\t\t\t\t? entry2.container : path2;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isInside(entry1.winding) === isInside(containerWinding)) {\n\t\t\t\t\tentry1.exclude = true;\n\t\t\t\t\tpaths[entry1.index] = null;\n\t\t\t\t} else {\n\t\t\t\t\tvar container = entry1.container;\n\t\t\t\t\tpath1.setClockwise(\n\t\t\t\t\t\t\tcontainer ? !container.isClockwise() : clockwise);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn paths;\n\t}\n\n\tfunction divideLocations(locations, include, clearLater) {\n\t\tvar results = include && [],\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tclearHandles = false,\n\t\t\tclearCurves = clearLater || [],\n\t\t\tclearLookup = clearLater && {},\n\t\t\trenormalizeLocs,\n\t\t\tprevCurve,\n\t\t\tprevTime;\n\n\t\tfunction getId(curve) {\n\t\t\treturn curve._path._id + '.' + curve._segment1._index;\n\t\t}\n\n\t\tfor (var i = (clearLater && clearLater.length) - 1; i >= 0; i--) {\n\t\t\tvar curve = clearLater[i];\n\t\t\tif (curve._path)\n\t\t\t\tclearLookup[getId(curve)] = true;\n\t\t}\n\n\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\tvar loc = locations[i],\n\t\t\t\ttime = loc._time,\n\t\t\t\torigTime = time,\n\t\t\t\texclude = include && !include(loc),\n\t\t\t\tcurve = loc._curve,\n\t\t\t\tsegment;\n\t\t\tif (curve) {\n\t\t\t\tif (curve !== prevCurve) {\n\t\t\t\t\tclearHandles = !curve.hasHandles()\n\t\t\t\t\t\t\t|| clearLookup && clearLookup[getId(curve)];\n\t\t\t\t\trenormalizeLocs = [];\n\t\t\t\t\tprevTime = null;\n\t\t\t\t\tprevCurve = curve;\n\t\t\t\t} else if (prevTime >= tMin) {\n\t\t\t\t\ttime /= prevTime;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (exclude) {\n\t\t\t\tif (renormalizeLocs)\n\t\t\t\t\trenormalizeLocs.push(loc);\n\t\t\t\tcontinue;\n\t\t\t} else if (include) {\n\t\t\t\tresults.unshift(loc);\n\t\t\t}\n\t\t\tprevTime = origTime;\n\t\t\tif (time < tMin) {\n\t\t\t\tsegment = curve._segment1;\n\t\t\t} else if (time > tMax) {\n\t\t\t\tsegment = curve._segment2;\n\t\t\t} else {\n\t\t\t\tvar newCurve = curve.divideAtTime(time, true);\n\t\t\t\tif (clearHandles)\n\t\t\t\t\tclearCurves.push(curve, newCurve);\n\t\t\t\tsegment = newCurve._segment1;\n\t\t\t\tfor (var j = renormalizeLocs.length - 1; j >= 0; j--) {\n\t\t\t\t\tvar l = renormalizeLocs[j];\n\t\t\t\t\tl._time = (l._time - time) / (1 - time);\n\t\t\t\t}\n\t\t\t}\n\t\t\tloc._setSegment(segment);\n\t\t\tvar inter = segment._intersection,\n\t\t\t\tdest = loc._intersection;\n\t\t\tif (inter) {\n\t\t\t\tlinkIntersections(inter, dest);\n\t\t\t\tvar other = inter;\n\t\t\t\twhile (other) {\n\t\t\t\t\tlinkIntersections(other._intersection, inter);\n\t\t\t\t\tother = other._next;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsegment._intersection = dest;\n\t\t\t}\n\t\t}\n\t\tif (!clearLater)\n\t\t\tclearCurveHandles(clearCurves);\n\t\treturn results || locations;\n\t}\n\n\tfunction getWinding(point, curves, dir, closed, dontFlip) {\n\t\tvar curvesList = Array.isArray(curves)\n\t\t\t? curves\n\t\t\t: curves[dir ? 'hor' : 'ver'];\n\t\tvar ia = dir ? 1 : 0,\n\t\t\tio = ia ^ 1,\n\t\t\tpv = [point.x, point.y],\n\t\t\tpa = pv[ia],\n\t\t\tpo = pv[io],\n\t\t\twindingEpsilon = 1e-9,\n\t\t\tqualityEpsilon = 1e-6,\n\t\t\tpaL = pa - windingEpsilon,\n\t\t\tpaR = pa + windingEpsilon,\n\t\t\twindingL = 0,\n\t\t\twindingR = 0,\n\t\t\tpathWindingL = 0,\n\t\t\tpathWindingR = 0,\n\t\t\tonPath = false,\n\t\t\tonAnyPath = false,\n\t\t\tquality = 1,\n\t\t\troots = [],\n\t\t\tvPrev,\n\t\t\tvClose;\n\n\t\tfunction addWinding(v) {\n\t\t\tvar o0 = v[io + 0],\n\t\t\t\to3 = v[io + 6];\n\t\t\tif (po < min(o0, o3) || po > max(o0, o3)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar a0 = v[ia + 0],\n\t\t\t\ta1 = v[ia + 2],\n\t\t\t\ta2 = v[ia + 4],\n\t\t\t\ta3 = v[ia + 6];\n\t\t\tif (o0 === o3) {\n\t\t\t\tif (a0 < paR && a3 > paL || a3 < paR && a0 > paL) {\n\t\t\t\t\tonPath = true;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar t =   po === o0 ? 0\n\t\t\t\t\t: po === o3 ? 1\n\t\t\t\t\t: paL > max(a0, a1, a2, a3) || paR < min(a0, a1, a2, a3)\n\t\t\t\t\t? 1\n\t\t\t\t\t: Curve.solveCubic(v, io, po, roots, 0, 1) > 0\n\t\t\t\t\t\t? roots[0]\n\t\t\t\t\t\t: 1,\n\t\t\t\ta =   t === 0 ? a0\n\t\t\t\t\t: t === 1 ? a3\n\t\t\t\t\t: Curve.getPoint(v, t)[dir ? 'y' : 'x'],\n\t\t\t\twinding = o0 > o3 ? 1 : -1,\n\t\t\t\twindingPrev = vPrev[io] > vPrev[io + 6] ? 1 : -1,\n\t\t\t\ta3Prev = vPrev[ia + 6];\n\t\t\tif (po !== o0) {\n\t\t\t\tif (a < paL) {\n\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t} else if (a > paR) {\n\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t} else {\n\t\t\t\t\tonPath = true;\n\t\t\t\t}\n\t\t\t\tif (a > pa - qualityEpsilon && a < pa + qualityEpsilon)\n\t\t\t\t\tquality /= 2;\n\t\t\t} else {\n\t\t\t\tif (winding !== windingPrev) {\n\t\t\t\t\tif (a0 < paL) {\n\t\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t\t} else if (a0 > paR) {\n\t\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t\t}\n\t\t\t\t} else if (a0 != a3Prev) {\n\t\t\t\t\tif (a3Prev < paR && a > paR) {\n\t\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t} else if (a3Prev > paL && a < paL) {\n\t\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tquality /= 4;\n\t\t\t}\n\t\t\tvPrev = v;\n\t\t\treturn !dontFlip && a > paL && a < paR\n\t\t\t\t\t&& Curve.getTangent(v, t)[dir ? 'x' : 'y'] === 0\n\t\t\t\t\t&& getWinding(point, curves, !dir, closed, true);\n\t\t}\n\n\t\tfunction handleCurve(v) {\n\t\t\tvar o0 = v[io + 0],\n\t\t\t\to1 = v[io + 2],\n\t\t\t\to2 = v[io + 4],\n\t\t\t\to3 = v[io + 6];\n\t\t\tif (po <= max(o0, o1, o2, o3) && po >= min(o0, o1, o2, o3)) {\n\t\t\t\tvar a0 = v[ia + 0],\n\t\t\t\t\ta1 = v[ia + 2],\n\t\t\t\t\ta2 = v[ia + 4],\n\t\t\t\t\ta3 = v[ia + 6],\n\t\t\t\t\tmonoCurves = paL > max(a0, a1, a2, a3) ||\n\t\t\t\t\t\t\t\t paR < min(a0, a1, a2, a3)\n\t\t\t\t\t\t\t? [v] : Curve.getMonoCurves(v, dir),\n\t\t\t\t\tres;\n\t\t\t\tfor (var i = 0, l = monoCurves.length; i < l; i++) {\n\t\t\t\t\tif (res = addWinding(monoCurves[i]))\n\t\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = curvesList.length; i < l; i++) {\n\t\t\tvar curve = curvesList[i],\n\t\t\t\tpath = curve._path,\n\t\t\t\tv = curve.getValues(),\n\t\t\t\tres;\n\t\t\tif (!i || curvesList[i - 1]._path !== path) {\n\t\t\t\tvPrev = null;\n\t\t\t\tif (!path._closed) {\n\t\t\t\t\tvClose = Curve.getValues(\n\t\t\t\t\t\t\tpath.getLastCurve().getSegment2(),\n\t\t\t\t\t\t\tcurve.getSegment1(),\n\t\t\t\t\t\t\tnull, !closed);\n\t\t\t\t\tif (vClose[io] !== vClose[io + 6]) {\n\t\t\t\t\t\tvPrev = vClose;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!vPrev) {\n\t\t\t\t\tvPrev = v;\n\t\t\t\t\tvar prev = path.getLastCurve();\n\t\t\t\t\twhile (prev && prev !== curve) {\n\t\t\t\t\t\tvar v2 = prev.getValues();\n\t\t\t\t\t\tif (v2[io] !== v2[io + 6]) {\n\t\t\t\t\t\t\tvPrev = v2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprev = prev.getPrevious();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (res = handleCurve(v))\n\t\t\t\treturn res;\n\n\t\t\tif (i + 1 === l || curvesList[i + 1]._path !== path) {\n\t\t\t\tif (vClose && (res = handleCurve(vClose)))\n\t\t\t\t\treturn res;\n\t\t\t\tif (onPath && !pathWindingL && !pathWindingR) {\n\t\t\t\t\tpathWindingL = pathWindingR = path.isClockwise(closed) ^ dir\n\t\t\t\t\t\t\t? 1 : -1;\n\t\t\t\t}\n\t\t\t\twindingL += pathWindingL;\n\t\t\t\twindingR += pathWindingR;\n\t\t\t\tpathWindingL = pathWindingR = 0;\n\t\t\t\tif (onPath) {\n\t\t\t\t\tonAnyPath = true;\n\t\t\t\t\tonPath = false;\n\t\t\t\t}\n\t\t\t\tvClose = null;\n\t\t\t}\n\t\t}\n\t\twindingL = abs(windingL);\n\t\twindingR = abs(windingR);\n\t\treturn {\n\t\t\twinding: max(windingL, windingR),\n\t\t\twindingL: windingL,\n\t\t\twindingR: windingR,\n\t\t\tquality: quality,\n\t\t\tonPath: onAnyPath\n\t\t};\n\t}\n\n\tfunction propagateWinding(segment, path1, path2, curveCollisionsMap,\n\t\t\toperator) {\n\t\tvar chain = [],\n\t\t\tstart = segment,\n\t\t\ttotalLength = 0,\n\t\t\twinding;\n\t\tdo {\n\t\t\tvar curve = segment.getCurve();\n\t\t\tif (curve) {\n\t\t\t\tvar length = curve.getLength();\n\t\t\t\tchain.push({ segment: segment, curve: curve, length: length });\n\t\t\t\ttotalLength += length;\n\t\t\t}\n\t\t\tsegment = segment.getNext();\n\t\t} while (segment && !segment._intersection && segment !== start);\n\t\tvar offsets = [0.5, 0.25, 0.75],\n\t\t\twinding = { winding: 0, quality: -1 },\n\t\t\ttMin = 1e-3,\n\t\t\ttMax = 1 - tMin;\n\t\tfor (var i = 0; i < offsets.length && winding.quality < 0.5; i++) {\n\t\t\tvar length = totalLength * offsets[i];\n\t\t\tfor (var j = 0, l = chain.length; j < l; j++) {\n\t\t\t\tvar entry = chain[j],\n\t\t\t\t\tcurveLength = entry.length;\n\t\t\t\tif (length <= curveLength) {\n\t\t\t\t\tvar curve = entry.curve,\n\t\t\t\t\t\tpath = curve._path,\n\t\t\t\t\t\tparent = path._parent,\n\t\t\t\t\t\toperand = parent instanceof CompoundPath ? parent : path,\n\t\t\t\t\t\tt = Numerical.clamp(curve.getTimeAt(length), tMin, tMax),\n\t\t\t\t\t\tpt = curve.getPointAtTime(t),\n\t\t\t\t\t\tdir = abs(curve.getTangentAtTime(t).y) < Math.SQRT1_2;\n\t\t\t\t\tvar wind = null;\n\t\t\t\t\tif (operator.subtract && path2) {\n\t\t\t\t\t\tvar otherPath = operand === path1 ? path2 : path1,\n\t\t\t\t\t\t\tpathWinding = otherPath._getWinding(pt, dir, true);\n\t\t\t\t\t\tif (operand === path1 && pathWinding.winding ||\n\t\t\t\t\t\t\toperand === path2 && !pathWinding.winding) {\n\t\t\t\t\t\t\tif (pathWinding.quality < 1) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twind = { winding: 0, quality: 1 };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\twind =  wind || getWinding(\n\t\t\t\t\t\t\tpt, curveCollisionsMap[path._id][curve.getIndex()],\n\t\t\t\t\t\t\tdir, true);\n\t\t\t\t\tif (wind.quality > winding.quality)\n\t\t\t\t\t\twinding = wind;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlength -= curveLength;\n\t\t\t}\n\t\t}\n\t\tfor (var j = chain.length - 1; j >= 0; j--) {\n\t\t\tchain[j].segment._winding = winding;\n\t\t}\n\t}\n\n\tfunction tracePaths(segments, operator) {\n\t\tvar paths = [],\n\t\t\tstarts;\n\n\t\tfunction isValid(seg) {\n\t\t\tvar winding;\n\t\t\treturn !!(seg && !seg._visited && (!operator\n\t\t\t\t\t|| operator[(winding = seg._winding || {}).winding]\n\t\t\t\t\t\t&& !(operator.unite && winding.winding === 2\n\t\t\t\t\t\t\t&& winding.windingL && winding.windingR)));\n\t\t}\n\n\t\tfunction isStart(seg) {\n\t\t\tif (seg) {\n\t\t\t\tfor (var i = 0, l = starts.length; i < l; i++) {\n\t\t\t\t\tif (seg === starts[i])\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction visitPath(path) {\n\t\t\tvar segments = path._segments;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tsegments[i]._visited = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction getCrossingSegments(segment, collectStarts) {\n\t\t\tvar inter = segment._intersection,\n\t\t\t\tstart = inter,\n\t\t\t\tcrossings = [];\n\t\t\tif (collectStarts)\n\t\t\t\tstarts = [segment];\n\n\t\t\tfunction collect(inter, end) {\n\t\t\t\twhile (inter && inter !== end) {\n\t\t\t\t\tvar other = inter._segment,\n\t\t\t\t\t\tpath = other && other._path;\n\t\t\t\t\tif (path) {\n\t\t\t\t\t\tvar next = other.getNext() || path.getFirstSegment(),\n\t\t\t\t\t\t\tnextInter = next._intersection;\n\t\t\t\t\t\tif (other !== segment && (isStart(other)\n\t\t\t\t\t\t\t|| isStart(next)\n\t\t\t\t\t\t\t|| next && (isValid(other) && (isValid(next)\n\t\t\t\t\t\t\t\t|| nextInter && isValid(nextInter._segment))))\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcrossings.push(other);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (collectStarts)\n\t\t\t\t\t\t\tstarts.push(other);\n\t\t\t\t\t}\n\t\t\t\t\tinter = inter._next;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (inter) {\n\t\t\t\tcollect(inter);\n\t\t\t\twhile (inter && inter._previous)\n\t\t\t\t\tinter = inter._previous;\n\t\t\t\tcollect(inter, start);\n\t\t\t}\n\t\t\treturn crossings;\n\t\t}\n\n\t\tsegments.sort(function(seg1, seg2) {\n\t\t\tvar inter1 = seg1._intersection,\n\t\t\t\tinter2 = seg2._intersection,\n\t\t\t\tover1 = !!(inter1 && inter1._overlap),\n\t\t\t\tover2 = !!(inter2 && inter2._overlap),\n\t\t\t\tpath1 = seg1._path,\n\t\t\t\tpath2 = seg2._path;\n\t\t\treturn over1 ^ over2\n\t\t\t\t\t? over1 ? 1 : -1\n\t\t\t\t\t: !inter1 ^ !inter2\n\t\t\t\t\t\t? inter1 ? 1 : -1\n\t\t\t\t\t\t: path1 !== path2\n\t\t\t\t\t\t\t? path1._id - path2._id\n\t\t\t\t\t\t\t: seg1._index - seg2._index;\n\t\t});\n\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar seg = segments[i],\n\t\t\t\tvalid = isValid(seg),\n\t\t\t\tpath = null,\n\t\t\t\tfinished = false,\n\t\t\t\tclosed = true,\n\t\t\t\tbranches = [],\n\t\t\t\tbranch,\n\t\t\t\tvisited,\n\t\t\t\thandleIn;\n\t\t\tif (valid && seg._path._overlapsOnly) {\n\t\t\t\tvar path1 = seg._path,\n\t\t\t\t\tpath2 = seg._intersection._segment._path;\n\t\t\t\tif (path1.compare(path2)) {\n\t\t\t\t\tif (path1.getArea())\n\t\t\t\t\t\tpaths.push(path1.clone(false));\n\t\t\t\t\tvisitPath(path1);\n\t\t\t\t\tvisitPath(path2);\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (valid) {\n\t\t\t\tvar first = !path,\n\t\t\t\t\tcrossings = getCrossingSegments(seg, first),\n\t\t\t\t\tother = crossings.shift(),\n\t\t\t\t\tfinished = !first && (isStart(seg) || isStart(other)),\n\t\t\t\t\tcross = !finished && other;\n\t\t\t\tif (first) {\n\t\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\t\tbranch = null;\n\t\t\t\t}\n\t\t\t\tif (finished) {\n\t\t\t\t\tif (seg.isFirst() || seg.isLast())\n\t\t\t\t\t\tclosed = seg._path._closed;\n\t\t\t\t\tseg._visited = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (cross && branch) {\n\t\t\t\t\tbranches.push(branch);\n\t\t\t\t\tbranch = null;\n\t\t\t\t}\n\t\t\t\tif (!branch) {\n\t\t\t\t\tif (cross)\n\t\t\t\t\t\tcrossings.push(seg);\n\t\t\t\t\tbranch = {\n\t\t\t\t\t\tstart: path._segments.length,\n\t\t\t\t\t\tcrossings: crossings,\n\t\t\t\t\t\tvisited: visited = [],\n\t\t\t\t\t\thandleIn: handleIn\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (cross)\n\t\t\t\t\tseg = other;\n\t\t\t\tif (!isValid(seg)) {\n\t\t\t\t\tpath.removeSegments(branch.start);\n\t\t\t\t\tfor (var j = 0, k = visited.length; j < k; j++) {\n\t\t\t\t\t\tvisited[j]._visited = false;\n\t\t\t\t\t}\n\t\t\t\t\tvisited.length = 0;\n\t\t\t\t\tdo {\n\t\t\t\t\t\tseg = branch && branch.crossings.shift();\n\t\t\t\t\t\tif (!seg || !seg._path) {\n\t\t\t\t\t\t\tseg = null;\n\t\t\t\t\t\t\tbranch = branches.pop();\n\t\t\t\t\t\t\tif (branch) {\n\t\t\t\t\t\t\t\tvisited = branch.visited;\n\t\t\t\t\t\t\t\thandleIn = branch.handleIn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} while (branch && !isValid(seg));\n\t\t\t\t\tif (!seg)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvar next = seg.getNext();\n\t\t\t\tpath.add(new Segment(seg._point, handleIn,\n\t\t\t\t\t\tnext && seg._handleOut));\n\t\t\t\tseg._visited = true;\n\t\t\t\tvisited.push(seg);\n\t\t\t\tseg = next || seg._path.getFirstSegment();\n\t\t\t\thandleIn = next && next._handleIn;\n\t\t\t}\n\t\t\tif (finished) {\n\t\t\t\tif (closed) {\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(handleIn);\n\t\t\t\t\tpath.setClosed(closed);\n\t\t\t\t}\n\t\t\t\tif (path.getArea() !== 0) {\n\t\t\t\t\tpaths.push(path);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn paths;\n\t}\n\n\treturn {\n\t\t_getWinding: function(point, dir, closed) {\n\t\t\treturn getWinding(point, this.getCurves(), dir, closed);\n\t\t},\n\n\t\tunite: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'unite', options);\n\t\t},\n\n\t\tintersect: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'intersect', options);\n\t\t},\n\n\t\tsubtract: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'subtract', options);\n\t\t},\n\n\t\texclude: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'exclude', options);\n\t\t},\n\n\t\tdivide: function(path, options) {\n\t\t\treturn options && (options.trace == false || options.stroke)\n\t\t\t\t\t? splitBoolean(this, path, 'divide')\n\t\t\t\t\t: createResult([\n\t\t\t\t\t\tthis.subtract(path, options),\n\t\t\t\t\t\tthis.intersect(path, options)\n\t\t\t\t\t], true, this, path, options);\n\t\t},\n\n\t\tresolveCrossings: function() {\n\t\t\tvar children = this._children,\n\t\t\t\tpaths = children || [this];\n\n\t\t\tfunction hasOverlap(seg, path) {\n\t\t\t\tvar inter = seg && seg._intersection;\n\t\t\t\treturn inter && inter._overlap && inter._path === path;\n\t\t\t}\n\n\t\t\tvar hasOverlaps = false,\n\t\t\t\thasCrossings = false,\n\t\t\t\tintersections = this.getIntersections(null, function(inter) {\n\t\t\t\t\treturn inter.hasOverlap() && (hasOverlaps = true) ||\n\t\t\t\t\t\t\tinter.isCrossing() && (hasCrossings = true);\n\t\t\t\t}),\n\t\t\t\tclearCurves = hasOverlaps && hasCrossings && [];\n\t\t\tintersections = CurveLocation.expand(intersections);\n\t\t\tif (hasOverlaps) {\n\t\t\t\tvar overlaps = divideLocations(intersections, function(inter) {\n\t\t\t\t\treturn inter.hasOverlap();\n\t\t\t\t}, clearCurves);\n\t\t\t\tfor (var i = overlaps.length - 1; i >= 0; i--) {\n\t\t\t\t\tvar overlap = overlaps[i],\n\t\t\t\t\t\tpath = overlap._path,\n\t\t\t\t\t\tseg = overlap._segment,\n\t\t\t\t\t\tprev = seg.getPrevious(),\n\t\t\t\t\t\tnext = seg.getNext();\n\t\t\t\t\tif (hasOverlap(prev, path) && hasOverlap(next, path)) {\n\t\t\t\t\t\tseg.remove();\n\t\t\t\t\t\tprev._handleOut._set(0, 0);\n\t\t\t\t\t\tnext._handleIn._set(0, 0);\n\t\t\t\t\t\tif (prev !== seg && !prev.getCurve().hasLength()) {\n\t\t\t\t\t\t\tnext._handleIn.set(prev._handleIn);\n\t\t\t\t\t\t\tprev.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hasCrossings) {\n\t\t\t\tdivideLocations(intersections, hasOverlaps && function(inter) {\n\t\t\t\t\tvar curve1 = inter.getCurve(),\n\t\t\t\t\t\tseg1 = inter.getSegment(),\n\t\t\t\t\t\tother = inter._intersection,\n\t\t\t\t\t\tcurve2 = other._curve,\n\t\t\t\t\t\tseg2 = other._segment;\n\t\t\t\t\tif (curve1 && curve2 && curve1._path && curve2._path)\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tif (seg1)\n\t\t\t\t\t\tseg1._intersection = null;\n\t\t\t\t\tif (seg2)\n\t\t\t\t\t\tseg2._intersection = null;\n\t\t\t\t}, clearCurves);\n\t\t\t\tif (clearCurves)\n\t\t\t\t\tclearCurveHandles(clearCurves);\n\t\t\t\tpaths = tracePaths(Base.each(paths, function(path) {\n\t\t\t\t\tBase.push(this, path._segments);\n\t\t\t\t}, []));\n\t\t\t}\n\t\t\tvar length = paths.length,\n\t\t\t\titem;\n\t\t\tif (length > 1 && children) {\n\t\t\t\tif (paths !== children)\n\t\t\t\t\tthis.setChildren(paths);\n\t\t\t\titem = this;\n\t\t\t} else if (length === 1 && !children) {\n\t\t\t\tif (paths[0] !== this)\n\t\t\t\t\tthis.setSegments(paths[0].removeSegments());\n\t\t\t\titem = this;\n\t\t\t}\n\t\t\tif (!item) {\n\t\t\t\titem = new CompoundPath(Item.NO_INSERT);\n\t\t\t\titem.addChildren(paths);\n\t\t\t\titem = item.reduce();\n\t\t\t\titem.copyAttributes(this);\n\t\t\t\tthis.replaceWith(item);\n\t\t\t}\n\t\t\treturn item;\n\t\t},\n\n\t\treorient: function(nonZero, clockwise) {\n\t\t\tvar children = this._children;\n\t\t\tif (children && children.length) {\n\t\t\t\tthis.setChildren(reorientPaths(this.removeChildren(),\n\t\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\t\treturn !!(nonZero ? w : w & 1);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclockwise));\n\t\t\t} else if (clockwise !== undefined) {\n\t\t\t\tthis.setClockwise(clockwise);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\tgetInteriorPoint: function() {\n\t\t\tvar bounds = this.getBounds(),\n\t\t\t\tpoint = bounds.getCenter(true);\n\t\t\tif (!this.contains(point)) {\n\t\t\t\tvar curves = this.getCurves(),\n\t\t\t\t\ty = point.y,\n\t\t\t\t\tintercepts = [],\n\t\t\t\t\troots = [];\n\t\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\t\tvar v = curves[i].getValues(),\n\t\t\t\t\t\to0 = v[1],\n\t\t\t\t\t\to1 = v[3],\n\t\t\t\t\t\to2 = v[5],\n\t\t\t\t\t\to3 = v[7];\n\t\t\t\t\tif (y >= min(o0, o1, o2, o3) && y <= max(o0, o1, o2, o3)) {\n\t\t\t\t\t\tvar monoCurves = Curve.getMonoCurves(v);\n\t\t\t\t\t\tfor (var j = 0, m = monoCurves.length; j < m; j++) {\n\t\t\t\t\t\t\tvar mv = monoCurves[j],\n\t\t\t\t\t\t\t\tmo0 = mv[1],\n\t\t\t\t\t\t\t\tmo3 = mv[7];\n\t\t\t\t\t\t\tif ((mo0 !== mo3) &&\n\t\t\t\t\t\t\t\t(y >= mo0 && y <= mo3 || y >= mo3 && y <= mo0)){\n\t\t\t\t\t\t\t\tvar x = y === mo0 ? mv[0]\n\t\t\t\t\t\t\t\t\t: y === mo3 ? mv[6]\n\t\t\t\t\t\t\t\t\t: Curve.solveCubic(mv, 1, y, roots, 0, 1)\n\t\t\t\t\t\t\t\t\t\t=== 1\n\t\t\t\t\t\t\t\t\t\t? Curve.getPoint(mv, roots[0]).x\n\t\t\t\t\t\t\t\t\t\t: (mv[0] + mv[6]) / 2;\n\t\t\t\t\t\t\t\tintercepts.push(x);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (intercepts.length > 1) {\n\t\t\t\t\tintercepts.sort(function(a, b) { return a - b; });\n\t\t\t\t\tpoint.x = (intercepts[0] + intercepts[1]) / 2;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn point;\n\t\t}\n\t};\n});\n\nvar PathFlattener = Base.extend({\n\t_class: 'PathFlattener',\n\n\tinitialize: function(path, flatness, maxRecursion, ignoreStraight, matrix) {\n\t\tvar curves = [],\n\t\t\tparts = [],\n\t\t\tlength = 0,\n\t\t\tminSpan = 1 / (maxRecursion || 32),\n\t\t\tsegments = path._segments,\n\t\t\tsegment1 = segments[0],\n\t\t\tsegment2;\n\n\t\tfunction addCurve(segment1, segment2) {\n\t\t\tvar curve = Curve.getValues(segment1, segment2, matrix);\n\t\t\tcurves.push(curve);\n\t\t\tcomputeParts(curve, segment1._index, 0, 1);\n\t\t}\n\n\t\tfunction computeParts(curve, index, t1, t2) {\n\t\t\tif ((t2 - t1) > minSpan\n\t\t\t\t\t&& !(ignoreStraight && Curve.isStraight(curve))\n\t\t\t\t\t&& !Curve.isFlatEnough(curve, flatness || 0.25)) {\n\t\t\t\tvar halves = Curve.subdivide(curve, 0.5),\n\t\t\t\t\ttMid = (t1 + t2) / 2;\n\t\t\t\tcomputeParts(halves[0], index, t1, tMid);\n\t\t\t\tcomputeParts(halves[1], index, tMid, t2);\n\t\t\t} else {\n\t\t\t\tvar dx = curve[6] - curve[0],\n\t\t\t\t\tdy = curve[7] - curve[1],\n\t\t\t\t\tdist = Math.sqrt(dx * dx + dy * dy);\n\t\t\t\tif (dist > 0) {\n\t\t\t\t\tlength += dist;\n\t\t\t\t\tparts.push({\n\t\t\t\t\t\toffset: length,\n\t\t\t\t\t\tcurve: curve,\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\ttime: t2,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 1, l = segments.length; i < l; i++) {\n\t\t\tsegment2 = segments[i];\n\t\t\taddCurve(segment1, segment2);\n\t\t\tsegment1 = segment2;\n\t\t}\n\t\tif (path._closed)\n\t\t\taddCurve(segment2 || segment1, segments[0]);\n\t\tthis.curves = curves;\n\t\tthis.parts = parts;\n\t\tthis.length = length;\n\t\tthis.index = 0;\n\t},\n\n\t_get: function(offset) {\n\t\tvar parts = this.parts,\n\t\t\tlength = parts.length,\n\t\t\tstart,\n\t\t\ti, j = this.index;\n\t\tfor (;;) {\n\t\t\ti = j;\n\t\t\tif (!j || parts[--j].offset < offset)\n\t\t\t\tbreak;\n\t\t}\n\t\tfor (; i < length; i++) {\n\t\t\tvar part = parts[i];\n\t\t\tif (part.offset >= offset) {\n\t\t\t\tthis.index = i;\n\t\t\t\tvar prev = parts[i - 1],\n\t\t\t\t\tprevTime = prev && prev.index === part.index ? prev.time : 0,\n\t\t\t\t\tprevOffset = prev ? prev.offset : 0;\n\t\t\t\treturn {\n\t\t\t\t\tindex: part.index,\n\t\t\t\t\ttime: prevTime + (part.time - prevTime)\n\t\t\t\t\t\t* (offset - prevOffset) / (part.offset - prevOffset)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tindex: parts[length - 1].index,\n\t\t\ttime: 1\n\t\t};\n\t},\n\n\tdrawPart: function(ctx, from, to) {\n\t\tvar start = this._get(from),\n\t\t\tend = this._get(to);\n\t\tfor (var i = start.index, l = end.index; i <= l; i++) {\n\t\t\tvar curve = Curve.getPart(this.curves[i],\n\t\t\t\t\ti === start.index ? start.time : 0,\n\t\t\t\t\ti === end.index ? end.time : 1);\n\t\t\tif (i === start.index)\n\t\t\t\tctx.moveTo(curve[0], curve[1]);\n\t\t\tctx.bezierCurveTo.apply(ctx, curve.slice(2));\n\t\t}\n\t}\n}, Base.each(Curve._evaluateMethods,\n\tfunction(name) {\n\t\tthis[name + 'At'] = function(offset) {\n\t\t\tvar param = this._get(offset);\n\t\t\treturn Curve[name](this.curves[param.index], param.time);\n\t\t};\n\t}, {})\n);\n\nvar PathFitter = Base.extend({\n\tinitialize: function(path) {\n\t\tvar points = this.points = [],\n\t\t\tsegments = path._segments,\n\t\t\tclosed = path._closed;\n\t\tfor (var i = 0, prev, l = segments.length; i < l; i++) {\n\t\t\tvar point = segments[i].point;\n\t\t\tif (!prev || !prev.equals(point)) {\n\t\t\t\tpoints.push(prev = point.clone());\n\t\t\t}\n\t\t}\n\t\tif (closed) {\n\t\t\tpoints.unshift(points[points.length - 1]);\n\t\t\tpoints.push(points[1]);\n\t\t}\n\t\tthis.closed = closed;\n\t},\n\n\tfit: function(error) {\n\t\tvar points = this.points,\n\t\t\tlength = points.length,\n\t\t\tsegments = null;\n\t\tif (length > 0) {\n\t\t\tsegments = [new Segment(points[0])];\n\t\t\tif (length > 1) {\n\t\t\t\tthis.fitCubic(segments, error, 0, length - 1,\n\t\t\t\t\t\tpoints[1].subtract(points[0]),\n\t\t\t\t\t\tpoints[length - 2].subtract(points[length - 1]));\n\t\t\t\tif (this.closed) {\n\t\t\t\t\tsegments.shift();\n\t\t\t\t\tsegments.pop();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn segments;\n\t},\n\n\tfitCubic: function(segments, error, first, last, tan1, tan2) {\n\t\tvar points = this.points;\n\t\tif (last - first === 1) {\n\t\t\tvar pt1 = points[first],\n\t\t\t\tpt2 = points[last],\n\t\t\t\tdist = pt1.getDistance(pt2) / 3;\n\t\t\tthis.addCurve(segments, [pt1, pt1.add(tan1.normalize(dist)),\n\t\t\t\t\tpt2.add(tan2.normalize(dist)), pt2]);\n\t\t\treturn;\n\t\t}\n\t\tvar uPrime = this.chordLengthParameterize(first, last),\n\t\t\tmaxError = Math.max(error, error * error),\n\t\t\tsplit,\n\t\t\tparametersInOrder = true;\n\t\tfor (var i = 0; i <= 4; i++) {\n\t\t\tvar curve = this.generateBezier(first, last, uPrime, tan1, tan2);\n\t\t\tvar max = this.findMaxError(first, last, curve, uPrime);\n\t\t\tif (max.error < error && parametersInOrder) {\n\t\t\t\tthis.addCurve(segments, curve);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsplit = max.index;\n\t\t\tif (max.error >= maxError)\n\t\t\t\tbreak;\n\t\t\tparametersInOrder = this.reparameterize(first, last, uPrime, curve);\n\t\t\tmaxError = max.error;\n\t\t}\n\t\tvar tanCenter = points[split - 1].subtract(points[split + 1]);\n\t\tthis.fitCubic(segments, error, first, split, tan1, tanCenter);\n\t\tthis.fitCubic(segments, error, split, last, tanCenter.negate(), tan2);\n\t},\n\n\taddCurve: function(segments, curve) {\n\t\tvar prev = segments[segments.length - 1];\n\t\tprev.setHandleOut(curve[1].subtract(curve[0]));\n\t\tsegments.push(new Segment(curve[3], curve[2].subtract(curve[3])));\n\t},\n\n\tgenerateBezier: function(first, last, uPrime, tan1, tan2) {\n\t\tvar epsilon = 1e-12,\n\t\t\tabs = Math.abs,\n\t\t\tpoints = this.points,\n\t\t\tpt1 = points[first],\n\t\t\tpt2 = points[last],\n\t\t\tC = [[0, 0], [0, 0]],\n\t\t\tX = [0, 0];\n\n\t\tfor (var i = 0, l = last - first + 1; i < l; i++) {\n\t\t\tvar u = uPrime[i],\n\t\t\t\tt = 1 - u,\n\t\t\t\tb = 3 * u * t,\n\t\t\t\tb0 = t * t * t,\n\t\t\t\tb1 = b * t,\n\t\t\t\tb2 = b * u,\n\t\t\t\tb3 = u * u * u,\n\t\t\t\ta1 = tan1.normalize(b1),\n\t\t\t\ta2 = tan2.normalize(b2),\n\t\t\t\ttmp = points[first + i]\n\t\t\t\t\t.subtract(pt1.multiply(b0 + b1))\n\t\t\t\t\t.subtract(pt2.multiply(b2 + b3));\n\t\t\tC[0][0] += a1.dot(a1);\n\t\t\tC[0][1] += a1.dot(a2);\n\t\t\tC[1][0] = C[0][1];\n\t\t\tC[1][1] += a2.dot(a2);\n\t\t\tX[0] += a1.dot(tmp);\n\t\t\tX[1] += a2.dot(tmp);\n\t\t}\n\n\t\tvar detC0C1 = C[0][0] * C[1][1] - C[1][0] * C[0][1],\n\t\t\talpha1,\n\t\t\talpha2;\n\t\tif (abs(detC0C1) > epsilon) {\n\t\t\tvar detC0X = C[0][0] * X[1]    - C[1][0] * X[0],\n\t\t\t\tdetXC1 = X[0]    * C[1][1] - X[1]    * C[0][1];\n\t\t\talpha1 = detXC1 / detC0C1;\n\t\t\talpha2 = detC0X / detC0C1;\n\t\t} else {\n\t\t\tvar c0 = C[0][0] + C[0][1],\n\t\t\t\tc1 = C[1][0] + C[1][1];\n\t\t\talpha1 = alpha2 = abs(c0) > epsilon ? X[0] / c0\n\t\t\t\t\t\t\t: abs(c1) > epsilon ? X[1] / c1\n\t\t\t\t\t\t\t: 0;\n\t\t}\n\n\t\tvar segLength = pt2.getDistance(pt1),\n\t\t\teps = epsilon * segLength,\n\t\t\thandle1,\n\t\t\thandle2;\n\t\tif (alpha1 < eps || alpha2 < eps) {\n\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t} else {\n\t\t\tvar line = pt2.subtract(pt1);\n\t\t\thandle1 = tan1.normalize(alpha1);\n\t\t\thandle2 = tan2.normalize(alpha2);\n\t\t\tif (handle1.dot(line) - handle2.dot(line) > segLength * segLength) {\n\t\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t\t\thandle1 = handle2 = null;\n\t\t\t}\n\t\t}\n\n\t\treturn [pt1,\n\t\t\t\tpt1.add(handle1 || tan1.normalize(alpha1)),\n\t\t\t\tpt2.add(handle2 || tan2.normalize(alpha2)),\n\t\t\t\tpt2];\n\t},\n\n\treparameterize: function(first, last, u, curve) {\n\t\tfor (var i = first; i <= last; i++) {\n\t\t\tu[i - first] = this.findRoot(curve, this.points[i], u[i - first]);\n\t\t}\n\t\tfor (var i = 1, l = u.length; i < l; i++) {\n\t\t\tif (u[i] <= u[i - 1])\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tfindRoot: function(curve, point, u) {\n\t\tvar curve1 = [],\n\t\t\tcurve2 = [];\n\t\tfor (var i = 0; i <= 2; i++) {\n\t\t\tcurve1[i] = curve[i + 1].subtract(curve[i]).multiply(3);\n\t\t}\n\t\tfor (var i = 0; i <= 1; i++) {\n\t\t\tcurve2[i] = curve1[i + 1].subtract(curve1[i]).multiply(2);\n\t\t}\n\t\tvar pt = this.evaluate(3, curve, u),\n\t\t\tpt1 = this.evaluate(2, curve1, u),\n\t\t\tpt2 = this.evaluate(1, curve2, u),\n\t\t\tdiff = pt.subtract(point),\n\t\t\tdf = pt1.dot(pt1) + diff.dot(pt2);\n\t\treturn Numerical.isMachineZero(df) ? u : u - diff.dot(pt1) / df;\n\t},\n\n\tevaluate: function(degree, curve, t) {\n\t\tvar tmp = curve.slice();\n\t\tfor (var i = 1; i <= degree; i++) {\n\t\t\tfor (var j = 0; j <= degree - i; j++) {\n\t\t\t\ttmp[j] = tmp[j].multiply(1 - t).add(tmp[j + 1].multiply(t));\n\t\t\t}\n\t\t}\n\t\treturn tmp[0];\n\t},\n\n\tchordLengthParameterize: function(first, last) {\n\t\tvar u = [0];\n\t\tfor (var i = first + 1; i <= last; i++) {\n\t\t\tu[i - first] = u[i - first - 1]\n\t\t\t\t\t+ this.points[i].getDistance(this.points[i - 1]);\n\t\t}\n\t\tfor (var i = 1, m = last - first; i <= m; i++) {\n\t\t\tu[i] /= u[m];\n\t\t}\n\t\treturn u;\n\t},\n\n\tfindMaxError: function(first, last, curve, u) {\n\t\tvar index = Math.floor((last - first + 1) / 2),\n\t\t\tmaxDist = 0;\n\t\tfor (var i = first + 1; i < last; i++) {\n\t\t\tvar P = this.evaluate(3, curve, u[i - first]);\n\t\t\tvar v = P.subtract(this.points[i]);\n\t\t\tvar dist = v.x * v.x + v.y * v.y;\n\t\t\tif (dist >= maxDist) {\n\t\t\t\tmaxDist = dist;\n\t\t\t\tindex = i;\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\terror: maxDist,\n\t\t\tindex: index\n\t\t};\n\t}\n});\n\nvar TextItem = Item.extend({\n\t_class: 'TextItem',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_serializeFields: {\n\t\tcontent: null\n\t},\n\t_boundsOptions: { stroke: false, handle: false },\n\n\tinitialize: function TextItem(arg) {\n\t\tthis._content = '';\n\t\tthis._lines = [];\n\t\tvar hasProps = arg && Base.isPlainObject(arg)\n\t\t\t\t&& arg.x === undefined && arg.y === undefined;\n\t\tthis._initialize(hasProps && arg, !hasProps && Point.read(arguments));\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._content === item._content;\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setContent(source._content);\n\t},\n\n\tgetContent: function() {\n\t\treturn this._content;\n\t},\n\n\tsetContent: function(content) {\n\t\tthis._content = '' + content;\n\t\tthis._lines = this._content.split(/\\r\\n|\\n|\\r/mg);\n\t\tthis._changed(521);\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._content;\n\t},\n\n\tgetCharacterStyle: '#getStyle',\n\tsetCharacterStyle: '#setStyle',\n\n\tgetParagraphStyle: '#getStyle',\n\tsetParagraphStyle: '#setStyle'\n});\n\nvar PointText = TextItem.extend({\n\t_class: 'PointText',\n\n\tinitialize: function PointText() {\n\t\tTextItem.apply(this, arguments);\n\t},\n\n\tgetPoint: function() {\n\t\tvar point = this._matrix.getTranslation();\n\t\treturn new LinkedPoint(point.x, point.y, this, 'setPoint');\n\t},\n\n\tsetPoint: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.translate(point.subtract(this._matrix.getTranslation()));\n\t},\n\n\t_draw: function(ctx, param, viewMatrix) {\n\t\tif (!this._content)\n\t\t\treturn;\n\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\tvar lines = this._lines,\n\t\t\tstyle = this._style,\n\t\t\thasFill = style.hasFill(),\n\t\t\thasStroke = style.hasStroke(),\n\t\t\tleading = style.getLeading(),\n\t\t\tshadowColor = ctx.shadowColor;\n\t\tctx.font = style.getFontStyle();\n\t\tctx.textAlign = style.getJustification();\n\t\tfor (var i = 0, l = lines.length; i < l; i++) {\n\t\t\tctx.shadowColor = shadowColor;\n\t\t\tvar line = lines[i];\n\t\t\tif (hasFill) {\n\t\t\t\tctx.fillText(line, 0, 0);\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (hasStroke)\n\t\t\t\tctx.strokeText(line, 0, 0);\n\t\t\tctx.translate(0, leading);\n\t\t}\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar style = this._style,\n\t\t\tlines = this._lines,\n\t\t\tnumLines = lines.length,\n\t\t\tjustification = style.getJustification(),\n\t\t\tleading = style.getLeading(),\n\t\t\twidth = this.getView().getTextWidth(style.getFontStyle(), lines),\n\t\t\tx = 0;\n\t\tif (justification !== 'left')\n\t\t\tx -= width / (justification === 'center' ? 2: 1);\n\t\tvar rect = new Rectangle(x,\n\t\t\t\t\tnumLines ? - 0.75 * leading : 0,\n\t\t\t\t\twidth, numLines * leading);\n\t\treturn matrix ? matrix._transformBounds(rect, rect) : rect;\n\t}\n});\n\nvar Color = Base.extend(new function() {\n\tvar types = {\n\t\tgray: ['gray'],\n\t\trgb: ['red', 'green', 'blue'],\n\t\thsb: ['hue', 'saturation', 'brightness'],\n\t\thsl: ['hue', 'saturation', 'lightness'],\n\t\tgradient: ['gradient', 'origin', 'destination', 'highlight']\n\t};\n\n\tvar componentParsers = {},\n\t\tnamedColors = {\n\t\t\ttransparent: [0, 0, 0, 0]\n\t\t},\n\t\tcolorCtx;\n\n\tfunction fromCSS(string) {\n\t\tvar match = string.match(\n\t\t\t\t/^#([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})?$/i\n\t\t\t) || string.match(\n\t\t\t\t/^#([\\da-f])([\\da-f])([\\da-f])([\\da-f])?$/i\n\t\t\t),\n\t\t\ttype = 'rgb',\n\t\t\tcomponents;\n\t\tif (match) {\n\t\t\tvar amount = match[4] ? 4 : 3;\n\t\t\tcomponents = new Array(amount);\n\t\t\tfor (var i = 0; i < amount; i++) {\n\t\t\t\tvar value = match[i + 1];\n\t\t\t\tcomponents[i] = parseInt(value.length == 1\n\t\t\t\t\t\t? value + value : value, 16) / 255;\n\t\t\t}\n\t\t} else if (match = string.match(/^(rgb|hsl)a?\\((.*)\\)$/)) {\n\t\t\ttype = match[1];\n\t\t\tcomponents = match[2].trim().split(/[,\\s]+/g);\n\t\t\tvar isHSL = type === 'hsl';\n\t\t\tfor (var i = 0, l = Math.min(components.length, 4); i < l; i++) {\n\t\t\t\tvar component = components[i];\n\t\t\t\tvar value = parseFloat(component);\n\t\t\t\tif (isHSL) {\n\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\tvar unit = component.match(/([a-z]*)$/)[1];\n\t\t\t\t\t\tvalue *= ({\n\t\t\t\t\t\t\tturn: 360,\n\t\t\t\t\t\t\trad: 180 / Math.PI,\n\t\t\t\t\t\t\tgrad: 0.9\n\t\t\t\t\t\t}[unit] || 1);\n\t\t\t\t\t} else if (i < 3) {\n\t\t\t\t\t\tvalue /= 100;\n\t\t\t\t\t}\n\t\t\t\t} else if (i < 3) {\n\t\t\t\t\tvalue /= /%$/.test(component) ? 100 : 255;\n\t\t\t\t}\n\t\t\t\tcomponents[i] = value;\n\t\t\t}\n\t\t} else {\n\t\t\tvar color = namedColors[string];\n\t\t\tif (!color) {\n\t\t\t\tif (window) {\n\t\t\t\t\tif (!colorCtx) {\n\t\t\t\t\t\tcolorCtx = CanvasProvider.getContext(1, 1);\n\t\t\t\t\t\tcolorCtx.globalCompositeOperation = 'copy';\n\t\t\t\t\t}\n\t\t\t\t\tcolorCtx.fillStyle = 'rgba(0,0,0,0)';\n\t\t\t\t\tcolorCtx.fillStyle = string;\n\t\t\t\t\tcolorCtx.fillRect(0, 0, 1, 1);\n\t\t\t\t\tvar data = colorCtx.getImageData(0, 0, 1, 1).data;\n\t\t\t\t\tcolor = namedColors[string] = [\n\t\t\t\t\t\tdata[0] / 255,\n\t\t\t\t\t\tdata[1] / 255,\n\t\t\t\t\t\tdata[2] / 255\n\t\t\t\t\t];\n\t\t\t\t} else {\n\t\t\t\t\tcolor = [0, 0, 0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcomponents = color.slice();\n\t\t}\n\t\treturn [type, components];\n\t}\n\n\tvar hsbIndices = [\n\t\t[0, 3, 1],\n\t\t[2, 0, 1],\n\t\t[1, 0, 3],\n\t\t[1, 2, 0],\n\t\t[3, 1, 0],\n\t\t[0, 1, 2]\n\t];\n\n\tvar converters = {\n\t\t'rgb-hsb': function(r, g, b) {\n\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\tdelta = max - min,\n\t\t\t\th = delta === 0 ? 0\n\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t:            (r - g) / delta + 4) * 60;\n\t\t\treturn [h, max === 0 ? 0 : delta / max, max];\n\t\t},\n\n\t\t'hsb-rgb': function(h, s, b) {\n\t\t\th = (((h / 60) % 6) + 6) % 6;\n\t\t\tvar i = Math.floor(h),\n\t\t\t\tf = h - i,\n\t\t\t\ti = hsbIndices[i],\n\t\t\t\tv = [\n\t\t\t\t\tb,\n\t\t\t\t\tb * (1 - s),\n\t\t\t\t\tb * (1 - s * f),\n\t\t\t\t\tb * (1 - s * (1 - f))\n\t\t\t\t];\n\t\t\treturn [v[i[0]], v[i[1]], v[i[2]]];\n\t\t},\n\n\t\t'rgb-hsl': function(r, g, b) {\n\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\tdelta = max - min,\n\t\t\t\tachromatic = delta === 0,\n\t\t\t\th = achromatic ? 0\n\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t:            (r - g) / delta + 4) * 60,\n\t\t\t\tl = (max + min) / 2,\n\t\t\t\ts = achromatic ? 0 : l < 0.5\n\t\t\t\t\t\t? delta / (max + min)\n\t\t\t\t\t\t: delta / (2 - max - min);\n\t\t\treturn [h, s, l];\n\t\t},\n\n\t\t'hsl-rgb': function(h, s, l) {\n\t\t\th = (((h / 360) % 1) + 1) % 1;\n\t\t\tif (s === 0)\n\t\t\t\treturn [l, l, l];\n\t\t\tvar t3s = [ h + 1 / 3, h, h - 1 / 3 ],\n\t\t\t\tt2 = l < 0.5 ? l * (1 + s) : l + s - l * s,\n\t\t\t\tt1 = 2 * l - t2,\n\t\t\t\tc = [];\n\t\t\tfor (var i = 0; i < 3; i++) {\n\t\t\t\tvar t3 = t3s[i];\n\t\t\t\tif (t3 < 0) t3 += 1;\n\t\t\t\tif (t3 > 1) t3 -= 1;\n\t\t\t\tc[i] = 6 * t3 < 1\n\t\t\t\t\t? t1 + (t2 - t1) * 6 * t3\n\t\t\t\t\t: 2 * t3 < 1\n\t\t\t\t\t\t? t2\n\t\t\t\t\t\t: 3 * t3 < 2\n\t\t\t\t\t\t\t? t1 + (t2 - t1) * ((2 / 3) - t3) * 6\n\t\t\t\t\t\t\t: t1;\n\t\t\t}\n\t\t\treturn c;\n\t\t},\n\n\t\t'rgb-gray': function(r, g, b) {\n\t\t\treturn [r * 0.2989 + g * 0.587 + b * 0.114];\n\t\t},\n\n\t\t'gray-rgb': function(g) {\n\t\t\treturn [g, g, g];\n\t\t},\n\n\t\t'gray-hsb': function(g) {\n\t\t\treturn [0, 0, g];\n\t\t},\n\n\t\t'gray-hsl': function(g) {\n\t\t\treturn [0, 0, g];\n\t\t},\n\n\t\t'gradient-rgb': function() {\n\t\t\treturn [];\n\t\t},\n\n\t\t'rgb-gradient': function() {\n\t\t\treturn [];\n\t\t}\n\n\t};\n\n\treturn Base.each(types, function(properties, type) {\n\t\tcomponentParsers[type] = [];\n\t\tBase.each(properties, function(name, index) {\n\t\t\tvar part = Base.capitalize(name),\n\t\t\t\thasOverlap = /^(hue|saturation)$/.test(name),\n\t\t\t\tparser = componentParsers[type][index] = type === 'gradient'\n\t\t\t\t\t? name === 'gradient'\n\t\t\t\t\t\t? function(value) {\n\t\t\t\t\t\t\tvar current = this._components[0];\n\t\t\t\t\t\t\tvalue = Gradient.read(\n\t\t\t\t\t\t\t\tArray.isArray(value)\n\t\t\t\t\t\t\t\t\t? value\n\t\t\t\t\t\t\t\t\t: arguments, 0, { readNull: true }\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (current !== value) {\n\t\t\t\t\t\t\t\tif (current)\n\t\t\t\t\t\t\t\t\tcurrent._removeOwner(this);\n\t\t\t\t\t\t\t\tif (value)\n\t\t\t\t\t\t\t\t\tvalue._addOwner(this);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t: function() {\n\t\t\t\t\t\t\treturn Point.read(arguments, 0, {\n\t\t\t\t\t\t\t\t\treadNull: name === 'highlight',\n\t\t\t\t\t\t\t\t\tclone: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t: function(value) {\n\t\t\t\t\t\treturn value == null || isNaN(value) ? 0 : +value;\n\t\t\t\t\t};\n\t\t\tthis['get' + part] = function() {\n\t\t\t\treturn this._type === type\n\t\t\t\t\t|| hasOverlap && /^hs[bl]$/.test(this._type)\n\t\t\t\t\t\t? this._components[index]\n\t\t\t\t\t\t: this._convert(type)[index];\n\t\t\t};\n\n\t\t\tthis['set' + part] = function(value) {\n\t\t\t\tif (this._type !== type\n\t\t\t\t\t\t&& !(hasOverlap && /^hs[bl]$/.test(this._type))) {\n\t\t\t\t\tthis._components = this._convert(type);\n\t\t\t\t\tthis._properties = types[type];\n\t\t\t\t\tthis._type = type;\n\t\t\t\t}\n\t\t\t\tthis._components[index] = parser.call(this, value);\n\t\t\t\tthis._changed();\n\t\t\t};\n\t\t}, this);\n\t}, {\n\t\t_class: 'Color',\n\t\t_readIndex: true,\n\n\t\tinitialize: function Color(arg) {\n\t\t\tvar args = arguments,\n\t\t\t\treading = this.__read,\n\t\t\t\tread = 0,\n\t\t\t\ttype,\n\t\t\t\tcomponents,\n\t\t\t\talpha,\n\t\t\t\tvalues;\n\t\t\tif (Array.isArray(arg)) {\n\t\t\t\targs = arg;\n\t\t\t\targ = args[0];\n\t\t\t}\n\t\t\tvar argType = arg != null && typeof arg;\n\t\t\tif (argType === 'string' && arg in types) {\n\t\t\t\ttype = arg;\n\t\t\t\targ = args[1];\n\t\t\t\tif (Array.isArray(arg)) {\n\t\t\t\t\tcomponents = arg;\n\t\t\t\t\talpha = args[2];\n\t\t\t\t} else {\n\t\t\t\t\tif (reading)\n\t\t\t\t\t\tread = 1;\n\t\t\t\t\targs = Base.slice(args, 1);\n\t\t\t\t\targType = typeof arg;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!components) {\n\t\t\t\tvalues = argType === 'number'\n\t\t\t\t\t\t? args\n\t\t\t\t\t\t: argType === 'object' && arg.length != null\n\t\t\t\t\t\t\t? arg\n\t\t\t\t\t\t\t: null;\n\t\t\t\tif (values) {\n\t\t\t\t\tif (!type)\n\t\t\t\t\t\ttype = values.length >= 3\n\t\t\t\t\t\t\t\t? 'rgb'\n\t\t\t\t\t\t\t\t: 'gray';\n\t\t\t\t\tvar length = types[type].length;\n\t\t\t\t\talpha = values[length];\n\t\t\t\t\tif (reading) {\n\t\t\t\t\t\tread += values === arguments\n\t\t\t\t\t\t\t? length + (alpha != null ? 1 : 0)\n\t\t\t\t\t\t\t: 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (values.length > length)\n\t\t\t\t\t\tvalues = Base.slice(values, 0, length);\n\t\t\t\t} else if (argType === 'string') {\n\t\t\t\t\tvar converted = fromCSS(arg);\n\t\t\t\t\ttype = converted[0];\n\t\t\t\t\tcomponents = converted[1];\n\t\t\t\t\tif (components.length === 4) {\n\t\t\t\t\t\talpha = components[3];\n\t\t\t\t\t\tcomponents.length--;\n\t\t\t\t\t}\n\t\t\t\t} else if (argType === 'object') {\n\t\t\t\t\tif (arg.constructor === Color) {\n\t\t\t\t\t\ttype = arg._type;\n\t\t\t\t\t\tcomponents = arg._components.slice();\n\t\t\t\t\t\talpha = arg._alpha;\n\t\t\t\t\t\tif (type === 'gradient') {\n\t\t\t\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\t\t\t\tvar point = components[i];\n\t\t\t\t\t\t\t\tif (point)\n\t\t\t\t\t\t\t\t\tcomponents[i] = point.clone();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (arg.constructor === Gradient) {\n\t\t\t\t\t\ttype = 'gradient';\n\t\t\t\t\t\tvalues = args;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttype = 'hue' in arg\n\t\t\t\t\t\t\t? 'lightness' in arg\n\t\t\t\t\t\t\t\t? 'hsl'\n\t\t\t\t\t\t\t\t: 'hsb'\n\t\t\t\t\t\t\t: 'gradient' in arg || 'stops' in arg\n\t\t\t\t\t\t\t\t\t|| 'radial' in arg\n\t\t\t\t\t\t\t\t? 'gradient'\n\t\t\t\t\t\t\t\t: 'gray' in arg\n\t\t\t\t\t\t\t\t\t? 'gray'\n\t\t\t\t\t\t\t\t\t: 'rgb';\n\t\t\t\t\t\tvar properties = types[type],\n\t\t\t\t\t\t\tparsers = componentParsers[type];\n\t\t\t\t\t\tthis._components = components = [];\n\t\t\t\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\t\t\t\tvar value = arg[properties[i]];\n\t\t\t\t\t\t\tif (value == null && !i && type === 'gradient'\n\t\t\t\t\t\t\t\t\t&& 'stops' in arg) {\n\t\t\t\t\t\t\t\tvalue = {\n\t\t\t\t\t\t\t\t\tstops: arg.stops,\n\t\t\t\t\t\t\t\t\tradial: arg.radial\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue = parsers[i].call(this, value);\n\t\t\t\t\t\t\tif (value != null)\n\t\t\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\talpha = arg.alpha;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (reading && type)\n\t\t\t\t\tread = 1;\n\t\t\t}\n\t\t\tthis._type = type || 'rgb';\n\t\t\tif (!components) {\n\t\t\t\tthis._components = components = [];\n\t\t\t\tvar parsers = componentParsers[this._type];\n\t\t\t\tfor (var i = 0, l = parsers.length; i < l; i++) {\n\t\t\t\t\tvar value = parsers[i].call(this, values && values[i]);\n\t\t\t\t\tif (value != null)\n\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._components = components;\n\t\t\tthis._properties = types[this._type];\n\t\t\tthis._alpha = alpha;\n\t\t\tif (reading)\n\t\t\t\tthis.__read = read;\n\t\t\treturn this;\n\t\t},\n\n\t\tset: '#initialize',\n\n\t\t_serialize: function(options, dictionary) {\n\t\t\tvar components = this.getComponents();\n\t\t\treturn Base.serialize(\n\t\t\t\t\t/^(gray|rgb)$/.test(this._type)\n\t\t\t\t\t\t? components\n\t\t\t\t\t\t: [this._type].concat(components),\n\t\t\t\t\toptions, true, dictionary);\n\t\t},\n\n\t\t_changed: function() {\n\t\t\tthis._canvasStyle = null;\n\t\t\tif (this._owner) {\n\t\t\t\tif (this._setter) {\n\t\t\t\t\tthis._owner[this._setter](this);\n\t\t\t\t} else {\n\t\t\t\t\tthis._owner._changed(129);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_convert: function(type) {\n\t\t\tvar converter;\n\t\t\treturn this._type === type\n\t\t\t\t\t? this._components.slice()\n\t\t\t\t\t: (converter = converters[this._type + '-' + type])\n\t\t\t\t\t\t? converter.apply(this, this._components)\n\t\t\t\t\t\t: converters['rgb-' + type].apply(this,\n\t\t\t\t\t\t\tconverters[this._type + '-rgb'].apply(this,\n\t\t\t\t\t\t\t\tthis._components));\n\t\t},\n\n\t\tconvert: function(type) {\n\t\t\treturn new Color(type, this._convert(type), this._alpha);\n\t\t},\n\n\t\tgetType: function() {\n\t\t\treturn this._type;\n\t\t},\n\n\t\tsetType: function(type) {\n\t\t\tthis._components = this._convert(type);\n\t\t\tthis._properties = types[type];\n\t\t\tthis._type = type;\n\t\t},\n\n\t\tgetComponents: function() {\n\t\t\tvar components = this._components.slice();\n\t\t\tif (this._alpha != null)\n\t\t\t\tcomponents.push(this._alpha);\n\t\t\treturn components;\n\t\t},\n\n\t\tgetAlpha: function() {\n\t\t\treturn this._alpha != null ? this._alpha : 1;\n\t\t},\n\n\t\tsetAlpha: function(alpha) {\n\t\t\tthis._alpha = alpha == null ? null : Math.min(Math.max(alpha, 0), 1);\n\t\t\tthis._changed();\n\t\t},\n\n\t\thasAlpha: function() {\n\t\t\treturn this._alpha != null;\n\t\t},\n\n\t\tequals: function(color) {\n\t\t\tvar col = Base.isPlainValue(color, true)\n\t\t\t\t\t? Color.read(arguments)\n\t\t\t\t\t: color;\n\t\t\treturn col === this || col && this._class === col._class\n\t\t\t\t\t&& this._type === col._type\n\t\t\t\t\t&& this.getAlpha() === col.getAlpha()\n\t\t\t\t\t&& Base.equals(this._components, col._components)\n\t\t\t\t\t|| false;\n\t\t},\n\n\t\ttoString: function() {\n\t\t\tvar properties = this._properties,\n\t\t\t\tparts = [],\n\t\t\t\tisGradient = this._type === 'gradient',\n\t\t\t\tf = Formatter.instance;\n\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\tvar value = this._components[i];\n\t\t\t\tif (value != null)\n\t\t\t\t\tparts.push(properties[i] + ': '\n\t\t\t\t\t\t\t+ (isGradient ? value : f.number(value)));\n\t\t\t}\n\t\t\tif (this._alpha != null)\n\t\t\t\tparts.push('alpha: ' + f.number(this._alpha));\n\t\t\treturn '{ ' + parts.join(', ') + ' }';\n\t\t},\n\n\t\ttoCSS: function(hex) {\n\t\t\tvar components = this._convert('rgb'),\n\t\t\t\talpha = hex || this._alpha == null ? 1 : this._alpha;\n\t\t\tfunction convert(val) {\n\t\t\t\treturn Math.round((val < 0 ? 0 : val > 1 ? 1 : val) * 255);\n\t\t\t}\n\t\t\tcomponents = [\n\t\t\t\tconvert(components[0]),\n\t\t\t\tconvert(components[1]),\n\t\t\t\tconvert(components[2])\n\t\t\t];\n\t\t\tif (alpha < 1)\n\t\t\t\tcomponents.push(alpha < 0 ? 0 : alpha);\n\t\t\treturn hex\n\t\t\t\t\t? '#' + ((1 << 24) + (components[0] << 16)\n\t\t\t\t\t\t+ (components[1] << 8)\n\t\t\t\t\t\t+ components[2]).toString(16).slice(1)\n\t\t\t\t\t: (components.length == 4 ? 'rgba(' : 'rgb(')\n\t\t\t\t\t\t+ components.join(',') + ')';\n\t\t},\n\n\t\ttoCanvasStyle: function(ctx, matrix) {\n\t\t\tif (this._canvasStyle)\n\t\t\t\treturn this._canvasStyle;\n\t\t\tif (this._type !== 'gradient')\n\t\t\t\treturn this._canvasStyle = this.toCSS();\n\t\t\tvar components = this._components,\n\t\t\t\tgradient = components[0],\n\t\t\t\tstops = gradient._stops,\n\t\t\t\torigin = components[1],\n\t\t\t\tdestination = components[2],\n\t\t\t\thighlight = components[3],\n\t\t\t\tinverse = matrix && matrix.inverted(),\n\t\t\t\tcanvasGradient;\n\t\t\tif (inverse) {\n\t\t\t\torigin = inverse._transformPoint(origin);\n\t\t\t\tdestination = inverse._transformPoint(destination);\n\t\t\t\tif (highlight)\n\t\t\t\t\thighlight = inverse._transformPoint(highlight);\n\t\t\t}\n\t\t\tif (gradient._radial) {\n\t\t\t\tvar radius = destination.getDistance(origin);\n\t\t\t\tif (highlight) {\n\t\t\t\t\tvar vector = highlight.subtract(origin);\n\t\t\t\t\tif (vector.getLength() > radius)\n\t\t\t\t\t\thighlight = origin.add(vector.normalize(radius - 0.1));\n\t\t\t\t}\n\t\t\t\tvar start = highlight || origin;\n\t\t\t\tcanvasGradient = ctx.createRadialGradient(start.x, start.y,\n\t\t\t\t\t\t0, origin.x, origin.y, radius);\n\t\t\t} else {\n\t\t\t\tcanvasGradient = ctx.createLinearGradient(origin.x, origin.y,\n\t\t\t\t\t\tdestination.x, destination.y);\n\t\t\t}\n\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\tvar stop = stops[i],\n\t\t\t\t\toffset = stop._offset;\n\t\t\t\tcanvasGradient.addColorStop(\n\t\t\t\t\t\toffset == null ? i / (l - 1) : offset,\n\t\t\t\t\t\tstop._color.toCanvasStyle());\n\t\t\t}\n\t\t\treturn this._canvasStyle = canvasGradient;\n\t\t},\n\n\t\ttransform: function(matrix) {\n\t\t\tif (this._type === 'gradient') {\n\t\t\t\tvar components = this._components;\n\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\tvar point = components[i];\n\t\t\t\t\tmatrix._transformPoint(point, point, true);\n\t\t\t\t}\n\t\t\t\tthis._changed();\n\t\t\t}\n\t\t},\n\n\t\tstatics: {\n\t\t\t_types: types,\n\n\t\t\trandom: function() {\n\t\t\t\tvar random = Math.random;\n\t\t\t\treturn new Color(random(), random(), random());\n\t\t\t},\n\n\t\t\t_setOwner: function(color, owner, setter) {\n\t\t\t\tif (color) {\n\t\t\t\t\tif (color._owner && owner && color._owner !== owner) {\n\t\t\t\t\t\tcolor = color.clone();\n\t\t\t\t\t}\n\t\t\t\t\tif (!color._owner ^ !owner) {\n\t\t\t\t\t\tcolor._owner = owner || null;\n\t\t\t\t\t\tcolor._setter = setter || null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn color;\n\t\t\t}\n\t\t}\n\t});\n},\nnew function() {\n\tvar operators = {\n\t\tadd: function(a, b) {\n\t\t\treturn a + b;\n\t\t},\n\n\t\tsubtract: function(a, b) {\n\t\t\treturn a - b;\n\t\t},\n\n\t\tmultiply: function(a, b) {\n\t\t\treturn a * b;\n\t\t},\n\n\t\tdivide: function(a, b) {\n\t\t\treturn a / b;\n\t\t}\n\t};\n\n\treturn Base.each(operators, function(operator, name) {\n\t\tthis[name] = function(color) {\n\t\t\tcolor = Color.read(arguments);\n\t\t\tvar type = this._type,\n\t\t\t\tcomponents1 = this._components,\n\t\t\t\tcomponents2 = color._convert(type);\n\t\t\tfor (var i = 0, l = components1.length; i < l; i++)\n\t\t\t\tcomponents2[i] = operator(components1[i], components2[i]);\n\t\t\treturn new Color(type, components2,\n\t\t\t\t\tthis._alpha != null\n\t\t\t\t\t\t\t? operator(this._alpha, color.getAlpha())\n\t\t\t\t\t\t\t: null);\n\t\t};\n\t}, {\n\t});\n});\n\nvar Gradient = Base.extend({\n\t_class: 'Gradient',\n\n\tinitialize: function Gradient(stops, radial) {\n\t\tthis._id = UID.get();\n\t\tif (stops && Base.isPlainObject(stops)) {\n\t\t\tthis.set(stops);\n\t\t\tstops = radial = null;\n\t\t}\n\t\tif (this._stops == null) {\n\t\t\tthis.setStops(stops || ['white', 'black']);\n\t\t}\n\t\tif (this._radial == null) {\n\t\t\tthis.setRadial(typeof radial === 'string' && radial === 'radial'\n\t\t\t\t\t|| radial || false);\n\t\t}\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn dictionary.add(this, function() {\n\t\t\treturn Base.serialize([this._stops, this._radial],\n\t\t\t\t\toptions, true, dictionary);\n\t\t});\n\t},\n\n\t_changed: function() {\n\t\tfor (var i = 0, l = this._owners && this._owners.length; i < l; i++) {\n\t\t\tthis._owners[i]._changed();\n\t\t}\n\t},\n\n\t_addOwner: function(color) {\n\t\tif (!this._owners)\n\t\t\tthis._owners = [];\n\t\tthis._owners.push(color);\n\t},\n\n\t_removeOwner: function(color) {\n\t\tvar index = this._owners ? this._owners.indexOf(color) : -1;\n\t\tif (index != -1) {\n\t\t\tthis._owners.splice(index, 1);\n\t\t\tif (!this._owners.length)\n\t\t\t\tthis._owners = undefined;\n\t\t}\n\t},\n\n\tclone: function() {\n\t\tvar stops = [];\n\t\tfor (var i = 0, l = this._stops.length; i < l; i++) {\n\t\t\tstops[i] = this._stops[i].clone();\n\t\t}\n\t\treturn new Gradient(stops, this._radial);\n\t},\n\n\tgetStops: function() {\n\t\treturn this._stops;\n\t},\n\n\tsetStops: function(stops) {\n\t\tif (stops.length < 2) {\n\t\t\tthrow new Error(\n\t\t\t\t\t'Gradient stop list needs to contain at least two stops.');\n\t\t}\n\t\tvar _stops = this._stops;\n\t\tif (_stops) {\n\t\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t\t_stops[i]._owner = undefined;\n\t\t}\n\t\t_stops = this._stops = GradientStop.readList(stops, 0, { clone: true });\n\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t_stops[i]._owner = this;\n\t\tthis._changed();\n\t},\n\n\tgetRadial: function() {\n\t\treturn this._radial;\n\t},\n\n\tsetRadial: function(radial) {\n\t\tthis._radial = radial;\n\t\tthis._changed();\n\t},\n\n\tequals: function(gradient) {\n\t\tif (gradient === this)\n\t\t\treturn true;\n\t\tif (gradient && this._class === gradient._class) {\n\t\t\tvar stops1 = this._stops,\n\t\t\t\tstops2 = gradient._stops,\n\t\t\t\tlength = stops1.length;\n\t\t\tif (length === stops2.length) {\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tif (!stops1[i].equals(stops2[i]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n});\n\nvar GradientStop = Base.extend({\n\t_class: 'GradientStop',\n\n\tinitialize: function GradientStop(arg0, arg1) {\n\t\tvar color = arg0,\n\t\t\toffset = arg1;\n\t\tif (typeof arg0 === 'object' && arg1 === undefined) {\n\t\t\tif (Array.isArray(arg0) && typeof arg0[0] !== 'number') {\n\t\t\t\tcolor = arg0[0];\n\t\t\t\toffset = arg0[1];\n\t\t\t} else if ('color' in arg0 || 'offset' in arg0\n\t\t\t\t\t|| 'rampPoint' in arg0) {\n\t\t\t\tcolor = arg0.color;\n\t\t\t\toffset = arg0.offset || arg0.rampPoint || 0;\n\t\t\t}\n\t\t}\n\t\tthis.setColor(color);\n\t\tthis.setOffset(offset);\n\t},\n\n\tclone: function() {\n\t\treturn new GradientStop(this._color.clone(), this._offset);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar color = this._color,\n\t\t\toffset = this._offset;\n\t\treturn Base.serialize(offset == null ? [color] : [color, offset],\n\t\t\t\toptions, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tif (this._owner)\n\t\t\tthis._owner._changed(129);\n\t},\n\n\tgetOffset: function() {\n\t\treturn this._offset;\n\t},\n\n\tsetOffset: function(offset) {\n\t\tthis._offset = offset;\n\t\tthis._changed();\n\t},\n\n\tgetRampPoint: '#getOffset',\n\tsetRampPoint: '#setOffset',\n\n\tgetColor: function() {\n\t\treturn this._color;\n\t},\n\n\tsetColor: function() {\n\t\tColor._setOwner(this._color, null);\n\t\tthis._color = Color._setOwner(Color.read(arguments, 0), this,\n\t\t\t\t'setColor');\n\t\tthis._changed();\n\t},\n\n\tequals: function(stop) {\n\t\treturn stop === this || stop && this._class === stop._class\n\t\t\t\t&& this._color.equals(stop._color)\n\t\t\t\t&& this._offset == stop._offset\n\t\t\t\t|| false;\n\t}\n});\n\nvar Style = Base.extend(new function() {\n\tvar itemDefaults = {\n\t\tfillColor: null,\n\t\tfillRule: 'nonzero',\n\t\tstrokeColor: null,\n\t\tstrokeWidth: 1,\n\t\tstrokeCap: 'butt',\n\t\tstrokeJoin: 'miter',\n\t\tstrokeScaling: true,\n\t\tmiterLimit: 10,\n\t\tdashOffset: 0,\n\t\tdashArray: [],\n\t\tshadowColor: null,\n\t\tshadowBlur: 0,\n\t\tshadowOffset: new Point(),\n\t\tselectedColor: null\n\t},\n\tgroupDefaults = Base.set({}, itemDefaults, {\n\t\tfontFamily: 'sans-serif',\n\t\tfontWeight: 'normal',\n\t\tfontSize: 12,\n\t\tleading: null,\n\t\tjustification: 'left'\n\t}),\n\ttextDefaults = Base.set({}, groupDefaults, {\n\t\tfillColor: new Color()\n\t}),\n\tflags = {\n\t\tstrokeWidth: 193,\n\t\tstrokeCap: 193,\n\t\tstrokeJoin: 193,\n\t\tstrokeScaling: 201,\n\t\tmiterLimit: 193,\n\t\tfontFamily: 9,\n\t\tfontWeight: 9,\n\t\tfontSize: 9,\n\t\tfont: 9,\n\t\tleading: 9,\n\t\tjustification: 9\n\t},\n\titem = {\n\t\tbeans: true\n\t},\n\tfields = {\n\t\t_class: 'Style',\n\t\tbeans: true,\n\n\t\tinitialize: function Style(style, _owner, _project) {\n\t\t\tthis._values = {};\n\t\t\tthis._owner = _owner;\n\t\t\tthis._project = _owner && _owner._project || _project\n\t\t\t\t\t|| paper.project;\n\t\t\tthis._defaults = !_owner || _owner instanceof Group ? groupDefaults\n\t\t\t\t\t: _owner instanceof TextItem ? textDefaults\n\t\t\t\t\t: itemDefaults;\n\t\t\tif (style)\n\t\t\t\tthis.set(style);\n\t\t}\n\t};\n\n\tBase.each(groupDefaults, function(value, key) {\n\t\tvar isColor = /Color$/.test(key),\n\t\t\tisPoint = key === 'shadowOffset',\n\t\t\tpart = Base.capitalize(key),\n\t\t\tflag = flags[key],\n\t\t\tset = 'set' + part,\n\t\t\tget = 'get' + part;\n\n\t\tfields[set] = function(value) {\n\t\t\tvar owner = this._owner,\n\t\t\t\tchildren = owner && owner._children,\n\t\t\t\tapplyToChildren = children && children.length > 0\n\t\t\t\t\t&& !(owner instanceof CompoundPath);\n\t\t\tif (applyToChildren) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\t\tchildren[i]._style[set](value);\n\t\t\t}\n\t\t\tif ((key === 'selectedColor' || !applyToChildren)\n\t\t\t\t\t&& key in this._defaults) {\n\t\t\t\tvar old = this._values[key];\n\t\t\t\tif (old !== value) {\n\t\t\t\t\tif (isColor) {\n\t\t\t\t\t\tif (old) {\n\t\t\t\t\t\t\tColor._setOwner(old, null);\n\t\t\t\t\t\t\told._canvasStyle = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (value && value.constructor === Color) {\n\t\t\t\t\t\t\tvalue = Color._setOwner(value, owner,\n\t\t\t\t\t\t\t\t\tapplyToChildren && set);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._values[key] = value;\n\t\t\t\t\tif (owner)\n\t\t\t\t\t\towner._changed(flag || 129);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tfields[get] = function(_dontMerge) {\n\t\t\tvar owner = this._owner,\n\t\t\t\tchildren = owner && owner._children,\n\t\t\t\tapplyToChildren = children && children.length > 0\n\t\t\t\t\t&& !(owner instanceof CompoundPath),\n\t\t\t\tvalue;\n\t\t\tif (applyToChildren && !_dontMerge) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\t\tvar childValue = children[i]._style[get]();\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\tvalue = childValue;\n\t\t\t\t\t} else if (!Base.equals(value, childValue)) {\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (key in this._defaults) {\n\t\t\t\tvar value = this._values[key];\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\tvalue = this._defaults[key];\n\t\t\t\t\tif (value && value.clone) {\n\t\t\t\t\t\tvalue = value.clone();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar ctor = isColor ? Color : isPoint ? Point : null;\n\t\t\t\t\tif (ctor && !(value && value.constructor === ctor)) {\n\t\t\t\t\t\tthis._values[key] = value = ctor.read([value], 0,\n\t\t\t\t\t\t\t\t{ readNull: true, clone: true });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (value && isColor) {\n\t\t\t\tvalue = Color._setOwner(value, owner, applyToChildren && set);\n\t\t\t}\n\t\t\treturn value;\n\t\t};\n\n\t\titem[get] = function(_dontMerge) {\n\t\t\treturn this._style[get](_dontMerge);\n\t\t};\n\n\t\titem[set] = function(value) {\n\t\t\tthis._style[set](value);\n\t\t};\n\t});\n\n\tBase.each({\n\t\tFont: 'FontFamily',\n\t\tWindingRule: 'FillRule'\n\t}, function(value, key) {\n\t\tvar get = 'get' + key,\n\t\t\tset = 'set' + key;\n\t\tfields[get] = item[get] = '#get' + value;\n\t\tfields[set] = item[set] = '#set' + value;\n\t});\n\n\tItem.inject(item);\n\treturn fields;\n}, {\n\tset: function(style) {\n\t\tvar isStyle = style instanceof Style,\n\t\t\tvalues = isStyle ? style._values : style;\n\t\tif (values) {\n\t\t\tfor (var key in values) {\n\t\t\t\tif (key in this._defaults) {\n\t\t\t\t\tvar value = values[key];\n\t\t\t\t\tthis[key] = value && isStyle && value.clone\n\t\t\t\t\t\t\t? value.clone() : value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tequals: function(style) {\n\t\tfunction compare(style1, style2, secondary) {\n\t\t\tvar values1 = style1._values,\n\t\t\t\tvalues2 = style2._values,\n\t\t\t\tdefaults2 = style2._defaults;\n\t\t\tfor (var key in values1) {\n\t\t\t\tvar value1 = values1[key],\n\t\t\t\t\tvalue2 = values2[key];\n\t\t\t\tif (!(secondary && key in values2) && !Base.equals(value1,\n\t\t\t\t\t\tvalue2 === undefined ? defaults2[key] : value2))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\treturn style === this || style && this._class === style._class\n\t\t\t\t&& compare(this, style)\n\t\t\t\t&& compare(style, this, true)\n\t\t\t\t|| false;\n\t},\n\n\t_dispose: function() {\n\t\tvar color;\n\t\tcolor = this.getFillColor();\n\t\tif (color) color._canvasStyle = null;\n\t\tcolor = this.getStrokeColor();\n\t\tif (color) color._canvasStyle = null;\n\t\tcolor = this.getShadowColor();\n\t\tif (color) color._canvasStyle = null;\n\t},\n\n\thasFill: function() {\n\t\tvar color = this.getFillColor();\n\t\treturn !!color && color.alpha > 0;\n\t},\n\n\thasStroke: function() {\n\t\tvar color = this.getStrokeColor();\n\t\treturn !!color && color.alpha > 0 && this.getStrokeWidth() > 0;\n\t},\n\n\thasShadow: function() {\n\t\tvar color = this.getShadowColor();\n\t\treturn !!color && color.alpha > 0 && (this.getShadowBlur() > 0\n\t\t\t\t|| !this.getShadowOffset().isZero());\n\t},\n\n\tgetView: function() {\n\t\treturn this._project._view;\n\t},\n\n\tgetFontStyle: function() {\n\t\tvar fontSize = this.getFontSize();\n\t\treturn this.getFontWeight()\n\t\t\t\t+ ' ' + fontSize + (/[a-z]/i.test(fontSize + '') ? ' ' : 'px ')\n\t\t\t\t+ this.getFontFamily();\n\t},\n\n\tgetFont: '#getFontFamily',\n\tsetFont: '#setFontFamily',\n\n\tgetLeading: function getLeading() {\n\t\tvar leading = getLeading.base.call(this),\n\t\t\tfontSize = this.getFontSize();\n\t\tif (/pt|em|%|px/.test(fontSize))\n\t\t\tfontSize = this.getView().getPixelSize(fontSize);\n\t\treturn leading != null ? leading : fontSize * 1.2;\n\t}\n\n});\n\nvar DomElement = new function() {\n\tfunction handlePrefix(el, name, set, value) {\n\t\tvar prefixes = ['', 'webkit', 'moz', 'Moz', 'ms', 'o'],\n\t\t\tsuffix = name[0].toUpperCase() + name.substring(1);\n\t\tfor (var i = 0; i < 6; i++) {\n\t\t\tvar prefix = prefixes[i],\n\t\t\t\tkey = prefix ? prefix + suffix : name;\n\t\t\tif (key in el) {\n\t\t\t\tif (set) {\n\t\t\t\t\tel[key] = value;\n\t\t\t\t} else {\n\t\t\t\t\treturn el[key];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tgetStyles: function(el) {\n\t\t\tvar doc = el && el.nodeType !== 9 ? el.ownerDocument : el,\n\t\t\t\tview = doc && doc.defaultView;\n\t\t\treturn view && view.getComputedStyle(el, '');\n\t\t},\n\n\t\tgetBounds: function(el, viewport) {\n\t\t\tvar doc = el.ownerDocument,\n\t\t\t\tbody = doc.body,\n\t\t\t\thtml = doc.documentElement,\n\t\t\t\trect;\n\t\t\ttry {\n\t\t\t\trect = el.getBoundingClientRect();\n\t\t\t} catch (e) {\n\t\t\t\trect = { left: 0, top: 0, width: 0, height: 0 };\n\t\t\t}\n\t\t\tvar x = rect.left - (html.clientLeft || body.clientLeft || 0),\n\t\t\t\ty = rect.top - (html.clientTop || body.clientTop || 0);\n\t\t\tif (!viewport) {\n\t\t\t\tvar view = doc.defaultView;\n\t\t\t\tx += view.pageXOffset || html.scrollLeft || body.scrollLeft;\n\t\t\t\ty += view.pageYOffset || html.scrollTop || body.scrollTop;\n\t\t\t}\n\t\t\treturn new Rectangle(x, y, rect.width, rect.height);\n\t\t},\n\n\t\tgetViewportBounds: function(el) {\n\t\t\tvar doc = el.ownerDocument,\n\t\t\t\tview = doc.defaultView,\n\t\t\t\thtml = doc.documentElement;\n\t\t\treturn new Rectangle(0, 0,\n\t\t\t\tview.innerWidth || html.clientWidth,\n\t\t\t\tview.innerHeight || html.clientHeight\n\t\t\t);\n\t\t},\n\n\t\tgetOffset: function(el, viewport) {\n\t\t\treturn DomElement.getBounds(el, viewport).getPoint();\n\t\t},\n\n\t\tgetSize: function(el) {\n\t\t\treturn DomElement.getBounds(el, true).getSize();\n\t\t},\n\n\t\tisInvisible: function(el) {\n\t\t\treturn DomElement.getSize(el).equals(new Size(0, 0));\n\t\t},\n\n\t\tisInView: function(el) {\n\t\t\treturn !DomElement.isInvisible(el)\n\t\t\t\t\t&& DomElement.getViewportBounds(el).intersects(\n\t\t\t\t\t\tDomElement.getBounds(el, true));\n\t\t},\n\n\t\tisInserted: function(el) {\n\t\t\treturn document.body.contains(el);\n\t\t},\n\n\t\tgetPrefixed: function(el, name) {\n\t\t\treturn el && handlePrefix(el, name);\n\t\t},\n\n\t\tsetPrefixed: function(el, name, value) {\n\t\t\tif (typeof name === 'object') {\n\t\t\t\tfor (var key in name)\n\t\t\t\t\thandlePrefix(el, key, true, name[key]);\n\t\t\t} else {\n\t\t\t\thandlePrefix(el, name, true, value);\n\t\t\t}\n\t\t}\n\t};\n};\n\nvar DomEvent = {\n\tadd: function(el, events) {\n\t\tif (el) {\n\t\t\tfor (var type in events) {\n\t\t\t\tvar func = events[type],\n\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++) {\n\t\t\t\t\tvar name = parts[i];\n\t\t\t\t\tvar options = (\n\t\t\t\t\t\tel === document\n\t\t\t\t\t\t&& (name === 'touchstart' || name === 'touchmove')\n\t\t\t\t\t) ? { passive: false } : false;\n\t\t\t\t\tel.addEventListener(name, func, options);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremove: function(el, events) {\n\t\tif (el) {\n\t\t\tfor (var type in events) {\n\t\t\t\tvar func = events[type],\n\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++)\n\t\t\t\t\tel.removeEventListener(parts[i], func, false);\n\t\t\t}\n\t\t}\n\t},\n\n\tgetPoint: function(event) {\n\t\tvar pos = event.targetTouches\n\t\t\t\t? event.targetTouches.length\n\t\t\t\t\t? event.targetTouches[0]\n\t\t\t\t\t: event.changedTouches[0]\n\t\t\t\t: event;\n\t\treturn new Point(\n\t\t\tpos.pageX || pos.clientX + document.documentElement.scrollLeft,\n\t\t\tpos.pageY || pos.clientY + document.documentElement.scrollTop\n\t\t);\n\t},\n\n\tgetTarget: function(event) {\n\t\treturn event.target || event.srcElement;\n\t},\n\n\tgetRelatedTarget: function(event) {\n\t\treturn event.relatedTarget || event.toElement;\n\t},\n\n\tgetOffset: function(event, target) {\n\t\treturn DomEvent.getPoint(event).subtract(DomElement.getOffset(\n\t\t\t\ttarget || DomEvent.getTarget(event)));\n\t}\n};\n\nDomEvent.requestAnimationFrame = new function() {\n\tvar nativeRequest = DomElement.getPrefixed(window, 'requestAnimationFrame'),\n\t\trequested = false,\n\t\tcallbacks = [],\n\t\ttimer;\n\n\tfunction handleCallbacks() {\n\t\tvar functions = callbacks;\n\t\tcallbacks = [];\n\t\tfor (var i = 0, l = functions.length; i < l; i++)\n\t\t\tfunctions[i]();\n\t\trequested = nativeRequest && callbacks.length;\n\t\tif (requested)\n\t\t\tnativeRequest(handleCallbacks);\n\t}\n\n\treturn function(callback) {\n\t\tcallbacks.push(callback);\n\t\tif (nativeRequest) {\n\t\t\tif (!requested) {\n\t\t\t\tnativeRequest(handleCallbacks);\n\t\t\t\trequested = true;\n\t\t\t}\n\t\t} else if (!timer) {\n\t\t\ttimer = setInterval(handleCallbacks, 1000 / 60);\n\t\t}\n\t};\n};\n\nvar View = Base.extend(Emitter, {\n\t_class: 'View',\n\n\tinitialize: function View(project, element) {\n\n\t\tfunction getSize(name) {\n\t\t\treturn element[name] || parseInt(element.getAttribute(name), 10);\n\t\t}\n\n\t\tfunction getCanvasSize() {\n\t\t\tvar size = DomElement.getSize(element);\n\t\t\treturn size.isNaN() || size.isZero()\n\t\t\t\t\t? new Size(getSize('width'), getSize('height'))\n\t\t\t\t\t: size;\n\t\t}\n\n\t\tvar size;\n\t\tif (window && element) {\n\t\t\tthis._id = element.getAttribute('id');\n\t\t\tif (this._id == null)\n\t\t\t\telement.setAttribute('id', this._id = 'paper-view-' + View._id++);\n\t\t\tDomEvent.add(element, this._viewEvents);\n\t\t\tvar none = 'none';\n\t\t\tDomElement.setPrefixed(element.style, {\n\t\t\t\tuserDrag: none,\n\t\t\t\tuserSelect: none,\n\t\t\t\ttouchCallout: none,\n\t\t\t\tcontentZooming: none,\n\t\t\t\ttapHighlightColor: 'rgba(0,0,0,0)'\n\t\t\t});\n\n\t\t\tif (PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\tvar that = this;\n\t\t\t\tDomEvent.add(window, this._windowEvents = {\n\t\t\t\t\tresize: function() {\n\t\t\t\t\t\tthat.setViewSize(getCanvasSize());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tsize = getCanvasSize();\n\n\t\t\tif (PaperScope.hasAttribute(element, 'stats')\n\t\t\t\t\t&& typeof Stats !== 'undefined') {\n\t\t\t\tthis._stats = new Stats();\n\t\t\t\tvar stats = this._stats.domElement,\n\t\t\t\t\tstyle = stats.style,\n\t\t\t\t\toffset = DomElement.getOffset(element);\n\t\t\t\tstyle.position = 'absolute';\n\t\t\t\tstyle.left = offset.x + 'px';\n\t\t\t\tstyle.top = offset.y + 'px';\n\t\t\t\tdocument.body.appendChild(stats);\n\t\t\t}\n\t\t} else {\n\t\t\tsize = new Size(element);\n\t\t\telement = null;\n\t\t}\n\t\tthis._project = project;\n\t\tthis._scope = project._scope;\n\t\tthis._element = element;\n\t\tif (!this._pixelRatio)\n\t\t\tthis._pixelRatio = window && window.devicePixelRatio || 1;\n\t\tthis._setElementSize(size.width, size.height);\n\t\tthis._viewSize = size;\n\t\tView._views.push(this);\n\t\tView._viewsById[this._id] = this;\n\t\t(this._matrix = new Matrix())._owner = this;\n\t\tif (!View._focused)\n\t\t\tView._focused = this;\n\t\tthis._frameItems = {};\n\t\tthis._frameItemCount = 0;\n\t\tthis._itemEvents = { native: {}, virtual: {} };\n\t\tthis._autoUpdate = !paper.agent.node;\n\t\tthis._needsUpdate = false;\n\t},\n\n\tremove: function() {\n\t\tif (!this._project)\n\t\t\treturn false;\n\t\tif (View._focused === this)\n\t\t\tView._focused = null;\n\t\tView._views.splice(View._views.indexOf(this), 1);\n\t\tdelete View._viewsById[this._id];\n\t\tvar project = this._project;\n\t\tif (project._view === this)\n\t\t\tproject._view = null;\n\t\tDomEvent.remove(this._element, this._viewEvents);\n\t\tDomEvent.remove(window, this._windowEvents);\n\t\tthis._element = this._project = null;\n\t\tthis.off('frame');\n\t\tthis._animate = false;\n\t\tthis._frameItems = {};\n\t\treturn true;\n\t},\n\n\t_events: Base.each(\n\t\tItem._itemHandlers.concat(['onResize', 'onKeyDown', 'onKeyUp']),\n\t\tfunction(name) {\n\t\t\tthis[name] = {};\n\t\t}, {\n\t\t\tonFrame: {\n\t\t\t\tinstall: function() {\n\t\t\t\t\tthis.play();\n\t\t\t\t},\n\n\t\t\t\tuninstall: function() {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t),\n\n\t_animate: false,\n\t_time: 0,\n\t_count: 0,\n\n\tgetAutoUpdate: function() {\n\t\treturn this._autoUpdate;\n\t},\n\n\tsetAutoUpdate: function(autoUpdate) {\n\t\tthis._autoUpdate = autoUpdate;\n\t\tif (autoUpdate)\n\t\t\tthis.requestUpdate();\n\t},\n\n\tupdate: function() {\n\t},\n\n\tdraw: function() {\n\t\tthis.update();\n\t},\n\n\trequestUpdate: function() {\n\t\tif (!this._requested) {\n\t\t\tvar that = this;\n\t\t\tDomEvent.requestAnimationFrame(function() {\n\t\t\t\tthat._requested = false;\n\t\t\t\tif (that._animate) {\n\t\t\t\t\tthat.requestUpdate();\n\t\t\t\t\tvar element = that._element;\n\t\t\t\t\tif ((!DomElement.getPrefixed(document, 'hidden')\n\t\t\t\t\t\t\t|| PaperScope.getAttribute(element, 'keepalive')\n\t\t\t\t\t\t\t\t=== 'true') && DomElement.isInView(element)) {\n\t\t\t\t\t\tthat._handleFrame();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (that._autoUpdate)\n\t\t\t\t\tthat.update();\n\t\t\t});\n\t\t\tthis._requested = true;\n\t\t}\n\t},\n\n\tplay: function() {\n\t\tthis._animate = true;\n\t\tthis.requestUpdate();\n\t},\n\n\tpause: function() {\n\t\tthis._animate = false;\n\t},\n\n\t_handleFrame: function() {\n\t\tpaper = this._scope;\n\t\tvar now = Date.now() / 1000,\n\t\t\tdelta = this._last ? now - this._last : 0;\n\t\tthis._last = now;\n\t\tthis.emit('frame', new Base({\n\t\t\tdelta: delta,\n\t\t\ttime: this._time += delta,\n\t\t\tcount: this._count++\n\t\t}));\n\t\tif (this._stats)\n\t\t\tthis._stats.update();\n\t},\n\n\t_animateItem: function(item, animate) {\n\t\tvar items = this._frameItems;\n\t\tif (animate) {\n\t\t\titems[item._id] = {\n\t\t\t\titem: item,\n\t\t\t\ttime: 0,\n\t\t\t\tcount: 0\n\t\t\t};\n\t\t\tif (++this._frameItemCount === 1)\n\t\t\t\tthis.on('frame', this._handleFrameItems);\n\t\t} else {\n\t\t\tdelete items[item._id];\n\t\t\tif (--this._frameItemCount === 0) {\n\t\t\t\tthis.off('frame', this._handleFrameItems);\n\t\t\t}\n\t\t}\n\t},\n\n\t_handleFrameItems: function(event) {\n\t\tfor (var i in this._frameItems) {\n\t\t\tvar entry = this._frameItems[i];\n\t\t\tentry.item.emit('frame', new Base(event, {\n\t\t\t\ttime: entry.time += event.delta,\n\t\t\t\tcount: entry.count++\n\t\t\t}));\n\t\t}\n\t},\n\n\t_changed: function() {\n\t\tthis._project._changed(4097);\n\t\tthis._bounds = this._decomposed = undefined;\n\t},\n\n\tgetElement: function() {\n\t\treturn this._element;\n\t},\n\n\tgetPixelRatio: function() {\n\t\treturn this._pixelRatio;\n\t},\n\n\tgetResolution: function() {\n\t\treturn this._pixelRatio * 72;\n\t},\n\n\tgetViewSize: function() {\n\t\tvar size = this._viewSize;\n\t\treturn new LinkedSize(size.width, size.height, this, 'setViewSize');\n\t},\n\n\tsetViewSize: function() {\n\t\tvar size = Size.read(arguments),\n\t\t\tdelta = size.subtract(this._viewSize);\n\t\tif (delta.isZero())\n\t\t\treturn;\n\t\tthis._setElementSize(size.width, size.height);\n\t\tthis._viewSize.set(size);\n\t\tthis._changed();\n\t\tthis.emit('resize', { size: size, delta: delta });\n\t\tif (this._autoUpdate) {\n\t\t\tthis.update();\n\t\t}\n\t},\n\n\t_setElementSize: function(width, height) {\n\t\tvar element = this._element;\n\t\tif (element) {\n\t\t\tif (element.width !== width)\n\t\t\t\telement.width = width;\n\t\t\tif (element.height !== height)\n\t\t\t\telement.height = height;\n\t\t}\n\t},\n\n\tgetBounds: function() {\n\t\tif (!this._bounds)\n\t\t\tthis._bounds = this._matrix.inverted()._transformBounds(\n\t\t\t\t\tnew Rectangle(new Point(), this._viewSize));\n\t\treturn this._bounds;\n\t},\n\n\tgetSize: function() {\n\t\treturn this.getBounds().getSize();\n\t},\n\n\tisVisible: function() {\n\t\treturn DomElement.isInView(this._element);\n\t},\n\n\tisInserted: function() {\n\t\treturn DomElement.isInserted(this._element);\n\t},\n\n\tgetPixelSize: function(size) {\n\t\tvar element = this._element,\n\t\t\tpixels;\n\t\tif (element) {\n\t\t\tvar parent = element.parentNode,\n\t\t\t\ttemp = document.createElement('div');\n\t\t\ttemp.style.fontSize = size;\n\t\t\tparent.appendChild(temp);\n\t\t\tpixels = parseFloat(DomElement.getStyles(temp).fontSize);\n\t\t\tparent.removeChild(temp);\n\t\t} else {\n\t\t\tpixels = parseFloat(pixels);\n\t\t}\n\t\treturn pixels;\n\t},\n\n\tgetTextWidth: function(font, lines) {\n\t\treturn 0;\n\t}\n}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\tvar rotate = key === 'rotate';\n\tthis[key] = function() {\n\t\tvar args = arguments,\n\t\t\tvalue = (rotate ? Base : Point).read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\tcenter || this.getCenter(true)));\n\t};\n}, {\n\t_decompose: function() {\n\t\treturn this._decomposed || (this._decomposed = this._matrix.decompose());\n\t},\n\n\ttranslate: function() {\n\t\tvar mx = new Matrix();\n\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t},\n\n\tgetCenter: function() {\n\t\treturn this.getBounds().getCenter();\n\t},\n\n\tsetCenter: function() {\n\t\tvar center = Point.read(arguments);\n\t\tthis.translate(this.getCenter().subtract(center));\n\t},\n\n\tgetZoom: function() {\n\t\tvar scaling = this._decompose().scaling;\n\t\treturn (scaling.x + scaling.y) / 2;\n\t},\n\n\tsetZoom: function(zoom) {\n\t\tthis.transform(new Matrix().scale(zoom / this.getZoom(),\n\t\t\tthis.getCenter()));\n\t},\n\n\tgetRotation: function() {\n\t\treturn this._decompose().rotation;\n\t},\n\n\tsetRotation: function(rotation) {\n\t\tvar current = this.getRotation();\n\t\tif (current != null && rotation != null) {\n\t\t\tthis.rotate(rotation - current);\n\t\t}\n\t},\n\n\tgetScaling: function() {\n\t\tvar scaling = this._decompose().scaling;\n\t\treturn new LinkedPoint(scaling.x, scaling.y, this, 'setScaling');\n\t},\n\n\tsetScaling: function() {\n\t\tvar current = this.getScaling(),\n\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tif (current && scaling) {\n\t\t\tthis.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t}\n\t},\n\n\tgetMatrix: function() {\n\t\treturn this._matrix;\n\t},\n\n\tsetMatrix: function() {\n\t\tvar matrix = this._matrix;\n\t\tmatrix.set.apply(matrix, arguments);\n\t},\n\n\ttransform: function(matrix) {\n\t\tthis._matrix.append(matrix);\n\t},\n\n\tscrollBy: function() {\n\t\tthis.translate(Point.read(arguments).negate());\n\t}\n}), {\n\n\tprojectToView: function() {\n\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t},\n\n\tviewToProject: function() {\n\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t},\n\n\tgetEventPoint: function(event) {\n\t\treturn this.viewToProject(DomEvent.getOffset(event, this._element));\n\t},\n\n}, {\n\tstatics: {\n\t\t_views: [],\n\t\t_viewsById: {},\n\t\t_id: 0,\n\n\t\tcreate: function(project, element) {\n\t\t\tif (document && typeof element === 'string')\n\t\t\t\telement = document.getElementById(element);\n\t\t\tvar ctor = window ? CanvasView : View;\n\t\t\treturn new ctor(project, element);\n\t\t}\n\t}\n},\nnew function() {\n\tif (!window)\n\t\treturn;\n\tvar prevFocus,\n\t\ttempFocus,\n\t\tdragging = false,\n\t\tmouseDown = false;\n\n\tfunction getView(event) {\n\t\tvar target = DomEvent.getTarget(event);\n\t\treturn target.getAttribute && View._viewsById[\n\t\t\t\ttarget.getAttribute('id')];\n\t}\n\n\tfunction updateFocus() {\n\t\tvar view = View._focused;\n\t\tif (!view || !view.isVisible()) {\n\t\t\tfor (var i = 0, l = View._views.length; i < l; i++) {\n\t\t\t\tif ((view = View._views[i]).isVisible()) {\n\t\t\t\t\tView._focused = tempFocus = view;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction handleMouseMove(view, event, point) {\n\t\tview._handleMouseEvent('mousemove', event, point);\n\t}\n\n\tvar navigator = window.navigator,\n\t\tmousedown, mousemove, mouseup;\n\tif (navigator.pointerEnabled || navigator.msPointerEnabled) {\n\t\tmousedown = 'pointerdown MSPointerDown';\n\t\tmousemove = 'pointermove MSPointerMove';\n\t\tmouseup = 'pointerup pointercancel MSPointerUp MSPointerCancel';\n\t} else {\n\t\tmousedown = 'touchstart';\n\t\tmousemove = 'touchmove';\n\t\tmouseup = 'touchend touchcancel';\n\t\tif (!('ontouchstart' in window && navigator.userAgent.match(\n\t\t\t\t/mobile|tablet|ip(ad|hone|od)|android|silk/i))) {\n\t\t\tmousedown += ' mousedown';\n\t\t\tmousemove += ' mousemove';\n\t\t\tmouseup += ' mouseup';\n\t\t}\n\t}\n\n\tvar viewEvents = {},\n\t\tdocEvents = {\n\t\t\tmouseout: function(event) {\n\t\t\t\tvar view = View._focused,\n\t\t\t\t\ttarget = DomEvent.getRelatedTarget(event);\n\t\t\t\tif (view && (!target || target.nodeName === 'HTML')) {\n\t\t\t\t\tvar offset = DomEvent.getOffset(event, view._element),\n\t\t\t\t\t\tx = offset.x,\n\t\t\t\t\t\tabs = Math.abs,\n\t\t\t\t\t\tax = abs(x),\n\t\t\t\t\t\tmax = 1 << 25,\n\t\t\t\t\t\tdiff = ax - max;\n\t\t\t\t\toffset.x = abs(diff) < ax ? diff * (x < 0 ? -1 : 1) : x;\n\t\t\t\t\thandleMouseMove(view, event, view.viewToProject(offset));\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tscroll: updateFocus\n\t\t};\n\n\tviewEvents[mousedown] = function(event) {\n\t\tvar view = View._focused = getView(event);\n\t\tif (!dragging) {\n\t\t\tdragging = true;\n\t\t\tview._handleMouseEvent('mousedown', event);\n\t\t}\n\t};\n\n\tdocEvents[mousemove] = function(event) {\n\t\tvar view = View._focused;\n\t\tif (!mouseDown) {\n\t\t\tvar target = getView(event);\n\t\t\tif (target) {\n\t\t\t\tif (view !== target) {\n\t\t\t\t\tif (view)\n\t\t\t\t\t\thandleMouseMove(view, event);\n\t\t\t\t\tif (!prevFocus)\n\t\t\t\t\t\tprevFocus = view;\n\t\t\t\t\tview = View._focused = tempFocus = target;\n\t\t\t\t}\n\t\t\t} else if (tempFocus && tempFocus === view) {\n\t\t\t\tif (prevFocus && !prevFocus.isInserted())\n\t\t\t\t\tprevFocus = null;\n\t\t\t\tview = View._focused = prevFocus;\n\t\t\t\tprevFocus = null;\n\t\t\t\tupdateFocus();\n\t\t\t}\n\t\t}\n\t\tif (view)\n\t\t\thandleMouseMove(view, event);\n\t};\n\n\tdocEvents[mousedown] = function() {\n\t\tmouseDown = true;\n\t};\n\n\tdocEvents[mouseup] = function(event) {\n\t\tvar view = View._focused;\n\t\tif (view && dragging)\n\t\t\tview._handleMouseEvent('mouseup', event);\n\t\tmouseDown = dragging = false;\n\t};\n\n\tDomEvent.add(document, docEvents);\n\n\tDomEvent.add(window, {\n\t\tload: updateFocus\n\t});\n\n\tvar called = false,\n\t\tprevented = false,\n\t\tfallbacks = {\n\t\t\tdoubleclick: 'click',\n\t\t\tmousedrag: 'mousemove'\n\t\t},\n\t\twasInView = false,\n\t\toverView,\n\t\tdownPoint,\n\t\tlastPoint,\n\t\tdownItem,\n\t\toverItem,\n\t\tdragItem,\n\t\tclickItem,\n\t\tclickTime,\n\t\tdblClick;\n\n\tfunction emitMouseEvent(obj, target, type, event, point, prevPoint,\n\t\t\tstopItem) {\n\t\tvar stopped = false,\n\t\t\tmouseEvent;\n\n\t\tfunction emit(obj, type) {\n\t\t\tif (obj.responds(type)) {\n\t\t\t\tif (!mouseEvent) {\n\t\t\t\t\tmouseEvent = new MouseEvent(type, event, point,\n\t\t\t\t\t\t\ttarget || obj,\n\t\t\t\t\t\t\tprevPoint ? point.subtract(prevPoint) : null);\n\t\t\t\t}\n\t\t\t\tif (obj.emit(type, mouseEvent)) {\n\t\t\t\t\tcalled = true;\n\t\t\t\t\tif (mouseEvent.prevented)\n\t\t\t\t\t\tprevented = true;\n\t\t\t\t\tif (mouseEvent.stopped)\n\t\t\t\t\t\treturn stopped = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar fallback = fallbacks[type];\n\t\t\t\tif (fallback)\n\t\t\t\t\treturn emit(obj, fallback);\n\t\t\t}\n\t\t}\n\n\t\twhile (obj && obj !== stopItem) {\n\t\t\tif (emit(obj, type))\n\t\t\t\tbreak;\n\t\t\tobj = obj._parent;\n\t\t}\n\t\treturn stopped;\n\t}\n\n\tfunction emitMouseEvents(view, hitItem, type, event, point, prevPoint) {\n\t\tview._project.removeOn(type);\n\t\tprevented = called = false;\n\t\treturn (dragItem && emitMouseEvent(dragItem, null, type, event,\n\t\t\t\t\tpoint, prevPoint)\n\t\t\t|| hitItem && hitItem !== dragItem\n\t\t\t\t&& !hitItem.isDescendant(dragItem)\n\t\t\t\t&& emitMouseEvent(hitItem, null, type === 'mousedrag' ?\n\t\t\t\t\t'mousemove' : type, event, point, prevPoint, dragItem)\n\t\t\t|| emitMouseEvent(view, dragItem || hitItem || view, type, event,\n\t\t\t\t\tpoint, prevPoint));\n\t}\n\n\tvar itemEventsMap = {\n\t\tmousedown: {\n\t\t\tmousedown: 1,\n\t\t\tmousedrag: 1,\n\t\t\tclick: 1,\n\t\t\tdoubleclick: 1\n\t\t},\n\t\tmouseup: {\n\t\t\tmouseup: 1,\n\t\t\tmousedrag: 1,\n\t\t\tclick: 1,\n\t\t\tdoubleclick: 1\n\t\t},\n\t\tmousemove: {\n\t\t\tmousedrag: 1,\n\t\t\tmousemove: 1,\n\t\t\tmouseenter: 1,\n\t\t\tmouseleave: 1\n\t\t}\n\t};\n\n\treturn {\n\t\t_viewEvents: viewEvents,\n\n\t\t_handleMouseEvent: function(type, event, point) {\n\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\thitItems = itemEvents.native[type],\n\t\t\t\tnativeMove = type === 'mousemove',\n\t\t\t\ttool = this._scope.tool,\n\t\t\t\tview = this;\n\n\t\t\tfunction responds(type) {\n\t\t\t\treturn itemEvents.virtual[type] || view.responds(type)\n\t\t\t\t\t\t|| tool && tool.responds(type);\n\t\t\t}\n\n\t\t\tif (nativeMove && dragging && responds('mousedrag'))\n\t\t\t\ttype = 'mousedrag';\n\t\t\tif (!point)\n\t\t\t\tpoint = this.getEventPoint(event);\n\n\t\t\tvar inView = this.getBounds().contains(point),\n\t\t\t\thit = hitItems && inView && view._project.hitTest(point, {\n\t\t\t\t\ttolerance: 0,\n\t\t\t\t\tfill: true,\n\t\t\t\t\tstroke: true\n\t\t\t\t}),\n\t\t\t\thitItem = hit && hit.item || null,\n\t\t\t\thandle = false,\n\t\t\t\tmouse = {};\n\t\t\tmouse[type.substr(5)] = true;\n\n\t\t\tif (hitItems && hitItem !== overItem) {\n\t\t\t\tif (overItem) {\n\t\t\t\t\temitMouseEvent(overItem, null, 'mouseleave', event, point);\n\t\t\t\t}\n\t\t\t\tif (hitItem) {\n\t\t\t\t\temitMouseEvent(hitItem, null, 'mouseenter', event, point);\n\t\t\t\t}\n\t\t\t\toverItem = hitItem;\n\t\t\t}\n\t\t\tif (wasInView ^ inView) {\n\t\t\t\temitMouseEvent(this, null, inView ? 'mouseenter' : 'mouseleave',\n\t\t\t\t\t\tevent, point);\n\t\t\t\toverView = inView ? this : null;\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\tif ((inView || mouse.drag) && !point.equals(lastPoint)) {\n\t\t\t\temitMouseEvents(this, hitItem, nativeMove ? type : 'mousemove',\n\t\t\t\t\t\tevent, point, lastPoint);\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\twasInView = inView;\n\t\t\tif (mouse.down && inView || mouse.up && downPoint) {\n\t\t\t\temitMouseEvents(this, hitItem, type, event, point, downPoint);\n\t\t\t\tif (mouse.down) {\n\t\t\t\t\tdblClick = hitItem === clickItem\n\t\t\t\t\t\t&& (Date.now() - clickTime < 300);\n\t\t\t\t\tdownItem = clickItem = hitItem;\n\t\t\t\t\tif (!prevented && hitItem) {\n\t\t\t\t\t\tvar item = hitItem;\n\t\t\t\t\t\twhile (item && !item.responds('mousedrag'))\n\t\t\t\t\t\t\titem = item._parent;\n\t\t\t\t\t\tif (item)\n\t\t\t\t\t\t\tdragItem = hitItem;\n\t\t\t\t\t}\n\t\t\t\t\tdownPoint = point;\n\t\t\t\t} else if (mouse.up) {\n\t\t\t\t\tif (!prevented && hitItem === downItem) {\n\t\t\t\t\t\tclickTime = Date.now();\n\t\t\t\t\t\temitMouseEvents(this, hitItem, dblClick ? 'doubleclick'\n\t\t\t\t\t\t\t\t: 'click', event, point, downPoint);\n\t\t\t\t\t\tdblClick = false;\n\t\t\t\t\t}\n\t\t\t\t\tdownItem = dragItem = null;\n\t\t\t\t}\n\t\t\t\twasInView = false;\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\tlastPoint = point;\n\t\t\tif (handle && tool) {\n\t\t\t\tcalled = tool._handleMouseEvent(type, event, point, mouse)\n\t\t\t\t\t|| called;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tevent.cancelable !== false\n\t\t\t\t&& (called && !mouse.move || mouse.down && responds('mouseup'))\n\t\t\t) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_handleKeyEvent: function(type, event, key, character) {\n\t\t\tvar scope = this._scope,\n\t\t\t\ttool = scope.tool,\n\t\t\t\tkeyEvent;\n\n\t\t\tfunction emit(obj) {\n\t\t\t\tif (obj.responds(type)) {\n\t\t\t\t\tpaper = scope;\n\t\t\t\t\tobj.emit(type, keyEvent = keyEvent\n\t\t\t\t\t\t\t|| new KeyEvent(type, event, key, character));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.isVisible()) {\n\t\t\t\temit(this);\n\t\t\t\tif (tool && tool.responds(type))\n\t\t\t\t\temit(tool);\n\t\t\t}\n\t\t},\n\n\t\t_countItemEvent: function(type, sign) {\n\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\tnative = itemEvents.native,\n\t\t\t\tvirtual = itemEvents.virtual;\n\t\t\tfor (var key in itemEventsMap) {\n\t\t\t\tnative[key] = (native[key] || 0)\n\t\t\t\t\t\t+ (itemEventsMap[key][type] || 0) * sign;\n\t\t\t}\n\t\t\tvirtual[type] = (virtual[type] || 0) + sign;\n\t\t},\n\n\t\tstatics: {\n\t\t\tupdateFocus: updateFocus,\n\n\t\t\t_resetState: function() {\n\t\t\t\tdragging = mouseDown = called = wasInView = false;\n\t\t\t\tprevFocus = tempFocus = overView = downPoint = lastPoint =\n\t\t\t\t\tdownItem = overItem = dragItem = clickItem = clickTime =\n\t\t\t\t\tdblClick = null;\n\t\t\t}\n\t\t}\n\t};\n});\n\nvar CanvasView = View.extend({\n\t_class: 'CanvasView',\n\n\tinitialize: function CanvasView(project, canvas) {\n\t\tif (!(canvas instanceof window.HTMLCanvasElement)) {\n\t\t\tvar size = Size.read(arguments, 1);\n\t\t\tif (size.isZero())\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\t'Cannot create CanvasView with the provided argument: '\n\t\t\t\t\t\t+ Base.slice(arguments, 1));\n\t\t\tcanvas = CanvasProvider.getCanvas(size);\n\t\t}\n\t\tvar ctx = this._context = canvas.getContext('2d');\n\t\tctx.save();\n\t\tthis._pixelRatio = 1;\n\t\tif (!/^off|false$/.test(PaperScope.getAttribute(canvas, 'hidpi'))) {\n\t\t\tvar deviceRatio = window.devicePixelRatio || 1,\n\t\t\t\tbackingStoreRatio = DomElement.getPrefixed(ctx,\n\t\t\t\t\t\t'backingStorePixelRatio') || 1;\n\t\t\tthis._pixelRatio = deviceRatio / backingStoreRatio;\n\t\t}\n\t\tView.call(this, project, canvas);\n\t\tthis._needsUpdate = true;\n\t},\n\n\tremove: function remove() {\n\t\tthis._context.restore();\n\t\treturn remove.base.call(this);\n\t},\n\n\t_setElementSize: function _setElementSize(width, height) {\n\t\tvar pixelRatio = this._pixelRatio;\n\t\t_setElementSize.base.call(this, width * pixelRatio, height * pixelRatio);\n\t\tif (pixelRatio !== 1) {\n\t\t\tvar element = this._element,\n\t\t\t\tctx = this._context;\n\t\t\tif (!PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\tvar style = element.style;\n\t\t\t\tstyle.width = width + 'px';\n\t\t\t\tstyle.height = height + 'px';\n\t\t\t}\n\t\t\tctx.restore();\n\t\t\tctx.save();\n\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t}\n\t},\n\n\tgetContext: function() {\n\t\treturn this._context;\n\t},\n\n\tgetPixelSize: function getPixelSize(size) {\n\t\tvar agent = paper.agent,\n\t\t\tpixels;\n\t\tif (agent && agent.firefox) {\n\t\t\tpixels = getPixelSize.base.call(this, size);\n\t\t} else {\n\t\t\tvar ctx = this._context,\n\t\t\t\tprevFont = ctx.font;\n\t\t\tctx.font = size + ' serif';\n\t\t\tpixels = parseFloat(ctx.font);\n\t\t\tctx.font = prevFont;\n\t\t}\n\t\treturn pixels;\n\t},\n\n\tgetTextWidth: function(font, lines) {\n\t\tvar ctx = this._context,\n\t\t\tprevFont = ctx.font,\n\t\t\twidth = 0;\n\t\tctx.font = font;\n\t\tfor (var i = 0, l = lines.length; i < l; i++)\n\t\t\twidth = Math.max(width, ctx.measureText(lines[i]).width);\n\t\tctx.font = prevFont;\n\t\treturn width;\n\t},\n\n\tupdate: function() {\n\t\tif (!this._needsUpdate)\n\t\t\treturn false;\n\t\tvar project = this._project,\n\t\t\tctx = this._context,\n\t\t\tsize = this._viewSize;\n\t\tctx.clearRect(0, 0, size.width + 1, size.height + 1);\n\t\tif (project)\n\t\t\tproject.draw(ctx, this._matrix, this._pixelRatio);\n\t\tthis._needsUpdate = false;\n\t\treturn true;\n\t}\n});\n\nvar Event = Base.extend({\n\t_class: 'Event',\n\n\tinitialize: function Event(event) {\n\t\tthis.event = event;\n\t\tthis.type = event && event.type;\n\t},\n\n\tprevented: false,\n\tstopped: false,\n\n\tpreventDefault: function() {\n\t\tthis.prevented = true;\n\t\tthis.event.preventDefault();\n\t},\n\n\tstopPropagation: function() {\n\t\tthis.stopped = true;\n\t\tthis.event.stopPropagation();\n\t},\n\n\tstop: function() {\n\t\tthis.stopPropagation();\n\t\tthis.preventDefault();\n\t},\n\n\tgetTimeStamp: function() {\n\t\treturn this.event.timeStamp;\n\t},\n\n\tgetModifiers: function() {\n\t\treturn Key.modifiers;\n\t}\n});\n\nvar KeyEvent = Event.extend({\n\t_class: 'KeyEvent',\n\n\tinitialize: function KeyEvent(type, event, key, character) {\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t\tthis.key = key;\n\t\tthis.character = character;\n\t},\n\n\ttoString: function() {\n\t\treturn \"{ type: '\" + this.type\n\t\t\t\t+ \"', key: '\" + this.key\n\t\t\t\t+ \"', character: '\" + this.character\n\t\t\t\t+ \"', modifiers: \" + this.getModifiers()\n\t\t\t\t+ \" }\";\n\t}\n});\n\nvar Key = new function() {\n\tvar keyLookup = {\n\t\t\t'\\t': 'tab',\n\t\t\t' ': 'space',\n\t\t\t'\\b': 'backspace',\n\t\t\t'\\x7f': 'delete',\n\t\t\t'Spacebar': 'space',\n\t\t\t'Del': 'delete',\n\t\t\t'Win': 'meta',\n\t\t\t'Esc': 'escape'\n\t\t},\n\n\t\tcharLookup = {\n\t\t\t'tab': '\\t',\n\t\t\t'space': ' ',\n\t\t\t'enter': '\\r'\n\t\t},\n\n\t\tkeyMap = {},\n\t\tcharMap = {},\n\t\tmetaFixMap,\n\t\tdownKey,\n\n\t\tmodifiers = new Base({\n\t\t\tshift: false,\n\t\t\tcontrol: false,\n\t\t\talt: false,\n\t\t\tmeta: false,\n\t\t\tcapsLock: false,\n\t\t\tspace: false\n\t\t}).inject({\n\t\t\toption: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn this.alt;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcommand: {\n\t\t\t\tget: function() {\n\t\t\t\t\tvar agent = paper && paper.agent;\n\t\t\t\t\treturn agent && agent.mac ? this.meta : this.control;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\tfunction getKey(event) {\n\t\tvar key = event.key || event.keyIdentifier;\n\t\tkey = /^U\\+/.test(key)\n\t\t\t\t? String.fromCharCode(parseInt(key.substr(2), 16))\n\t\t\t\t: /^Arrow[A-Z]/.test(key) ? key.substr(5)\n\t\t\t\t: key === 'Unidentified'  || key === undefined\n\t\t\t\t\t? String.fromCharCode(event.keyCode)\n\t\t\t\t\t: key;\n\t\treturn keyLookup[key] ||\n\t\t\t\t(key.length > 1 ? Base.hyphenate(key) : key.toLowerCase());\n\t}\n\n\tfunction handleKey(down, key, character, event) {\n\t\tvar type = down ? 'keydown' : 'keyup',\n\t\t\tview = View._focused,\n\t\t\tname;\n\t\tkeyMap[key] = down;\n\t\tif (down) {\n\t\t\tcharMap[key] = character;\n\t\t} else {\n\t\t\tdelete charMap[key];\n\t\t}\n\t\tif (key.length > 1 && (name = Base.camelize(key)) in modifiers) {\n\t\t\tmodifiers[name] = down;\n\t\t\tvar agent = paper && paper.agent;\n\t\t\tif (name === 'meta' && agent && agent.mac) {\n\t\t\t\tif (down) {\n\t\t\t\t\tmetaFixMap = {};\n\t\t\t\t} else {\n\t\t\t\t\tfor (var k in metaFixMap) {\n\t\t\t\t\t\tif (k in charMap)\n\t\t\t\t\t\t\thandleKey(false, k, metaFixMap[k], event);\n\t\t\t\t\t}\n\t\t\t\t\tmetaFixMap = null;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (down && metaFixMap) {\n\t\t\tmetaFixMap[key] = character;\n\t\t}\n\t\tif (view) {\n\t\t\tview._handleKeyEvent(down ? 'keydown' : 'keyup', event, key,\n\t\t\t\t\tcharacter);\n\t\t}\n\t}\n\n\tDomEvent.add(document, {\n\t\tkeydown: function(event) {\n\t\t\tvar key = getKey(event),\n\t\t\t\tagent = paper && paper.agent;\n\t\t\tif (key.length > 1 || agent && (agent.chrome && (event.altKey\n\t\t\t\t\t\t|| agent.mac && event.metaKey\n\t\t\t\t\t\t|| !agent.mac && event.ctrlKey))) {\n\t\t\t\thandleKey(true, key,\n\t\t\t\t\t\tcharLookup[key] || (key.length > 1 ? '' : key), event);\n\t\t\t} else {\n\t\t\t\tdownKey = key;\n\t\t\t}\n\t\t},\n\n\t\tkeypress: function(event) {\n\t\t\tif (downKey) {\n\t\t\t\tvar key = getKey(event),\n\t\t\t\t\tcode = event.charCode,\n\t\t\t\t\tcharacter = code >= 32 ? String.fromCharCode(code)\n\t\t\t\t\t\t: key.length > 1 ? '' : key;\n\t\t\t\tif (key !== downKey) {\n\t\t\t\t\tkey = character.toLowerCase();\n\t\t\t\t}\n\t\t\t\thandleKey(true, key, character, event);\n\t\t\t\tdownKey = null;\n\t\t\t}\n\t\t},\n\n\t\tkeyup: function(event) {\n\t\t\tvar key = getKey(event);\n\t\t\tif (key in charMap)\n\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t}\n\t});\n\n\tDomEvent.add(window, {\n\t\tblur: function(event) {\n\t\t\tfor (var key in charMap)\n\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t}\n\t});\n\n\treturn {\n\t\tmodifiers: modifiers,\n\n\t\tisDown: function(key) {\n\t\t\treturn !!keyMap[key];\n\t\t}\n\t};\n};\n\nvar MouseEvent = Event.extend({\n\t_class: 'MouseEvent',\n\n\tinitialize: function MouseEvent(type, event, point, target, delta) {\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t\tthis.point = point;\n\t\tthis.target = target;\n\t\tthis.delta = delta;\n\t},\n\n\ttoString: function() {\n\t\treturn \"{ type: '\" + this.type\n\t\t\t\t+ \"', point: \" + this.point\n\t\t\t\t+ ', target: ' + this.target\n\t\t\t\t+ (this.delta ? ', delta: ' + this.delta : '')\n\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t+ ' }';\n\t}\n});\n\nvar ToolEvent = Event.extend({\n\t_class: 'ToolEvent',\n\t_item: null,\n\n\tinitialize: function ToolEvent(tool, type, event) {\n\t\tthis.tool = tool;\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t},\n\n\t_choosePoint: function(point, toolPoint) {\n\t\treturn point ? point : toolPoint ? toolPoint.clone() : null;\n\t},\n\n\tgetPoint: function() {\n\t\treturn this._choosePoint(this._point, this.tool._point);\n\t},\n\n\tsetPoint: function(point) {\n\t\tthis._point = point;\n\t},\n\n\tgetLastPoint: function() {\n\t\treturn this._choosePoint(this._lastPoint, this.tool._lastPoint);\n\t},\n\n\tsetLastPoint: function(lastPoint) {\n\t\tthis._lastPoint = lastPoint;\n\t},\n\n\tgetDownPoint: function() {\n\t\treturn this._choosePoint(this._downPoint, this.tool._downPoint);\n\t},\n\n\tsetDownPoint: function(downPoint) {\n\t\tthis._downPoint = downPoint;\n\t},\n\n\tgetMiddlePoint: function() {\n\t\tif (!this._middlePoint && this.tool._lastPoint) {\n\t\t\treturn this.tool._point.add(this.tool._lastPoint).divide(2);\n\t\t}\n\t\treturn this._middlePoint;\n\t},\n\n\tsetMiddlePoint: function(middlePoint) {\n\t\tthis._middlePoint = middlePoint;\n\t},\n\n\tgetDelta: function() {\n\t\treturn !this._delta && this.tool._lastPoint\n\t\t\t\t? this.tool._point.subtract(this.tool._lastPoint)\n\t\t\t\t: this._delta;\n\t},\n\n\tsetDelta: function(delta) {\n\t\tthis._delta = delta;\n\t},\n\n\tgetCount: function() {\n\t\treturn this.tool[/^mouse(down|up)$/.test(this.type)\n\t\t\t\t? '_downCount' : '_moveCount'];\n\t},\n\n\tsetCount: function(count) {\n\t\tthis.tool[/^mouse(down|up)$/.test(this.type) ? 'downCount' : 'count']\n\t\t\t= count;\n\t},\n\n\tgetItem: function() {\n\t\tif (!this._item) {\n\t\t\tvar result = this.tool._scope.project.hitTest(this.getPoint());\n\t\t\tif (result) {\n\t\t\t\tvar item = result.item,\n\t\t\t\t\tparent = item._parent;\n\t\t\t\twhile (/^(Group|CompoundPath)$/.test(parent._class)) {\n\t\t\t\t\titem = parent;\n\t\t\t\t\tparent = parent._parent;\n\t\t\t\t}\n\t\t\t\tthis._item = item;\n\t\t\t}\n\t\t}\n\t\treturn this._item;\n\t},\n\n\tsetItem: function(item) {\n\t\tthis._item = item;\n\t},\n\n\ttoString: function() {\n\t\treturn '{ type: ' + this.type\n\t\t\t\t+ ', point: ' + this.getPoint()\n\t\t\t\t+ ', count: ' + this.getCount()\n\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t+ ' }';\n\t}\n});\n\nvar Tool = PaperScopeItem.extend({\n\t_class: 'Tool',\n\t_list: 'tools',\n\t_reference: 'tool',\n\t_events: ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onMouseMove',\n\t\t\t'onActivate', 'onDeactivate', 'onEditOptions', 'onKeyDown',\n\t\t\t'onKeyUp'],\n\n\tinitialize: function Tool(props) {\n\t\tPaperScopeItem.call(this);\n\t\tthis._moveCount = -1;\n\t\tthis._downCount = -1;\n\t\tthis.set(props);\n\t},\n\n\tgetMinDistance: function() {\n\t\treturn this._minDistance;\n\t},\n\n\tsetMinDistance: function(minDistance) {\n\t\tthis._minDistance = minDistance;\n\t\tif (minDistance != null && this._maxDistance != null\n\t\t\t\t&& minDistance > this._maxDistance) {\n\t\t\tthis._maxDistance = minDistance;\n\t\t}\n\t},\n\n\tgetMaxDistance: function() {\n\t\treturn this._maxDistance;\n\t},\n\n\tsetMaxDistance: function(maxDistance) {\n\t\tthis._maxDistance = maxDistance;\n\t\tif (this._minDistance != null && maxDistance != null\n\t\t\t\t&& maxDistance < this._minDistance) {\n\t\t\tthis._minDistance = maxDistance;\n\t\t}\n\t},\n\n\tgetFixedDistance: function() {\n\t\treturn this._minDistance == this._maxDistance\n\t\t\t? this._minDistance : null;\n\t},\n\n\tsetFixedDistance: function(distance) {\n\t\tthis._minDistance = this._maxDistance = distance;\n\t},\n\n\t_handleMouseEvent: function(type, event, point, mouse) {\n\t\tpaper = this._scope;\n\t\tif (mouse.drag && !this.responds(type))\n\t\t\ttype = 'mousemove';\n\t\tvar move = mouse.move || mouse.drag,\n\t\t\tresponds = this.responds(type),\n\t\t\tminDistance = this.minDistance,\n\t\t\tmaxDistance = this.maxDistance,\n\t\t\tcalled = false,\n\t\t\ttool = this;\n\t\tfunction update(minDistance, maxDistance) {\n\t\t\tvar pt = point,\n\t\t\t\ttoolPoint = move ? tool._point : (tool._downPoint || pt);\n\t\t\tif (move) {\n\t\t\t\tif (tool._moveCount >= 0 && pt.equals(toolPoint)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (toolPoint && (minDistance != null || maxDistance != null)) {\n\t\t\t\t\tvar vector = pt.subtract(toolPoint),\n\t\t\t\t\t\tdistance = vector.getLength();\n\t\t\t\t\tif (distance < (minDistance || 0))\n\t\t\t\t\t\treturn false;\n\t\t\t\t\tif (maxDistance) {\n\t\t\t\t\t\tpt = toolPoint.add(vector.normalize(\n\t\t\t\t\t\t\t\tMath.min(distance, maxDistance)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttool._moveCount++;\n\t\t\t}\n\t\t\ttool._point = pt;\n\t\t\ttool._lastPoint = toolPoint || pt;\n\t\t\tif (mouse.down) {\n\t\t\t\ttool._moveCount = -1;\n\t\t\t\ttool._downPoint = pt;\n\t\t\t\ttool._downCount++;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tfunction emit() {\n\t\t\tif (responds) {\n\t\t\t\tcalled = tool.emit(type, new ToolEvent(tool, type, event))\n\t\t\t\t\t\t|| called;\n\t\t\t}\n\t\t}\n\n\t\tif (mouse.down) {\n\t\t\tupdate();\n\t\t\temit();\n\t\t} else if (mouse.up) {\n\t\t\tupdate(null, maxDistance);\n\t\t\temit();\n\t\t} else if (responds) {\n\t\t\twhile (update(minDistance, maxDistance))\n\t\t\t\temit();\n\t\t}\n\t\treturn called;\n\t}\n\n});\n\nvar Tween = Base.extend(Emitter, {\n\t_class: 'Tween',\n\n\tstatics: {\n\t\teasings: new Base({\n\t\t\tlinear: function(t) {\n\t\t\t\treturn t;\n\t\t\t},\n\n\t\t\teaseInQuad: function(t) {\n\t\t\t\treturn t * t;\n\t\t\t},\n\n\t\t\teaseOutQuad: function(t) {\n\t\t\t\treturn t * (2 - t);\n\t\t\t},\n\n\t\t\teaseInOutQuad: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 2 * t * t\n\t\t\t\t\t: -1 + 2 * (2 - t) * t;\n\t\t\t},\n\n\t\t\teaseInCubic: function(t) {\n\t\t\t\treturn t * t * t;\n\t\t\t},\n\n\t\t\teaseOutCubic: function(t) {\n\t\t\t\treturn --t * t * t + 1;\n\t\t\t},\n\n\t\t\teaseInOutCubic: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 4 * t * t * t\n\t\t\t\t\t: (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n\t\t\t},\n\n\t\t\teaseInQuart: function(t) {\n\t\t\t\treturn t * t * t * t;\n\t\t\t},\n\n\t\t\teaseOutQuart: function(t) {\n\t\t\t\treturn 1 - (--t) * t * t * t;\n\t\t\t},\n\n\t\t\teaseInOutQuart: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 8 * t * t * t * t\n\t\t\t\t\t: 1 - 8 * (--t) * t * t * t;\n\t\t\t},\n\n\t\t\teaseInQuint: function(t) {\n\t\t\t\treturn t * t * t * t * t;\n\t\t\t},\n\n\t\t\teaseOutQuint: function(t) {\n\t\t\t\treturn 1 + --t * t * t * t * t;\n\t\t\t},\n\n\t\t\teaseInOutQuint: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 16 * t * t * t * t * t\n\t\t\t\t\t: 1 + 16 * (--t) * t * t * t * t;\n\t\t\t}\n\t\t})\n\t},\n\n\tinitialize: function Tween(object, from, to, duration, easing, start) {\n\t\tthis.object = object;\n\t\tvar type = typeof easing;\n\t\tvar isFunction = type === 'function';\n\t\tthis.type = isFunction\n\t\t\t? type\n\t\t\t: type === 'string'\n\t\t\t\t? easing\n\t\t\t\t: 'linear';\n\t\tthis.easing = isFunction ? easing : Tween.easings[this.type];\n\t\tthis.duration = duration;\n\t\tthis.running = false;\n\n\t\tthis._then = null;\n\t\tthis._startTime = null;\n\t\tvar state = from || to;\n\t\tthis._keys = state ? Object.keys(state) : [];\n\t\tthis._parsedKeys = this._parseKeys(this._keys);\n\t\tthis._from = state && this._getState(from);\n\t\tthis._to = state && this._getState(to);\n\t\tif (start !== false) {\n\t\t\tthis.start();\n\t\t}\n\t},\n\n\tthen: function(then) {\n\t\tthis._then = then;\n\t\treturn this;\n\t},\n\n\tstart: function() {\n\t\tthis._startTime = null;\n\t\tthis.running = true;\n\t\treturn this;\n\t},\n\n\tstop: function() {\n\t\tthis.running = false;\n\t\treturn this;\n\t},\n\n\tupdate: function(progress) {\n\t\tif (this.running) {\n\t\t\tif (progress >= 1) {\n\t\t\t\tprogress = 1;\n\t\t\t\tthis.running = false;\n\t\t\t}\n\n\t\t\tvar factor = this.easing(progress),\n\t\t\t\tkeys = this._keys,\n\t\t\t\tgetValue = function(value) {\n\t\t\t\t\treturn typeof value === 'function'\n\t\t\t\t\t\t? value(factor, progress)\n\t\t\t\t\t\t: value;\n\t\t\t\t};\n\t\t\tfor (var i = 0, l = keys && keys.length; i < l; i++) {\n\t\t\t\tvar key = keys[i],\n\t\t\t\t\tfrom = getValue(this._from[key]),\n\t\t\t\t\tto = getValue(this._to[key]),\n\t\t\t\t\tvalue = (from && to && from.__add && to.__add)\n\t\t\t\t\t\t? to.__subtract(from).__multiply(factor).__add(from)\n\t\t\t\t\t\t: ((to - from) * factor) + from;\n\t\t\t\tthis._setProperty(this._parsedKeys[key], value);\n\t\t\t}\n\n\t\t\tif (this.responds('update')) {\n\t\t\t\tthis.emit('update', new Base({\n\t\t\t\t\tprogress: progress,\n\t\t\t\t\tfactor: factor\n\t\t\t\t}));\n\t\t\t}\n\t\t\tif (!this.running && this._then) {\n\t\t\t\tthis._then(this.object);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\t_events: {\n\t\tonUpdate: {}\n\t},\n\n\t_handleFrame: function(time) {\n\t\tvar startTime = this._startTime,\n\t\t\tprogress = startTime\n\t\t\t\t? (time - startTime) / this.duration\n\t\t\t\t: 0;\n\t\tif (!startTime) {\n\t\t\tthis._startTime = time;\n\t\t}\n\t\tthis.update(progress);\n\t},\n\n\t_getState: function(state) {\n\t\tvar keys = this._keys,\n\t\t\tresult = {};\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i],\n\t\t\t\tpath = this._parsedKeys[key],\n\t\t\t\tcurrent = this._getProperty(path),\n\t\t\t\tvalue;\n\t\t\tif (state) {\n\t\t\t\tvar resolved = this._resolveValue(current, state[key]);\n\t\t\t\tthis._setProperty(path, resolved);\n\t\t\t\tvalue = this._getProperty(path);\n\t\t\t\tvalue = value && value.clone ? value.clone() : value;\n\t\t\t\tthis._setProperty(path, current);\n\t\t\t} else {\n\t\t\t\tvalue = current && current.clone ? current.clone() : current;\n\t\t\t}\n\t\t\tresult[key] = value;\n\t\t}\n\t\treturn result;\n\t},\n\n\t_resolveValue: function(current, value) {\n\t\tif (value) {\n\t\t\tif (Array.isArray(value) && value.length === 2) {\n\t\t\t\tvar operator = value[0];\n\t\t\t\treturn (\n\t\t\t\t\toperator &&\n\t\t\t\t\toperator.match &&\n\t\t\t\t\toperator.match(/^[+\\-\\*\\/]=/)\n\t\t\t\t)\n\t\t\t\t\t? this._calculate(current, operator[0], value[1])\n\t\t\t\t\t: value;\n\t\t\t} else if (typeof value === 'string') {\n\t\t\t\tvar match = value.match(/^[+\\-*/]=(.*)/);\n\t\t\t\tif (match) {\n\t\t\t\t\tvar parsed = JSON.parse(match[1].replace(\n\t\t\t\t\t\t/(['\"])?([a-zA-Z0-9_]+)(['\"])?:/g,\n\t\t\t\t\t\t'\"$2\": '\n\t\t\t\t\t));\n\t\t\t\t\treturn this._calculate(current, value[0], parsed);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn value;\n\t},\n\n\t_calculate: function(left, operator, right) {\n\t\treturn paper.PaperScript.calculateBinary(left, operator, right);\n\t},\n\n\t_parseKeys: function(keys) {\n\t\tvar parsed = {};\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i],\n\t\t\t\tpath = key\n\t\t\t\t\t.replace(/\\.([^.]*)/g, '/$1')\n\t\t\t\t\t.replace(/\\[['\"]?([^'\"\\]]*)['\"]?\\]/g, '/$1');\n\t\t\tparsed[key] = path.split('/');\n\t\t}\n\t\treturn parsed;\n\t},\n\n\t_getProperty: function(path, offset) {\n\t\tvar obj = this.object;\n\t\tfor (var i = 0, l = path.length - (offset || 0); i < l && obj; i++) {\n\t\t\tobj = obj[path[i]];\n\t\t}\n\t\treturn obj;\n\t},\n\n\t_setProperty: function(path, value) {\n\t\tvar dest = this._getProperty(path, 1);\n\t\tif (dest) {\n\t\t\tdest[path[path.length - 1]] = value;\n\t\t}\n\t}\n});\n\nvar Http = {\n\trequest: function(options) {\n\t\tvar xhr = new self.XMLHttpRequest();\n\t\txhr.open((options.method || 'get').toUpperCase(), options.url,\n\t\t\t\tBase.pick(options.async, true));\n\t\tif (options.mimeType)\n\t\t\txhr.overrideMimeType(options.mimeType);\n\t\txhr.onload = function() {\n\t\t\tvar status = xhr.status;\n\t\t\tif (status === 0 || status === 200) {\n\t\t\t\tif (options.onLoad) {\n\t\t\t\t\toptions.onLoad.call(xhr, xhr.responseText);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\txhr.onerror();\n\t\t\t}\n\t\t};\n\t\txhr.onerror = function() {\n\t\t\tvar status = xhr.status,\n\t\t\t\tmessage = 'Could not load \"' + options.url + '\" (Status: '\n\t\t\t\t\t\t+ status + ')';\n\t\t\tif (options.onError) {\n\t\t\t\toptions.onError(message, status);\n\t\t\t} else {\n\t\t\t\tthrow new Error(message);\n\t\t\t}\n\t\t};\n\t\treturn xhr.send(null);\n\t}\n};\n\nvar CanvasProvider = Base.exports.CanvasProvider = {\n\tcanvases: [],\n\n\tgetCanvas: function(width, height) {\n\t\tif (!window)\n\t\t\treturn null;\n\t\tvar canvas,\n\t\t\tclear = true;\n\t\tif (typeof width === 'object') {\n\t\t\theight = width.height;\n\t\t\twidth = width.width;\n\t\t}\n\t\tif (this.canvases.length) {\n\t\t\tcanvas = this.canvases.pop();\n\t\t} else {\n\t\t\tcanvas = document.createElement('canvas');\n\t\t\tclear = false;\n\t\t}\n\t\tvar ctx = canvas.getContext('2d');\n\t\tif (!ctx) {\n\t\t\tthrow new Error('Canvas ' + canvas +\n\t\t\t\t\t' is unable to provide a 2D context.');\n\t\t}\n\t\tif (canvas.width === width && canvas.height === height) {\n\t\t\tif (clear)\n\t\t\t\tctx.clearRect(0, 0, width + 1, height + 1);\n\t\t} else {\n\t\t\tcanvas.width = width;\n\t\t\tcanvas.height = height;\n\t\t}\n\t\tctx.save();\n\t\treturn canvas;\n\t},\n\n\tgetContext: function(width, height) {\n\t\tvar canvas = this.getCanvas(width, height);\n\t\treturn canvas ? canvas.getContext('2d') : null;\n\t},\n\n\trelease: function(obj) {\n\t\tvar canvas = obj && obj.canvas ? obj.canvas : obj;\n\t\tif (canvas && canvas.getContext) {\n\t\t\tcanvas.getContext('2d').restore();\n\t\t\tthis.canvases.push(canvas);\n\t\t}\n\t}\n};\n\nvar BlendMode = new function() {\n\tvar min = Math.min,\n\t\tmax = Math.max,\n\t\tabs = Math.abs,\n\t\tsr, sg, sb, sa,\n\t\tbr, bg, bb, ba,\n\t\tdr, dg, db;\n\n\tfunction getLum(r, g, b) {\n\t\treturn 0.2989 * r + 0.587 * g + 0.114 * b;\n\t}\n\n\tfunction setLum(r, g, b, l) {\n\t\tvar d = l - getLum(r, g, b);\n\t\tdr = r + d;\n\t\tdg = g + d;\n\t\tdb = b + d;\n\t\tvar l = getLum(dr, dg, db),\n\t\t\tmn = min(dr, dg, db),\n\t\t\tmx = max(dr, dg, db);\n\t\tif (mn < 0) {\n\t\t\tvar lmn = l - mn;\n\t\t\tdr = l + (dr - l) * l / lmn;\n\t\t\tdg = l + (dg - l) * l / lmn;\n\t\t\tdb = l + (db - l) * l / lmn;\n\t\t}\n\t\tif (mx > 255) {\n\t\t\tvar ln = 255 - l,\n\t\t\t\tmxl = mx - l;\n\t\t\tdr = l + (dr - l) * ln / mxl;\n\t\t\tdg = l + (dg - l) * ln / mxl;\n\t\t\tdb = l + (db - l) * ln / mxl;\n\t\t}\n\t}\n\n\tfunction getSat(r, g, b) {\n\t\treturn max(r, g, b) - min(r, g, b);\n\t}\n\n\tfunction setSat(r, g, b, s) {\n\t\tvar col = [r, g, b],\n\t\t\tmx = max(r, g, b),\n\t\t\tmn = min(r, g, b),\n\t\t\tmd;\n\t\tmn = mn === r ? 0 : mn === g ? 1 : 2;\n\t\tmx = mx === r ? 0 : mx === g ? 1 : 2;\n\t\tmd = min(mn, mx) === 0 ? max(mn, mx) === 1 ? 2 : 1 : 0;\n\t\tif (col[mx] > col[mn]) {\n\t\t\tcol[md] = (col[md] - col[mn]) * s / (col[mx] - col[mn]);\n\t\t\tcol[mx] = s;\n\t\t} else {\n\t\t\tcol[md] = col[mx] = 0;\n\t\t}\n\t\tcol[mn] = 0;\n\t\tdr = col[0];\n\t\tdg = col[1];\n\t\tdb = col[2];\n\t}\n\n\tvar modes = {\n\t\tmultiply: function() {\n\t\t\tdr = br * sr / 255;\n\t\t\tdg = bg * sg / 255;\n\t\t\tdb = bb * sb / 255;\n\t\t},\n\n\t\tscreen: function() {\n\t\t\tdr = br + sr - (br * sr / 255);\n\t\t\tdg = bg + sg - (bg * sg / 255);\n\t\t\tdb = bb + sb - (bb * sb / 255);\n\t\t},\n\n\t\toverlay: function() {\n\t\t\tdr = br < 128 ? 2 * br * sr / 255 : 255 - 2 * (255 - br) * (255 - sr) / 255;\n\t\t\tdg = bg < 128 ? 2 * bg * sg / 255 : 255 - 2 * (255 - bg) * (255 - sg) / 255;\n\t\t\tdb = bb < 128 ? 2 * bb * sb / 255 : 255 - 2 * (255 - bb) * (255 - sb) / 255;\n\t\t},\n\n\t\t'soft-light': function() {\n\t\t\tvar t = sr * br / 255;\n\t\t\tdr = t + br * (255 - (255 - br) * (255 - sr) / 255 - t) / 255;\n\t\t\tt = sg * bg / 255;\n\t\t\tdg = t + bg * (255 - (255 - bg) * (255 - sg) / 255 - t) / 255;\n\t\t\tt = sb * bb / 255;\n\t\t\tdb = t + bb * (255 - (255 - bb) * (255 - sb) / 255 - t) / 255;\n\t\t},\n\n\t\t'hard-light': function() {\n\t\t\tdr = sr < 128 ? 2 * sr * br / 255 : 255 - 2 * (255 - sr) * (255 - br) / 255;\n\t\t\tdg = sg < 128 ? 2 * sg * bg / 255 : 255 - 2 * (255 - sg) * (255 - bg) / 255;\n\t\t\tdb = sb < 128 ? 2 * sb * bb / 255 : 255 - 2 * (255 - sb) * (255 - bb) / 255;\n\t\t},\n\n\t\t'color-dodge': function() {\n\t\t\tdr = br === 0 ? 0 : sr === 255 ? 255 : min(255, 255 * br / (255 - sr));\n\t\t\tdg = bg === 0 ? 0 : sg === 255 ? 255 : min(255, 255 * bg / (255 - sg));\n\t\t\tdb = bb === 0 ? 0 : sb === 255 ? 255 : min(255, 255 * bb / (255 - sb));\n\t\t},\n\n\t\t'color-burn': function() {\n\t\t\tdr = br === 255 ? 255 : sr === 0 ? 0 : max(0, 255 - (255 - br) * 255 / sr);\n\t\t\tdg = bg === 255 ? 255 : sg === 0 ? 0 : max(0, 255 - (255 - bg) * 255 / sg);\n\t\t\tdb = bb === 255 ? 255 : sb === 0 ? 0 : max(0, 255 - (255 - bb) * 255 / sb);\n\t\t},\n\n\t\tdarken: function() {\n\t\t\tdr = br < sr ? br : sr;\n\t\t\tdg = bg < sg ? bg : sg;\n\t\t\tdb = bb < sb ? bb : sb;\n\t\t},\n\n\t\tlighten: function() {\n\t\t\tdr = br > sr ? br : sr;\n\t\t\tdg = bg > sg ? bg : sg;\n\t\t\tdb = bb > sb ? bb : sb;\n\t\t},\n\n\t\tdifference: function() {\n\t\t\tdr = br - sr;\n\t\t\tif (dr < 0)\n\t\t\t\tdr = -dr;\n\t\t\tdg = bg - sg;\n\t\t\tif (dg < 0)\n\t\t\t\tdg = -dg;\n\t\t\tdb = bb - sb;\n\t\t\tif (db < 0)\n\t\t\t\tdb = -db;\n\t\t},\n\n\t\texclusion: function() {\n\t\t\tdr = br + sr * (255 - br - br) / 255;\n\t\t\tdg = bg + sg * (255 - bg - bg) / 255;\n\t\t\tdb = bb + sb * (255 - bb - bb) / 255;\n\t\t},\n\n\t\thue: function() {\n\t\t\tsetSat(sr, sg, sb, getSat(br, bg, bb));\n\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t},\n\n\t\tsaturation: function() {\n\t\t\tsetSat(br, bg, bb, getSat(sr, sg, sb));\n\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t},\n\n\t\tluminosity: function() {\n\t\t\tsetLum(br, bg, bb, getLum(sr, sg, sb));\n\t\t},\n\n\t\tcolor: function() {\n\t\t\tsetLum(sr, sg, sb, getLum(br, bg, bb));\n\t\t},\n\n\t\tadd: function() {\n\t\t\tdr = min(br + sr, 255);\n\t\t\tdg = min(bg + sg, 255);\n\t\t\tdb = min(bb + sb, 255);\n\t\t},\n\n\t\tsubtract: function() {\n\t\t\tdr = max(br - sr, 0);\n\t\t\tdg = max(bg - sg, 0);\n\t\t\tdb = max(bb - sb, 0);\n\t\t},\n\n\t\taverage: function() {\n\t\t\tdr = (br + sr) / 2;\n\t\t\tdg = (bg + sg) / 2;\n\t\t\tdb = (bb + sb) / 2;\n\t\t},\n\n\t\tnegation: function() {\n\t\t\tdr = 255 - abs(255 - sr - br);\n\t\t\tdg = 255 - abs(255 - sg - bg);\n\t\t\tdb = 255 - abs(255 - sb - bb);\n\t\t}\n\t};\n\n\tvar nativeModes = this.nativeModes = Base.each([\n\t\t'source-over', 'source-in', 'source-out', 'source-atop',\n\t\t'destination-over', 'destination-in', 'destination-out',\n\t\t'destination-atop', 'lighter', 'darker', 'copy', 'xor'\n\t], function(mode) {\n\t\tthis[mode] = true;\n\t}, {});\n\n\tvar ctx = CanvasProvider.getContext(1, 1);\n\tif (ctx) {\n\t\tBase.each(modes, function(func, mode) {\n\t\t\tvar darken = mode === 'darken',\n\t\t\t\tok = false;\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.fillStyle = darken ? '#300' : '#a00';\n\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\tctx.globalCompositeOperation = mode;\n\t\t\t\tif (ctx.globalCompositeOperation === mode) {\n\t\t\t\t\tctx.fillStyle = darken ? '#a00' : '#300';\n\t\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\t\tok = ctx.getImageData(0, 0, 1, 1).data[0] !== darken\n\t\t\t\t\t\t\t? 170 : 51;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t\tctx.restore();\n\t\t\tnativeModes[mode] = ok;\n\t\t});\n\t\tCanvasProvider.release(ctx);\n\t}\n\n\tthis.process = function(mode, srcContext, dstContext, alpha, offset) {\n\t\tvar srcCanvas = srcContext.canvas,\n\t\t\tnormal = mode === 'normal';\n\t\tif (normal || nativeModes[mode]) {\n\t\t\tdstContext.save();\n\t\t\tdstContext.setTransform(1, 0, 0, 1, 0, 0);\n\t\t\tdstContext.globalAlpha = alpha;\n\t\t\tif (!normal)\n\t\t\t\tdstContext.globalCompositeOperation = mode;\n\t\t\tdstContext.drawImage(srcCanvas, offset.x, offset.y);\n\t\t\tdstContext.restore();\n\t\t} else {\n\t\t\tvar process = modes[mode];\n\t\t\tif (!process)\n\t\t\t\treturn;\n\t\t\tvar dstData = dstContext.getImageData(offset.x, offset.y,\n\t\t\t\t\tsrcCanvas.width, srcCanvas.height),\n\t\t\t\tdst = dstData.data,\n\t\t\t\tsrc = srcContext.getImageData(0, 0,\n\t\t\t\t\tsrcCanvas.width, srcCanvas.height).data;\n\t\t\tfor (var i = 0, l = dst.length; i < l; i += 4) {\n\t\t\t\tsr = src[i];\n\t\t\t\tbr = dst[i];\n\t\t\t\tsg = src[i + 1];\n\t\t\t\tbg = dst[i + 1];\n\t\t\t\tsb = src[i + 2];\n\t\t\t\tbb = dst[i + 2];\n\t\t\t\tsa = src[i + 3];\n\t\t\t\tba = dst[i + 3];\n\t\t\t\tprocess();\n\t\t\t\tvar a1 = sa * alpha / 255,\n\t\t\t\t\ta2 = 1 - a1;\n\t\t\t\tdst[i] = a1 * dr + a2 * br;\n\t\t\t\tdst[i + 1] = a1 * dg + a2 * bg;\n\t\t\t\tdst[i + 2] = a1 * db + a2 * bb;\n\t\t\t\tdst[i + 3] = sa * alpha + a2 * ba;\n\t\t\t}\n\t\t\tdstContext.putImageData(dstData, offset.x, offset.y);\n\t\t}\n\t};\n};\n\nvar SvgElement = new function() {\n\tvar svg = 'http://www.w3.org/2000/svg',\n\t\txmlns = 'http://www.w3.org/2000/xmlns',\n\t\txlink = 'http://www.w3.org/1999/xlink',\n\t\tattributeNamespace = {\n\t\t\thref: xlink,\n\t\t\txlink: xmlns,\n\t\t\txmlns: xmlns + '/',\n\t\t\t'xmlns:xlink': xmlns + '/'\n\t\t};\n\n\tfunction create(tag, attributes, formatter) {\n\t\treturn set(document.createElementNS(svg, tag), attributes, formatter);\n\t}\n\n\tfunction get(node, name) {\n\t\tvar namespace = attributeNamespace[name],\n\t\t\tvalue = namespace\n\t\t\t\t? node.getAttributeNS(namespace, name)\n\t\t\t\t: node.getAttribute(name);\n\t\treturn value === 'null' ? null : value;\n\t}\n\n\tfunction set(node, attributes, formatter) {\n\t\tfor (var name in attributes) {\n\t\t\tvar value = attributes[name],\n\t\t\t\tnamespace = attributeNamespace[name];\n\t\t\tif (typeof value === 'number' && formatter)\n\t\t\t\tvalue = formatter.number(value);\n\t\t\tif (namespace) {\n\t\t\t\tnode.setAttributeNS(namespace, name, value);\n\t\t\t} else {\n\t\t\t\tnode.setAttribute(name, value);\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\n\treturn {\n\t\tsvg: svg,\n\t\txmlns: xmlns,\n\t\txlink: xlink,\n\n\t\tcreate: create,\n\t\tget: get,\n\t\tset: set\n\t};\n};\n\nvar SvgStyles = Base.each({\n\tfillColor: ['fill', 'color'],\n\tfillRule: ['fill-rule', 'string'],\n\tstrokeColor: ['stroke', 'color'],\n\tstrokeWidth: ['stroke-width', 'number'],\n\tstrokeCap: ['stroke-linecap', 'string'],\n\tstrokeJoin: ['stroke-linejoin', 'string'],\n\tstrokeScaling: ['vector-effect', 'lookup', {\n\t\ttrue: 'none',\n\t\tfalse: 'non-scaling-stroke'\n\t}, function(item, value) {\n\t\treturn !value\n\t\t\t\t&& (item instanceof PathItem\n\t\t\t\t\t|| item instanceof Shape\n\t\t\t\t\t|| item instanceof TextItem);\n\t}],\n\tmiterLimit: ['stroke-miterlimit', 'number'],\n\tdashArray: ['stroke-dasharray', 'array'],\n\tdashOffset: ['stroke-dashoffset', 'number'],\n\tfontFamily: ['font-family', 'string'],\n\tfontWeight: ['font-weight', 'string'],\n\tfontSize: ['font-size', 'number'],\n\tjustification: ['text-anchor', 'lookup', {\n\t\tleft: 'start',\n\t\tcenter: 'middle',\n\t\tright: 'end'\n\t}],\n\topacity: ['opacity', 'number'],\n\tblendMode: ['mix-blend-mode', 'style']\n}, function(entry, key) {\n\tvar part = Base.capitalize(key),\n\t\tlookup = entry[2];\n\tthis[key] = {\n\t\ttype: entry[1],\n\t\tproperty: key,\n\t\tattribute: entry[0],\n\t\ttoSVG: lookup,\n\t\tfromSVG: lookup && Base.each(lookup, function(value, name) {\n\t\t\tthis[value] = name;\n\t\t}, {}),\n\t\texportFilter: entry[3],\n\t\tget: 'get' + part,\n\t\tset: 'set' + part\n\t};\n}, {});\n\nnew function() {\n\tvar formatter;\n\n\tfunction getTransform(matrix, coordinates, center) {\n\t\tvar attrs = new Base(),\n\t\t\ttrans = matrix.getTranslation();\n\t\tif (coordinates) {\n\t\t\tvar point;\n\t\t\tif (matrix.isInvertible()) {\n\t\t\t\tmatrix = matrix._shiftless();\n\t\t\t\tpoint = matrix._inverseTransform(trans);\n\t\t\t\ttrans = null;\n\t\t\t} else {\n\t\t\t\tpoint = new Point();\n\t\t\t}\n\t\t\tattrs[center ? 'cx' : 'x'] = point.x;\n\t\t\tattrs[center ? 'cy' : 'y'] = point.y;\n\t\t}\n\t\tif (!matrix.isIdentity()) {\n\t\t\tvar decomposed = matrix.decompose();\n\t\t\tif (decomposed) {\n\t\t\t\tvar parts = [],\n\t\t\t\t\tangle = decomposed.rotation,\n\t\t\t\t\tscale = decomposed.scaling,\n\t\t\t\t\tskew = decomposed.skewing;\n\t\t\t\tif (trans && !trans.isZero())\n\t\t\t\t\tparts.push('translate(' + formatter.point(trans) + ')');\n\t\t\t\tif (angle)\n\t\t\t\t\tparts.push('rotate(' + formatter.number(angle) + ')');\n\t\t\t\tif (!Numerical.isZero(scale.x - 1)\n\t\t\t\t\t\t|| !Numerical.isZero(scale.y - 1))\n\t\t\t\t\tparts.push('scale(' + formatter.point(scale) +')');\n\t\t\t\tif (skew.x)\n\t\t\t\t\tparts.push('skewX(' + formatter.number(skew.x) + ')');\n\t\t\t\tif (skew.y)\n\t\t\t\t\tparts.push('skewY(' + formatter.number(skew.y) + ')');\n\t\t\t\tattrs.transform = parts.join(' ');\n\t\t\t} else {\n\t\t\t\tattrs.transform = 'matrix(' + matrix.getValues().join(',') + ')';\n\t\t\t}\n\t\t}\n\t\treturn attrs;\n\t}\n\n\tfunction exportGroup(item, options) {\n\t\tvar attrs = getTransform(item._matrix),\n\t\t\tchildren = item._children;\n\t\tvar node = SvgElement.create('g', attrs, formatter);\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i];\n\t\t\tvar childNode = exportSVG(child, options);\n\t\t\tif (childNode) {\n\t\t\t\tif (child.isClipMask()) {\n\t\t\t\t\tvar clip = SvgElement.create('clipPath');\n\t\t\t\t\tclip.appendChild(childNode);\n\t\t\t\t\tsetDefinition(child, clip, 'clip');\n\t\t\t\t\tSvgElement.set(node, {\n\t\t\t\t\t\t'clip-path': 'url(#' + clip.id + ')'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnode.appendChild(childNode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\n\tfunction exportRaster(item, options) {\n\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\tsize = item.getSize(),\n\t\t\timage = item.getImage();\n\t\tattrs.x -= size.width / 2;\n\t\tattrs.y -= size.height / 2;\n\t\tattrs.width = size.width;\n\t\tattrs.height = size.height;\n\t\tattrs.href = options.embedImages == false && image && image.src\n\t\t\t\t|| item.toDataURL();\n\t\treturn SvgElement.create('image', attrs, formatter);\n\t}\n\n\tfunction exportPath(item, options) {\n\t\tvar matchShapes = options.matchShapes;\n\t\tif (matchShapes) {\n\t\t\tvar shape = item.toShape(false);\n\t\t\tif (shape)\n\t\t\t\treturn exportShape(shape, options);\n\t\t}\n\t\tvar segments = item._segments,\n\t\t\tlength = segments.length,\n\t\t\ttype,\n\t\t\tattrs = getTransform(item._matrix);\n\t\tif (matchShapes && length >= 2 && !item.hasHandles()) {\n\t\t\tif (length > 2) {\n\t\t\t\ttype = item._closed ? 'polygon' : 'polyline';\n\t\t\t\tvar parts = [];\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tparts.push(formatter.point(segments[i]._point));\n\t\t\t\t}\n\t\t\t\tattrs.points = parts.join(' ');\n\t\t\t} else {\n\t\t\t\ttype = 'line';\n\t\t\t\tvar start = segments[0]._point,\n\t\t\t\t\tend = segments[1]._point;\n\t\t\t\tattrs.set({\n\t\t\t\t\tx1: start.x,\n\t\t\t\t\ty1: start.y,\n\t\t\t\t\tx2: end.x,\n\t\t\t\t\ty2: end.y\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\ttype = 'path';\n\t\t\tattrs.d = item.getPathData(null, options.precision);\n\t\t}\n\t\treturn SvgElement.create(type, attrs, formatter);\n\t}\n\n\tfunction exportShape(item) {\n\t\tvar type = item._type,\n\t\t\tradius = item._radius,\n\t\t\tattrs = getTransform(item._matrix, true, type !== 'rectangle');\n\t\tif (type === 'rectangle') {\n\t\t\ttype = 'rect';\n\t\t\tvar size = item._size,\n\t\t\t\twidth = size.width,\n\t\t\t\theight = size.height;\n\t\t\tattrs.x -= width / 2;\n\t\t\tattrs.y -= height / 2;\n\t\t\tattrs.width = width;\n\t\t\tattrs.height = height;\n\t\t\tif (radius.isZero())\n\t\t\t\tradius = null;\n\t\t}\n\t\tif (radius) {\n\t\t\tif (type === 'circle') {\n\t\t\t\tattrs.r = radius;\n\t\t\t} else {\n\t\t\t\tattrs.rx = radius.width;\n\t\t\t\tattrs.ry = radius.height;\n\t\t\t}\n\t\t}\n\t\treturn SvgElement.create(type, attrs, formatter);\n\t}\n\n\tfunction exportCompoundPath(item, options) {\n\t\tvar attrs = getTransform(item._matrix);\n\t\tvar data = item.getPathData(null, options.precision);\n\t\tif (data)\n\t\t\tattrs.d = data;\n\t\treturn SvgElement.create('path', attrs, formatter);\n\t}\n\n\tfunction exportSymbolItem(item, options) {\n\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\tdefinition = item._definition,\n\t\t\tnode = getDefinition(definition, 'symbol'),\n\t\t\tdefinitionItem = definition._item,\n\t\t\tbounds = definitionItem.getStrokeBounds();\n\t\tif (!node) {\n\t\t\tnode = SvgElement.create('symbol', {\n\t\t\t\tviewBox: formatter.rectangle(bounds)\n\t\t\t});\n\t\t\tnode.appendChild(exportSVG(definitionItem, options));\n\t\t\tsetDefinition(definition, node, 'symbol');\n\t\t}\n\t\tattrs.href = '#' + node.id;\n\t\tattrs.x += bounds.x;\n\t\tattrs.y += bounds.y;\n\t\tattrs.width = bounds.width;\n\t\tattrs.height = bounds.height;\n\t\tattrs.overflow = 'visible';\n\t\treturn SvgElement.create('use', attrs, formatter);\n\t}\n\n\tfunction exportGradient(color) {\n\t\tvar gradientNode = getDefinition(color, 'color');\n\t\tif (!gradientNode) {\n\t\t\tvar gradient = color.getGradient(),\n\t\t\t\tradial = gradient._radial,\n\t\t\t\torigin = color.getOrigin(),\n\t\t\t\tdestination = color.getDestination(),\n\t\t\t\tattrs;\n\t\t\tif (radial) {\n\t\t\t\tattrs = {\n\t\t\t\t\tcx: origin.x,\n\t\t\t\t\tcy: origin.y,\n\t\t\t\t\tr: origin.getDistance(destination)\n\t\t\t\t};\n\t\t\t\tvar highlight = color.getHighlight();\n\t\t\t\tif (highlight) {\n\t\t\t\t\tattrs.fx = highlight.x;\n\t\t\t\t\tattrs.fy = highlight.y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tattrs = {\n\t\t\t\t\tx1: origin.x,\n\t\t\t\t\ty1: origin.y,\n\t\t\t\t\tx2: destination.x,\n\t\t\t\t\ty2: destination.y\n\t\t\t\t};\n\t\t\t}\n\t\t\tattrs.gradientUnits = 'userSpaceOnUse';\n\t\t\tgradientNode = SvgElement.create((radial ? 'radial' : 'linear')\n\t\t\t\t\t+ 'Gradient', attrs, formatter);\n\t\t\tvar stops = gradient._stops;\n\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\tvar stop = stops[i],\n\t\t\t\t\tstopColor = stop._color,\n\t\t\t\t\talpha = stopColor.getAlpha(),\n\t\t\t\t\toffset = stop._offset;\n\t\t\t\tattrs = {\n\t\t\t\t\toffset: offset == null ? i / (l - 1) : offset\n\t\t\t\t};\n\t\t\t\tif (stopColor)\n\t\t\t\t\tattrs['stop-color'] = stopColor.toCSS(true);\n\t\t\t\tif (alpha < 1)\n\t\t\t\t\tattrs['stop-opacity'] = alpha;\n\t\t\t\tgradientNode.appendChild(\n\t\t\t\t\t\tSvgElement.create('stop', attrs, formatter));\n\t\t\t}\n\t\t\tsetDefinition(color, gradientNode, 'color');\n\t\t}\n\t\treturn 'url(#' + gradientNode.id + ')';\n\t}\n\n\tfunction exportText(item) {\n\t\tvar node = SvgElement.create('text', getTransform(item._matrix, true),\n\t\t\t\tformatter);\n\t\tnode.textContent = item._content;\n\t\treturn node;\n\t}\n\n\tvar exporters = {\n\t\tGroup: exportGroup,\n\t\tLayer: exportGroup,\n\t\tRaster: exportRaster,\n\t\tPath: exportPath,\n\t\tShape: exportShape,\n\t\tCompoundPath: exportCompoundPath,\n\t\tSymbolItem: exportSymbolItem,\n\t\tPointText: exportText\n\t};\n\n\tfunction applyStyle(item, node, isRoot) {\n\t\tvar attrs = {},\n\t\t\tparent = !isRoot && item.getParent(),\n\t\t\tstyle = [];\n\n\t\tif (item._name != null)\n\t\t\tattrs.id = item._name;\n\n\t\tBase.each(SvgStyles, function(entry) {\n\t\t\tvar get = entry.get,\n\t\t\t\ttype = entry.type,\n\t\t\t\tvalue = item[get]();\n\t\t\tif (entry.exportFilter\n\t\t\t\t\t? entry.exportFilter(item, value)\n\t\t\t\t\t: !parent || !Base.equals(parent[get](), value)) {\n\t\t\t\tif (type === 'color' && value != null) {\n\t\t\t\t\tvar alpha = value.getAlpha();\n\t\t\t\t\tif (alpha < 1)\n\t\t\t\t\t\tattrs[entry.attribute + '-opacity'] = alpha;\n\t\t\t\t}\n\t\t\t\tif (type === 'style') {\n\t\t\t\t\tstyle.push(entry.attribute + ': ' + value);\n\t\t\t\t} else {\n\t\t\t\t\tattrs[entry.attribute] = value == null ? 'none'\n\t\t\t\t\t\t\t: type === 'color' ? value.gradient\n\t\t\t\t\t\t\t\t? exportGradient(value, item)\n\t\t\t\t\t\t\t\t: value.toCSS(true)\n\t\t\t\t\t\t\t: type === 'array' ? value.join(',')\n\t\t\t\t\t\t\t: type === 'lookup' ? entry.toSVG[value]\n\t\t\t\t\t\t\t: value;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (style.length)\n\t\t\tattrs.style = style.join(';');\n\n\t\tif (attrs.opacity === 1)\n\t\t\tdelete attrs.opacity;\n\n\t\tif (!item._visible)\n\t\t\tattrs.visibility = 'hidden';\n\n\t\treturn SvgElement.set(node, attrs, formatter);\n\t}\n\n\tvar definitions;\n\tfunction getDefinition(item, type) {\n\t\tif (!definitions)\n\t\t\tdefinitions = { ids: {}, svgs: {} };\n\t\treturn item && definitions.svgs[type + '-'\n\t\t\t\t+ (item._id || item.__id || (item.__id = UID.get('svg')))];\n\t}\n\n\tfunction setDefinition(item, node, type) {\n\t\tif (!definitions)\n\t\t\tgetDefinition();\n\t\tvar typeId = definitions.ids[type] = (definitions.ids[type] || 0) + 1;\n\t\tnode.id = type + '-' + typeId;\n\t\tdefinitions.svgs[type + '-' + (item._id || item.__id)] = node;\n\t}\n\n\tfunction exportDefinitions(node, options) {\n\t\tvar svg = node,\n\t\t\tdefs = null;\n\t\tif (definitions) {\n\t\t\tsvg = node.nodeName.toLowerCase() === 'svg' && node;\n\t\t\tfor (var i in definitions.svgs) {\n\t\t\t\tif (!defs) {\n\t\t\t\t\tif (!svg) {\n\t\t\t\t\t\tsvg = SvgElement.create('svg');\n\t\t\t\t\t\tsvg.appendChild(node);\n\t\t\t\t\t}\n\t\t\t\t\tdefs = svg.insertBefore(SvgElement.create('defs'),\n\t\t\t\t\t\t\tsvg.firstChild);\n\t\t\t\t}\n\t\t\t\tdefs.appendChild(definitions.svgs[i]);\n\t\t\t}\n\t\t\tdefinitions = null;\n\t\t}\n\t\treturn options.asString\n\t\t\t\t? new self.XMLSerializer().serializeToString(svg)\n\t\t\t\t: svg;\n\t}\n\n\tfunction exportSVG(item, options, isRoot) {\n\t\tvar exporter = exporters[item._class],\n\t\t\tnode = exporter && exporter(item, options);\n\t\tif (node) {\n\t\t\tvar onExport = options.onExport;\n\t\t\tif (onExport)\n\t\t\t\tnode = onExport(item, node, options) || node;\n\t\t\tvar data = JSON.stringify(item._data);\n\t\t\tif (data && data !== '{}' && data !== 'null')\n\t\t\t\tnode.setAttribute('data-paper-data', data);\n\t\t}\n\t\treturn node && applyStyle(item, node, isRoot);\n\t}\n\n\tfunction setOptions(options) {\n\t\tif (!options)\n\t\t\toptions = {};\n\t\tformatter = new Formatter(options.precision);\n\t\treturn options;\n\t}\n\n\tItem.inject({\n\t\texportSVG: function(options) {\n\t\t\toptions = setOptions(options);\n\t\t\treturn exportDefinitions(exportSVG(this, options, true), options);\n\t\t}\n\t});\n\n\tProject.inject({\n\t\texportSVG: function(options) {\n\t\t\toptions = setOptions(options);\n\t\t\tvar children = this._children,\n\t\t\t\tview = this.getView(),\n\t\t\t\tbounds = Base.pick(options.bounds, 'view'),\n\t\t\t\tmx = options.matrix || bounds === 'view' && view._matrix,\n\t\t\t\tmatrix = mx && Matrix.read([mx]),\n\t\t\t\trect = bounds === 'view'\n\t\t\t\t\t? new Rectangle([0, 0], view.getViewSize())\n\t\t\t\t\t: bounds === 'content'\n\t\t\t\t\t\t? Item._getBounds(children, matrix, { stroke: true })\n\t\t\t\t\t\t\t.rect\n\t\t\t\t\t\t: Rectangle.read([bounds], 0, { readNull: true }),\n\t\t\t\tattrs = {\n\t\t\t\t\tversion: '1.1',\n\t\t\t\t\txmlns: SvgElement.svg,\n\t\t\t\t\t'xmlns:xlink': SvgElement.xlink,\n\t\t\t\t};\n\t\t\tif (rect) {\n\t\t\t\tattrs.width = rect.width;\n\t\t\t\tattrs.height = rect.height;\n\t\t\t\tif (rect.x || rect.x === 0 || rect.y || rect.y === 0)\n\t\t\t\t\tattrs.viewBox = formatter.rectangle(rect);\n\t\t\t}\n\t\t\tvar node = SvgElement.create('svg', attrs, formatter),\n\t\t\t\tparent = node;\n\t\t\tif (matrix && !matrix.isIdentity()) {\n\t\t\t\tparent = node.appendChild(SvgElement.create('g',\n\t\t\t\t\t\tgetTransform(matrix), formatter));\n\t\t\t}\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tparent.appendChild(exportSVG(children[i], options, true));\n\t\t\t}\n\t\t\treturn exportDefinitions(node, options);\n\t\t}\n\t});\n};\n\nnew function() {\n\n\tvar definitions = {},\n\t\trootSize;\n\n\tfunction getValue(node, name, isString, allowNull, allowPercent,\n\t\t\tdefaultValue) {\n\t\tvar value = SvgElement.get(node, name) || defaultValue,\n\t\t\tres = value == null\n\t\t\t\t? allowNull\n\t\t\t\t\t? null\n\t\t\t\t\t: isString ? '' : 0\n\t\t\t\t: isString\n\t\t\t\t\t? value\n\t\t\t\t\t: parseFloat(value);\n\t\treturn /%\\s*$/.test(value)\n\t\t\t? (res / 100) * (allowPercent ? 1\n\t\t\t\t: rootSize[/x|^width/.test(name) ? 'width' : 'height'])\n\t\t\t: res;\n\t}\n\n\tfunction getPoint(node, x, y, allowNull, allowPercent, defaultX, defaultY) {\n\t\tx = getValue(node, x || 'x', false, allowNull, allowPercent, defaultX);\n\t\ty = getValue(node, y || 'y', false, allowNull, allowPercent, defaultY);\n\t\treturn allowNull && (x == null || y == null) ? null\n\t\t\t\t: new Point(x, y);\n\t}\n\n\tfunction getSize(node, w, h, allowNull, allowPercent) {\n\t\tw = getValue(node, w || 'width', false, allowNull, allowPercent);\n\t\th = getValue(node, h || 'height', false, allowNull, allowPercent);\n\t\treturn allowNull && (w == null || h == null) ? null\n\t\t\t\t: new Size(w, h);\n\t}\n\n\tfunction convertValue(value, type, lookup) {\n\t\treturn value === 'none' ? null\n\t\t\t\t: type === 'number' ? parseFloat(value)\n\t\t\t\t: type === 'array' ?\n\t\t\t\t\tvalue ? value.split(/[\\s,]+/g).map(parseFloat) : []\n\t\t\t\t: type === 'color' ? getDefinition(value) || value\n\t\t\t\t: type === 'lookup' ? lookup[value]\n\t\t\t\t: value;\n\t}\n\n\tfunction importGroup(node, type, options, isRoot) {\n\t\tvar nodes = node.childNodes,\n\t\t\tisClip = type === 'clippath',\n\t\t\tisDefs = type === 'defs',\n\t\t\titem = new Group(),\n\t\t\tproject = item._project,\n\t\t\tcurrentStyle = project._currentStyle,\n\t\t\tchildren = [];\n\t\tif (!isClip && !isDefs) {\n\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\tproject._currentStyle = item._style.clone();\n\t\t}\n\t\tif (isRoot) {\n\t\t\tvar defs = node.querySelectorAll('defs');\n\t\t\tfor (var i = 0, l = defs.length; i < l; i++) {\n\t\t\t\timportNode(defs[i], options, false);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\tvar childNode = nodes[i],\n\t\t\t\tchild;\n\t\t\tif (childNode.nodeType === 1\n\t\t\t\t\t&& !/^defs$/i.test(childNode.nodeName)\n\t\t\t\t\t&& (child = importNode(childNode, options, false))\n\t\t\t\t\t&& !(child instanceof SymbolDefinition))\n\t\t\t\tchildren.push(child);\n\t\t}\n\t\titem.addChildren(children);\n\t\tif (isClip)\n\t\t\titem = applyAttributes(item.reduce(), node, isRoot);\n\t\tproject._currentStyle = currentStyle;\n\t\tif (isClip || isDefs) {\n\t\t\titem.remove();\n\t\t\titem = null;\n\t\t}\n\t\treturn item;\n\t}\n\n\tfunction importPoly(node, type) {\n\t\tvar coords = node.getAttribute('points').match(\n\t\t\t\t\t/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g),\n\t\t\tpoints = [];\n\t\tfor (var i = 0, l = coords.length; i < l; i += 2)\n\t\t\tpoints.push(new Point(\n\t\t\t\t\tparseFloat(coords[i]),\n\t\t\t\t\tparseFloat(coords[i + 1])));\n\t\tvar path = new Path(points);\n\t\tif (type === 'polygon')\n\t\t\tpath.closePath();\n\t\treturn path;\n\t}\n\n\tfunction importPath(node) {\n\t\treturn PathItem.create(node.getAttribute('d'));\n\t}\n\n\tfunction importGradient(node, type) {\n\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\tradial = type === 'radialgradient',\n\t\t\tgradient;\n\t\tif (id) {\n\t\t\tgradient = definitions[id].getGradient();\n\t\t\tif (gradient._radial ^ radial) {\n\t\t\t\tgradient = gradient.clone();\n\t\t\t\tgradient._radial = radial;\n\t\t\t}\n\t\t} else {\n\t\t\tvar nodes = node.childNodes,\n\t\t\t\tstops = [];\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar child = nodes[i];\n\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\tstops.push(applyAttributes(new GradientStop(), child));\n\t\t\t}\n\t\t\tgradient = new Gradient(stops, radial);\n\t\t}\n\t\tvar origin, destination, highlight,\n\t\t\tscaleToBounds = getValue(node, 'gradientUnits', true) !==\n\t\t\t\t'userSpaceOnUse';\n\t\tif (radial) {\n\t\t\torigin = getPoint(node, 'cx', 'cy', false, scaleToBounds,\n\t\t\t\t'50%', '50%');\n\t\t\tdestination = origin.add(\n\t\t\t\tgetValue(node, 'r', false, false, scaleToBounds, '50%'), 0);\n\t\t\thighlight = getPoint(node, 'fx', 'fy', true, scaleToBounds);\n\t\t} else {\n\t\t\torigin = getPoint(node, 'x1', 'y1', false, scaleToBounds,\n\t\t\t\t'0%', '0%');\n\t\t\tdestination = getPoint(node, 'x2', 'y2', false, scaleToBounds,\n\t\t\t\t'100%', '0%');\n\t\t}\n\t\tvar color = applyAttributes(\n\t\t\t\tnew Color(gradient, origin, destination, highlight), node);\n\t\tcolor._scaleToBounds = scaleToBounds;\n\t\treturn null;\n\t}\n\n\tvar importers = {\n\t\t'#document': function (node, type, options, isRoot) {\n\t\t\tvar nodes = node.childNodes;\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar child = nodes[i];\n\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\treturn importNode(child, options, isRoot);\n\t\t\t}\n\t\t},\n\t\tg: importGroup,\n\t\tsvg: importGroup,\n\t\tclippath: importGroup,\n\t\tpolygon: importPoly,\n\t\tpolyline: importPoly,\n\t\tpath: importPath,\n\t\tlineargradient: importGradient,\n\t\tradialgradient: importGradient,\n\n\t\timage: function (node) {\n\t\t\tvar raster = new Raster(getValue(node, 'href', true));\n\t\t\traster.on('load', function() {\n\t\t\t\tvar size = getSize(node);\n\t\t\t\tthis.setSize(size);\n\t\t\t\tvar center = getPoint(node).add(size.divide(2));\n\t\t\t\tthis._matrix.append(new Matrix().translate(center));\n\t\t\t});\n\t\t\treturn raster;\n\t\t},\n\n\t\tsymbol: function(node, type, options, isRoot) {\n\t\t\treturn new SymbolDefinition(\n\t\t\t\t\timportGroup(node, type, options, isRoot), true);\n\t\t},\n\n\t\tdefs: importGroup,\n\n\t\tuse: function(node) {\n\t\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\t\tdefinition = definitions[id],\n\t\t\t\tpoint = getPoint(node);\n\t\t\treturn definition\n\t\t\t\t\t? definition instanceof SymbolDefinition\n\t\t\t\t\t\t? definition.place(point)\n\t\t\t\t\t\t: definition.clone().translate(point)\n\t\t\t\t\t: null;\n\t\t},\n\n\t\tcircle: function(node) {\n\t\t\treturn new Shape.Circle(\n\t\t\t\t\tgetPoint(node, 'cx', 'cy'),\n\t\t\t\t\tgetValue(node, 'r'));\n\t\t},\n\n\t\tellipse: function(node) {\n\t\t\treturn new Shape.Ellipse({\n\t\t\t\tcenter: getPoint(node, 'cx', 'cy'),\n\t\t\t\tradius: getSize(node, 'rx', 'ry')\n\t\t\t});\n\t\t},\n\n\t\trect: function(node) {\n\t\t\treturn new Shape.Rectangle(new Rectangle(\n\t\t\t\t\t\tgetPoint(node),\n\t\t\t\t\t\tgetSize(node)\n\t\t\t\t\t), getSize(node, 'rx', 'ry'));\n\t\t\t},\n\n\t\tline: function(node) {\n\t\t\treturn new Path.Line(\n\t\t\t\t\tgetPoint(node, 'x1', 'y1'),\n\t\t\t\t\tgetPoint(node, 'x2', 'y2'));\n\t\t},\n\n\t\ttext: function(node) {\n\t\t\tvar text = new PointText(getPoint(node).add(\n\t\t\t\t\tgetPoint(node, 'dx', 'dy')));\n\t\t\ttext.setContent(node.textContent.trim() || '');\n\t\t\treturn text;\n\t\t},\n\n\t\tswitch: importGroup\n\t};\n\n\tfunction applyTransform(item, value, name, node) {\n\t\tif (item.transform) {\n\t\t\tvar transforms = (node.getAttribute(name) || '').split(/\\)\\s*/g),\n\t\t\t\tmatrix = new Matrix();\n\t\t\tfor (var i = 0, l = transforms.length; i < l; i++) {\n\t\t\t\tvar transform = transforms[i];\n\t\t\t\tif (!transform)\n\t\t\t\t\tbreak;\n\t\t\t\tvar parts = transform.split(/\\(\\s*/),\n\t\t\t\t\tcommand = parts[0],\n\t\t\t\t\tv = parts[1].split(/[\\s,]+/g);\n\t\t\t\tfor (var j = 0, m = v.length; j < m; j++)\n\t\t\t\t\tv[j] = parseFloat(v[j]);\n\t\t\t\tswitch (command) {\n\t\t\t\tcase 'matrix':\n\t\t\t\t\tmatrix.append(\n\t\t\t\t\t\t\tnew Matrix(v[0], v[1], v[2], v[3], v[4], v[5]));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'rotate':\n\t\t\t\t\tmatrix.rotate(v[0], v[1] || 0, v[2] || 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'translate':\n\t\t\t\t\tmatrix.translate(v[0], v[1] || 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'scale':\n\t\t\t\t\tmatrix.scale(v);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'skewX':\n\t\t\t\t\tmatrix.skew(v[0], 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'skewY':\n\t\t\t\t\tmatrix.skew(0, v[0]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\titem.transform(matrix);\n\t\t}\n\t}\n\n\tfunction applyOpacity(item, value, name) {\n\t\tvar key = name === 'fill-opacity' ? 'getFillColor' : 'getStrokeColor',\n\t\t\tcolor = item[key] && item[key]();\n\t\tif (color)\n\t\t\tcolor.setAlpha(parseFloat(value));\n\t}\n\n\tvar attributes = Base.set(Base.each(SvgStyles, function(entry) {\n\t\tthis[entry.attribute] = function(item, value) {\n\t\t\tif (item[entry.set]) {\n\t\t\t\titem[entry.set](convertValue(value, entry.type, entry.fromSVG));\n\t\t\t\tif (entry.type === 'color') {\n\t\t\t\t\tvar color = item[entry.get]();\n\t\t\t\t\tif (color) {\n\t\t\t\t\t\tif (color._scaleToBounds) {\n\t\t\t\t\t\t\tvar bounds = item.getBounds();\n\t\t\t\t\t\t\tcolor.transform(new Matrix()\n\t\t\t\t\t\t\t\t.translate(bounds.getPoint())\n\t\t\t\t\t\t\t\t.scale(bounds.getSize()));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}, {}), {\n\t\tid: function(item, value) {\n\t\t\tdefinitions[value] = item;\n\t\t\tif (item.setName)\n\t\t\t\titem.setName(value);\n\t\t},\n\n\t\t'clip-path': function(item, value) {\n\t\t\tvar clip = getDefinition(value);\n\t\t\tif (clip) {\n\t\t\t\tclip = clip.clone();\n\t\t\t\tclip.setClipMask(true);\n\t\t\t\tif (item instanceof Group) {\n\t\t\t\t\titem.insertChild(0, clip);\n\t\t\t\t} else {\n\t\t\t\t\treturn new Group(clip, item);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgradientTransform: applyTransform,\n\t\ttransform: applyTransform,\n\n\t\t'fill-opacity': applyOpacity,\n\t\t'stroke-opacity': applyOpacity,\n\n\t\tvisibility: function(item, value) {\n\t\t\tif (item.setVisible)\n\t\t\t\titem.setVisible(value === 'visible');\n\t\t},\n\n\t\tdisplay: function(item, value) {\n\t\t\tif (item.setVisible)\n\t\t\t\titem.setVisible(value !== null);\n\t\t},\n\n\t\t'stop-color': function(item, value) {\n\t\t\tif (item.setColor)\n\t\t\t\titem.setColor(value);\n\t\t},\n\n\t\t'stop-opacity': function(item, value) {\n\t\t\tif (item._color)\n\t\t\t\titem._color.setAlpha(parseFloat(value));\n\t\t},\n\n\t\toffset: function(item, value) {\n\t\t\tif (item.setOffset) {\n\t\t\t\tvar percent = value.match(/(.*)%$/);\n\t\t\t\titem.setOffset(percent ? percent[1] / 100 : parseFloat(value));\n\t\t\t}\n\t\t},\n\n\t\tviewBox: function(item, value, name, node, styles) {\n\t\t\tvar rect = new Rectangle(convertValue(value, 'array')),\n\t\t\t\tsize = getSize(node, null, null, true),\n\t\t\t\tgroup,\n\t\t\t\tmatrix;\n\t\t\tif (item instanceof Group) {\n\t\t\t\tvar scale = size ? size.divide(rect.getSize()) : 1,\n\t\t\t\tmatrix = new Matrix().scale(scale)\n\t\t\t\t\t\t.translate(rect.getPoint().negate());\n\t\t\t\tgroup = item;\n\t\t\t} else if (item instanceof SymbolDefinition) {\n\t\t\t\tif (size)\n\t\t\t\t\trect.setSize(size);\n\t\t\t\tgroup = item._item;\n\t\t\t}\n\t\t\tif (group)  {\n\t\t\t\tif (getAttribute(node, 'overflow', styles) !== 'visible') {\n\t\t\t\t\tvar clip = new Shape.Rectangle(rect);\n\t\t\t\t\tclip.setClipMask(true);\n\t\t\t\t\tgroup.addChild(clip);\n\t\t\t\t}\n\t\t\t\tif (matrix)\n\t\t\t\t\tgroup.transform(matrix);\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction getAttribute(node, name, styles) {\n\t\tvar attr = node.attributes[name],\n\t\t\tvalue = attr && attr.value;\n\t\tif (!value && node.style) {\n\t\t\tvar style = Base.camelize(name);\n\t\t\tvalue = node.style[style];\n\t\t\tif (!value && styles.node[style] !== styles.parent[style])\n\t\t\t\tvalue = styles.node[style];\n\t\t}\n\t\treturn !value ? undefined\n\t\t\t\t: value === 'none' ? null\n\t\t\t\t: value;\n\t}\n\n\tfunction applyAttributes(item, node, isRoot) {\n\t\tvar parent = node.parentNode,\n\t\t\tstyles = {\n\t\t\t\tnode: DomElement.getStyles(node) || {},\n\t\t\t\tparent: !isRoot && !/^defs$/i.test(parent.tagName)\n\t\t\t\t\t\t&& DomElement.getStyles(parent) || {}\n\t\t\t};\n\t\tBase.each(attributes, function(apply, name) {\n\t\t\tvar value = getAttribute(node, name, styles);\n\t\t\titem = value !== undefined\n\t\t\t\t\t&& apply(item, value, name, node, styles) || item;\n\t\t});\n\t\treturn item;\n\t}\n\n\tfunction getDefinition(value) {\n\t\tvar match = value && value.match(/\\((?:[\"'#]*)([^\"')]+)/),\n\t\t\tname = match && match[1],\n\t\t\tres = name && definitions[window\n\t\t\t\t\t? name.replace(window.location.href.split('#')[0] + '#', '')\n\t\t\t\t\t: name];\n\t\tif (res && res._scaleToBounds) {\n\t\t\tres = res.clone();\n\t\t\tres._scaleToBounds = true;\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction importNode(node, options, isRoot) {\n\t\tvar type = node.nodeName.toLowerCase(),\n\t\t\tisElement = type !== '#document',\n\t\t\tbody = document.body,\n\t\t\tcontainer,\n\t\t\tparent,\n\t\t\tnext;\n\t\tif (isRoot && isElement) {\n\t\t\trootSize = paper.getView().getSize();\n\t\t\trootSize = getSize(node, null, null, true) || rootSize;\n\t\t\tcontainer = SvgElement.create('svg', {\n\t\t\t\tstyle: 'stroke-width: 1px; stroke-miterlimit: 10'\n\t\t\t});\n\t\t\tparent = node.parentNode;\n\t\t\tnext = node.nextSibling;\n\t\t\tcontainer.appendChild(node);\n\t\t\tbody.appendChild(container);\n\t\t}\n\t\tvar settings = paper.settings,\n\t\t\tapplyMatrix = settings.applyMatrix,\n\t\t\tinsertItems = settings.insertItems;\n\t\tsettings.applyMatrix = false;\n\t\tsettings.insertItems = false;\n\t\tvar importer = importers[type],\n\t\t\titem = importer && importer(node, type, options, isRoot) || null;\n\t\tsettings.insertItems = insertItems;\n\t\tsettings.applyMatrix = applyMatrix;\n\t\tif (item) {\n\t\t\tif (isElement && !(item instanceof Group))\n\t\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\tvar onImport = options.onImport,\n\t\t\t\tdata = isElement && node.getAttribute('data-paper-data');\n\t\t\tif (onImport)\n\t\t\t\titem = onImport(node, item, options) || item;\n\t\t\tif (options.expandShapes && item instanceof Shape) {\n\t\t\t\titem.remove();\n\t\t\t\titem = item.toPath();\n\t\t\t}\n\t\t\tif (data)\n\t\t\t\titem._data = JSON.parse(data);\n\t\t}\n\t\tif (container) {\n\t\t\tbody.removeChild(container);\n\t\t\tif (parent) {\n\t\t\t\tif (next) {\n\t\t\t\t\tparent.insertBefore(node, next);\n\t\t\t\t} else {\n\t\t\t\t\tparent.appendChild(node);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (isRoot) {\n\t\t\tdefinitions = {};\n\t\t\tif (item && Base.pick(options.applyMatrix, applyMatrix))\n\t\t\t\titem.matrix.apply(true, true);\n\t\t}\n\t\treturn item;\n\t}\n\n\tfunction importSVG(source, options, owner) {\n\t\tif (!source)\n\t\t\treturn null;\n\t\toptions = typeof options === 'function' ? { onLoad: options }\n\t\t\t\t: options || {};\n\t\tvar scope = paper,\n\t\t\titem = null;\n\n\t\tfunction onLoad(svg) {\n\t\t\ttry {\n\t\t\t\tvar node = typeof svg === 'object'\n\t\t\t\t\t? svg\n\t\t\t\t\t: new self.DOMParser().parseFromString(\n\t\t\t\t\t\tsvg.trim(),\n\t\t\t\t\t\t'image/svg+xml'\n\t\t\t\t\t);\n\t\t\t\tif (!node.nodeName) {\n\t\t\t\t\tnode = null;\n\t\t\t\t\tthrow new Error('Unsupported SVG source: ' + source);\n\t\t\t\t}\n\t\t\t\tpaper = scope;\n\t\t\t\titem = importNode(node, options, true);\n\t\t\t\tif (!options || options.insert !== false) {\n\t\t\t\t\towner._insertItem(undefined, item);\n\t\t\t\t}\n\t\t\t\tvar onLoad = options.onLoad;\n\t\t\t\tif (onLoad)\n\t\t\t\t\tonLoad(item, svg);\n\t\t\t} catch (e) {\n\t\t\t\tonError(e);\n\t\t\t}\n\t\t}\n\n\t\tfunction onError(message, status) {\n\t\t\tvar onError = options.onError;\n\t\t\tif (onError) {\n\t\t\t\tonError(message, status);\n\t\t\t} else {\n\t\t\t\tthrow new Error(message);\n\t\t\t}\n\t\t}\n\n\t\tif (typeof source === 'string' && !/^[\\s\\S]*</.test(source)) {\n\t\t\tvar node = document.getElementById(source);\n\t\t\tif (node) {\n\t\t\t\tonLoad(node);\n\t\t\t} else {\n\t\t\t\tHttp.request({\n\t\t\t\t\turl: source,\n\t\t\t\t\tasync: true,\n\t\t\t\t\tonLoad: onLoad,\n\t\t\t\t\tonError: onError\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (typeof File !== 'undefined' && source instanceof File) {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = function() {\n\t\t\t\tonLoad(reader.result);\n\t\t\t};\n\t\t\treader.onerror = function() {\n\t\t\t\tonError(reader.error);\n\t\t\t};\n\t\t\treturn reader.readAsText(source);\n\t\t} else {\n\t\t\tonLoad(source);\n\t\t}\n\n\t\treturn item;\n\t}\n\n\tItem.inject({\n\t\timportSVG: function(node, options) {\n\t\t\treturn importSVG(node, options, this);\n\t\t}\n\t});\n\n\tProject.inject({\n\t\timportSVG: function(node, options) {\n\t\t\tthis.activate();\n\t\t\treturn importSVG(node, options, this);\n\t\t}\n\t});\n};\n\nBase.exports.PaperScript = function() {\n\tvar global = this,\n\t\tacorn = global.acorn;\n\tif (!acorn && typeof require !== 'undefined') {\n\t\ttry { acorn = require('acorn'); } catch(e) {}\n\t}\n\tif (!acorn) {\n\t\tvar exports, module;\n\t\tacorn = exports = module = {};\n\n(function(root, mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") return mod(exports);\n  if (typeof define == \"function\" && define.amd) return define([\"exports\"], mod);\n  mod(root.acorn || (root.acorn = {}));\n})(this, function(exports) {\n  \"use strict\";\n\n  exports.version = \"0.5.0\";\n\n  var options, input, inputLen, sourceFile;\n\n  exports.parse = function(inpt, opts) {\n\tinput = String(inpt); inputLen = input.length;\n\tsetOptions(opts);\n\tinitTokenState();\n\treturn parseTopLevel(options.program);\n  };\n\n  var defaultOptions = exports.defaultOptions = {\n\tecmaVersion: 5,\n\tstrictSemicolons: false,\n\tallowTrailingCommas: true,\n\tforbidReserved: false,\n\tallowReturnOutsideFunction: false,\n\tlocations: false,\n\tonComment: null,\n\tranges: false,\n\tprogram: null,\n\tsourceFile: null,\n\tdirectSourceFile: null\n  };\n\n  function setOptions(opts) {\n\toptions = opts || {};\n\tfor (var opt in defaultOptions) if (!Object.prototype.hasOwnProperty.call(options, opt))\n\t  options[opt] = defaultOptions[opt];\n\tsourceFile = options.sourceFile || null;\n  }\n\n  var getLineInfo = exports.getLineInfo = function(input, offset) {\n\tfor (var line = 1, cur = 0;;) {\n\t  lineBreak.lastIndex = cur;\n\t  var match = lineBreak.exec(input);\n\t  if (match && match.index < offset) {\n\t\t++line;\n\t\tcur = match.index + match[0].length;\n\t  } else break;\n\t}\n\treturn {line: line, column: offset - cur};\n  };\n\n  exports.tokenize = function(inpt, opts) {\n\tinput = String(inpt); inputLen = input.length;\n\tsetOptions(opts);\n\tinitTokenState();\n\n\tvar t = {};\n\tfunction getToken(forceRegexp) {\n\t  lastEnd = tokEnd;\n\t  readToken(forceRegexp);\n\t  t.start = tokStart; t.end = tokEnd;\n\t  t.startLoc = tokStartLoc; t.endLoc = tokEndLoc;\n\t  t.type = tokType; t.value = tokVal;\n\t  return t;\n\t}\n\tgetToken.jumpTo = function(pos, reAllowed) {\n\t  tokPos = pos;\n\t  if (options.locations) {\n\t\ttokCurLine = 1;\n\t\ttokLineStart = lineBreak.lastIndex = 0;\n\t\tvar match;\n\t\twhile ((match = lineBreak.exec(input)) && match.index < pos) {\n\t\t  ++tokCurLine;\n\t\t  tokLineStart = match.index + match[0].length;\n\t\t}\n\t  }\n\t  tokRegexpAllowed = reAllowed;\n\t  skipSpace();\n\t};\n\treturn getToken;\n  };\n\n  var tokPos;\n\n  var tokStart, tokEnd;\n\n  var tokStartLoc, tokEndLoc;\n\n  var tokType, tokVal;\n\n  var tokRegexpAllowed;\n\n  var tokCurLine, tokLineStart;\n\n  var lastStart, lastEnd, lastEndLoc;\n\n  var inFunction, labels, strict;\n\n  function raise(pos, message) {\n\tvar loc = getLineInfo(input, pos);\n\tmessage += \" (\" + loc.line + \":\" + loc.column + \")\";\n\tvar err = new SyntaxError(message);\n\terr.pos = pos; err.loc = loc; err.raisedAt = tokPos;\n\tthrow err;\n  }\n\n  var empty = [];\n\n  var _num = {type: \"num\"}, _regexp = {type: \"regexp\"}, _string = {type: \"string\"};\n  var _name = {type: \"name\"}, _eof = {type: \"eof\"};\n\n  var _break = {keyword: \"break\"}, _case = {keyword: \"case\", beforeExpr: true}, _catch = {keyword: \"catch\"};\n  var _continue = {keyword: \"continue\"}, _debugger = {keyword: \"debugger\"}, _default = {keyword: \"default\"};\n  var _do = {keyword: \"do\", isLoop: true}, _else = {keyword: \"else\", beforeExpr: true};\n  var _finally = {keyword: \"finally\"}, _for = {keyword: \"for\", isLoop: true}, _function = {keyword: \"function\"};\n  var _if = {keyword: \"if\"}, _return = {keyword: \"return\", beforeExpr: true}, _switch = {keyword: \"switch\"};\n  var _throw = {keyword: \"throw\", beforeExpr: true}, _try = {keyword: \"try\"}, _var = {keyword: \"var\"};\n  var _while = {keyword: \"while\", isLoop: true}, _with = {keyword: \"with\"}, _new = {keyword: \"new\", beforeExpr: true};\n  var _this = {keyword: \"this\"};\n\n  var _null = {keyword: \"null\", atomValue: null}, _true = {keyword: \"true\", atomValue: true};\n  var _false = {keyword: \"false\", atomValue: false};\n\n  var _in = {keyword: \"in\", binop: 7, beforeExpr: true};\n\n  var keywordTypes = {\"break\": _break, \"case\": _case, \"catch\": _catch,\n\t\t\t\t\t  \"continue\": _continue, \"debugger\": _debugger, \"default\": _default,\n\t\t\t\t\t  \"do\": _do, \"else\": _else, \"finally\": _finally, \"for\": _for,\n\t\t\t\t\t  \"function\": _function, \"if\": _if, \"return\": _return, \"switch\": _switch,\n\t\t\t\t\t  \"throw\": _throw, \"try\": _try, \"var\": _var, \"while\": _while, \"with\": _with,\n\t\t\t\t\t  \"null\": _null, \"true\": _true, \"false\": _false, \"new\": _new, \"in\": _in,\n\t\t\t\t\t  \"instanceof\": {keyword: \"instanceof\", binop: 7, beforeExpr: true}, \"this\": _this,\n\t\t\t\t\t  \"typeof\": {keyword: \"typeof\", prefix: true, beforeExpr: true},\n\t\t\t\t\t  \"void\": {keyword: \"void\", prefix: true, beforeExpr: true},\n\t\t\t\t\t  \"delete\": {keyword: \"delete\", prefix: true, beforeExpr: true}};\n\n  var _bracketL = {type: \"[\", beforeExpr: true}, _bracketR = {type: \"]\"}, _braceL = {type: \"{\", beforeExpr: true};\n  var _braceR = {type: \"}\"}, _parenL = {type: \"(\", beforeExpr: true}, _parenR = {type: \")\"};\n  var _comma = {type: \",\", beforeExpr: true}, _semi = {type: \";\", beforeExpr: true};\n  var _colon = {type: \":\", beforeExpr: true}, _dot = {type: \".\"}, _question = {type: \"?\", beforeExpr: true};\n\n  var _slash = {binop: 10, beforeExpr: true}, _eq = {isAssign: true, beforeExpr: true};\n  var _assign = {isAssign: true, beforeExpr: true};\n  var _incDec = {postfix: true, prefix: true, isUpdate: true}, _prefix = {prefix: true, beforeExpr: true};\n  var _logicalOR = {binop: 1, beforeExpr: true};\n  var _logicalAND = {binop: 2, beforeExpr: true};\n  var _bitwiseOR = {binop: 3, beforeExpr: true};\n  var _bitwiseXOR = {binop: 4, beforeExpr: true};\n  var _bitwiseAND = {binop: 5, beforeExpr: true};\n  var _equality = {binop: 6, beforeExpr: true};\n  var _relational = {binop: 7, beforeExpr: true};\n  var _bitShift = {binop: 8, beforeExpr: true};\n  var _plusMin = {binop: 9, prefix: true, beforeExpr: true};\n  var _multiplyModulo = {binop: 10, beforeExpr: true};\n\n  exports.tokTypes = {bracketL: _bracketL, bracketR: _bracketR, braceL: _braceL, braceR: _braceR,\n\t\t\t\t\t  parenL: _parenL, parenR: _parenR, comma: _comma, semi: _semi, colon: _colon,\n\t\t\t\t\t  dot: _dot, question: _question, slash: _slash, eq: _eq, name: _name, eof: _eof,\n\t\t\t\t\t  num: _num, regexp: _regexp, string: _string};\n  for (var kw in keywordTypes) exports.tokTypes[\"_\" + kw] = keywordTypes[kw];\n\n  function makePredicate(words) {\n\twords = words.split(\" \");\n\tvar f = \"\", cats = [];\n\tout: for (var i = 0; i < words.length; ++i) {\n\t  for (var j = 0; j < cats.length; ++j)\n\t\tif (cats[j][0].length == words[i].length) {\n\t\t  cats[j].push(words[i]);\n\t\t  continue out;\n\t\t}\n\t  cats.push([words[i]]);\n\t}\n\tfunction compareTo(arr) {\n\t  if (arr.length == 1) return f += \"return str === \" + JSON.stringify(arr[0]) + \";\";\n\t  f += \"switch(str){\";\n\t  for (var i = 0; i < arr.length; ++i) f += \"case \" + JSON.stringify(arr[i]) + \":\";\n\t  f += \"return true}return false;\";\n\t}\n\n\tif (cats.length > 3) {\n\t  cats.sort(function(a, b) {return b.length - a.length;});\n\t  f += \"switch(str.length){\";\n\t  for (var i = 0; i < cats.length; ++i) {\n\t\tvar cat = cats[i];\n\t\tf += \"case \" + cat[0].length + \":\";\n\t\tcompareTo(cat);\n\t  }\n\t  f += \"}\";\n\n\t} else {\n\t  compareTo(words);\n\t}\n\treturn new Function(\"str\", f);\n  }\n\n  var isReservedWord3 = makePredicate(\"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\");\n\n  var isReservedWord5 = makePredicate(\"class enum extends super const export import\");\n\n  var isStrictReservedWord = makePredicate(\"implements interface let package private protected public static yield\");\n\n  var isStrictBadIdWord = makePredicate(\"eval arguments\");\n\n  var isKeyword = makePredicate(\"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\");\n\n  var nonASCIIwhitespace = /[\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n  var nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\n  var nonASCIIidentifierChars = \"\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\n  var nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\n  var nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\n  var newline = /[\\n\\r\\u2028\\u2029]/;\n\n  var lineBreak = /\\r\\n|[\\n\\r\\u2028\\u2029]/g;\n\n  var isIdentifierStart = exports.isIdentifierStart = function(code) {\n\tif (code < 65) return code === 36;\n\tif (code < 91) return true;\n\tif (code < 97) return code === 95;\n\tif (code < 123)return true;\n\treturn code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code));\n  };\n\n  var isIdentifierChar = exports.isIdentifierChar = function(code) {\n\tif (code < 48) return code === 36;\n\tif (code < 58) return true;\n\tif (code < 65) return false;\n\tif (code < 91) return true;\n\tif (code < 97) return code === 95;\n\tif (code < 123)return true;\n\treturn code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code));\n  };\n\n  function line_loc_t() {\n\tthis.line = tokCurLine;\n\tthis.column = tokPos - tokLineStart;\n  }\n\n  function initTokenState() {\n\ttokCurLine = 1;\n\ttokPos = tokLineStart = 0;\n\ttokRegexpAllowed = true;\n\tskipSpace();\n  }\n\n  function finishToken(type, val) {\n\ttokEnd = tokPos;\n\tif (options.locations) tokEndLoc = new line_loc_t;\n\ttokType = type;\n\tskipSpace();\n\ttokVal = val;\n\ttokRegexpAllowed = type.beforeExpr;\n  }\n\n  function skipBlockComment() {\n\tvar startLoc = options.onComment && options.locations && new line_loc_t;\n\tvar start = tokPos, end = input.indexOf(\"*/\", tokPos += 2);\n\tif (end === -1) raise(tokPos - 2, \"Unterminated comment\");\n\ttokPos = end + 2;\n\tif (options.locations) {\n\t  lineBreak.lastIndex = start;\n\t  var match;\n\t  while ((match = lineBreak.exec(input)) && match.index < tokPos) {\n\t\t++tokCurLine;\n\t\ttokLineStart = match.index + match[0].length;\n\t  }\n\t}\n\tif (options.onComment)\n\t  options.onComment(true, input.slice(start + 2, end), start, tokPos,\n\t\t\t\t\t\tstartLoc, options.locations && new line_loc_t);\n  }\n\n  function skipLineComment() {\n\tvar start = tokPos;\n\tvar startLoc = options.onComment && options.locations && new line_loc_t;\n\tvar ch = input.charCodeAt(tokPos+=2);\n\twhile (tokPos < inputLen && ch !== 10 && ch !== 13 && ch !== 8232 && ch !== 8233) {\n\t  ++tokPos;\n\t  ch = input.charCodeAt(tokPos);\n\t}\n\tif (options.onComment)\n\t  options.onComment(false, input.slice(start + 2, tokPos), start, tokPos,\n\t\t\t\t\t\tstartLoc, options.locations && new line_loc_t);\n  }\n\n  function skipSpace() {\n\twhile (tokPos < inputLen) {\n\t  var ch = input.charCodeAt(tokPos);\n\t  if (ch === 32) {\n\t\t++tokPos;\n\t  } else if (ch === 13) {\n\t\t++tokPos;\n\t\tvar next = input.charCodeAt(tokPos);\n\t\tif (next === 10) {\n\t\t  ++tokPos;\n\t\t}\n\t\tif (options.locations) {\n\t\t  ++tokCurLine;\n\t\t  tokLineStart = tokPos;\n\t\t}\n\t  } else if (ch === 10 || ch === 8232 || ch === 8233) {\n\t\t++tokPos;\n\t\tif (options.locations) {\n\t\t  ++tokCurLine;\n\t\t  tokLineStart = tokPos;\n\t\t}\n\t  } else if (ch > 8 && ch < 14) {\n\t\t++tokPos;\n\t  } else if (ch === 47) {\n\t\tvar next = input.charCodeAt(tokPos + 1);\n\t\tif (next === 42) {\n\t\t  skipBlockComment();\n\t\t} else if (next === 47) {\n\t\t  skipLineComment();\n\t\t} else break;\n\t  } else if (ch === 160) {\n\t\t++tokPos;\n\t  } else if (ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n\t\t++tokPos;\n\t  } else {\n\t\tbreak;\n\t  }\n\t}\n  }\n\n  function readToken_dot() {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next >= 48 && next <= 57) return readNumber(true);\n\t++tokPos;\n\treturn finishToken(_dot);\n  }\n\n  function readToken_slash() {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (tokRegexpAllowed) {++tokPos; return readRegexp();}\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(_slash, 1);\n  }\n\n  function readToken_mult_modulo() {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(_multiplyModulo, 1);\n  }\n\n  function readToken_pipe_amp(code) {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === code) return finishOp(code === 124 ? _logicalOR : _logicalAND, 2);\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(code === 124 ? _bitwiseOR : _bitwiseAND, 1);\n  }\n\n  function readToken_caret() {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(_bitwiseXOR, 1);\n  }\n\n  function readToken_plus_min(code) {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === code) {\n\t  if (next == 45 && input.charCodeAt(tokPos + 2) == 62 &&\n\t\t  newline.test(input.slice(lastEnd, tokPos))) {\n\t\ttokPos += 3;\n\t\tskipLineComment();\n\t\tskipSpace();\n\t\treturn readToken();\n\t  }\n\t  return finishOp(_incDec, 2);\n\t}\n\tif (next === 61) return finishOp(_assign, 2);\n\treturn finishOp(_plusMin, 1);\n  }\n\n  function readToken_lt_gt(code) {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tvar size = 1;\n\tif (next === code) {\n\t  size = code === 62 && input.charCodeAt(tokPos + 2) === 62 ? 3 : 2;\n\t  if (input.charCodeAt(tokPos + size) === 61) return finishOp(_assign, size + 1);\n\t  return finishOp(_bitShift, size);\n\t}\n\tif (next == 33 && code == 60 && input.charCodeAt(tokPos + 2) == 45 &&\n\t\tinput.charCodeAt(tokPos + 3) == 45) {\n\t  tokPos += 4;\n\t  skipLineComment();\n\t  skipSpace();\n\t  return readToken();\n\t}\n\tif (next === 61)\n\t  size = input.charCodeAt(tokPos + 2) === 61 ? 3 : 2;\n\treturn finishOp(_relational, size);\n  }\n\n  function readToken_eq_excl(code) {\n\tvar next = input.charCodeAt(tokPos + 1);\n\tif (next === 61) return finishOp(_equality, input.charCodeAt(tokPos + 2) === 61 ? 3 : 2);\n\treturn finishOp(code === 61 ? _eq : _prefix, 1);\n  }\n\n  function getTokenFromCode(code) {\n\tswitch(code) {\n\tcase 46:\n\t  return readToken_dot();\n\n\tcase 40: ++tokPos; return finishToken(_parenL);\n\tcase 41: ++tokPos; return finishToken(_parenR);\n\tcase 59: ++tokPos; return finishToken(_semi);\n\tcase 44: ++tokPos; return finishToken(_comma);\n\tcase 91: ++tokPos; return finishToken(_bracketL);\n\tcase 93: ++tokPos; return finishToken(_bracketR);\n\tcase 123: ++tokPos; return finishToken(_braceL);\n\tcase 125: ++tokPos; return finishToken(_braceR);\n\tcase 58: ++tokPos; return finishToken(_colon);\n\tcase 63: ++tokPos; return finishToken(_question);\n\n\tcase 48:\n\t  var next = input.charCodeAt(tokPos + 1);\n\t  if (next === 120 || next === 88) return readHexNumber();\n\tcase 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57:\n\t  return readNumber(false);\n\n\tcase 34: case 39:\n\t  return readString(code);\n\n\tcase 47:\n\t  return readToken_slash(code);\n\n\tcase 37: case 42:\n\t  return readToken_mult_modulo();\n\n\tcase 124: case 38:\n\t  return readToken_pipe_amp(code);\n\n\tcase 94:\n\t  return readToken_caret();\n\n\tcase 43: case 45:\n\t  return readToken_plus_min(code);\n\n\tcase 60: case 62:\n\t  return readToken_lt_gt(code);\n\n\tcase 61: case 33:\n\t  return readToken_eq_excl(code);\n\n\tcase 126:\n\t  return finishOp(_prefix, 1);\n\t}\n\n\treturn false;\n  }\n\n  function readToken(forceRegexp) {\n\tif (!forceRegexp) tokStart = tokPos;\n\telse tokPos = tokStart + 1;\n\tif (options.locations) tokStartLoc = new line_loc_t;\n\tif (forceRegexp) return readRegexp();\n\tif (tokPos >= inputLen) return finishToken(_eof);\n\n\tvar code = input.charCodeAt(tokPos);\n\tif (isIdentifierStart(code) || code === 92 ) return readWord();\n\n\tvar tok = getTokenFromCode(code);\n\n\tif (tok === false) {\n\t  var ch = String.fromCharCode(code);\n\t  if (ch === \"\\\\\" || nonASCIIidentifierStart.test(ch)) return readWord();\n\t  raise(tokPos, \"Unexpected character '\" + ch + \"'\");\n\t}\n\treturn tok;\n  }\n\n  function finishOp(type, size) {\n\tvar str = input.slice(tokPos, tokPos + size);\n\ttokPos += size;\n\tfinishToken(type, str);\n  }\n\n  function readRegexp() {\n\tvar content = \"\", escaped, inClass, start = tokPos;\n\tfor (;;) {\n\t  if (tokPos >= inputLen) raise(start, \"Unterminated regular expression\");\n\t  var ch = input.charAt(tokPos);\n\t  if (newline.test(ch)) raise(start, \"Unterminated regular expression\");\n\t  if (!escaped) {\n\t\tif (ch === \"[\") inClass = true;\n\t\telse if (ch === \"]\" && inClass) inClass = false;\n\t\telse if (ch === \"/\" && !inClass) break;\n\t\tescaped = ch === \"\\\\\";\n\t  } else escaped = false;\n\t  ++tokPos;\n\t}\n\tvar content = input.slice(start, tokPos);\n\t++tokPos;\n\tvar mods = readWord1();\n\tif (mods && !/^[gmsiy]*$/.test(mods)) raise(start, \"Invalid regexp flag\");\n\ttry {\n\t  var value = new RegExp(content, mods);\n\t} catch (e) {\n\t  if (e instanceof SyntaxError) raise(start, e.message);\n\t  raise(e);\n\t}\n\treturn finishToken(_regexp, value);\n  }\n\n  function readInt(radix, len) {\n\tvar start = tokPos, total = 0;\n\tfor (var i = 0, e = len == null ? Infinity : len; i < e; ++i) {\n\t  var code = input.charCodeAt(tokPos), val;\n\t  if (code >= 97) val = code - 97 + 10;\n\t  else if (code >= 65) val = code - 65 + 10;\n\t  else if (code >= 48 && code <= 57) val = code - 48;\n\t  else val = Infinity;\n\t  if (val >= radix) break;\n\t  ++tokPos;\n\t  total = total * radix + val;\n\t}\n\tif (tokPos === start || len != null && tokPos - start !== len) return null;\n\n\treturn total;\n  }\n\n  function readHexNumber() {\n\ttokPos += 2;\n\tvar val = readInt(16);\n\tif (val == null) raise(tokStart + 2, \"Expected hexadecimal number\");\n\tif (isIdentifierStart(input.charCodeAt(tokPos))) raise(tokPos, \"Identifier directly after number\");\n\treturn finishToken(_num, val);\n  }\n\n  function readNumber(startsWithDot) {\n\tvar start = tokPos, isFloat = false, octal = input.charCodeAt(tokPos) === 48;\n\tif (!startsWithDot && readInt(10) === null) raise(start, \"Invalid number\");\n\tif (input.charCodeAt(tokPos) === 46) {\n\t  ++tokPos;\n\t  readInt(10);\n\t  isFloat = true;\n\t}\n\tvar next = input.charCodeAt(tokPos);\n\tif (next === 69 || next === 101) {\n\t  next = input.charCodeAt(++tokPos);\n\t  if (next === 43 || next === 45) ++tokPos;\n\t  if (readInt(10) === null) raise(start, \"Invalid number\");\n\t  isFloat = true;\n\t}\n\tif (isIdentifierStart(input.charCodeAt(tokPos))) raise(tokPos, \"Identifier directly after number\");\n\n\tvar str = input.slice(start, tokPos), val;\n\tif (isFloat) val = parseFloat(str);\n\telse if (!octal || str.length === 1) val = parseInt(str, 10);\n\telse if (/[89]/.test(str) || strict) raise(start, \"Invalid number\");\n\telse val = parseInt(str, 8);\n\treturn finishToken(_num, val);\n  }\n\n  function readString(quote) {\n\ttokPos++;\n\tvar out = \"\";\n\tfor (;;) {\n\t  if (tokPos >= inputLen) raise(tokStart, \"Unterminated string constant\");\n\t  var ch = input.charCodeAt(tokPos);\n\t  if (ch === quote) {\n\t\t++tokPos;\n\t\treturn finishToken(_string, out);\n\t  }\n\t  if (ch === 92) {\n\t\tch = input.charCodeAt(++tokPos);\n\t\tvar octal = /^[0-7]+/.exec(input.slice(tokPos, tokPos + 3));\n\t\tif (octal) octal = octal[0];\n\t\twhile (octal && parseInt(octal, 8) > 255) octal = octal.slice(0, -1);\n\t\tif (octal === \"0\") octal = null;\n\t\t++tokPos;\n\t\tif (octal) {\n\t\t  if (strict) raise(tokPos - 2, \"Octal literal in strict mode\");\n\t\t  out += String.fromCharCode(parseInt(octal, 8));\n\t\t  tokPos += octal.length - 1;\n\t\t} else {\n\t\t  switch (ch) {\n\t\t  case 110: out += \"\\n\"; break;\n\t\t  case 114: out += \"\\r\"; break;\n\t\t  case 120: out += String.fromCharCode(readHexChar(2)); break;\n\t\t  case 117: out += String.fromCharCode(readHexChar(4)); break;\n\t\t  case 85: out += String.fromCharCode(readHexChar(8)); break;\n\t\t  case 116: out += \"\\t\"; break;\n\t\t  case 98: out += \"\\b\"; break;\n\t\t  case 118: out += \"\\u000b\"; break;\n\t\t  case 102: out += \"\\f\"; break;\n\t\t  case 48: out += \"\\0\"; break;\n\t\t  case 13: if (input.charCodeAt(tokPos) === 10) ++tokPos;\n\t\t  case 10:\n\t\t\tif (options.locations) { tokLineStart = tokPos; ++tokCurLine; }\n\t\t\tbreak;\n\t\t  default: out += String.fromCharCode(ch); break;\n\t\t  }\n\t\t}\n\t  } else {\n\t\tif (ch === 13 || ch === 10 || ch === 8232 || ch === 8233) raise(tokStart, \"Unterminated string constant\");\n\t\tout += String.fromCharCode(ch);\n\t\t++tokPos;\n\t  }\n\t}\n  }\n\n  function readHexChar(len) {\n\tvar n = readInt(16, len);\n\tif (n === null) raise(tokStart, \"Bad character escape sequence\");\n\treturn n;\n  }\n\n  var containsEsc;\n\n  function readWord1() {\n\tcontainsEsc = false;\n\tvar word, first = true, start = tokPos;\n\tfor (;;) {\n\t  var ch = input.charCodeAt(tokPos);\n\t  if (isIdentifierChar(ch)) {\n\t\tif (containsEsc) word += input.charAt(tokPos);\n\t\t++tokPos;\n\t  } else if (ch === 92) {\n\t\tif (!containsEsc) word = input.slice(start, tokPos);\n\t\tcontainsEsc = true;\n\t\tif (input.charCodeAt(++tokPos) != 117)\n\t\t  raise(tokPos, \"Expecting Unicode escape sequence \\\\uXXXX\");\n\t\t++tokPos;\n\t\tvar esc = readHexChar(4);\n\t\tvar escStr = String.fromCharCode(esc);\n\t\tif (!escStr) raise(tokPos - 1, \"Invalid Unicode escape\");\n\t\tif (!(first ? isIdentifierStart(esc) : isIdentifierChar(esc)))\n\t\t  raise(tokPos - 4, \"Invalid Unicode escape\");\n\t\tword += escStr;\n\t  } else {\n\t\tbreak;\n\t  }\n\t  first = false;\n\t}\n\treturn containsEsc ? word : input.slice(start, tokPos);\n  }\n\n  function readWord() {\n\tvar word = readWord1();\n\tvar type = _name;\n\tif (!containsEsc && isKeyword(word))\n\t  type = keywordTypes[word];\n\treturn finishToken(type, word);\n  }\n\n  function next() {\n\tlastStart = tokStart;\n\tlastEnd = tokEnd;\n\tlastEndLoc = tokEndLoc;\n\treadToken();\n  }\n\n  function setStrict(strct) {\n\tstrict = strct;\n\ttokPos = tokStart;\n\tif (options.locations) {\n\t  while (tokPos < tokLineStart) {\n\t\ttokLineStart = input.lastIndexOf(\"\\n\", tokLineStart - 2) + 1;\n\t\t--tokCurLine;\n\t  }\n\t}\n\tskipSpace();\n\treadToken();\n  }\n\n  function node_t() {\n\tthis.type = null;\n\tthis.start = tokStart;\n\tthis.end = null;\n  }\n\n  function node_loc_t() {\n\tthis.start = tokStartLoc;\n\tthis.end = null;\n\tif (sourceFile !== null) this.source = sourceFile;\n  }\n\n  function startNode() {\n\tvar node = new node_t();\n\tif (options.locations)\n\t  node.loc = new node_loc_t();\n\tif (options.directSourceFile)\n\t  node.sourceFile = options.directSourceFile;\n\tif (options.ranges)\n\t  node.range = [tokStart, 0];\n\treturn node;\n  }\n\n  function startNodeFrom(other) {\n\tvar node = new node_t();\n\tnode.start = other.start;\n\tif (options.locations) {\n\t  node.loc = new node_loc_t();\n\t  node.loc.start = other.loc.start;\n\t}\n\tif (options.ranges)\n\t  node.range = [other.range[0], 0];\n\n\treturn node;\n  }\n\n  function finishNode(node, type) {\n\tnode.type = type;\n\tnode.end = lastEnd;\n\tif (options.locations)\n\t  node.loc.end = lastEndLoc;\n\tif (options.ranges)\n\t  node.range[1] = lastEnd;\n\treturn node;\n  }\n\n  function isUseStrict(stmt) {\n\treturn options.ecmaVersion >= 5 && stmt.type === \"ExpressionStatement\" &&\n\t  stmt.expression.type === \"Literal\" && stmt.expression.value === \"use strict\";\n  }\n\n  function eat(type) {\n\tif (tokType === type) {\n\t  next();\n\t  return true;\n\t}\n  }\n\n  function canInsertSemicolon() {\n\treturn !options.strictSemicolons &&\n\t  (tokType === _eof || tokType === _braceR || newline.test(input.slice(lastEnd, tokStart)));\n  }\n\n  function semicolon() {\n\tif (!eat(_semi) && !canInsertSemicolon()) unexpected();\n  }\n\n  function expect(type) {\n\tif (tokType === type) next();\n\telse unexpected();\n  }\n\n  function unexpected() {\n\traise(tokStart, \"Unexpected token\");\n  }\n\n  function checkLVal(expr) {\n\tif (expr.type !== \"Identifier\" && expr.type !== \"MemberExpression\")\n\t  raise(expr.start, \"Assigning to rvalue\");\n\tif (strict && expr.type === \"Identifier\" && isStrictBadIdWord(expr.name))\n\t  raise(expr.start, \"Assigning to \" + expr.name + \" in strict mode\");\n  }\n\n  function parseTopLevel(program) {\n\tlastStart = lastEnd = tokPos;\n\tif (options.locations) lastEndLoc = new line_loc_t;\n\tinFunction = strict = null;\n\tlabels = [];\n\treadToken();\n\n\tvar node = program || startNode(), first = true;\n\tif (!program) node.body = [];\n\twhile (tokType !== _eof) {\n\t  var stmt = parseStatement();\n\t  node.body.push(stmt);\n\t  if (first && isUseStrict(stmt)) setStrict(true);\n\t  first = false;\n\t}\n\treturn finishNode(node, \"Program\");\n  }\n\n  var loopLabel = {kind: \"loop\"}, switchLabel = {kind: \"switch\"};\n\n  function parseStatement() {\n\tif (tokType === _slash || tokType === _assign && tokVal == \"/=\")\n\t  readToken(true);\n\n\tvar starttype = tokType, node = startNode();\n\n\tswitch (starttype) {\n\tcase _break: case _continue:\n\t  next();\n\t  var isBreak = starttype === _break;\n\t  if (eat(_semi) || canInsertSemicolon()) node.label = null;\n\t  else if (tokType !== _name) unexpected();\n\t  else {\n\t\tnode.label = parseIdent();\n\t\tsemicolon();\n\t  }\n\n\t  for (var i = 0; i < labels.length; ++i) {\n\t\tvar lab = labels[i];\n\t\tif (node.label == null || lab.name === node.label.name) {\n\t\t  if (lab.kind != null && (isBreak || lab.kind === \"loop\")) break;\n\t\t  if (node.label && isBreak) break;\n\t\t}\n\t  }\n\t  if (i === labels.length) raise(node.start, \"Unsyntactic \" + starttype.keyword);\n\t  return finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\");\n\n\tcase _debugger:\n\t  next();\n\t  semicolon();\n\t  return finishNode(node, \"DebuggerStatement\");\n\n\tcase _do:\n\t  next();\n\t  labels.push(loopLabel);\n\t  node.body = parseStatement();\n\t  labels.pop();\n\t  expect(_while);\n\t  node.test = parseParenExpression();\n\t  semicolon();\n\t  return finishNode(node, \"DoWhileStatement\");\n\n\tcase _for:\n\t  next();\n\t  labels.push(loopLabel);\n\t  expect(_parenL);\n\t  if (tokType === _semi) return parseFor(node, null);\n\t  if (tokType === _var) {\n\t\tvar init = startNode();\n\t\tnext();\n\t\tparseVar(init, true);\n\t\tfinishNode(init, \"VariableDeclaration\");\n\t\tif (init.declarations.length === 1 && eat(_in))\n\t\t  return parseForIn(node, init);\n\t\treturn parseFor(node, init);\n\t  }\n\t  var init = parseExpression(false, true);\n\t  if (eat(_in)) {checkLVal(init); return parseForIn(node, init);}\n\t  return parseFor(node, init);\n\n\tcase _function:\n\t  next();\n\t  return parseFunction(node, true);\n\n\tcase _if:\n\t  next();\n\t  node.test = parseParenExpression();\n\t  node.consequent = parseStatement();\n\t  node.alternate = eat(_else) ? parseStatement() : null;\n\t  return finishNode(node, \"IfStatement\");\n\n\tcase _return:\n\t  if (!inFunction && !options.allowReturnOutsideFunction)\n\t\traise(tokStart, \"'return' outside of function\");\n\t  next();\n\n\t  if (eat(_semi) || canInsertSemicolon()) node.argument = null;\n\t  else { node.argument = parseExpression(); semicolon(); }\n\t  return finishNode(node, \"ReturnStatement\");\n\n\tcase _switch:\n\t  next();\n\t  node.discriminant = parseParenExpression();\n\t  node.cases = [];\n\t  expect(_braceL);\n\t  labels.push(switchLabel);\n\n\t  for (var cur, sawDefault; tokType != _braceR;) {\n\t\tif (tokType === _case || tokType === _default) {\n\t\t  var isCase = tokType === _case;\n\t\t  if (cur) finishNode(cur, \"SwitchCase\");\n\t\t  node.cases.push(cur = startNode());\n\t\t  cur.consequent = [];\n\t\t  next();\n\t\t  if (isCase) cur.test = parseExpression();\n\t\t  else {\n\t\t\tif (sawDefault) raise(lastStart, \"Multiple default clauses\"); sawDefault = true;\n\t\t\tcur.test = null;\n\t\t  }\n\t\t  expect(_colon);\n\t\t} else {\n\t\t  if (!cur) unexpected();\n\t\t  cur.consequent.push(parseStatement());\n\t\t}\n\t  }\n\t  if (cur) finishNode(cur, \"SwitchCase\");\n\t  next();\n\t  labels.pop();\n\t  return finishNode(node, \"SwitchStatement\");\n\n\tcase _throw:\n\t  next();\n\t  if (newline.test(input.slice(lastEnd, tokStart)))\n\t\traise(lastEnd, \"Illegal newline after throw\");\n\t  node.argument = parseExpression();\n\t  semicolon();\n\t  return finishNode(node, \"ThrowStatement\");\n\n\tcase _try:\n\t  next();\n\t  node.block = parseBlock();\n\t  node.handler = null;\n\t  if (tokType === _catch) {\n\t\tvar clause = startNode();\n\t\tnext();\n\t\texpect(_parenL);\n\t\tclause.param = parseIdent();\n\t\tif (strict && isStrictBadIdWord(clause.param.name))\n\t\t  raise(clause.param.start, \"Binding \" + clause.param.name + \" in strict mode\");\n\t\texpect(_parenR);\n\t\tclause.guard = null;\n\t\tclause.body = parseBlock();\n\t\tnode.handler = finishNode(clause, \"CatchClause\");\n\t  }\n\t  node.guardedHandlers = empty;\n\t  node.finalizer = eat(_finally) ? parseBlock() : null;\n\t  if (!node.handler && !node.finalizer)\n\t\traise(node.start, \"Missing catch or finally clause\");\n\t  return finishNode(node, \"TryStatement\");\n\n\tcase _var:\n\t  next();\n\t  parseVar(node);\n\t  semicolon();\n\t  return finishNode(node, \"VariableDeclaration\");\n\n\tcase _while:\n\t  next();\n\t  node.test = parseParenExpression();\n\t  labels.push(loopLabel);\n\t  node.body = parseStatement();\n\t  labels.pop();\n\t  return finishNode(node, \"WhileStatement\");\n\n\tcase _with:\n\t  if (strict) raise(tokStart, \"'with' in strict mode\");\n\t  next();\n\t  node.object = parseParenExpression();\n\t  node.body = parseStatement();\n\t  return finishNode(node, \"WithStatement\");\n\n\tcase _braceL:\n\t  return parseBlock();\n\n\tcase _semi:\n\t  next();\n\t  return finishNode(node, \"EmptyStatement\");\n\n\tdefault:\n\t  var maybeName = tokVal, expr = parseExpression();\n\t  if (starttype === _name && expr.type === \"Identifier\" && eat(_colon)) {\n\t\tfor (var i = 0; i < labels.length; ++i)\n\t\t  if (labels[i].name === maybeName) raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n\t\tvar kind = tokType.isLoop ? \"loop\" : tokType === _switch ? \"switch\" : null;\n\t\tlabels.push({name: maybeName, kind: kind});\n\t\tnode.body = parseStatement();\n\t\tlabels.pop();\n\t\tnode.label = expr;\n\t\treturn finishNode(node, \"LabeledStatement\");\n\t  } else {\n\t\tnode.expression = expr;\n\t\tsemicolon();\n\t\treturn finishNode(node, \"ExpressionStatement\");\n\t  }\n\t}\n  }\n\n  function parseParenExpression() {\n\texpect(_parenL);\n\tvar val = parseExpression();\n\texpect(_parenR);\n\treturn val;\n  }\n\n  function parseBlock(allowStrict) {\n\tvar node = startNode(), first = true, strict = false, oldStrict;\n\tnode.body = [];\n\texpect(_braceL);\n\twhile (!eat(_braceR)) {\n\t  var stmt = parseStatement();\n\t  node.body.push(stmt);\n\t  if (first && allowStrict && isUseStrict(stmt)) {\n\t\toldStrict = strict;\n\t\tsetStrict(strict = true);\n\t  }\n\t  first = false;\n\t}\n\tif (strict && !oldStrict) setStrict(false);\n\treturn finishNode(node, \"BlockStatement\");\n  }\n\n  function parseFor(node, init) {\n\tnode.init = init;\n\texpect(_semi);\n\tnode.test = tokType === _semi ? null : parseExpression();\n\texpect(_semi);\n\tnode.update = tokType === _parenR ? null : parseExpression();\n\texpect(_parenR);\n\tnode.body = parseStatement();\n\tlabels.pop();\n\treturn finishNode(node, \"ForStatement\");\n  }\n\n  function parseForIn(node, init) {\n\tnode.left = init;\n\tnode.right = parseExpression();\n\texpect(_parenR);\n\tnode.body = parseStatement();\n\tlabels.pop();\n\treturn finishNode(node, \"ForInStatement\");\n  }\n\n  function parseVar(node, noIn) {\n\tnode.declarations = [];\n\tnode.kind = \"var\";\n\tfor (;;) {\n\t  var decl = startNode();\n\t  decl.id = parseIdent();\n\t  if (strict && isStrictBadIdWord(decl.id.name))\n\t\traise(decl.id.start, \"Binding \" + decl.id.name + \" in strict mode\");\n\t  decl.init = eat(_eq) ? parseExpression(true, noIn) : null;\n\t  node.declarations.push(finishNode(decl, \"VariableDeclarator\"));\n\t  if (!eat(_comma)) break;\n\t}\n\treturn node;\n  }\n\n  function parseExpression(noComma, noIn) {\n\tvar expr = parseMaybeAssign(noIn);\n\tif (!noComma && tokType === _comma) {\n\t  var node = startNodeFrom(expr);\n\t  node.expressions = [expr];\n\t  while (eat(_comma)) node.expressions.push(parseMaybeAssign(noIn));\n\t  return finishNode(node, \"SequenceExpression\");\n\t}\n\treturn expr;\n  }\n\n  function parseMaybeAssign(noIn) {\n\tvar left = parseMaybeConditional(noIn);\n\tif (tokType.isAssign) {\n\t  var node = startNodeFrom(left);\n\t  node.operator = tokVal;\n\t  node.left = left;\n\t  next();\n\t  node.right = parseMaybeAssign(noIn);\n\t  checkLVal(left);\n\t  return finishNode(node, \"AssignmentExpression\");\n\t}\n\treturn left;\n  }\n\n  function parseMaybeConditional(noIn) {\n\tvar expr = parseExprOps(noIn);\n\tif (eat(_question)) {\n\t  var node = startNodeFrom(expr);\n\t  node.test = expr;\n\t  node.consequent = parseExpression(true);\n\t  expect(_colon);\n\t  node.alternate = parseExpression(true, noIn);\n\t  return finishNode(node, \"ConditionalExpression\");\n\t}\n\treturn expr;\n  }\n\n  function parseExprOps(noIn) {\n\treturn parseExprOp(parseMaybeUnary(), -1, noIn);\n  }\n\n  function parseExprOp(left, minPrec, noIn) {\n\tvar prec = tokType.binop;\n\tif (prec != null && (!noIn || tokType !== _in)) {\n\t  if (prec > minPrec) {\n\t\tvar node = startNodeFrom(left);\n\t\tnode.left = left;\n\t\tnode.operator = tokVal;\n\t\tvar op = tokType;\n\t\tnext();\n\t\tnode.right = parseExprOp(parseMaybeUnary(), prec, noIn);\n\t\tvar exprNode = finishNode(node, (op === _logicalOR || op === _logicalAND) ? \"LogicalExpression\" : \"BinaryExpression\");\n\t\treturn parseExprOp(exprNode, minPrec, noIn);\n\t  }\n\t}\n\treturn left;\n  }\n\n  function parseMaybeUnary() {\n\tif (tokType.prefix) {\n\t  var node = startNode(), update = tokType.isUpdate;\n\t  node.operator = tokVal;\n\t  node.prefix = true;\n\t  tokRegexpAllowed = true;\n\t  next();\n\t  node.argument = parseMaybeUnary();\n\t  if (update) checkLVal(node.argument);\n\t  else if (strict && node.operator === \"delete\" &&\n\t\t\t   node.argument.type === \"Identifier\")\n\t\traise(node.start, \"Deleting local variable in strict mode\");\n\t  return finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n\t}\n\tvar expr = parseExprSubscripts();\n\twhile (tokType.postfix && !canInsertSemicolon()) {\n\t  var node = startNodeFrom(expr);\n\t  node.operator = tokVal;\n\t  node.prefix = false;\n\t  node.argument = expr;\n\t  checkLVal(expr);\n\t  next();\n\t  expr = finishNode(node, \"UpdateExpression\");\n\t}\n\treturn expr;\n  }\n\n  function parseExprSubscripts() {\n\treturn parseSubscripts(parseExprAtom());\n  }\n\n  function parseSubscripts(base, noCalls) {\n\tif (eat(_dot)) {\n\t  var node = startNodeFrom(base);\n\t  node.object = base;\n\t  node.property = parseIdent(true);\n\t  node.computed = false;\n\t  return parseSubscripts(finishNode(node, \"MemberExpression\"), noCalls);\n\t} else if (eat(_bracketL)) {\n\t  var node = startNodeFrom(base);\n\t  node.object = base;\n\t  node.property = parseExpression();\n\t  node.computed = true;\n\t  expect(_bracketR);\n\t  return parseSubscripts(finishNode(node, \"MemberExpression\"), noCalls);\n\t} else if (!noCalls && eat(_parenL)) {\n\t  var node = startNodeFrom(base);\n\t  node.callee = base;\n\t  node.arguments = parseExprList(_parenR, false);\n\t  return parseSubscripts(finishNode(node, \"CallExpression\"), noCalls);\n\t} else return base;\n  }\n\n  function parseExprAtom() {\n\tswitch (tokType) {\n\tcase _this:\n\t  var node = startNode();\n\t  next();\n\t  return finishNode(node, \"ThisExpression\");\n\tcase _name:\n\t  return parseIdent();\n\tcase _num: case _string: case _regexp:\n\t  var node = startNode();\n\t  node.value = tokVal;\n\t  node.raw = input.slice(tokStart, tokEnd);\n\t  next();\n\t  return finishNode(node, \"Literal\");\n\n\tcase _null: case _true: case _false:\n\t  var node = startNode();\n\t  node.value = tokType.atomValue;\n\t  node.raw = tokType.keyword;\n\t  next();\n\t  return finishNode(node, \"Literal\");\n\n\tcase _parenL:\n\t  var tokStartLoc1 = tokStartLoc, tokStart1 = tokStart;\n\t  next();\n\t  var val = parseExpression();\n\t  val.start = tokStart1;\n\t  val.end = tokEnd;\n\t  if (options.locations) {\n\t\tval.loc.start = tokStartLoc1;\n\t\tval.loc.end = tokEndLoc;\n\t  }\n\t  if (options.ranges)\n\t\tval.range = [tokStart1, tokEnd];\n\t  expect(_parenR);\n\t  return val;\n\n\tcase _bracketL:\n\t  var node = startNode();\n\t  next();\n\t  node.elements = parseExprList(_bracketR, true, true);\n\t  return finishNode(node, \"ArrayExpression\");\n\n\tcase _braceL:\n\t  return parseObj();\n\n\tcase _function:\n\t  var node = startNode();\n\t  next();\n\t  return parseFunction(node, false);\n\n\tcase _new:\n\t  return parseNew();\n\n\tdefault:\n\t  unexpected();\n\t}\n  }\n\n  function parseNew() {\n\tvar node = startNode();\n\tnext();\n\tnode.callee = parseSubscripts(parseExprAtom(), true);\n\tif (eat(_parenL)) node.arguments = parseExprList(_parenR, false);\n\telse node.arguments = empty;\n\treturn finishNode(node, \"NewExpression\");\n  }\n\n  function parseObj() {\n\tvar node = startNode(), first = true, sawGetSet = false;\n\tnode.properties = [];\n\tnext();\n\twhile (!eat(_braceR)) {\n\t  if (!first) {\n\t\texpect(_comma);\n\t\tif (options.allowTrailingCommas && eat(_braceR)) break;\n\t  } else first = false;\n\n\t  var prop = {key: parsePropertyName()}, isGetSet = false, kind;\n\t  if (eat(_colon)) {\n\t\tprop.value = parseExpression(true);\n\t\tkind = prop.kind = \"init\";\n\t  } else if (options.ecmaVersion >= 5 && prop.key.type === \"Identifier\" &&\n\t\t\t\t (prop.key.name === \"get\" || prop.key.name === \"set\")) {\n\t\tisGetSet = sawGetSet = true;\n\t\tkind = prop.kind = prop.key.name;\n\t\tprop.key = parsePropertyName();\n\t\tif (tokType !== _parenL) unexpected();\n\t\tprop.value = parseFunction(startNode(), false);\n\t  } else unexpected();\n\n\t  if (prop.key.type === \"Identifier\" && (strict || sawGetSet)) {\n\t\tfor (var i = 0; i < node.properties.length; ++i) {\n\t\t  var other = node.properties[i];\n\t\t  if (other.key.name === prop.key.name) {\n\t\t\tvar conflict = kind == other.kind || isGetSet && other.kind === \"init\" ||\n\t\t\t  kind === \"init\" && (other.kind === \"get\" || other.kind === \"set\");\n\t\t\tif (conflict && !strict && kind === \"init\" && other.kind === \"init\") conflict = false;\n\t\t\tif (conflict) raise(prop.key.start, \"Redefinition of property\");\n\t\t  }\n\t\t}\n\t  }\n\t  node.properties.push(prop);\n\t}\n\treturn finishNode(node, \"ObjectExpression\");\n  }\n\n  function parsePropertyName() {\n\tif (tokType === _num || tokType === _string) return parseExprAtom();\n\treturn parseIdent(true);\n  }\n\n  function parseFunction(node, isStatement) {\n\tif (tokType === _name) node.id = parseIdent();\n\telse if (isStatement) unexpected();\n\telse node.id = null;\n\tnode.params = [];\n\tvar first = true;\n\texpect(_parenL);\n\twhile (!eat(_parenR)) {\n\t  if (!first) expect(_comma); else first = false;\n\t  node.params.push(parseIdent());\n\t}\n\n\tvar oldInFunc = inFunction, oldLabels = labels;\n\tinFunction = true; labels = [];\n\tnode.body = parseBlock(true);\n\tinFunction = oldInFunc; labels = oldLabels;\n\n\tif (strict || node.body.body.length && isUseStrict(node.body.body[0])) {\n\t  for (var i = node.id ? -1 : 0; i < node.params.length; ++i) {\n\t\tvar id = i < 0 ? node.id : node.params[i];\n\t\tif (isStrictReservedWord(id.name) || isStrictBadIdWord(id.name))\n\t\t  raise(id.start, \"Defining '\" + id.name + \"' in strict mode\");\n\t\tif (i >= 0) for (var j = 0; j < i; ++j) if (id.name === node.params[j].name)\n\t\t  raise(id.start, \"Argument name clash in strict mode\");\n\t  }\n\t}\n\n\treturn finishNode(node, isStatement ? \"FunctionDeclaration\" : \"FunctionExpression\");\n  }\n\n  function parseExprList(close, allowTrailingComma, allowEmpty) {\n\tvar elts = [], first = true;\n\twhile (!eat(close)) {\n\t  if (!first) {\n\t\texpect(_comma);\n\t\tif (allowTrailingComma && options.allowTrailingCommas && eat(close)) break;\n\t  } else first = false;\n\n\t  if (allowEmpty && tokType === _comma) elts.push(null);\n\t  else elts.push(parseExpression(true));\n\t}\n\treturn elts;\n  }\n\n  function parseIdent(liberal) {\n\tvar node = startNode();\n\tif (liberal && options.forbidReserved == \"everywhere\") liberal = false;\n\tif (tokType === _name) {\n\t  if (!liberal &&\n\t\t  (options.forbidReserved &&\n\t\t   (options.ecmaVersion === 3 ? isReservedWord3 : isReservedWord5)(tokVal) ||\n\t\t   strict && isStrictReservedWord(tokVal)) &&\n\t\t  input.slice(tokStart, tokEnd).indexOf(\"\\\\\") == -1)\n\t\traise(tokStart, \"The keyword '\" + tokVal + \"' is reserved\");\n\t  node.name = tokVal;\n\t} else if (liberal && tokType.keyword) {\n\t  node.name = tokType.keyword;\n\t} else {\n\t  unexpected();\n\t}\n\ttokRegexpAllowed = false;\n\tnext();\n\treturn finishNode(node, \"Identifier\");\n  }\n\n});\n\n\t\tif (!acorn.version)\n\t\t\tacorn = null;\n\t}\n\n\tfunction parse(code, options) {\n\t\treturn (global.acorn || acorn).parse(code, options);\n\t}\n\n\tvar binaryOperators = {\n\t\t'+': '__add',\n\t\t'-': '__subtract',\n\t\t'*': '__multiply',\n\t\t'/': '__divide',\n\t\t'%': '__modulo',\n\t\t'==': '__equals',\n\t\t'!=': '__equals'\n\t};\n\n\tvar unaryOperators = {\n\t\t'-': '__negate',\n\t\t'+': '__self'\n\t};\n\n\tvar fields = Base.each(\n\t\t['add', 'subtract', 'multiply', 'divide', 'modulo', 'equals', 'negate'],\n\t\tfunction(name) {\n\t\t\tthis['__' + name] = '#' + name;\n\t\t},\n\t\t{\n\t\t\t__self: function() {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t);\n\tPoint.inject(fields);\n\tSize.inject(fields);\n\tColor.inject(fields);\n\n\tfunction __$__(left, operator, right) {\n\t\tvar handler = binaryOperators[operator];\n\t\tif (left && left[handler]) {\n\t\t\tvar res = left[handler](right);\n\t\t\treturn operator === '!=' ? !res : res;\n\t\t}\n\t\tswitch (operator) {\n\t\tcase '+': return left + right;\n\t\tcase '-': return left - right;\n\t\tcase '*': return left * right;\n\t\tcase '/': return left / right;\n\t\tcase '%': return left % right;\n\t\tcase '==': return left == right;\n\t\tcase '!=': return left != right;\n\t\t}\n\t}\n\n\tfunction $__(operator, value) {\n\t\tvar handler = unaryOperators[operator];\n\t\tif (value && value[handler])\n\t\t\treturn value[handler]();\n\t\tswitch (operator) {\n\t\tcase '+': return +value;\n\t\tcase '-': return -value;\n\t\t}\n\t}\n\n\tfunction compile(code, options) {\n\t\tif (!code)\n\t\t\treturn '';\n\t\toptions = options || {};\n\n\t\tvar insertions = [];\n\n\t\tfunction getOffset(offset) {\n\t\t\tfor (var i = 0, l = insertions.length; i < l; i++) {\n\t\t\t\tvar insertion = insertions[i];\n\t\t\t\tif (insertion[0] >= offset)\n\t\t\t\t\tbreak;\n\t\t\t\toffset += insertion[1];\n\t\t\t}\n\t\t\treturn offset;\n\t\t}\n\n\t\tfunction getCode(node) {\n\t\t\treturn code.substring(getOffset(node.range[0]),\n\t\t\t\t\tgetOffset(node.range[1]));\n\t\t}\n\n\t\tfunction getBetween(left, right) {\n\t\t\treturn code.substring(getOffset(left.range[1]),\n\t\t\t\t\tgetOffset(right.range[0]));\n\t\t}\n\n\t\tfunction replaceCode(node, str) {\n\t\t\tvar start = getOffset(node.range[0]),\n\t\t\t\tend = getOffset(node.range[1]),\n\t\t\t\tinsert = 0;\n\t\t\tfor (var i = insertions.length - 1; i >= 0; i--) {\n\t\t\t\tif (start > insertions[i][0]) {\n\t\t\t\t\tinsert = i + 1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tinsertions.splice(insert, 0, [start, str.length - end + start]);\n\t\t\tcode = code.substring(0, start) + str + code.substring(end);\n\t\t}\n\n\t\tfunction handleOverloading(node, parent) {\n\t\t\tswitch (node.type) {\n\t\t\tcase 'UnaryExpression':\n\t\t\t\tif (node.operator in unaryOperators\n\t\t\t\t\t\t&& node.argument.type !== 'Literal') {\n\t\t\t\t\tvar arg = getCode(node.argument);\n\t\t\t\t\treplaceCode(node, '$__(\"' + node.operator + '\", '\n\t\t\t\t\t\t\t+ arg + ')');\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'BinaryExpression':\n\t\t\t\tif (node.operator in binaryOperators\n\t\t\t\t\t\t&& node.left.type !== 'Literal') {\n\t\t\t\t\tvar left = getCode(node.left),\n\t\t\t\t\t\tright = getCode(node.right),\n\t\t\t\t\t\tbetween = getBetween(node.left, node.right),\n\t\t\t\t\t\toperator = node.operator;\n\t\t\t\t\treplaceCode(node, '__$__(' + left + ','\n\t\t\t\t\t\t\t+ between.replace(new RegExp('\\\\' + operator),\n\t\t\t\t\t\t\t\t'\"' + operator + '\"')\n\t\t\t\t\t\t\t+ ', ' + right + ')');\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'UpdateExpression':\n\t\t\tcase 'AssignmentExpression':\n\t\t\t\tvar parentType = parent && parent.type;\n\t\t\t\tif (!(\n\t\t\t\t\t\tparentType === 'ForStatement'\n\t\t\t\t\t\t|| parentType === 'BinaryExpression'\n\t\t\t\t\t\t\t&& /^[=!<>]/.test(parent.operator)\n\t\t\t\t\t\t|| parentType === 'MemberExpression' && parent.computed\n\t\t\t\t)) {\n\t\t\t\t\tif (node.type === 'UpdateExpression') {\n\t\t\t\t\t\tvar arg = getCode(node.argument),\n\t\t\t\t\t\t\texp = '__$__(' + arg + ', \"' + node.operator[0]\n\t\t\t\t\t\t\t\t\t+ '\", 1)',\n\t\t\t\t\t\t\tstr = arg + ' = ' + exp;\n\t\t\t\t\t\tif (node.prefix) {\n\t\t\t\t\t\t\tstr = '(' + str + ')';\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\tparentType === 'AssignmentExpression' ||\n\t\t\t\t\t\t\tparentType === 'VariableDeclarator' ||\n\t\t\t\t\t\t\tparentType === 'BinaryExpression'\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (getCode(parent.left || parent.id) === arg)\n\t\t\t\t\t\t\t\tstr = exp;\n\t\t\t\t\t\t\tstr = arg + '; ' + str;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treplaceCode(node, str);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (/^.=$/.test(node.operator)\n\t\t\t\t\t\t\t\t&& node.left.type !== 'Literal') {\n\t\t\t\t\t\t\tvar left = getCode(node.left),\n\t\t\t\t\t\t\t\tright = getCode(node.right),\n\t\t\t\t\t\t\t\texp = left + ' = __$__(' + left + ', \"'\n\t\t\t\t\t\t\t\t\t+ node.operator[0] + '\", ' + right + ')';\n\t\t\t\t\t\t\treplaceCode(node, /^\\(.*\\)$/.test(getCode(node))\n\t\t\t\t\t\t\t\t\t? '(' + exp + ')' : exp);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfunction handleExports(node) {\n\t\t\tswitch (node.type) {\n\t\t\tcase 'ExportDefaultDeclaration':\n\t\t\t\treplaceCode({\n\t\t\t\t\trange: [node.start, node.declaration.start]\n\t\t\t\t}, 'module.exports = ');\n\t\t\t\tbreak;\n\t\t\tcase 'ExportNamedDeclaration':\n\t\t\t\tvar declaration = node.declaration;\n\t\t\t\tvar specifiers = node.specifiers;\n\t\t\t\tif (declaration) {\n\t\t\t\t\tvar declarations = declaration.declarations;\n\t\t\t\t\tif (declarations) {\n\t\t\t\t\t\tdeclarations.forEach(function(dec) {\n\t\t\t\t\t\t\treplaceCode(dec, 'module.exports.' + getCode(dec));\n\t\t\t\t\t\t});\n\t\t\t\t\t\treplaceCode({\n\t\t\t\t\t\t\trange: [\n\t\t\t\t\t\t\t\tnode.start,\n\t\t\t\t\t\t\t\tdeclaration.start + declaration.kind.length\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}, '');\n\t\t\t\t\t}\n\t\t\t\t} else if (specifiers) {\n\t\t\t\t\tvar exports = specifiers.map(function(specifier) {\n\t\t\t\t\t\tvar name = getCode(specifier);\n\t\t\t\t\t\treturn 'module.exports.' + name + ' = ' + name + '; ';\n\t\t\t\t\t}).join('');\n\t\t\t\t\tif (exports) {\n\t\t\t\t\t\treplaceCode(node, exports);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfunction walkAST(node, parent, paperFeatures) {\n\t\t\tif (node) {\n\t\t\t\tfor (var key in node) {\n\t\t\t\t\tif (key !== 'range' && key !== 'loc') {\n\t\t\t\t\t\tvar value = node[key];\n\t\t\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\t\t\tfor (var i = 0, l = value.length; i < l; i++) {\n\t\t\t\t\t\t\t\twalkAST(value[i], node, paperFeatures);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (value && typeof value === 'object') {\n\t\t\t\t\t\t\twalkAST(value, node, paperFeatures);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (paperFeatures.operatorOverloading !== false) {\n\t\t\t\t\thandleOverloading(node, parent);\n\t\t\t\t}\n\t\t\t\tif (paperFeatures.moduleExports !== false) {\n\t\t\t\t\thandleExports(node);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction encodeVLQ(value) {\n\t\t\tvar res = '',\n\t\t\t\tbase64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\t\t\tvalue = (Math.abs(value) << 1) + (value < 0 ? 1 : 0);\n\t\t\twhile (value || !res) {\n\t\t\t\tvar next = value & (32 - 1);\n\t\t\t\tvalue >>= 5;\n\t\t\t\tif (value)\n\t\t\t\t\tnext |= 32;\n\t\t\t\tres += base64[next];\n\t\t\t}\n\t\t\treturn res;\n\t\t}\n\n\t\tvar url = options.url || '',\n\t\t\tsourceMaps = options.sourceMaps,\n\t\t\tpaperFeatures = options.paperFeatures || {},\n\t\t\tsource = options.source || code,\n\t\t\toffset = options.offset || 0,\n\t\t\tagent = paper.agent,\n\t\t\tversion = agent.versionNumber,\n\t\t\toffsetCode = false,\n\t\t\tlineBreaks = /\\r\\n|\\n|\\r/mg,\n\t\t\tmap;\n\t\tif (sourceMaps && (agent.chrome && version >= 30\n\t\t\t\t|| agent.webkit && version >= 537.76\n\t\t\t\t|| agent.firefox && version >= 23\n\t\t\t\t|| agent.node)) {\n\t\t\tif (agent.node) {\n\t\t\t\toffset -= 2;\n\t\t\t} else if (window && url && !window.location.href.indexOf(url)) {\n\t\t\t\tvar html = document.getElementsByTagName('html')[0].innerHTML;\n\t\t\t\toffset = html.substr(0, html.indexOf(code) + 1).match(\n\t\t\t\t\t\tlineBreaks).length + 1;\n\t\t\t}\n\t\t\toffsetCode = offset > 0 && !(\n\t\t\t\t\tagent.chrome && version >= 36 ||\n\t\t\t\t\tagent.safari && version >= 600 ||\n\t\t\t\t\tagent.firefox && version >= 40 ||\n\t\t\t\t\tagent.node);\n\t\t\tvar mappings = ['AA' + encodeVLQ(offsetCode ? 0 : offset) + 'A'];\n\t\t\tmappings.length = (code.match(lineBreaks) || []).length + 1\n\t\t\t\t\t+ (offsetCode ? offset : 0);\n\t\t\tmap = {\n\t\t\t\tversion: 3,\n\t\t\t\tfile: url,\n\t\t\t\tnames:[],\n\t\t\t\tmappings: mappings.join(';AACA'),\n\t\t\t\tsourceRoot: '',\n\t\t\t\tsources: [url],\n\t\t\t\tsourcesContent: [source]\n\t\t\t};\n\t\t}\n\t\tif (\n\t\t\tpaperFeatures.operatorOverloading !== false ||\n\t\t\tpaperFeatures.moduleExports !== false\n\t\t) {\n\t\t\twalkAST(parse(code, {\n\t\t\t\tranges: true,\n\t\t\t\tpreserveParens: true,\n\t\t\t\tsourceType: 'module'\n\t\t\t}), null, paperFeatures);\n\t\t}\n\t\tif (map) {\n\t\t\tif (offsetCode) {\n\t\t\t\tcode = new Array(offset + 1).join('\\n') + code;\n\t\t\t}\n\t\t\tif (/^(inline|both)$/.test(sourceMaps)) {\n\t\t\t\tcode += \"\\n//# sourceMappingURL=data:application/json;base64,\"\n\t\t\t\t\t\t+ self.btoa(unescape(encodeURIComponent(\n\t\t\t\t\t\t\tJSON.stringify(map))));\n\t\t\t}\n\t\t\tcode += \"\\n//# sourceURL=\" + (url || 'paperscript');\n\t\t}\n\t\treturn {\n\t\t\turl: url,\n\t\t\tsource: source,\n\t\t\tcode: code,\n\t\t\tmap: map\n\t\t};\n\t}\n\n\tfunction execute(code, scope, options) {\n\t\tpaper = scope;\n\t\tvar view = scope.getView(),\n\t\t\ttool = /\\btool\\.\\w+|\\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\\b/\n\t\t\t\t\t.test(code) && !/\\bnew\\s+Tool\\b/.test(code)\n\t\t\t\t\t\t? new Tool() : null,\n\t\t\ttoolHandlers = tool ? tool._events : [],\n\t\t\thandlers = ['onFrame', 'onResize'].concat(toolHandlers),\n\t\t\tparams = [],\n\t\t\targs = [],\n\t\t\tfunc,\n\t\t\tcompiled = typeof code === 'object' ? code : compile(code, options);\n\t\tcode = compiled.code;\n\t\tfunction expose(scope, hidden) {\n\t\t\tfor (var key in scope) {\n\t\t\t\tif ((hidden || !/^_/.test(key)) && new RegExp('([\\\\b\\\\s\\\\W]|^)'\n\t\t\t\t\t\t+ key.replace(/\\$/g, '\\\\$') + '\\\\b').test(code)) {\n\t\t\t\t\tparams.push(key);\n\t\t\t\t\targs.push(scope[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\texpose({ __$__: __$__, $__: $__, paper: scope, tool: tool },\n\t\t\t\ttrue);\n\t\texpose(scope);\n\t\tcode = 'var module = { exports: {} }; ' + code;\n\t\tvar exports = Base.each(handlers, function(key) {\n\t\t\tif (new RegExp('\\\\s+' + key + '\\\\b').test(code)) {\n\t\t\t\tparams.push(key);\n\t\t\t\tthis.push('module.exports.' + key + ' = ' + key + ';');\n\t\t\t}\n\t\t}, []).join('\\n');\n\t\tif (exports) {\n\t\t\tcode += '\\n' + exports;\n\t\t}\n\t\tcode += '\\nreturn module.exports;';\n\t\tvar agent = paper.agent;\n\t\tif (document && (agent.chrome\n\t\t\t\t|| agent.firefox && agent.versionNumber < 40)) {\n\t\t\tvar script = document.createElement('script'),\n\t\t\t\thead = document.head || document.getElementsByTagName('head')[0];\n\t\t\tif (agent.firefox)\n\t\t\t\tcode = '\\n' + code;\n\t\t\tscript.appendChild(document.createTextNode(\n\t\t\t\t'document.__paperscript__ = function(' + params + ') {' +\n\t\t\t\t\tcode +\n\t\t\t\t'\\n}'\n\t\t\t));\n\t\t\thead.appendChild(script);\n\t\t\tfunc = document.__paperscript__;\n\t\t\tdelete document.__paperscript__;\n\t\t\thead.removeChild(script);\n\t\t} else {\n\t\t\tfunc = Function(params, code);\n\t\t}\n\t\tvar exports = func && func.apply(scope, args);\n\t\tvar obj = exports || {};\n\t\tBase.each(toolHandlers, function(key) {\n\t\t\tvar value = obj[key];\n\t\t\tif (value)\n\t\t\t\ttool[key] = value;\n\t\t});\n\t\tif (view) {\n\t\t\tif (obj.onResize)\n\t\t\t\tview.setOnResize(obj.onResize);\n\t\t\tview.emit('resize', {\n\t\t\t\tsize: view.size,\n\t\t\t\tdelta: new Point()\n\t\t\t});\n\t\t\tif (obj.onFrame)\n\t\t\t\tview.setOnFrame(obj.onFrame);\n\t\t\tview.requestUpdate();\n\t\t}\n\t\treturn exports;\n\t}\n\n\tfunction loadScript(script) {\n\t\tif (/^text\\/(?:x-|)paperscript$/.test(script.type)\n\t\t\t\t&& PaperScope.getAttribute(script, 'ignore') !== 'true') {\n\t\t\tvar canvasId = PaperScope.getAttribute(script, 'canvas'),\n\t\t\t\tcanvas = document.getElementById(canvasId),\n\t\t\t\tsrc = script.src || script.getAttribute('data-src'),\n\t\t\t\tasync = PaperScope.hasAttribute(script, 'async'),\n\t\t\t\tscopeAttribute = 'data-paper-scope';\n\t\t\tif (!canvas)\n\t\t\t\tthrow new Error('Unable to find canvas with id \"'\n\t\t\t\t\t\t+ canvasId + '\"');\n\t\t\tvar scope = PaperScope.get(canvas.getAttribute(scopeAttribute))\n\t\t\t\t\t\t|| new PaperScope().setup(canvas);\n\t\t\tcanvas.setAttribute(scopeAttribute, scope._id);\n\t\t\tif (src) {\n\t\t\t\tHttp.request({\n\t\t\t\t\turl: src,\n\t\t\t\t\tasync: async,\n\t\t\t\t\tmimeType: 'text/plain',\n\t\t\t\t\tonLoad: function(code) {\n\t\t\t\t\t\texecute(code, scope, src);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\texecute(script.innerHTML, scope, script.baseURI);\n\t\t\t}\n\t\t\tscript.setAttribute('data-paper-ignore', 'true');\n\t\t\treturn scope;\n\t\t}\n\t}\n\n\tfunction loadAll() {\n\t\tBase.each(document && document.getElementsByTagName('script'),\n\t\t\t\tloadScript);\n\t}\n\n\tfunction load(script) {\n\t\treturn script ? loadScript(script) : loadAll();\n\t}\n\n\tif (window) {\n\t\tif (document.readyState === 'complete') {\n\t\t\tsetTimeout(loadAll);\n\t\t} else {\n\t\t\tDomEvent.add(window, { load: loadAll });\n\t\t}\n\t}\n\n\treturn {\n\t\tcompile: compile,\n\t\texecute: execute,\n\t\tload: load,\n\t\tparse: parse,\n\t\tcalculateBinary: __$__,\n\t\tcalculateUnary: $__\n\t};\n\n}.call(this);\n\nvar paper = new (PaperScope.inject(Base.exports, {\n\tBase: Base,\n\tNumerical: Numerical,\n\tKey: Key,\n\tDomEvent: DomEvent,\n\tDomElement: DomElement,\n\tdocument: document,\n\twindow: window,\n\tSymbol: SymbolDefinition,\n\tPlacedSymbol: SymbolItem\n}))();\n\nif (paper.agent.node) {\n\trequire('./node/extend.js')(paper);\n}\n\nif (typeof define === 'function' && define.amd) {\n\tdefine('paper', paper);\n} else if (typeof module === 'object' && module) {\n\tmodule.exports = paper;\n}\n\nreturn paper;\n}.call(this, typeof self === 'object' ? self : null);\n","/** @license React v17.0.2\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),m=require(\"object-assign\"),r=require(\"scheduler\");function y(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}if(!aa)throw Error(y(227));var ba=new Set,ca={};function da(a,b){ea(a,b);ea(a+\"Capture\",b)}\nfunction ea(a,b){ca[a]=b;for(a=0;a<b.length;a++)ba.add(b[a])}\nvar fa=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ha=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,ia=Object.prototype.hasOwnProperty,\nja={},ka={};function la(a){if(ia.call(ka,a))return!0;if(ia.call(ja,a))return!1;if(ha.test(a))return ka[a]=!0;ja[a]=!0;return!1}function ma(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction na(a,b,c,d){if(null===b||\"undefined\"===typeof b||ma(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function B(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var D={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){D[a]=new B(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];D[b]=new B(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){D[a]=new B(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){D[a]=new B(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){D[a]=new B(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){D[a]=new B(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){D[a]=new B(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){D[a]=new B(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){D[a]=new B(a,5,!1,a.toLowerCase(),null,!1,!1)});var oa=/[\\-:]([a-z])/g;function pa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(oa,\npa);D[b]=new B(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(oa,pa);D[b]=new B(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!1,!1)});\nD.xlinkHref=new B(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction qa(a,b,c,d){var e=D.hasOwnProperty(b)?D[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1]?!1:!0;f||(na(b,c,e,d)&&(c=null),d||null===e?la(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}\nvar ra=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sa=60103,ta=60106,ua=60107,wa=60108,xa=60114,ya=60109,za=60110,Aa=60112,Ba=60113,Ca=60120,Da=60115,Ea=60116,Fa=60121,Ga=60128,Ha=60129,Ia=60130,Ja=60131;\nif(\"function\"===typeof Symbol&&Symbol.for){var E=Symbol.for;sa=E(\"react.element\");ta=E(\"react.portal\");ua=E(\"react.fragment\");wa=E(\"react.strict_mode\");xa=E(\"react.profiler\");ya=E(\"react.provider\");za=E(\"react.context\");Aa=E(\"react.forward_ref\");Ba=E(\"react.suspense\");Ca=E(\"react.suspense_list\");Da=E(\"react.memo\");Ea=E(\"react.lazy\");Fa=E(\"react.block\");E(\"react.scope\");Ga=E(\"react.opaque.id\");Ha=E(\"react.debug_trace_mode\");Ia=E(\"react.offscreen\");Ja=E(\"react.legacy_hidden\")}\nvar Ka=\"function\"===typeof Symbol&&Symbol.iterator;function La(a){if(null===a||\"object\"!==typeof a)return null;a=Ka&&a[Ka]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var Ma;function Na(a){if(void 0===Ma)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);Ma=b&&b[1]||\"\"}return\"\\n\"+Ma+a}var Oa=!1;\nfunction Pa(a,b){if(!a||Oa)return\"\";Oa=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(k){var d=k}Reflect.construct(a,[],b)}else{try{b.call()}catch(k){d=k}a.call(b.prototype)}else{try{throw Error();}catch(k){d=k}a()}}catch(k){if(k&&d&&\"string\"===typeof k.stack){for(var e=k.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h])return\"\\n\"+e[g].replace(\" at new \",\" at \");while(1<=g&&0<=h)}break}}}finally{Oa=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Na(a):\"\"}\nfunction Qa(a){switch(a.tag){case 5:return Na(a.type);case 16:return Na(\"Lazy\");case 13:return Na(\"Suspense\");case 19:return Na(\"SuspenseList\");case 0:case 2:case 15:return a=Pa(a.type,!1),a;case 11:return a=Pa(a.type.render,!1),a;case 22:return a=Pa(a.type._render,!1),a;case 1:return a=Pa(a.type,!0),a;default:return\"\"}}\nfunction Ra(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ua:return\"Fragment\";case ta:return\"Portal\";case xa:return\"Profiler\";case wa:return\"StrictMode\";case Ba:return\"Suspense\";case Ca:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case za:return(a.displayName||\"Context\")+\".Consumer\";case ya:return(a._context.displayName||\"Context\")+\".Provider\";case Aa:var b=a.render;b=b.displayName||b.name||\"\";\nreturn a.displayName||(\"\"!==b?\"ForwardRef(\"+b+\")\":\"ForwardRef\");case Da:return Ra(a.type);case Fa:return Ra(a._render);case Ea:b=a._payload;a=a._init;try{return Ra(a(b))}catch(c){}}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"object\":case \"string\":case \"undefined\":return a;default:return\"\"}}function Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return m({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function $a(a,b){b=b.checked;null!=b&&qa(a,\"checked\",b,!1)}\nfunction ab(a,b){$a(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?bb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&bb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction cb(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction bb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}function db(a){var b=\"\";aa.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}function eb(a,b){a=m({children:void 0},b);if(b=db(b.children))a.children=b;return a}\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(y(91));return m({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(y(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(y(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}var kb={html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"};\nfunction lb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function mb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?lb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar nb,ob=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(a.namespaceURI!==kb.svg||\"innerHTML\"in a)a.innerHTML=b;else{nb=nb||document.createElement(\"div\");nb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=nb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction pb(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar qb={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,\nfloodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(qb).forEach(function(a){rb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);qb[b]=qb[a]})});function sb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||qb.hasOwnProperty(a)&&qb[a]?(\"\"+b).trim():b+\"px\"}\nfunction tb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=sb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var ub=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction vb(a,b){if(b){if(ub[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(y(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(y(60));if(!(\"object\"===typeof b.dangerouslySetInnerHTML&&\"__html\"in b.dangerouslySetInnerHTML))throw Error(y(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(y(62));}}\nfunction wb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(y(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(a,b,c,d,e){return a(b,c,d,e)}function Ib(){}var Jb=Gb,Kb=!1,Lb=!1;function Mb(){if(null!==zb||null!==Ab)Ib(),Fb()}\nfunction Nb(a,b,c){if(Lb)return a(b,c);Lb=!0;try{return Jb(a,b,c)}finally{Lb=!1,Mb()}}\nfunction Ob(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(y(231,b,typeof c));return c}var Pb=!1;if(fa)try{var Qb={};Object.defineProperty(Qb,\"passive\",{get:function(){Pb=!0}});window.addEventListener(\"test\",Qb,Qb);window.removeEventListener(\"test\",Qb,Qb)}catch(a){Pb=!1}function Rb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(n){this.onError(n)}}var Sb=!1,Tb=null,Ub=!1,Vb=null,Wb={onError:function(a){Sb=!0;Tb=a}};function Xb(a,b,c,d,e,f,g,h,k){Sb=!1;Tb=null;Rb.apply(Wb,arguments)}\nfunction Yb(a,b,c,d,e,f,g,h,k){Xb.apply(this,arguments);if(Sb){if(Sb){var l=Tb;Sb=!1;Tb=null}else throw Error(y(198));Ub||(Ub=!0,Vb=l)}}function Zb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&1026)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function $b(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function ac(a){if(Zb(a)!==a)throw Error(y(188));}\nfunction bc(a){var b=a.alternate;if(!b){b=Zb(a);if(null===b)throw Error(y(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return ac(e),a;if(f===d)return ac(e),b;f=f.sibling}throw Error(y(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(y(189));}}if(c.alternate!==d)throw Error(y(190));}if(3!==c.tag)throw Error(y(188));return c.stateNode.current===c?a:b}function cc(a){a=bc(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}\nfunction dc(a,b){for(var c=a.alternate;null!==b;){if(b===a||b===c)return!0;b=b.return}return!1}var ec,fc,gc,hc,ic=!1,jc=[],kc=null,lc=null,mc=null,nc=new Map,oc=new Map,pc=[],qc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction rc(a,b,c,d,e){return{blockedOn:a,domEventName:b,eventSystemFlags:c|16,nativeEvent:e,targetContainers:[d]}}function sc(a,b){switch(a){case \"focusin\":case \"focusout\":kc=null;break;case \"dragenter\":case \"dragleave\":lc=null;break;case \"mouseover\":case \"mouseout\":mc=null;break;case \"pointerover\":case \"pointerout\":nc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":oc.delete(b.pointerId)}}\nfunction tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a=rc(b,c,d,e,f),null!==b&&(b=Cb(b),null!==b&&fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction uc(a,b,c,d,e){switch(b){case \"focusin\":return kc=tc(kc,a,b,c,d,e),!0;case \"dragenter\":return lc=tc(lc,a,b,c,d,e),!0;case \"mouseover\":return mc=tc(mc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;nc.set(f,tc(nc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,oc.set(f,tc(oc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction vc(a){var b=wc(a.target);if(null!==b){var c=Zb(b);if(null!==c)if(b=c.tag,13===b){if(b=$b(c),null!==b){a.blockedOn=b;hc(a.lanePriority,function(){r.unstable_runWithPriority(a.priority,function(){gc(c)})});return}}else if(3===b&&c.stateNode.hydrate){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c)return b=Cb(c),null!==b&&fc(b),a.blockedOn=c,!1;b.shift()}return!0}function zc(a,b,c){xc(a)&&c.delete(b)}\nfunction Ac(){for(ic=!1;0<jc.length;){var a=jc[0];if(null!==a.blockedOn){a=Cb(a.blockedOn);null!==a&&ec(a);break}for(var b=a.targetContainers;0<b.length;){var c=yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null!==c){a.blockedOn=c;break}b.shift()}null===a.blockedOn&&jc.shift()}null!==kc&&xc(kc)&&(kc=null);null!==lc&&xc(lc)&&(lc=null);null!==mc&&xc(mc)&&(mc=null);nc.forEach(zc);oc.forEach(zc)}\nfunction Bc(a,b){a.blockedOn===b&&(a.blockedOn=null,ic||(ic=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ac)))}\nfunction Cc(a){function b(b){return Bc(b,a)}if(0<jc.length){Bc(jc[0],a);for(var c=1;c<jc.length;c++){var d=jc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==kc&&Bc(kc,a);null!==lc&&Bc(lc,a);null!==mc&&Bc(mc,a);nc.forEach(b);oc.forEach(b);for(c=0;c<pc.length;c++)d=pc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<pc.length&&(c=pc[0],null===c.blockedOn);)vc(c),null===c.blockedOn&&pc.shift()}\nfunction Dc(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var Ec={animationend:Dc(\"Animation\",\"AnimationEnd\"),animationiteration:Dc(\"Animation\",\"AnimationIteration\"),animationstart:Dc(\"Animation\",\"AnimationStart\"),transitionend:Dc(\"Transition\",\"TransitionEnd\")},Fc={},Gc={};\nfa&&(Gc=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),\"TransitionEvent\"in window||delete Ec.transitionend.transition);function Hc(a){if(Fc[a])return Fc[a];if(!Ec[a])return a;var b=Ec[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Gc)return Fc[a]=b[c];return a}\nvar Ic=Hc(\"animationend\"),Jc=Hc(\"animationiteration\"),Kc=Hc(\"animationstart\"),Lc=Hc(\"transitionend\"),Mc=new Map,Nc=new Map,Oc=[\"abort\",\"abort\",Ic,\"animationEnd\",Jc,\"animationIteration\",Kc,\"animationStart\",\"canplay\",\"canPlay\",\"canplaythrough\",\"canPlayThrough\",\"durationchange\",\"durationChange\",\"emptied\",\"emptied\",\"encrypted\",\"encrypted\",\"ended\",\"ended\",\"error\",\"error\",\"gotpointercapture\",\"gotPointerCapture\",\"load\",\"load\",\"loadeddata\",\"loadedData\",\"loadedmetadata\",\"loadedMetadata\",\"loadstart\",\"loadStart\",\n\"lostpointercapture\",\"lostPointerCapture\",\"playing\",\"playing\",\"progress\",\"progress\",\"seeking\",\"seeking\",\"stalled\",\"stalled\",\"suspend\",\"suspend\",\"timeupdate\",\"timeUpdate\",Lc,\"transitionEnd\",\"waiting\",\"waiting\"];function Pc(a,b){for(var c=0;c<a.length;c+=2){var d=a[c],e=a[c+1];e=\"on\"+(e[0].toUpperCase()+e.slice(1));Nc.set(d,b);Mc.set(d,e);da(e,[d])}}var Qc=r.unstable_now;Qc();var F=8;\nfunction Rc(a){if(0!==(1&a))return F=15,1;if(0!==(2&a))return F=14,2;if(0!==(4&a))return F=13,4;var b=24&a;if(0!==b)return F=12,b;if(0!==(a&32))return F=11,32;b=192&a;if(0!==b)return F=10,b;if(0!==(a&256))return F=9,256;b=3584&a;if(0!==b)return F=8,b;if(0!==(a&4096))return F=7,4096;b=4186112&a;if(0!==b)return F=6,b;b=62914560&a;if(0!==b)return F=5,b;if(a&67108864)return F=4,67108864;if(0!==(a&134217728))return F=3,134217728;b=805306368&a;if(0!==b)return F=2,b;if(0!==(1073741824&a))return F=1,1073741824;\nF=8;return a}function Sc(a){switch(a){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Tc(a){switch(a){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,a));}}\nfunction Uc(a,b){var c=a.pendingLanes;if(0===c)return F=0;var d=0,e=0,f=a.expiredLanes,g=a.suspendedLanes,h=a.pingedLanes;if(0!==f)d=f,e=F=15;else if(f=c&134217727,0!==f){var k=f&~g;0!==k?(d=Rc(k),e=F):(h&=f,0!==h&&(d=Rc(h),e=F))}else f=c&~g,0!==f?(d=Rc(f),e=F):0!==h&&(d=Rc(h),e=F);if(0===d)return 0;d=31-Vc(d);d=c&((0>d?0:1<<d)<<1)-1;if(0!==b&&b!==d&&0===(b&g)){Rc(b);if(e<=F)return b;F=e}b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-Vc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction Wc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function Xc(a,b){switch(a){case 15:return 1;case 14:return 2;case 12:return a=Yc(24&~b),0===a?Xc(10,b):a;case 10:return a=Yc(192&~b),0===a?Xc(8,b):a;case 8:return a=Yc(3584&~b),0===a&&(a=Yc(4186112&~b),0===a&&(a=512)),a;case 2:return b=Yc(805306368&~b),0===b&&(b=268435456),b}throw Error(y(358,a));}function Yc(a){return a&-a}function Zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction $c(a,b,c){a.pendingLanes|=b;var d=b-1;a.suspendedLanes&=d;a.pingedLanes&=d;a=a.eventTimes;b=31-Vc(b);a[b]=c}var Vc=Math.clz32?Math.clz32:ad,bd=Math.log,cd=Math.LN2;function ad(a){return 0===a?32:31-(bd(a)/cd|0)|0}var dd=r.unstable_UserBlockingPriority,ed=r.unstable_runWithPriority,fd=!0;function gd(a,b,c,d){Kb||Ib();var e=hd,f=Kb;Kb=!0;try{Hb(e,a,b,c,d)}finally{(Kb=f)||Mb()}}function id(a,b,c,d){ed(dd,hd.bind(null,a,b,c,d))}\nfunction hd(a,b,c,d){if(fd){var e;if((e=0===(b&4))&&0<jc.length&&-1<qc.indexOf(a))a=rc(null,a,b,c,d),jc.push(a);else{var f=yc(a,b,c,d);if(null===f)e&&sc(a,d);else{if(e){if(-1<qc.indexOf(a)){a=rc(f,a,b,c,d);jc.push(a);return}if(uc(f,a,b,c,d))return;sc(a,d)}jd(a,b,d,null,c)}}}}\nfunction yc(a,b,c,d){var e=xb(d);e=wc(e);if(null!==e){var f=Zb(e);if(null===f)e=null;else{var g=f.tag;if(13===g){e=$b(f);if(null!==e)return e;e=null}else if(3===g){if(f.stateNode.hydrate)return 3===f.tag?f.stateNode.containerInfo:null;e=null}else f!==e&&(e=null)}}jd(a,b,d,e,c);return null}var kd=null,ld=null,md=null;\nfunction nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}function od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}m(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=m({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=m({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=m({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=m({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=m({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=m({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=m({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=m({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=m({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=m({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=m({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=m({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=fa&&\"CompositionEvent\"in window,be=null;fa&&\"documentMode\"in document&&(be=document.documentMode);var ce=fa&&\"TextEvent\"in window&&!be,de=fa&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(fa){var xe;if(fa){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));a=re;if(Kb)a(b);else{Kb=!0;try{Gb(a,b)}finally{Kb=!1,Mb()}}}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge,Ie=Object.prototype.hasOwnProperty;\nfunction Je(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!Ie.call(b,c[d])||!He(a[c[d]],b[c[d]]))return!1;return!0}function Ke(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Le(a,b){var c=Ke(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Ke(c)}}function Me(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Me(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Ne(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Oe(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nvar Pe=fa&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Oe(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Je(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nPc(\"cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange\".split(\" \"),\n0);Pc(\"drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel\".split(\" \"),1);Pc(Oc,2);for(var Ve=\"change selectionchange textInput compositionstart compositionend compositionupdate\".split(\" \"),We=0;We<Ve.length;We++)Nc.set(Ve[We],0);ea(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);\nea(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ea(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);ea(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);da(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));da(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));da(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);da(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));\nda(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));da(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var Xe=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),Ye=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(Xe));\nfunction Ze(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Yb(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;Ze(e,h,l);f=k}}}if(Ub)throw a=Vb,Ub=!1,Vb=null,a;}\nfunction G(a,b){var c=$e(b),d=a+\"__bubble\";c.has(d)||(af(b,a,2,!1),c.add(d))}var bf=\"_reactListening\"+Math.random().toString(36).slice(2);function cf(a){a[bf]||(a[bf]=!0,ba.forEach(function(b){Ye.has(b)||df(b,!1,a,null);df(b,!0,a,null)}))}\nfunction df(a,b,c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,f=c;\"selectionchange\"===a&&9!==c.nodeType&&(f=c.ownerDocument);if(null!==d&&!b&&Ye.has(a)){if(\"scroll\"!==a)return;e|=2;f=d}var g=$e(f),h=a+\"__\"+(b?\"capture\":\"bubble\");g.has(h)||(b&&(e|=4),af(f,a,e,b),g.add(h))}\nfunction af(a,b,c,d){var e=Nc.get(b);switch(void 0===e?2:e){case 0:e=gd;break;case 1:e=id;break;default:e=hd}c=e.bind(null,b,c,a);e=void 0;!Pb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction jd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Nb(function(){var d=f,e=xb(c),g=[];\na:{var h=Mc.get(a);if(void 0!==h){var k=td,x=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":x=\"focus\";k=Fd;break;case \"focusout\":x=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case Ic:case Jc:case Kc:k=Hd;break;case Lc:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var w=0!==(b&4),z=!w&&\"scroll\"===a,u=w?null!==h?h+\"Capture\":null:h;w=[];for(var t=d,q;null!==\nt;){q=t;var v=q.stateNode;5===q.tag&&null!==v&&(q=v,null!==u&&(v=Ob(t,u),null!=v&&w.push(ef(t,v,q))));if(z)break;t=t.return}0<w.length&&(h=new k(h,x,null,c,e),g.push({event:h,listeners:w}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&0===(b&16)&&(x=c.relatedTarget||c.fromElement)&&(wc(x)||x[ff]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(x=c.relatedTarget||c.toElement,k=d,x=x?wc(x):null,null!==\nx&&(z=Zb(x),x!==z||5!==x.tag&&6!==x.tag))x=null}else k=null,x=d;if(k!==x){w=Bd;v=\"onMouseLeave\";u=\"onMouseEnter\";t=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)w=Td,v=\"onPointerLeave\",u=\"onPointerEnter\",t=\"pointer\";z=null==k?h:ue(k);q=null==x?h:ue(x);h=new w(v,t+\"leave\",k,c,e);h.target=z;h.relatedTarget=q;v=null;wc(e)===d&&(w=new w(u,t+\"enter\",x,c,e),w.target=q,w.relatedTarget=z,v=w);z=v;if(k&&x)b:{w=k;u=x;t=0;for(q=w;q;q=gf(q))t++;q=0;for(v=u;v;v=gf(v))q++;for(;0<t-q;)w=gf(w),t--;for(;0<q-t;)u=\ngf(u),q--;for(;t--;){if(w===u||null!==u&&w===u.alternate)break b;w=gf(w);u=gf(u)}w=null}else w=null;null!==k&&hf(g,h,k,w,!1);null!==x&&null!==z&&hf(g,z,x,w,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var J=ve;else if(me(h))if(we)J=Fe;else{J=De;var K=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(J=Ee);if(J&&(J=J(a,d))){ne(g,J,c,e);break a}K&&K(a,h,d);\"focusout\"===a&&(K=h._wrapperState)&&\nK.controlled&&\"number\"===h.type&&bb(h,\"number\",h.value)}K=d?ue(d):window;switch(a){case \"focusin\":if(me(K)||\"true\"===K.contentEditable)Qe=K,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var Q;if(ae)b:{switch(a){case \"compositionstart\":var L=\"onCompositionStart\";break b;case \"compositionend\":L=\"onCompositionEnd\";break b;\ncase \"compositionupdate\":L=\"onCompositionUpdate\";break b}L=void 0}else ie?ge(a,c)&&(L=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(L=\"onCompositionStart\");L&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==L?\"onCompositionEnd\"===L&&ie&&(Q=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),K=oe(d,L),0<K.length&&(L=new Ld(L,a,null,c,e),g.push({event:L,listeners:K}),Q?L.data=Q:(Q=he(c),null!==Q&&(L.data=Q))));if(Q=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),0<d.length&&(e=new Ld(\"onBeforeInput\",\n\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=Q)}se(g,b)})}function ef(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Ob(a,c),null!=f&&d.unshift(ef(a,f,e)),f=Ob(a,b),null!=f&&d.push(ef(a,f,e)));a=a.return}return d}function gf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction hf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Ob(c,f),null!=k&&g.unshift(ef(c,k,h))):e||(k=Ob(c,f),null!=k&&g.push(ef(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}function jf(){}var kf=null,lf=null;function mf(a,b){switch(a){case \"button\":case \"input\":case \"select\":case \"textarea\":return!!b.autoFocus}return!1}\nfunction nf(a,b){return\"textarea\"===a||\"option\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}var of=\"function\"===typeof setTimeout?setTimeout:void 0,pf=\"function\"===typeof clearTimeout?clearTimeout:void 0;function qf(a){1===a.nodeType?a.textContent=\"\":9===a.nodeType&&(a=a.body,null!=a&&(a.textContent=\"\"))}\nfunction rf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break}return a}function sf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var tf=0;function uf(a){return{$$typeof:Ga,toString:a,valueOf:a}}var vf=Math.random().toString(36).slice(2),wf=\"__reactFiber$\"+vf,xf=\"__reactProps$\"+vf,ff=\"__reactContainer$\"+vf,yf=\"__reactEvents$\"+vf;\nfunction wc(a){var b=a[wf];if(b)return b;for(var c=a.parentNode;c;){if(b=c[ff]||c[wf]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=sf(a);null!==a;){if(c=a[wf])return c;a=sf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[wf]||a[ff];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(y(33));}function Db(a){return a[xf]||null}\nfunction $e(a){var b=a[yf];void 0===b&&(b=a[yf]=new Set);return b}var zf=[],Af=-1;function Bf(a){return{current:a}}function H(a){0>Af||(a.current=zf[Af],zf[Af]=null,Af--)}function I(a,b){Af++;zf[Af]=a.current;a.current=b}var Cf={},M=Bf(Cf),N=Bf(!1),Df=Cf;\nfunction Ef(a,b){var c=a.type.contextTypes;if(!c)return Cf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function Ff(a){a=a.childContextTypes;return null!==a&&void 0!==a}function Gf(){H(N);H(M)}function Hf(a,b,c){if(M.current!==Cf)throw Error(y(168));I(M,b);I(N,c)}\nfunction If(a,b,c){var d=a.stateNode;a=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw Error(y(108,Ra(b)||\"Unknown\",e));return m({},c,d)}function Jf(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Cf;Df=M.current;I(M,a);I(N,N.current);return!0}function Kf(a,b,c){var d=a.stateNode;if(!d)throw Error(y(169));c?(a=If(a,b,Df),d.__reactInternalMemoizedMergedChildContext=a,H(N),H(M),I(M,a)):H(N);I(N,c)}\nvar Lf=null,Mf=null,Nf=r.unstable_runWithPriority,Of=r.unstable_scheduleCallback,Pf=r.unstable_cancelCallback,Qf=r.unstable_shouldYield,Rf=r.unstable_requestPaint,Sf=r.unstable_now,Tf=r.unstable_getCurrentPriorityLevel,Uf=r.unstable_ImmediatePriority,Vf=r.unstable_UserBlockingPriority,Wf=r.unstable_NormalPriority,Xf=r.unstable_LowPriority,Yf=r.unstable_IdlePriority,Zf={},$f=void 0!==Rf?Rf:function(){},ag=null,bg=null,cg=!1,dg=Sf(),O=1E4>dg?Sf:function(){return Sf()-dg};\nfunction eg(){switch(Tf()){case Uf:return 99;case Vf:return 98;case Wf:return 97;case Xf:return 96;case Yf:return 95;default:throw Error(y(332));}}function fg(a){switch(a){case 99:return Uf;case 98:return Vf;case 97:return Wf;case 96:return Xf;case 95:return Yf;default:throw Error(y(332));}}function gg(a,b){a=fg(a);return Nf(a,b)}function hg(a,b,c){a=fg(a);return Of(a,b,c)}function ig(){if(null!==bg){var a=bg;bg=null;Pf(a)}jg()}\nfunction jg(){if(!cg&&null!==ag){cg=!0;var a=0;try{var b=ag;gg(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}});ag=null}catch(c){throw null!==ag&&(ag=ag.slice(a+1)),Of(Uf,ig),c;}finally{cg=!1}}}var kg=ra.ReactCurrentBatchConfig;function lg(a,b){if(a&&a.defaultProps){b=m({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}var mg=Bf(null),ng=null,og=null,pg=null;function qg(){pg=og=ng=null}\nfunction rg(a){var b=mg.current;H(mg);a.type._context._currentValue=b}function sg(a,b){for(;null!==a;){var c=a.alternate;if((a.childLanes&b)===b)if(null===c||(c.childLanes&b)===b)break;else c.childLanes|=b;else a.childLanes|=b,null!==c&&(c.childLanes|=b);a=a.return}}function tg(a,b){ng=a;pg=og=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(ug=!0),a.firstContext=null)}\nfunction vg(a,b){if(pg!==a&&!1!==b&&0!==b){if(\"number\"!==typeof b||1073741823===b)pg=a,b=1073741823;b={context:a,observedBits:b,next:null};if(null===og){if(null===ng)throw Error(y(308));og=b;ng.dependencies={lanes:0,firstContext:b,responders:null}}else og=og.next=b}return a._currentValue}var wg=!1;function xg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}\nfunction yg(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function zg(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}function Ag(a,b){a=a.updateQueue;if(null!==a){a=a.shared;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}}\nfunction Bg(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction Cg(a,b,c,d){var e=a.updateQueue;wg=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var n=a.alternate;if(null!==n){n=n.updateQueue;var A=n.lastBaseUpdate;A!==g&&(null===A?n.firstBaseUpdate=l:A.next=l,n.lastBaseUpdate=k)}}if(null!==f){A=e.baseState;g=0;n=l=k=null;do{h=f.lane;var p=f.eventTime;if((d&h)===h){null!==n&&(n=n.next={eventTime:p,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,\nnext:null});a:{var C=a,x=f;h=b;p=c;switch(x.tag){case 1:C=x.payload;if(\"function\"===typeof C){A=C.call(p,A,h);break a}A=C;break a;case 3:C.flags=C.flags&-4097|64;case 0:C=x.payload;h=\"function\"===typeof C?C.call(p,A,h):C;if(null===h||void 0===h)break a;A=m({},A,h);break a;case 2:wg=!0}}null!==f.callback&&(a.flags|=32,h=e.effects,null===h?e.effects=[f]:h.push(f))}else p={eventTime:p,lane:h,tag:f.tag,payload:f.payload,callback:f.callback,next:null},null===n?(l=n=p,k=A):n=n.next=p,g|=h;f=f.next;if(null===\nf)if(h=e.shared.pending,null===h)break;else f=h.next,h.next=null,e.lastBaseUpdate=h,e.shared.pending=null}while(1);null===n&&(k=A);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=n;Dg|=g;a.lanes=g;a.memoizedState=A}}function Eg(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(y(191,e));e.call(d)}}}var Fg=(new aa.Component).refs;\nfunction Gg(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:m({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Kg={isMounted:function(a){return(a=a._reactInternals)?Zb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=Hg(),e=Ig(a),f=zg(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);Ag(a,f);Jg(a,e,d)},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=Hg(),d=Ig(a),e=zg(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=\nb);Ag(a,e);Jg(a,d,c)}};function Lg(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Je(c,d)||!Je(e,f):!0}\nfunction Mg(a,b,c){var d=!1,e=Cf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=vg(f):(e=Ff(b)?Df:M.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Ef(a,e):Cf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Kg;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Ng(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Kg.enqueueReplaceState(b,b.state,null)}\nfunction Og(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=Fg;xg(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=vg(f):(f=Ff(b)?Df:M.current,e.context=Ef(a,f));Cg(a,c,e,d);e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Gg(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||\n(b=e.state,\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Kg.enqueueReplaceState(e,e.state,null),Cg(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4)}var Pg=Array.isArray;\nfunction Qg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(y(309));var d=c.stateNode}if(!d)throw Error(y(147,a));var e=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===Fg&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}if(\"string\"!==typeof a)throw Error(y(284));if(!c._owner)throw Error(y(290,a));}return a}\nfunction Rg(a,b){if(\"textarea\"!==a.type)throw Error(y(31,\"[object Object]\"===Object.prototype.toString.call(b)?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":b));}\nfunction Sg(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.flags=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Tg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags=2,\nc):d;b.flags=2;return c}function g(b){a&&null===b.alternate&&(b.flags=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Ug(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props),d.ref=Qg(a,b,c),d.return=a,d;d=Vg(c.type,c.key,c.props,null,a.mode,d);d.ref=Qg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=\nWg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function n(a,b,c,d,f){if(null===b||7!==b.tag)return b=Xg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function A(a,b,c){if(\"string\"===typeof b||\"number\"===typeof b)return b=Ug(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case sa:return c=Vg(b.type,b.key,b.props,null,a.mode,c),c.ref=Qg(a,null,b),c.return=a,c;case ta:return b=Wg(b,a.mode,c),b.return=a,b}if(Pg(b)||La(b))return b=Xg(b,\na.mode,c,null),b.return=a,b;Rg(a,b)}return null}function p(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case sa:return c.key===e?c.type===ua?n(a,b,c.props.children,d,e):k(a,b,c,d):null;case ta:return c.key===e?l(a,b,c,d):null}if(Pg(c)||La(c))return null!==e?null:n(a,b,c,d,null);Rg(a,c)}return null}function C(a,b,c,d,e){if(\"string\"===typeof d||\"number\"===typeof d)return a=a.get(c)||\nnull,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case sa:return a=a.get(null===d.key?c:d.key)||null,d.type===ua?n(b,a,d.props.children,e,d.key):k(b,a,d,e);case ta:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e)}if(Pg(d)||La(d))return a=a.get(c)||null,n(b,a,d,e,null);Rg(b,d)}return null}function x(e,g,h,k){for(var l=null,t=null,u=g,z=g=0,q=null;null!==u&&z<h.length;z++){u.index>z?(q=u,u=null):q=u.sibling;var n=p(e,u,h[z],k);if(null===n){null===u&&(u=q);break}a&&u&&null===\nn.alternate&&b(e,u);g=f(n,g,z);null===t?l=n:t.sibling=n;t=n;u=q}if(z===h.length)return c(e,u),l;if(null===u){for(;z<h.length;z++)u=A(e,h[z],k),null!==u&&(g=f(u,g,z),null===t?l=u:t.sibling=u,t=u);return l}for(u=d(e,u);z<h.length;z++)q=C(u,e,z,h[z],k),null!==q&&(a&&null!==q.alternate&&u.delete(null===q.key?z:q.key),g=f(q,g,z),null===t?l=q:t.sibling=q,t=q);a&&u.forEach(function(a){return b(e,a)});return l}function w(e,g,h,k){var l=La(h);if(\"function\"!==typeof l)throw Error(y(150));h=l.call(h);if(null==\nh)throw Error(y(151));for(var t=l=null,u=g,z=g=0,q=null,n=h.next();null!==u&&!n.done;z++,n=h.next()){u.index>z?(q=u,u=null):q=u.sibling;var w=p(e,u,n.value,k);if(null===w){null===u&&(u=q);break}a&&u&&null===w.alternate&&b(e,u);g=f(w,g,z);null===t?l=w:t.sibling=w;t=w;u=q}if(n.done)return c(e,u),l;if(null===u){for(;!n.done;z++,n=h.next())n=A(e,n.value,k),null!==n&&(g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);return l}for(u=d(e,u);!n.done;z++,n=h.next())n=C(u,e,z,n.value,k),null!==n&&(a&&null!==n.alternate&&\nu.delete(null===n.key?z:n.key),g=f(n,g,z),null===t?l=n:t.sibling=n,t=n);a&&u.forEach(function(a){return b(e,a)});return l}return function(a,d,f,h){var k=\"object\"===typeof f&&null!==f&&f.type===ua&&null===f.key;k&&(f=f.props.children);var l=\"object\"===typeof f&&null!==f;if(l)switch(f.$$typeof){case sa:a:{l=f.key;for(k=d;null!==k;){if(k.key===l){switch(k.tag){case 7:if(f.type===ua){c(a,k.sibling);d=e(k,f.props.children);d.return=a;a=d;break a}break;default:if(k.elementType===f.type){c(a,k.sibling);\nd=e(k,f.props);d.ref=Qg(a,k,f);d.return=a;a=d;break a}}c(a,k);break}else b(a,k);k=k.sibling}f.type===ua?(d=Xg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Vg(f.type,f.key,f.props,null,a.mode,h),h.ref=Qg(a,d,f),h.return=a,a=h)}return g(a);case ta:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=\nWg(f,a.mode,h);d.return=a;a=d}return g(a)}if(\"string\"===typeof f||\"number\"===typeof f)return f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):(c(a,d),d=Ug(f,a.mode,h),d.return=a,a=d),g(a);if(Pg(f))return x(a,d,f,h);if(La(f))return w(a,d,f,h);l&&Rg(a,f);if(\"undefined\"===typeof f&&!k)switch(a.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,Ra(a.type)||\"Component\"));}return c(a,d)}}var Yg=Sg(!0),Zg=Sg(!1),$g={},ah=Bf($g),bh=Bf($g),ch=Bf($g);\nfunction dh(a){if(a===$g)throw Error(y(174));return a}function eh(a,b){I(ch,b);I(bh,a);I(ah,$g);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:mb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=mb(b,a)}H(ah);I(ah,b)}function fh(){H(ah);H(bh);H(ch)}function gh(a){dh(ch.current);var b=dh(ah.current);var c=mb(b,a.type);b!==c&&(I(bh,a),I(ah,c))}function hh(a){bh.current===a&&(H(ah),H(bh))}var P=Bf(0);\nfunction ih(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&64))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var jh=null,kh=null,lh=!1;\nfunction mh(a,b){var c=nh(5,null,null,0);c.elementType=\"DELETED\";c.type=\"DELETED\";c.stateNode=b;c.return=a;c.flags=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function oh(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}\nfunction ph(a){if(lh){var b=kh;if(b){var c=b;if(!oh(a,b)){b=rf(c.nextSibling);if(!b||!oh(a,b)){a.flags=a.flags&-1025|2;lh=!1;jh=a;return}mh(jh,c)}jh=a;kh=rf(b.firstChild)}else a.flags=a.flags&-1025|2,lh=!1,jh=a}}function qh(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;jh=a}\nfunction rh(a){if(a!==jh)return!1;if(!lh)return qh(a),lh=!0,!1;var b=a.type;if(5!==a.tag||\"head\"!==b&&\"body\"!==b&&!nf(b,a.memoizedProps))for(b=kh;b;)mh(a,b),b=rf(b.nextSibling);qh(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(y(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){kh=rf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}kh=null}}else kh=jh?rf(a.stateNode.nextSibling):null;return!0}\nfunction sh(){kh=jh=null;lh=!1}var th=[];function uh(){for(var a=0;a<th.length;a++)th[a]._workInProgressVersionPrimary=null;th.length=0}var vh=ra.ReactCurrentDispatcher,wh=ra.ReactCurrentBatchConfig,xh=0,R=null,S=null,T=null,yh=!1,zh=!1;function Ah(){throw Error(y(321));}function Bh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Ch(a,b,c,d,e,f){xh=f;R=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;vh.current=null===a||null===a.memoizedState?Dh:Eh;a=c(d,e);if(zh){f=0;do{zh=!1;if(!(25>f))throw Error(y(301));f+=1;T=S=null;b.updateQueue=null;vh.current=Fh;a=c(d,e)}while(zh)}vh.current=Gh;b=null!==S&&null!==S.next;xh=0;T=S=R=null;yh=!1;if(b)throw Error(y(300));return a}function Hh(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===T?R.memoizedState=T=a:T=T.next=a;return T}\nfunction Ih(){if(null===S){var a=R.alternate;a=null!==a?a.memoizedState:null}else a=S.next;var b=null===T?R.memoizedState:T.next;if(null!==b)T=b,S=a;else{if(null===a)throw Error(y(310));S=a;a={memoizedState:S.memoizedState,baseState:S.baseState,baseQueue:S.baseQueue,queue:S.queue,next:null};null===T?R.memoizedState=T=a:T=T.next=a}return T}function Jh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Kh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=S,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){e=e.next;d=d.baseState;var h=g=f=null,k=e;do{var l=k.lane;if((xh&l)===l)null!==h&&(h=h.next={lane:0,action:k.action,eagerReducer:k.eagerReducer,eagerState:k.eagerState,next:null}),d=k.eagerReducer===a?k.eagerState:a(d,k.action);else{var n={lane:l,action:k.action,eagerReducer:k.eagerReducer,\neagerState:k.eagerState,next:null};null===h?(g=h=n,f=d):h=h.next=n;R.lanes|=l;Dg|=l}k=k.next}while(null!==k&&k!==e);null===h?f=d:h.next=g;He(d,b.memoizedState)||(ug=!0);b.memoizedState=d;b.baseState=f;b.baseQueue=h;c.lastRenderedState=d}return[b.memoizedState,c.dispatch]}\nfunction Lh(a){var b=Ih(),c=b.queue;if(null===c)throw Error(y(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(ug=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}\nfunction Mh(a,b,c){var d=b._getVersion;d=d(b._source);var e=b._workInProgressVersionPrimary;if(null!==e)a=e===d;else if(a=a.mutableReadLanes,a=(xh&a)===a)b._workInProgressVersionPrimary=d,th.push(b);if(a)return c(b._source);th.push(b);throw Error(y(350));}\nfunction Nh(a,b,c,d){var e=U;if(null===e)throw Error(y(349));var f=b._getVersion,g=f(b._source),h=vh.current,k=h.useState(function(){return Mh(e,b,c)}),l=k[1],n=k[0];k=T;var A=a.memoizedState,p=A.refs,C=p.getSnapshot,x=A.source;A=A.subscribe;var w=R;a.memoizedState={refs:p,source:b,subscribe:d};h.useEffect(function(){p.getSnapshot=c;p.setSnapshot=l;var a=f(b._source);if(!He(g,a)){a=c(b._source);He(n,a)||(l(a),a=Ig(w),e.mutableReadLanes|=a&e.pendingLanes);a=e.mutableReadLanes;e.entangledLanes|=a;for(var d=\ne.entanglements,h=a;0<h;){var k=31-Vc(h),v=1<<k;d[k]|=a;h&=~v}}},[c,b,d]);h.useEffect(function(){return d(b._source,function(){var a=p.getSnapshot,c=p.setSnapshot;try{c(a(b._source));var d=Ig(w);e.mutableReadLanes|=d&e.pendingLanes}catch(q){c(function(){throw q;})}})},[b,d]);He(C,c)&&He(x,b)&&He(A,d)||(a={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:n},a.dispatch=l=Oh.bind(null,R,a),k.queue=a,k.baseQueue=null,n=Mh(e,b,c),k.memoizedState=k.baseState=n);return n}\nfunction Ph(a,b,c){var d=Ih();return Nh(d,a,b,c)}function Qh(a){var b=Hh();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={pending:null,dispatch:null,lastRenderedReducer:Jh,lastRenderedState:a};a=a.dispatch=Oh.bind(null,R,a);return[b.memoizedState,a]}\nfunction Rh(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=R.updateQueue;null===b?(b={lastEffect:null},R.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function Sh(a){var b=Hh();a={current:a};return b.memoizedState=a}function Th(){return Ih().memoizedState}function Uh(a,b,c,d){var e=Hh();R.flags|=a;e.memoizedState=Rh(1|b,c,void 0,void 0===d?null:d)}\nfunction Vh(a,b,c,d){var e=Ih();d=void 0===d?null:d;var f=void 0;if(null!==S){var g=S.memoizedState;f=g.destroy;if(null!==d&&Bh(d,g.deps)){Rh(b,c,f,d);return}}R.flags|=a;e.memoizedState=Rh(1|b,c,f,d)}function Wh(a,b){return Uh(516,4,a,b)}function Xh(a,b){return Vh(516,4,a,b)}function Yh(a,b){return Vh(4,2,a,b)}function Zh(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}\nfunction $h(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Vh(4,2,Zh.bind(null,b,a),c)}function ai(){}function bi(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}function ci(a,b){var c=Ih();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Bh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}\nfunction di(a,b){var c=eg();gg(98>c?98:c,function(){a(!0)});gg(97<c?97:c,function(){var c=wh.transition;wh.transition=1;try{a(!1),b()}finally{wh.transition=c}})}\nfunction Oh(a,b,c){var d=Hg(),e=Ig(a),f={lane:e,action:c,eagerReducer:null,eagerState:null,next:null},g=b.pending;null===g?f.next=f:(f.next=g.next,g.next=f);b.pending=f;g=a.alternate;if(a===R||null!==g&&g===R)zh=yh=!0;else{if(0===a.lanes&&(null===g||0===g.lanes)&&(g=b.lastRenderedReducer,null!==g))try{var h=b.lastRenderedState,k=g(h,c);f.eagerReducer=g;f.eagerState=k;if(He(k,h))return}catch(l){}finally{}Jg(a,e,d)}}\nvar Gh={readContext:vg,useCallback:Ah,useContext:Ah,useEffect:Ah,useImperativeHandle:Ah,useLayoutEffect:Ah,useMemo:Ah,useReducer:Ah,useRef:Ah,useState:Ah,useDebugValue:Ah,useDeferredValue:Ah,useTransition:Ah,useMutableSource:Ah,useOpaqueIdentifier:Ah,unstable_isNewReconciler:!1},Dh={readContext:vg,useCallback:function(a,b){Hh().memoizedState=[a,void 0===b?null:b];return a},useContext:vg,useEffect:Wh,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Uh(4,2,Zh.bind(null,\nb,a),c)},useLayoutEffect:function(a,b){return Uh(4,2,a,b)},useMemo:function(a,b){var c=Hh();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Hh();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=Oh.bind(null,R,a);return[d.memoizedState,a]},useRef:Sh,useState:Qh,useDebugValue:ai,useDeferredValue:function(a){var b=Qh(a),c=b[0],d=b[1];Wh(function(){var b=wh.transition;\nwh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Qh(!1),b=a[0];a=di.bind(null,a[1]);Sh(a);return[a,b]},useMutableSource:function(a,b,c){var d=Hh();d.memoizedState={refs:{getSnapshot:b,setSnapshot:null},source:a,subscribe:c};return Nh(d,a,b,c)},useOpaqueIdentifier:function(){if(lh){var a=!1,b=uf(function(){a||(a=!0,c(\"r:\"+(tf++).toString(36)));throw Error(y(355));}),c=Qh(b)[1];0===(R.mode&2)&&(R.flags|=516,Rh(5,function(){c(\"r:\"+(tf++).toString(36))},\nvoid 0,null));return b}b=\"r:\"+(tf++).toString(36);Qh(b);return b},unstable_isNewReconciler:!1},Eh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Kh,useRef:Th,useState:function(){return Kh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Kh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Kh(Jh)[0];return[Th().current,\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Kh(Jh)[0]},unstable_isNewReconciler:!1},Fh={readContext:vg,useCallback:bi,useContext:vg,useEffect:Xh,useImperativeHandle:$h,useLayoutEffect:Yh,useMemo:ci,useReducer:Lh,useRef:Th,useState:function(){return Lh(Jh)},useDebugValue:ai,useDeferredValue:function(a){var b=Lh(Jh),c=b[0],d=b[1];Xh(function(){var b=wh.transition;wh.transition=1;try{d(a)}finally{wh.transition=b}},[a]);return c},useTransition:function(){var a=Lh(Jh)[0];return[Th().current,\na]},useMutableSource:Ph,useOpaqueIdentifier:function(){return Lh(Jh)[0]},unstable_isNewReconciler:!1},ei=ra.ReactCurrentOwner,ug=!1;function fi(a,b,c,d){b.child=null===a?Zg(b,null,c,d):Yg(b,a.child,c,d)}function gi(a,b,c,d,e){c=c.render;var f=b.ref;tg(b,e);d=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,d,e);return b.child}\nfunction ii(a,b,c,d,e,f){if(null===a){var g=c.type;if(\"function\"===typeof g&&!ji(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,ki(a,b,g,d,e,f);a=Vg(c.type,null,d,b,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(0===(e&f)&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:Je,c(e,d)&&a.ref===b.ref))return hi(a,b,f);b.flags|=1;a=Tg(g,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction ki(a,b,c,d,e,f){if(null!==a&&Je(a.memoizedProps,d)&&a.ref===b.ref)if(ug=!1,0!==(f&e))0!==(a.flags&16384)&&(ug=!0);else return b.lanes=a.lanes,hi(a,b,f);return li(a,b,c,d,f)}\nfunction mi(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode||\"unstable-defer-without-hiding\"===d.mode)if(0===(b.mode&4))b.memoizedState={baseLanes:0},ni(b,c);else if(0!==(c&1073741824))b.memoizedState={baseLanes:0},ni(b,null!==f?f.baseLanes:c);else return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a},ni(b,a),null;else null!==f?(d=f.baseLanes|c,b.memoizedState=null):d=c,ni(b,d);fi(a,b,e,c);return b.child}\nfunction oi(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=128}function li(a,b,c,d,e){var f=Ff(c)?Df:M.current;f=Ef(b,f);tg(b,e);c=Ch(a,b,c,d,f,e);if(null!==a&&!ug)return b.updateQueue=a.updateQueue,b.flags&=-517,a.lanes&=~e,hi(a,b,e);b.flags|=1;fi(a,b,c,e);return b.child}\nfunction pi(a,b,c,d,e){if(Ff(c)){var f=!0;Jf(b)}else f=!1;tg(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),Mg(b,c,d),Og(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=vg(l):(l=Ff(c)?Df:M.current,l=Ef(b,l));var n=c.getDerivedStateFromProps,A=\"function\"===typeof n||\"function\"===typeof g.getSnapshotBeforeUpdate;A||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\n\"function\"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Ng(b,g,d,l);wg=!1;var p=b.memoizedState;g.state=p;Cg(b,d,g,e);k=b.memoizedState;h!==d||p!==k||N.current||wg?(\"function\"===typeof n&&(Gg(b,c,n,d),k=b.memoizedState),(h=wg||Lg(b,c,h,d,p,k,l))?(A||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===\ntypeof g.componentDidMount&&(b.flags|=4)):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4),d=!1)}else{g=b.stateNode;yg(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:lg(b.type,h);g.props=l;A=b.pendingProps;p=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=vg(k):(k=Ff(c)?Df:M.current,k=Ef(b,k));var C=c.getDerivedStateFromProps;(n=\"function\"===typeof C||\n\"function\"===typeof g.getSnapshotBeforeUpdate)||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==A||p!==k)&&Ng(b,g,d,k);wg=!1;p=b.memoizedState;g.state=p;Cg(b,d,g,e);var x=b.memoizedState;h!==A||p!==x||N.current||wg?(\"function\"===typeof C&&(Gg(b,c,C,d),x=b.memoizedState),(l=wg||Lg(b,c,l,d,p,x,k))?(n||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,\nx,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,x,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=256)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),b.memoizedProps=d,b.memoizedState=x),g.props=d,g.state=x,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||\nh===a.memoizedProps&&p===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&p===a.memoizedState||(b.flags|=256),d=!1)}return qi(a,b,c,d,f,e)}\nfunction qi(a,b,c,d,e,f){oi(a,b);var g=0!==(b.flags&64);if(!d&&!g)return e&&Kf(b,c,!1),hi(a,b,f);d=b.stateNode;ei.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Yg(b,a.child,null,f),b.child=Yg(b,null,h,f)):fi(a,b,h,f);b.memoizedState=d.state;e&&Kf(b,c,!0);return b.child}function ri(a){var b=a.stateNode;b.pendingContext?Hf(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Hf(a,b.context,!1);eh(a,b.containerInfo)}\nvar si={dehydrated:null,retryLane:0};\nfunction ti(a,b,c){var d=b.pendingProps,e=P.current,f=!1,g;(g=0!==(b.flags&64))||(g=null!==a&&null===a.memoizedState?!1:0!==(e&2));g?(f=!0,b.flags&=-65):null!==a&&null===a.memoizedState||void 0===d.fallback||!0===d.unstable_avoidThisFallback||(e|=1);I(P,e&1);if(null===a){void 0!==d.fallback&&ph(b);a=d.children;e=d.fallback;if(f)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},b.memoizedState=si,a;if(\"number\"===typeof d.unstable_expectedLoadTime)return a=ui(b,a,e,c),b.child.memoizedState={baseLanes:c},\nb.memoizedState=si,b.lanes=33554432,a;c=vi({mode:\"visible\",children:a},b.mode,c,null);c.return=b;return b.child=c}if(null!==a.memoizedState){if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}if(f)return d=wi(a,b,d.children,d.fallback,c),f=b.child,e=a.child.memoizedState,f.memoizedState=null===e?{baseLanes:c}:\n{baseLanes:e.baseLanes|c},f.childLanes=a.childLanes&~c,b.memoizedState=si,d;c=xi(a,b,d.children,c);b.memoizedState=null;return c}function ui(a,b,c,d){var e=a.mode,f=a.child;b={mode:\"hidden\",children:b};0===(e&2)&&null!==f?(f.childLanes=0,f.pendingProps=b):f=vi(b,e,0,null);c=Xg(c,e,d,null);f.return=a;c.return=a;f.sibling=c;a.child=f;return c}\nfunction xi(a,b,c,d){var e=a.child;a=e.sibling;c=Tg(e,{mode:\"visible\",children:c});0===(b.mode&2)&&(c.lanes=d);c.return=b;c.sibling=null;null!==a&&(a.nextEffect=null,a.flags=8,b.firstEffect=b.lastEffect=a);return b.child=c}\nfunction wi(a,b,c,d,e){var f=b.mode,g=a.child;a=g.sibling;var h={mode:\"hidden\",children:c};0===(f&2)&&b.child!==g?(c=b.child,c.childLanes=0,c.pendingProps=h,g=c.lastEffect,null!==g?(b.firstEffect=c.firstEffect,b.lastEffect=g,g.nextEffect=null):b.firstEffect=b.lastEffect=null):c=Tg(g,h);null!==a?d=Tg(a,d):(d=Xg(d,f,e,null),d.flags|=2);d.return=b;c.return=b;c.sibling=d;b.child=c;return d}function yi(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);sg(a.return,b)}\nfunction zi(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=c,g.tailMode=e,g.lastEffect=f)}\nfunction Ai(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;fi(a,b,d.children,c);d=P.current;if(0!==(d&2))d=d&1|2,b.flags|=64;else{if(null!==a&&0!==(a.flags&64))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&yi(a,c);else if(19===a.tag)yi(a,c);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}I(P,d);if(0===(b.mode&2))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===ih(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);zi(b,!1,e,c,f,b.lastEffect);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===ih(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}zi(b,!0,c,null,f,b.lastEffect);break;case \"together\":zi(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}\nfunction hi(a,b,c){null!==a&&(b.dependencies=a.dependencies);Dg|=b.lanes;if(0!==(c&b.childLanes)){if(null!==a&&b.child!==a.child)throw Error(y(153));if(null!==b.child){a=b.child;c=Tg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Tg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}return null}var Bi,Ci,Di,Ei;\nBi=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Ci=function(){};\nDi=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;dh(ah.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"option\":e=eb(a,e);d=eb(a,d);f=[];break;case \"select\":e=m({},e,{value:void 0});d=m({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=jf)}vb(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===\nl){var h=e[l];for(g in h)h.hasOwnProperty(g)&&(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ca.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||\n(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,c)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ca.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&G(\"scroll\",a),f||h===k||(f=[])):\"object\"===typeof k&&null!==k&&k.$$typeof===Ga?k.toString():(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",\nc);var l=f;if(b.updateQueue=l)b.flags|=4}};Ei=function(a,b,c,d){c!==d&&(b.flags|=4)};function Fi(a,b){if(!lh)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction Gi(a,b,c){var d=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ff(b.type)&&Gf(),null;case 3:fh();H(N);H(M);uh();d=b.stateNode;d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)rh(b)?b.flags|=4:d.hydrate||(b.flags|=256);Ci(b);return null;case 5:hh(b);var e=dh(ch.current);c=b.type;if(null!==a&&null!=b.stateNode)Di(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=128);else{if(!d){if(null===\nb.stateNode)throw Error(y(166));return null}a=dh(ah.current);if(rh(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[wf]=b;d[xf]=f;switch(c){case \"dialog\":G(\"cancel\",d);G(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",d);break;case \"video\":case \"audio\":for(a=0;a<Xe.length;a++)G(Xe[a],d);break;case \"source\":G(\"error\",d);break;case \"img\":case \"image\":case \"link\":G(\"error\",d);G(\"load\",d);break;case \"details\":G(\"toggle\",d);break;case \"input\":Za(d,f);G(\"invalid\",d);break;case \"select\":d._wrapperState=\n{wasMultiple:!!f.multiple};G(\"invalid\",d);break;case \"textarea\":hb(d,f),G(\"invalid\",d)}vb(c,f);a=null;for(var g in f)f.hasOwnProperty(g)&&(e=f[g],\"children\"===g?\"string\"===typeof e?d.textContent!==e&&(a=[\"children\",e]):\"number\"===typeof e&&d.textContent!==\"\"+e&&(a=[\"children\",\"\"+e]):ca.hasOwnProperty(g)&&null!=e&&\"onScroll\"===g&&G(\"scroll\",d));switch(c){case \"input\":Va(d);cb(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=\njf)}d=a;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;a===kb.html&&(a=lb(c));a===kb.html?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[wf]=b;a[xf]=d;Bi(a,b,!1,!1);b.stateNode=a;g=wb(c,d);switch(c){case \"dialog\":G(\"cancel\",a);G(\"close\",a);\ne=d;break;case \"iframe\":case \"object\":case \"embed\":G(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<Xe.length;e++)G(Xe[e],a);e=d;break;case \"source\":G(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":G(\"error\",a);G(\"load\",a);e=d;break;case \"details\":G(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);G(\"invalid\",a);break;case \"option\":e=eb(a,d);break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=m({},d,{value:void 0});G(\"invalid\",a);break;case \"textarea\":hb(a,d);e=\ngb(a,d);G(\"invalid\",a);break;default:e=d}vb(c,e);var h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?tb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&ob(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==c||\"\"!==k)&&pb(a,k):\"number\"===typeof k&&pb(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ca.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&G(\"scroll\",a):null!=k&&qa(a,f,k,g))}switch(c){case \"input\":Va(a);cb(a,d,!1);\nbreak;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=jf)}mf(c,d)&&(b.flags|=4)}null!==b.ref&&(b.flags|=128)}return null;case 6:if(a&&null!=b.stateNode)Ei(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(y(166));\nc=dh(ch.current);dh(ah.current);rh(b)?(d=b.stateNode,c=b.memoizedProps,d[wf]=b,d.nodeValue!==c&&(b.flags|=4)):(d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[wf]=b,b.stateNode=d)}return null;case 13:H(P);d=b.memoizedState;if(0!==(b.flags&64))return b.lanes=c,b;d=null!==d;c=!1;null===a?void 0!==b.memoizedProps.fallback&&rh(b):c=null!==a.memoizedState;if(d&&!c&&0!==(b.mode&2))if(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||0!==(P.current&1))0===V&&(V=3);else{if(0===V||3===V)V=\n4;null===U||0===(Dg&134217727)&&0===(Hi&134217727)||Ii(U,W)}if(d||c)b.flags|=4;return null;case 4:return fh(),Ci(b),null===a&&cf(b.stateNode.containerInfo),null;case 10:return rg(b),null;case 17:return Ff(b.type)&&Gf(),null;case 19:H(P);d=b.memoizedState;if(null===d)return null;f=0!==(b.flags&64);g=d.rendering;if(null===g)if(f)Fi(d,!1);else{if(0!==V||null!==a&&0!==(a.flags&64))for(a=b.child;null!==a;){g=ih(a);if(null!==g){b.flags|=64;Fi(d,!1);f=g.updateQueue;null!==f&&(b.updateQueue=f,b.flags|=4);\nnull===d.lastEffect&&(b.firstEffect=null);b.lastEffect=d.lastEffect;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=2,f.nextEffect=null,f.firstEffect=null,f.lastEffect=null,g=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,\nf.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;I(P,P.current&1|2);return b.child}a=a.sibling}null!==d.tail&&O()>Ji&&(b.flags|=64,f=!0,Fi(d,!1),b.lanes=33554432)}else{if(!f)if(a=ih(g),null!==a){if(b.flags|=64,f=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Fi(d,!0),null===d.tail&&\"hidden\"===d.tailMode&&!g.alternate&&!lh)return b=b.lastEffect=d.lastEffect,null!==b&&(b.nextEffect=null),null}else 2*O()-d.renderingStartTime>Ji&&1073741824!==c&&(b.flags|=\n64,f=!0,Fi(d,!1),b.lanes=33554432);d.isBackwards?(g.sibling=b.child,b.child=g):(c=d.last,null!==c?c.sibling=g:b.child=g,d.last=g)}return null!==d.tail?(c=d.tail,d.rendering=c,d.tail=c.sibling,d.lastEffect=b.lastEffect,d.renderingStartTime=O(),c.sibling=null,b=P.current,I(P,f?b&1|2:b&1),c):null;case 23:case 24:return Ki(),null!==a&&null!==a.memoizedState!==(null!==b.memoizedState)&&\"unstable-defer-without-hiding\"!==d.mode&&(b.flags|=4),null}throw Error(y(156,b.tag));}\nfunction Li(a){switch(a.tag){case 1:Ff(a.type)&&Gf();var b=a.flags;return b&4096?(a.flags=b&-4097|64,a):null;case 3:fh();H(N);H(M);uh();b=a.flags;if(0!==(b&64))throw Error(y(285));a.flags=b&-4097|64;return a;case 5:return hh(a),null;case 13:return H(P),b=a.flags,b&4096?(a.flags=b&-4097|64,a):null;case 19:return H(P),null;case 4:return fh(),null;case 10:return rg(a),null;case 23:case 24:return Ki(),null;default:return null}}\nfunction Mi(a,b){try{var c=\"\",d=b;do c+=Qa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e}}function Ni(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Oi=\"function\"===typeof WeakMap?WeakMap:Map;function Pi(a,b,c){c=zg(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Qi||(Qi=!0,Ri=d);Ni(a,b)};return c}\nfunction Si(a,b,c){c=zg(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){Ni(a,b);return d(e)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){\"function\"!==typeof d&&(null===Ti?Ti=new Set([this]):Ti.add(this),Ni(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}var Ui=\"function\"===typeof WeakSet?WeakSet:Set;\nfunction Vi(a){var b=a.ref;if(null!==b)if(\"function\"===typeof b)try{b(null)}catch(c){Wi(a,c)}else b.current=null}function Xi(a,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.flags&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===b.type?c:lg(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:b.flags&256&&qf(b.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(y(163));}\nfunction Yi(a,b,c){switch(c.tag){case 0:case 11:case 15:case 22:b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{if(3===(a.tag&3)){var d=a.create;a.destroy=d()}a=a.next}while(a!==b)}b=c.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){a=b=b.next;do{var e=a;d=e.next;e=e.tag;0!==(e&4)&&0!==(e&1)&&(Zi(c,a),$i(c,a));a=d}while(a!==b)}return;case 1:a=c.stateNode;c.flags&4&&(null===b?a.componentDidMount():(d=c.elementType===c.type?b.memoizedProps:lg(c.type,b.memoizedProps),a.componentDidUpdate(d,\nb.memoizedState,a.__reactInternalSnapshotBeforeUpdate)));b=c.updateQueue;null!==b&&Eg(c,b,a);return;case 3:b=c.updateQueue;if(null!==b){a=null;if(null!==c.child)switch(c.child.tag){case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}Eg(c,b,a)}return;case 5:a=c.stateNode;null===b&&c.flags&4&&mf(c.type,c.memoizedProps)&&a.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===c.memoizedState&&(c=c.alternate,null!==c&&(c=c.memoizedState,null!==c&&(c=c.dehydrated,null!==c&&Cc(c))));\nreturn;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y(163));}\nfunction aj(a,b){for(var c=a;;){if(5===c.tag){var d=c.stateNode;if(b)d=d.style,\"function\"===typeof d.setProperty?d.setProperty(\"display\",\"none\",\"important\"):d.display=\"none\";else{d=c.stateNode;var e=c.memoizedProps.style;e=void 0!==e&&null!==e&&e.hasOwnProperty(\"display\")?e.display:null;d.style.display=sb(\"display\",e)}}else if(6===c.tag)c.stateNode.nodeValue=b?\"\":c.memoizedProps;else if((23!==c.tag&&24!==c.tag||null===c.memoizedState||c===a)&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===\na)break;for(;null===c.sibling;){if(null===c.return||c.return===a)return;c=c.return}c.sibling.return=c.return;c=c.sibling}}\nfunction bj(a,b){if(Mf&&\"function\"===typeof Mf.onCommitFiberUnmount)try{Mf.onCommitFiberUnmount(Lf,b)}catch(f){}switch(b.tag){case 0:case 11:case 14:case 15:case 22:a=b.updateQueue;if(null!==a&&(a=a.lastEffect,null!==a)){var c=a=a.next;do{var d=c,e=d.destroy;d=d.tag;if(void 0!==e)if(0!==(d&4))Zi(b,c);else{d=b;try{e()}catch(f){Wi(d,f)}}c=c.next}while(c!==a)}break;case 1:Vi(b);a=b.stateNode;if(\"function\"===typeof a.componentWillUnmount)try{a.props=b.memoizedProps,a.state=b.memoizedState,a.componentWillUnmount()}catch(f){Wi(b,\nf)}break;case 5:Vi(b);break;case 4:cj(a,b)}}function dj(a){a.alternate=null;a.child=null;a.dependencies=null;a.firstEffect=null;a.lastEffect=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.return=null;a.updateQueue=null}function ej(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction fj(a){a:{for(var b=a.return;null!==b;){if(ej(b))break a;b=b.return}throw Error(y(160));}var c=b;b=c.stateNode;switch(c.tag){case 5:var d=!1;break;case 3:b=b.containerInfo;d=!0;break;case 4:b=b.containerInfo;d=!0;break;default:throw Error(y(161));}c.flags&16&&(pb(b,\"\"),c.flags&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||ej(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.flags&2)continue b;if(null===\nc.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.flags&2)){c=c.stateNode;break a}}d?gj(a,c,b):hj(a,c,b)}\nfunction gj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=jf));else if(4!==d&&(a=a.child,null!==a))for(gj(a,b,c),a=a.sibling;null!==a;)gj(a,b,c),a=a.sibling}\nfunction hj(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(hj(a,b,c),a=a.sibling;null!==a;)hj(a,b,c),a=a.sibling}\nfunction cj(a,b){for(var c=b,d=!1,e,f;;){if(!d){d=c.return;a:for(;;){if(null===d)throw Error(y(160));e=d.stateNode;switch(d.tag){case 5:f=!1;break a;case 3:e=e.containerInfo;f=!0;break a;case 4:e=e.containerInfo;f=!0;break a}d=d.return}d=!0}if(5===c.tag||6===c.tag){a:for(var g=a,h=c,k=h;;)if(bj(g,k),null!==k.child&&4!==k.tag)k.child.return=k,k=k.child;else{if(k===h)break a;for(;null===k.sibling;){if(null===k.return||k.return===h)break a;k=k.return}k.sibling.return=k.return;k=k.sibling}f?(g=e,h=c.stateNode,\n8===g.nodeType?g.parentNode.removeChild(h):g.removeChild(h)):e.removeChild(c.stateNode)}else if(4===c.tag){if(null!==c.child){e=c.stateNode.containerInfo;f=!0;c.child.return=c;c=c.child;continue}}else if(bj(a,c),null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return;4===c.tag&&(d=!1)}c.sibling.return=c.return;c=c.sibling}}\nfunction ij(a,b){switch(b.tag){case 0:case 11:case 14:case 15:case 22:var c=b.updateQueue;c=null!==c?c.lastEffect:null;if(null!==c){var d=c=c.next;do 3===(d.tag&3)&&(a=d.destroy,d.destroy=void 0,void 0!==a&&a()),d=d.next;while(d!==c)}return;case 1:return;case 5:c=b.stateNode;if(null!=c){d=b.memoizedProps;var e=null!==a?a.memoizedProps:d;a=b.type;var f=b.updateQueue;b.updateQueue=null;if(null!==f){c[xf]=d;\"input\"===a&&\"radio\"===d.type&&null!=d.name&&$a(c,d);wb(a,e);b=wb(a,d);for(e=0;e<f.length;e+=\n2){var g=f[e],h=f[e+1];\"style\"===g?tb(c,h):\"dangerouslySetInnerHTML\"===g?ob(c,h):\"children\"===g?pb(c,h):qa(c,g,h,b)}switch(a){case \"input\":ab(c,d);break;case \"textarea\":ib(c,d);break;case \"select\":a=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,f=d.value,null!=f?fb(c,!!d.multiple,f,!1):a!==!!d.multiple&&(null!=d.defaultValue?fb(c,!!d.multiple,d.defaultValue,!0):fb(c,!!d.multiple,d.multiple?[]:\"\",!1))}}}return;case 6:if(null===b.stateNode)throw Error(y(162));b.stateNode.nodeValue=\nb.memoizedProps;return;case 3:c=b.stateNode;c.hydrate&&(c.hydrate=!1,Cc(c.containerInfo));return;case 12:return;case 13:null!==b.memoizedState&&(jj=O(),aj(b.child,!0));kj(b);return;case 19:kj(b);return;case 17:return;case 23:case 24:aj(b,null!==b.memoizedState);return}throw Error(y(163));}function kj(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Ui);b.forEach(function(b){var d=lj.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction mj(a,b){return null!==a&&(a=a.memoizedState,null===a||null!==a.dehydrated)?(b=b.memoizedState,null!==b&&null===b.dehydrated):!1}var nj=Math.ceil,oj=ra.ReactCurrentDispatcher,pj=ra.ReactCurrentOwner,X=0,U=null,Y=null,W=0,qj=0,rj=Bf(0),V=0,sj=null,tj=0,Dg=0,Hi=0,uj=0,vj=null,jj=0,Ji=Infinity;function wj(){Ji=O()+500}var Z=null,Qi=!1,Ri=null,Ti=null,xj=!1,yj=null,zj=90,Aj=[],Bj=[],Cj=null,Dj=0,Ej=null,Fj=-1,Gj=0,Hj=0,Ij=null,Jj=!1;function Hg(){return 0!==(X&48)?O():-1!==Fj?Fj:Fj=O()}\nfunction Ig(a){a=a.mode;if(0===(a&2))return 1;if(0===(a&4))return 99===eg()?1:2;0===Gj&&(Gj=tj);if(0!==kg.transition){0!==Hj&&(Hj=null!==vj?vj.pendingLanes:0);a=Gj;var b=4186112&~Hj;b&=-b;0===b&&(a=4186112&~a,b=a&-a,0===b&&(b=8192));return b}a=eg();0!==(X&4)&&98===a?a=Xc(12,Gj):(a=Sc(a),a=Xc(a,Gj));return a}\nfunction Jg(a,b,c){if(50<Dj)throw Dj=0,Ej=null,Error(y(185));a=Kj(a,b);if(null===a)return null;$c(a,b,c);a===U&&(Hi|=b,4===V&&Ii(a,W));var d=eg();1===b?0!==(X&8)&&0===(X&48)?Lj(a):(Mj(a,c),0===X&&(wj(),ig())):(0===(X&4)||98!==d&&99!==d||(null===Cj?Cj=new Set([a]):Cj.add(a)),Mj(a,c));vj=a}function Kj(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}\nfunction Mj(a,b){for(var c=a.callbackNode,d=a.suspendedLanes,e=a.pingedLanes,f=a.expirationTimes,g=a.pendingLanes;0<g;){var h=31-Vc(g),k=1<<h,l=f[h];if(-1===l){if(0===(k&d)||0!==(k&e)){l=b;Rc(k);var n=F;f[h]=10<=n?l+250:6<=n?l+5E3:-1}}else l<=b&&(a.expiredLanes|=k);g&=~k}d=Uc(a,a===U?W:0);b=F;if(0===d)null!==c&&(c!==Zf&&Pf(c),a.callbackNode=null,a.callbackPriority=0);else{if(null!==c){if(a.callbackPriority===b)return;c!==Zf&&Pf(c)}15===b?(c=Lj.bind(null,a),null===ag?(ag=[c],bg=Of(Uf,jg)):ag.push(c),\nc=Zf):14===b?c=hg(99,Lj.bind(null,a)):(c=Tc(b),c=hg(c,Nj.bind(null,a)));a.callbackPriority=b;a.callbackNode=c}}\nfunction Nj(a){Fj=-1;Hj=Gj=0;if(0!==(X&48))throw Error(y(327));var b=a.callbackNode;if(Oj()&&a.callbackNode!==b)return null;var c=Uc(a,a===U?W:0);if(0===c)return null;var d=c;var e=X;X|=16;var f=Pj();if(U!==a||W!==d)wj(),Qj(a,d);do try{Rj();break}catch(h){Sj(a,h)}while(1);qg();oj.current=f;X=e;null!==Y?d=0:(U=null,W=0,d=V);if(0!==(tj&Hi))Qj(a,0);else if(0!==d){2===d&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),c=Wc(a),0!==c&&(d=Tj(a,c)));if(1===d)throw b=sj,Qj(a,0),Ii(a,c),Mj(a,O()),b;a.finishedWork=\na.current.alternate;a.finishedLanes=c;switch(d){case 0:case 1:throw Error(y(345));case 2:Uj(a);break;case 3:Ii(a,c);if((c&62914560)===c&&(d=jj+500-O(),10<d)){if(0!==Uc(a,0))break;e=a.suspendedLanes;if((e&c)!==c){Hg();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=of(Uj.bind(null,a),d);break}Uj(a);break;case 4:Ii(a,c);if((c&4186112)===c)break;d=a.eventTimes;for(e=-1;0<c;){var g=31-Vc(c);f=1<<g;g=d[g];g>e&&(e=g);c&=~f}c=e;c=O()-c;c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3E3>c?3E3:4320>\nc?4320:1960*nj(c/1960))-c;if(10<c){a.timeoutHandle=of(Uj.bind(null,a),c);break}Uj(a);break;case 5:Uj(a);break;default:throw Error(y(329));}}Mj(a,O());return a.callbackNode===b?Nj.bind(null,a):null}function Ii(a,b){b&=~uj;b&=~Hi;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-Vc(b),d=1<<c;a[c]=-1;b&=~d}}\nfunction Lj(a){if(0!==(X&48))throw Error(y(327));Oj();if(a===U&&0!==(a.expiredLanes&W)){var b=W;var c=Tj(a,b);0!==(tj&Hi)&&(b=Uc(a,b),c=Tj(a,b))}else b=Uc(a,0),c=Tj(a,b);0!==a.tag&&2===c&&(X|=64,a.hydrate&&(a.hydrate=!1,qf(a.containerInfo)),b=Wc(a),0!==b&&(c=Tj(a,b)));if(1===c)throw c=sj,Qj(a,0),Ii(a,b),Mj(a,O()),c;a.finishedWork=a.current.alternate;a.finishedLanes=b;Uj(a);Mj(a,O());return null}\nfunction Vj(){if(null!==Cj){var a=Cj;Cj=null;a.forEach(function(a){a.expiredLanes|=24&a.pendingLanes;Mj(a,O())})}ig()}function Wj(a,b){var c=X;X|=1;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function Xj(a,b){var c=X;X&=-2;X|=8;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}}function ni(a,b){I(rj,qj);qj|=b;tj|=b}function Ki(){qj=rj.current;H(rj)}\nfunction Qj(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,pf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&Gf();break;case 3:fh();H(N);H(M);uh();break;case 5:hh(d);break;case 4:fh();break;case 13:H(P);break;case 19:H(P);break;case 10:rg(d);break;case 23:case 24:Ki()}c=c.return}U=a;Y=Tg(a.current,null);W=qj=tj=b;V=0;sj=null;uj=Hi=Dg=0}\nfunction Sj(a,b){do{var c=Y;try{qg();vh.current=Gh;if(yh){for(var d=R.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}yh=!1}xh=0;T=S=R=null;zh=!1;pj.current=null;if(null===c||null===c.return){V=1;sj=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=W;h.flags|=2048;h.firstEffect=h.lastEffect=null;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k;if(0===(h.mode&2)){var n=h.alternate;n?(h.updateQueue=n.updateQueue,h.memoizedState=n.memoizedState,h.lanes=n.lanes):\n(h.updateQueue=null,h.memoizedState=null)}var A=0!==(P.current&1),p=g;do{var C;if(C=13===p.tag){var x=p.memoizedState;if(null!==x)C=null!==x.dehydrated?!0:!1;else{var w=p.memoizedProps;C=void 0===w.fallback?!1:!0!==w.unstable_avoidThisFallback?!0:A?!1:!0}}if(C){var z=p.updateQueue;if(null===z){var u=new Set;u.add(l);p.updateQueue=u}else z.add(l);if(0===(p.mode&2)){p.flags|=64;h.flags|=16384;h.flags&=-2981;if(1===h.tag)if(null===h.alternate)h.tag=17;else{var t=zg(-1,1);t.tag=2;Ag(h,t)}h.lanes|=1;break a}k=\nvoid 0;h=b;var q=f.pingCache;null===q?(q=f.pingCache=new Oi,k=new Set,q.set(l,k)):(k=q.get(l),void 0===k&&(k=new Set,q.set(l,k)));if(!k.has(h)){k.add(h);var v=Yj.bind(null,f,l,h);l.then(v,v)}p.flags|=4096;p.lanes=b;break a}p=p.return}while(null!==p);k=Error((Ra(h.type)||\"A React component\")+\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\")}5!==V&&(V=2);k=Mi(k,h);p=\ng;do{switch(p.tag){case 3:f=k;p.flags|=4096;b&=-b;p.lanes|=b;var J=Pi(p,f,b);Bg(p,J);break a;case 1:f=k;var K=p.type,Q=p.stateNode;if(0===(p.flags&64)&&(\"function\"===typeof K.getDerivedStateFromError||null!==Q&&\"function\"===typeof Q.componentDidCatch&&(null===Ti||!Ti.has(Q)))){p.flags|=4096;b&=-b;p.lanes|=b;var L=Si(p,f,b);Bg(p,L);break a}}p=p.return}while(null!==p)}Zj(c)}catch(va){b=va;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}\nfunction Pj(){var a=oj.current;oj.current=Gh;return null===a?Gh:a}function Tj(a,b){var c=X;X|=16;var d=Pj();U===a&&W===b||Qj(a,b);do try{ak();break}catch(e){Sj(a,e)}while(1);qg();X=c;oj.current=d;if(null!==Y)throw Error(y(261));U=null;W=0;return V}function ak(){for(;null!==Y;)bk(Y)}function Rj(){for(;null!==Y&&!Qf();)bk(Y)}function bk(a){var b=ck(a.alternate,a,qj);a.memoizedProps=a.pendingProps;null===b?Zj(a):Y=b;pj.current=null}\nfunction Zj(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&2048)){c=Gi(c,b,qj);if(null!==c){Y=c;return}c=b;if(24!==c.tag&&23!==c.tag||null===c.memoizedState||0!==(qj&1073741824)||0===(c.mode&4)){for(var d=0,e=c.child;null!==e;)d|=e.lanes|e.childLanes,e=e.sibling;c.childLanes=d}null!==a&&0===(a.flags&2048)&&(null===a.firstEffect&&(a.firstEffect=b.firstEffect),null!==b.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=b.firstEffect),a.lastEffect=b.lastEffect),1<b.flags&&(null!==\na.lastEffect?a.lastEffect.nextEffect=b:a.firstEffect=b,a.lastEffect=b))}else{c=Li(b);if(null!==c){c.flags&=2047;Y=c;return}null!==a&&(a.firstEffect=a.lastEffect=null,a.flags|=2048)}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===V&&(V=5)}function Uj(a){var b=eg();gg(99,dk.bind(null,a,b));return null}\nfunction dk(a,b){do Oj();while(null!==yj);if(0!==(X&48))throw Error(y(327));var c=a.finishedWork;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(y(177));a.callbackNode=null;var d=c.lanes|c.childLanes,e=d,f=a.pendingLanes&~e;a.pendingLanes=e;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=e;a.mutableReadLanes&=e;a.entangledLanes&=e;e=a.entanglements;for(var g=a.eventTimes,h=a.expirationTimes;0<f;){var k=31-Vc(f),l=1<<k;e[k]=0;g[k]=-1;h[k]=-1;f&=~l}null!==\nCj&&0===(d&24)&&Cj.has(a)&&Cj.delete(a);a===U&&(Y=U=null,W=0);1<c.flags?null!==c.lastEffect?(c.lastEffect.nextEffect=c,d=c.firstEffect):d=c:d=c.firstEffect;if(null!==d){e=X;X|=32;pj.current=null;kf=fd;g=Ne();if(Oe(g)){if(\"selectionStart\"in g)h={start:g.selectionStart,end:g.selectionEnd};else a:if(h=(h=g.ownerDocument)&&h.defaultView||window,(l=h.getSelection&&h.getSelection())&&0!==l.rangeCount){h=l.anchorNode;f=l.anchorOffset;k=l.focusNode;l=l.focusOffset;try{h.nodeType,k.nodeType}catch(va){h=null;\nbreak a}var n=0,A=-1,p=-1,C=0,x=0,w=g,z=null;b:for(;;){for(var u;;){w!==h||0!==f&&3!==w.nodeType||(A=n+f);w!==k||0!==l&&3!==w.nodeType||(p=n+l);3===w.nodeType&&(n+=w.nodeValue.length);if(null===(u=w.firstChild))break;z=w;w=u}for(;;){if(w===g)break b;z===h&&++C===f&&(A=n);z===k&&++x===l&&(p=n);if(null!==(u=w.nextSibling))break;w=z;z=w.parentNode}w=u}h=-1===A||-1===p?null:{start:A,end:p}}else h=null;h=h||{start:0,end:0}}else h=null;lf={focusedElem:g,selectionRange:h};fd=!1;Ij=null;Jj=!1;Z=d;do try{ek()}catch(va){if(null===\nZ)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Ij=null;Z=d;do try{for(g=a;null!==Z;){var t=Z.flags;t&16&&pb(Z.stateNode,\"\");if(t&128){var q=Z.alternate;if(null!==q){var v=q.ref;null!==v&&(\"function\"===typeof v?v(null):v.current=null)}}switch(t&1038){case 2:fj(Z);Z.flags&=-3;break;case 6:fj(Z);Z.flags&=-3;ij(Z.alternate,Z);break;case 1024:Z.flags&=-1025;break;case 1028:Z.flags&=-1025;ij(Z.alternate,Z);break;case 4:ij(Z.alternate,Z);break;case 8:h=Z;cj(g,h);var J=h.alternate;dj(h);null!==\nJ&&dj(J)}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);v=lf;q=Ne();t=v.focusedElem;g=v.selectionRange;if(q!==t&&t&&t.ownerDocument&&Me(t.ownerDocument.documentElement,t)){null!==g&&Oe(t)&&(q=g.start,v=g.end,void 0===v&&(v=q),\"selectionStart\"in t?(t.selectionStart=q,t.selectionEnd=Math.min(v,t.value.length)):(v=(q=t.ownerDocument||document)&&q.defaultView||window,v.getSelection&&(v=v.getSelection(),h=t.textContent.length,J=Math.min(g.start,h),g=void 0===\ng.end?J:Math.min(g.end,h),!v.extend&&J>g&&(h=g,g=J,J=h),h=Le(t,J),f=Le(t,g),h&&f&&(1!==v.rangeCount||v.anchorNode!==h.node||v.anchorOffset!==h.offset||v.focusNode!==f.node||v.focusOffset!==f.offset)&&(q=q.createRange(),q.setStart(h.node,h.offset),v.removeAllRanges(),J>g?(v.addRange(q),v.extend(f.node,f.offset)):(q.setEnd(f.node,f.offset),v.addRange(q))))));q=[];for(v=t;v=v.parentNode;)1===v.nodeType&&q.push({element:v,left:v.scrollLeft,top:v.scrollTop});\"function\"===typeof t.focus&&t.focus();for(t=\n0;t<q.length;t++)v=q[t],v.element.scrollLeft=v.left,v.element.scrollTop=v.top}fd=!!kf;lf=kf=null;a.current=c;Z=d;do try{for(t=a;null!==Z;){var K=Z.flags;K&36&&Yi(t,Z.alternate,Z);if(K&128){q=void 0;var Q=Z.ref;if(null!==Q){var L=Z.stateNode;switch(Z.tag){case 5:q=L;break;default:q=L}\"function\"===typeof Q?Q(q):Q.current=q}}Z=Z.nextEffect}}catch(va){if(null===Z)throw Error(y(330));Wi(Z,va);Z=Z.nextEffect}while(null!==Z);Z=null;$f();X=e}else a.current=c;if(xj)xj=!1,yj=a,zj=b;else for(Z=d;null!==Z;)b=\nZ.nextEffect,Z.nextEffect=null,Z.flags&8&&(K=Z,K.sibling=null,K.stateNode=null),Z=b;d=a.pendingLanes;0===d&&(Ti=null);1===d?a===Ej?Dj++:(Dj=0,Ej=a):Dj=0;c=c.stateNode;if(Mf&&\"function\"===typeof Mf.onCommitFiberRoot)try{Mf.onCommitFiberRoot(Lf,c,void 0,64===(c.current.flags&64))}catch(va){}Mj(a,O());if(Qi)throw Qi=!1,a=Ri,Ri=null,a;if(0!==(X&8))return null;ig();return null}\nfunction ek(){for(;null!==Z;){var a=Z.alternate;Jj||null===Ij||(0!==(Z.flags&8)?dc(Z,Ij)&&(Jj=!0):13===Z.tag&&mj(a,Z)&&dc(Z,Ij)&&(Jj=!0));var b=Z.flags;0!==(b&256)&&Xi(a,Z);0===(b&512)||xj||(xj=!0,hg(97,function(){Oj();return null}));Z=Z.nextEffect}}function Oj(){if(90!==zj){var a=97<zj?97:zj;zj=90;return gg(a,fk)}return!1}function $i(a,b){Aj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}function Zi(a,b){Bj.push(b,a);xj||(xj=!0,hg(97,function(){Oj();return null}))}\nfunction fk(){if(null===yj)return!1;var a=yj;yj=null;if(0!==(X&48))throw Error(y(331));var b=X;X|=32;var c=Bj;Bj=[];for(var d=0;d<c.length;d+=2){var e=c[d],f=c[d+1],g=e.destroy;e.destroy=void 0;if(\"function\"===typeof g)try{g()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}c=Aj;Aj=[];for(d=0;d<c.length;d+=2){e=c[d];f=c[d+1];try{var h=e.create;e.destroy=h()}catch(k){if(null===f)throw Error(y(330));Wi(f,k)}}for(h=a.current.firstEffect;null!==h;)a=h.nextEffect,h.nextEffect=null,h.flags&8&&(h.sibling=\nnull,h.stateNode=null),h=a;X=b;ig();return!0}function gk(a,b,c){b=Mi(c,b);b=Pi(a,b,1);Ag(a,b);b=Hg();a=Kj(a,1);null!==a&&($c(a,1,b),Mj(a,b))}\nfunction Wi(a,b){if(3===a.tag)gk(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){gk(c,a,b);break}else if(1===c.tag){var d=c.stateNode;if(\"function\"===typeof c.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d))){a=Mi(b,a);var e=Si(c,a,1);Ag(c,e);e=Hg();c=Kj(c,1);if(null!==c)$c(c,1,e),Mj(c,e);else if(\"function\"===typeof d.componentDidCatch&&(null===Ti||!Ti.has(d)))try{d.componentDidCatch(b,a)}catch(f){}break}}c=c.return}}\nfunction Yj(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=Hg();a.pingedLanes|=a.suspendedLanes&c;U===a&&(W&c)===c&&(4===V||3===V&&(W&62914560)===W&&500>O()-jj?Qj(a,0):uj|=c);Mj(a,b)}function lj(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=0;0===b&&(b=a.mode,0===(b&2)?b=1:0===(b&4)?b=99===eg()?1:2:(0===Gj&&(Gj=tj),b=Yc(62914560&~Gj),0===b&&(b=4194304)));c=Hg();a=Kj(a,b);null!==a&&($c(a,b,c),Mj(a,c))}var ck;\nck=function(a,b,c){var d=b.lanes;if(null!==a)if(a.memoizedProps!==b.pendingProps||N.current)ug=!0;else if(0!==(c&d))ug=0!==(a.flags&16384)?!0:!1;else{ug=!1;switch(b.tag){case 3:ri(b);sh();break;case 5:gh(b);break;case 1:Ff(b.type)&&Jf(b);break;case 4:eh(b,b.stateNode.containerInfo);break;case 10:d=b.memoizedProps.value;var e=b.type._context;I(mg,e._currentValue);e._currentValue=d;break;case 13:if(null!==b.memoizedState){if(0!==(c&b.child.childLanes))return ti(a,b,c);I(P,P.current&1);b=hi(a,b,c);return null!==\nb?b.sibling:null}I(P,P.current&1);break;case 19:d=0!==(c&b.childLanes);if(0!==(a.flags&64)){if(d)return Ai(a,b,c);b.flags|=64}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);I(P,P.current);if(d)break;else return null;case 23:case 24:return b.lanes=0,mi(a,b,c)}return hi(a,b,c)}else ug=!1;b.lanes=0;switch(b.tag){case 2:d=b.type;null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);a=b.pendingProps;e=Ef(b,M.current);tg(b,c);e=Ch(null,b,d,a,e,c);b.flags|=1;if(\"object\"===\ntypeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof){b.tag=1;b.memoizedState=null;b.updateQueue=null;if(Ff(d)){var f=!0;Jf(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;xg(b);var g=d.getDerivedStateFromProps;\"function\"===typeof g&&Gg(b,d,g,a);e.updater=Kg;b.stateNode=e;e._reactInternals=b;Og(b,d,a,c);b=qi(null,b,d,!0,f,c)}else b.tag=0,fi(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;a:{null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2);\na=b.pendingProps;f=e._init;e=f(e._payload);b.type=e;f=b.tag=hk(e);a=lg(e,a);switch(f){case 0:b=li(null,b,e,a,c);break a;case 1:b=pi(null,b,e,a,c);break a;case 11:b=gi(null,b,e,a,c);break a;case 14:b=ii(null,b,e,lg(e.type,a),d,c);break a}throw Error(y(306,e,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),li(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),pi(a,b,d,e,c);case 3:ri(b);d=b.updateQueue;if(null===a||null===d)throw Error(y(282));\nd=b.pendingProps;e=b.memoizedState;e=null!==e?e.element:null;yg(a,b);Cg(b,d,null,c);d=b.memoizedState.element;if(d===e)sh(),b=hi(a,b,c);else{e=b.stateNode;if(f=e.hydrate)kh=rf(b.stateNode.containerInfo.firstChild),jh=b,f=lh=!0;if(f){a=e.mutableSourceEagerHydrationData;if(null!=a)for(e=0;e<a.length;e+=2)f=a[e],f._workInProgressVersionPrimary=a[e+1],th.push(f);c=Zg(b,null,d,c);for(b.child=c;c;)c.flags=c.flags&-3|1024,c=c.sibling}else fi(a,b,d,c),sh();b=b.child}return b;case 5:return gh(b),null===a&&\nph(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,nf(d,e)?g=null:null!==f&&nf(d,f)&&(b.flags|=16),oi(a,b),fi(a,b,g,c),b.child;case 6:return null===a&&ph(b),null;case 13:return ti(a,b,c);case 4:return eh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Yg(b,null,d,c):fi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),gi(a,b,d,e,c);case 7:return fi(a,b,b.pendingProps,c),b.child;case 8:return fi(a,b,b.pendingProps.children,\nc),b.child;case 12:return fi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;var h=b.type._context;I(mg,h._currentValue);h._currentValue=f;if(null!==g)if(h=g.value,f=He(h,f)?0:(\"function\"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0,0===f){if(g.children===e.children&&!N.current){b=hi(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var k=h.dependencies;if(null!==k){g=h.child;for(var l=\nk.firstContext;null!==l;){if(l.context===d&&0!==(l.observedBits&f)){1===h.tag&&(l=zg(-1,c&-c),l.tag=2,Ag(h,l));h.lanes|=c;l=h.alternate;null!==l&&(l.lanes|=c);sg(h.return,c);k.lanes|=c;break}l=l.next}}else g=10===h.tag?h.type===b.type?null:h.child:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=g}fi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,tg(b,c),e=vg(e,\nf.unstable_observedBits),d=d(e),b.flags|=1,fi(a,b,d,c),b.child;case 14:return e=b.type,f=lg(e,b.pendingProps),f=lg(e.type,f),ii(a,b,e,f,d,c);case 15:return ki(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:lg(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,Ff(d)?(a=!0,Jf(b)):a=!1,tg(b,c),Mg(b,d,e),Og(b,d,e,c),qi(null,b,d,!0,a,c);case 19:return Ai(a,b,c);case 23:return mi(a,b,c);case 24:return mi(a,b,c)}throw Error(y(156,b.tag));\n};function ik(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function nh(a,b,c,d){return new ik(a,b,c,d)}function ji(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction hk(a){if(\"function\"===typeof a)return ji(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Aa)return 11;if(a===Da)return 14}return 2}\nfunction Tg(a,b){var c=a.alternate;null===c?(c=nh(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Vg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)ji(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ua:return Xg(c.children,e,f,b);case Ha:g=8;e|=16;break;case wa:g=8;e|=1;break;case xa:return a=nh(12,c,b,e|8),a.elementType=xa,a.type=xa,a.lanes=f,a;case Ba:return a=nh(13,c,b,e),a.type=Ba,a.elementType=Ba,a.lanes=f,a;case Ca:return a=nh(19,c,b,e),a.elementType=Ca,a.lanes=f,a;case Ia:return vi(c,e,f,b);case Ja:return a=nh(24,c,b,e),a.elementType=Ja,a.lanes=f,a;default:if(\"object\"===\ntypeof a&&null!==a)switch(a.$$typeof){case ya:g=10;break a;case za:g=9;break a;case Aa:g=11;break a;case Da:g=14;break a;case Ea:g=16;d=null;break a;case Fa:g=22;break a}throw Error(y(130,null==a?a:typeof a,\"\"));}b=nh(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Xg(a,b,c,d){a=nh(7,a,d,b);a.lanes=c;return a}function vi(a,b,c,d){a=nh(23,a,d,b);a.elementType=Ia;a.lanes=c;return a}function Ug(a,b,c){a=nh(6,a,null,b);a.lanes=c;return a}\nfunction Wg(a,b,c){b=nh(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction jk(a,b,c){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=c;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=Zc(0);this.expirationTimes=Zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=Zc(0);this.mutableSourceEagerHydrationData=null}\nfunction kk(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ta,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction lk(a,b,c,d){var e=b.current,f=Hg(),g=Ig(e);a:if(c){c=c._reactInternals;b:{if(Zb(c)!==c||1!==c.tag)throw Error(y(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break b;case 1:if(Ff(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}}h=h.return}while(null!==h);throw Error(y(171));}if(1===c.tag){var k=c.type;if(Ff(k)){c=If(c,k,h);break a}}c=h}else c=Cf;null===b.context?b.context=c:b.pendingContext=c;b=zg(f,g);b.payload={element:a};d=void 0===d?null:d;null!==\nd&&(b.callback=d);Ag(e,b);Jg(e,g,f);return g}function mk(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function nk(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function ok(a,b){nk(a,b);(a=a.alternate)&&nk(a,b)}function pk(){return null}\nfunction qk(a,b,c){var d=null!=c&&null!=c.hydrationOptions&&c.hydrationOptions.mutableSources||null;c=new jk(a,b,null!=c&&!0===c.hydrate);b=nh(3,null,null,2===b?7:1===b?3:0);c.current=b;b.stateNode=c;xg(b);a[ff]=c.current;cf(8===a.nodeType?a.parentNode:a);if(d)for(a=0;a<d.length;a++){b=d[a];var e=b._getVersion;e=e(b._source);null==c.mutableSourceEagerHydrationData?c.mutableSourceEagerHydrationData=[b,e]:c.mutableSourceEagerHydrationData.push(b,e)}this._internalRoot=c}\nqk.prototype.render=function(a){lk(a,this._internalRoot,null,null)};qk.prototype.unmount=function(){var a=this._internalRoot,b=a.containerInfo;lk(null,a,null,function(){b[ff]=null})};function rk(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}\nfunction sk(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute(\"data-reactroot\")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new qk(a,0,b?{hydrate:!0}:void 0)}\nfunction tk(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f._internalRoot;if(\"function\"===typeof e){var h=e;e=function(){var a=mk(g);h.call(a)}}lk(b,g,a,e)}else{f=c._reactRootContainer=sk(c,d);g=f._internalRoot;if(\"function\"===typeof e){var k=e;e=function(){var a=mk(g);k.call(a)}}Xj(function(){lk(b,g,a,e)})}return mk(g)}ec=function(a){if(13===a.tag){var b=Hg();Jg(a,4,b);ok(a,4)}};fc=function(a){if(13===a.tag){var b=Hg();Jg(a,67108864,b);ok(a,67108864)}};\ngc=function(a){if(13===a.tag){var b=Hg(),c=Ig(a);Jg(a,c,b);ok(a,c)}};hc=function(a,b){return b()};\nyb=function(a,b,c){switch(b){case \"input\":ab(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(y(90));Wa(d);ab(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Wj;\nHb=function(a,b,c,d,e){var f=X;X|=4;try{return gg(98,a.bind(null,b,c,d,e))}finally{X=f,0===X&&(wj(),ig())}};Ib=function(){0===(X&49)&&(Vj(),Oj())};Jb=function(a,b){var c=X;X|=2;try{return a(b)}finally{X=c,0===X&&(wj(),ig())}};function uk(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!rk(b))throw Error(y(200));return kk(a,b,null,c)}var vk={Events:[Cb,ue,Db,Eb,Fb,Oj,{current:!1}]},wk={findFiberByHostInstance:wc,bundleType:0,version:\"17.0.2\",rendererPackageName:\"react-dom\"};\nvar xk={bundleType:wk.bundleType,version:wk.version,rendererPackageName:wk.rendererPackageName,rendererConfig:wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=cc(a);return null===a?null:a.stateNode},findFiberByHostInstance:wk.findFiberByHostInstance||\npk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var yk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yk.isDisabled&&yk.supportsFiber)try{Lf=yk.inject(xk),Mf=yk}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;exports.createPortal=uk;\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(y(188));throw Error(y(268,Object.keys(a)));}a=cc(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a,b){var c=X;if(0!==(c&48))return a(b);X|=1;try{if(a)return gg(99,a.bind(null,b))}finally{X=c,ig()}};exports.hydrate=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!0,c)};\nexports.render=function(a,b,c){if(!rk(b))throw Error(y(200));return tk(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!rk(a))throw Error(y(40));return a._reactRootContainer?(Xj(function(){tk(null,null,a,!1,function(){a._reactRootContainer=null;a[ff]=null})}),!0):!1};exports.unstable_batchedUpdates=Wj;exports.unstable_createPortal=function(a,b){return uk(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!rk(c))throw Error(y(200));if(null==a||void 0===a._reactInternals)throw Error(y(38));return tk(a,b,c,!1,d)};exports.version=\"17.0.2\";\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView;\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React/Preact\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nfunction fromStorage(value) {\n    return value !== null ? JSON.parse(value) : null;\n}\nfunction readItem(storage, key) {\n    try {\n        var storedValue = storage.getItem(key);\n        return fromStorage(storedValue);\n    }\n    catch (e) {\n        return null;\n    }\n}\nfunction toStorage(value) {\n    return JSON.stringify(value);\n}\nfunction writeItem(storage, key, value) {\n    try {\n        if (value !== null) {\n            storage.setItem(key, toStorage(value));\n        }\n        else {\n            storage.removeItem(key);\n        }\n        return Promise.resolve();\n    }\n    catch (error) {\n        return Promise.reject(error);\n    }\n}\nfunction useInitialState(storage, key, defaultState) {\n    var defaultStateRef = react_1.useRef(defaultState);\n    return react_1.useMemo(function () { var _a; return (_a = readItem(storage, key)) !== null && _a !== void 0 ? _a : defaultStateRef.current; }, [\n        key,\n        storage,\n    ]);\n}\nexports.useInitialState = useInitialState;\nfunction useStorageWriter(storage, key, state) {\n    var _a = react_1.useState(undefined), writeError = _a[0], setWriteError = _a[1];\n    react_1.useEffect(function () {\n        writeItem(storage, key, state).catch(function (error) {\n            if (!error || !error.message || error.message !== (writeError === null || writeError === void 0 ? void 0 : writeError.message)) {\n                setWriteError(error);\n            }\n        });\n        if (writeError) {\n            return function () {\n                setWriteError(undefined);\n            };\n        }\n    }, [state, key, writeError, storage]);\n    return writeError;\n}\nexports.useStorageWriter = useStorageWriter;\nfunction useStorageListener(storage, key, defaultState, onChange) {\n    var defaultStateRef = react_1.useRef(defaultState);\n    var onChangeRef = react_1.useRef(onChange);\n    var firstRun = react_1.useRef(true);\n    react_1.useEffect(function () {\n        var _a;\n        if (firstRun.current) {\n            firstRun.current = false;\n            return;\n        }\n        onChangeRef.current((_a = readItem(storage, key)) !== null && _a !== void 0 ? _a : defaultStateRef.current);\n    }, [key, storage]);\n    react_1.useEffect(function () {\n        function onStorageChange(event) {\n            var _a;\n            if (event.key === key) {\n                onChangeRef.current((_a = fromStorage(event.newValue)) !== null && _a !== void 0 ? _a : defaultStateRef.current);\n            }\n        }\n        if (typeof window !== 'undefined') {\n            window.addEventListener('storage', onStorageChange);\n            return function () {\n                window.removeEventListener('storage', onStorageChange);\n            };\n        }\n    }, [key]);\n}\nexports.useStorageListener = useStorageListener;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar state_1 = require(\"./state\");\nexports.useStorageState = state_1.default;\nvar reducer_1 = require(\"./reducer\");\nexports.useStorageReducer = reducer_1.default;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar common_1 = require(\"./common\");\nvar FORCE_STATE_ACTION = '__FORCE_STATE_INTERNAL_API__';\nfunction isForceStateAction(action) {\n    return (typeof action === 'object' &&\n        action !== null &&\n        'type' in action &&\n        action.type === FORCE_STATE_ACTION);\n}\nfunction addForceStateActionToReducer(reducer) {\n    return function (state, action) {\n        if (isForceStateAction(action))\n            return action.payload;\n        return reducer(state, action);\n    };\n}\nfunction useStorageReducer(storage, key, reducer, defaultInitialArg, defaultInit) {\n    if (defaultInit === void 0) { defaultInit = function (x) { return x; }; }\n    var defaultState = defaultInit(defaultInitialArg);\n    var _a = react_1.useReducer(addForceStateActionToReducer(reducer), common_1.useInitialState(storage, key, defaultState)), state = _a[0], dispatch = _a[1];\n    common_1.useStorageListener(storage, key, defaultState, function (newValue) {\n        dispatch({ type: FORCE_STATE_ACTION, payload: newValue });\n    });\n    var writeError = common_1.useStorageWriter(storage, key, state);\n    return [state, dispatch, writeError];\n}\nexports.default = useStorageReducer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar common_1 = require(\"./common\");\nfunction useStorageState(storage, key, defaultState) {\n    if (defaultState === void 0) { defaultState = null; }\n    var _a = react_1.useState(common_1.useInitialState(storage, key, defaultState)), state = _a[0], setState = _a[1];\n    common_1.useStorageListener(storage, key, defaultState, setState);\n    var writeError = common_1.useStorageWriter(storage, key, state);\n    return [state, setState, writeError];\n}\nexports.default = useStorageState;\n","\"use strict\";\nvar react_1 = require(\"react\");\nvar isFunction = function (setStateAction) {\n    return typeof setStateAction === \"function\";\n};\nvar useStateRef = function (initialState) {\n    var _a = react_1.useState(initialState), state = _a[0], setState = _a[1];\n    var ref = react_1.useRef(state);\n    var dispatch = react_1.useCallback(function (setStateAction) {\n        ref.current = isFunction(setStateAction) ? setStateAction(ref.current) : setStateAction;\n        setState(ref.current);\n    }, []);\n    return [state, dispatch, ref];\n};\nmodule.exports = useStateRef;\n","/** @license React v17.0.2\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n","/** @license React v17.0.2\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=require(\"object-assign\"),n=60103,p=60106;exports.Fragment=60107;exports.StrictMode=60108;exports.Profiler=60114;var q=60109,r=60110,t=60112;exports.Suspense=60113;var u=60115,v=60116;\nif(\"function\"===typeof Symbol&&Symbol.for){var w=Symbol.for;n=w(\"react.element\");p=w(\"react.portal\");exports.Fragment=w(\"react.fragment\");exports.StrictMode=w(\"react.strict_mode\");exports.Profiler=w(\"react.profiler\");q=w(\"react.provider\");r=w(\"react.context\");t=w(\"react.forward_ref\");exports.Suspense=w(\"react.suspense\");u=w(\"react.memo\");v=w(\"react.lazy\")}var x=\"function\"===typeof Symbol&&Symbol.iterator;\nfunction y(a){if(null===a||\"object\"!==typeof a)return null;a=x&&a[x]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}function z(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}\nvar A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B={};function C(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}C.prototype.isReactComponent={};C.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(z(85));this.updater.enqueueSetState(this,a,b,\"setState\")};C.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};\nfunction D(){}D.prototype=C.prototype;function E(a,b,c){this.props=a;this.context=b;this.refs=B;this.updater=c||A}var F=E.prototype=new D;F.constructor=E;l(F,C.prototype);F.isPureReactComponent=!0;var G={current:null},H=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0};\nfunction J(a,b,c){var e,d={},k=null,h=null;if(null!=b)for(e in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)H.call(b,e)&&!I.hasOwnProperty(e)&&(d[e]=b[e]);var g=arguments.length-2;if(1===g)d.children=c;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];d.children=f}if(a&&a.defaultProps)for(e in g=a.defaultProps,g)void 0===d[e]&&(d[e]=g[e]);return{$$typeof:n,type:a,key:k,ref:h,props:d,_owner:G.current}}\nfunction K(a,b){return{$$typeof:n,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function L(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===n}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var M=/\\/+/g;function N(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction O(a,b,c,e,d){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case n:case p:h=!0}}if(h)return h=a,d=d(h),a=\"\"===e?\".\"+N(h,0):e,Array.isArray(d)?(c=\"\",null!=a&&(c=a.replace(M,\"$&/\")+\"/\"),O(d,b,c,\"\",function(a){return a})):null!=d&&(L(d)&&(d=K(d,c+(!d.key||h&&h.key===d.key?\"\":(\"\"+d.key).replace(M,\"$&/\")+\"/\")+a)),b.push(d)),1;h=0;e=\"\"===e?\".\":e+\":\";if(Array.isArray(a))for(var g=\n0;g<a.length;g++){k=a[g];var f=e+N(k,g);h+=O(k,b,c,f,d)}else if(f=y(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=e+N(k,g++),h+=O(k,b,c,f,d);else if(\"object\"===k)throw b=\"\"+a,Error(z(31,\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b));return h}function P(a,b,c){if(null==a)return a;var e=[],d=0;O(a,e,\"\",\"\",function(a){return b.call(c,a,d++)});return e}\nfunction Q(a){if(-1===a._status){var b=a._result;b=b();a._status=0;a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}if(1===a._status)return a._result;throw a._result;}var R={current:null};function S(){var a=R.current;if(null===a)throw Error(z(321));return a}var T={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:G,IsSomeRendererActing:{current:!1},assign:l};\nexports.Children={map:P,forEach:function(a,b,c){P(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;P(a,function(){b++});return b},toArray:function(a){return P(a,function(a){return a})||[]},only:function(a){if(!L(a))throw Error(z(143));return a}};exports.Component=C;exports.PureComponent=E;exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T;\nexports.cloneElement=function(a,b,c){if(null===a||void 0===a)throw Error(z(267,a));var e=l({},a.props),d=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=G.current);void 0!==b.key&&(d=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)H.call(b,f)&&!I.hasOwnProperty(f)&&(e[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)e.children=c;else if(1<f){g=Array(f);for(var m=0;m<f;m++)g[m]=arguments[m+2];e.children=g}return{$$typeof:n,type:a.type,\nkey:d,ref:k,props:e,_owner:h}};exports.createContext=function(a,b){void 0===b&&(b=null);a={$$typeof:r,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:q,_context:a};return a.Consumer=a};exports.createElement=J;exports.createFactory=function(a){var b=J.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};exports.forwardRef=function(a){return{$$typeof:t,render:a}};exports.isValidElement=L;\nexports.lazy=function(a){return{$$typeof:v,_payload:{_status:-1,_result:a},_init:Q}};exports.memo=function(a,b){return{$$typeof:u,type:a,compare:void 0===b?null:b}};exports.useCallback=function(a,b){return S().useCallback(a,b)};exports.useContext=function(a,b){return S().useContext(a,b)};exports.useDebugValue=function(){};exports.useEffect=function(a,b){return S().useEffect(a,b)};exports.useImperativeHandle=function(a,b,c){return S().useImperativeHandle(a,b,c)};\nexports.useLayoutEffect=function(a,b){return S().useLayoutEffect(a,b)};exports.useMemo=function(a,b){return S().useMemo(a,b)};exports.useReducer=function(a,b,c){return S().useReducer(a,b,c)};exports.useRef=function(a){return S().useRef(a)};exports.useState=function(a){return S().useState(a)};exports.version=\"17.0.2\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/** @license React v0.20.2\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f,g,h,k;if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}\nif(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var t=null,u=null,w=function(){if(null!==t)try{var a=exports.unstable_now();t(!0,a);t=null}catch(b){throw setTimeout(w,0),b;}};f=function(a){null!==t?setTimeout(f,0,a):(t=a,setTimeout(w,0))};g=function(a,b){u=setTimeout(a,b)};h=function(){clearTimeout(u)};exports.unstable_shouldYield=function(){return!1};k=exports.unstable_forceFrameRate=function(){}}else{var x=window.setTimeout,y=window.clearTimeout;if(\"undefined\"!==typeof console){var z=\nwindow.cancelAnimationFrame;\"function\"!==typeof window.requestAnimationFrame&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\");\"function\"!==typeof z&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills\")}var A=!1,B=null,C=-1,D=5,E=0;exports.unstable_shouldYield=function(){return exports.unstable_now()>=\nE};k=function(){};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):D=0<a?Math.floor(1E3/a):5};var F=new MessageChannel,G=F.port2;F.port1.onmessage=function(){if(null!==B){var a=exports.unstable_now();E=a+D;try{B(!0,a)?G.postMessage(null):(A=!1,B=null)}catch(b){throw G.postMessage(null),b;}}else A=!1};f=function(a){B=a;A||(A=!0,G.postMessage(null))};g=function(a,b){C=\nx(function(){a(exports.unstable_now())},b)};h=function(){y(C);C=-1}}function H(a,b){var c=a.length;a.push(b);a:for(;;){var d=c-1>>>1,e=a[d];if(void 0!==e&&0<I(e,b))a[d]=b,a[c]=e,c=d;else break a}}function J(a){a=a[0];return void 0===a?null:a}\nfunction K(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>I(n,c))void 0!==r&&0>I(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else if(void 0!==r&&0>I(r,c))a[d]=r,a[v]=c,d=v;else break a}}return b}return null}function I(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var L=[],M=[],N=1,O=null,P=3,Q=!1,R=!1,S=!1;\nfunction T(a){for(var b=J(M);null!==b;){if(null===b.callback)K(M);else if(b.startTime<=a)K(M),b.sortIndex=b.expirationTime,H(L,b);else break;b=J(M)}}function U(a){S=!1;T(a);if(!R)if(null!==J(L))R=!0,f(V);else{var b=J(M);null!==b&&g(U,b.startTime-a)}}\nfunction V(a,b){R=!1;S&&(S=!1,h());Q=!0;var c=P;try{T(b);for(O=J(L);null!==O&&(!(O.expirationTime>b)||a&&!exports.unstable_shouldYield());){var d=O.callback;if(\"function\"===typeof d){O.callback=null;P=O.priorityLevel;var e=d(O.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?O.callback=e:O===J(L)&&K(L);T(b)}else K(L);O=J(L)}if(null!==O)var m=!0;else{var n=J(M);null!==n&&g(U,n.startTime-b);m=!1}return m}finally{O=null,P=c,Q=!1}}var W=k;exports.unstable_IdlePriority=5;\nexports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){R||Q||(R=!0,f(V))};exports.unstable_getCurrentPriorityLevel=function(){return P};exports.unstable_getFirstCallbackNode=function(){return J(L)};\nexports.unstable_next=function(a){switch(P){case 1:case 2:case 3:var b=3;break;default:b=P}var c=P;P=b;try{return a()}finally{P=c}};exports.unstable_pauseExecution=function(){};exports.unstable_requestPaint=W;exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=P;P=a;try{return b()}finally{P=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:N++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,H(M,a),null===J(L)&&a===J(M)&&(S?h():S=!0,g(U,c-d))):(a.sortIndex=e,H(L,a),R||Q||(R=!0,f(V)));return a};\nexports.unstable_wrapCallback=function(a){var b=P;return function(){var c=P;P=b;try{return a.apply(this,arguments)}finally{P=c}}};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.svgson = factory());\n}(this, (function () { 'use strict';\n\n  /*!\n   * isobject <https://github.com/jonschlinkert/isobject>\n   *\n   * Copyright (c) 2014-2017, Jon Schlinkert.\n   * Released under the MIT License.\n   */\n\n  var isobject$1 = function isObject(val) {\n    return val != null && typeof val === 'object' && Array.isArray(val) === false;\n  };\n\n  function isObjectObject(o) {\n    return isobject$1(o) === true\n      && Object.prototype.toString.call(o) === '[object Object]';\n  }\n\n  var isPlainObject = function isPlainObject(o) {\n    var ctor,prot;\n\n    if (isObjectObject(o) === false) return false;\n\n    // If has modified constructor\n    ctor = o.constructor;\n    if (typeof ctor !== 'function') return false;\n\n    // If has modified prototype\n    prot = ctor.prototype;\n    if (isObjectObject(prot) === false) return false;\n\n    // If constructor does not have an Object-specific method\n    if (prot.hasOwnProperty('isPrototypeOf') === false) {\n      return false;\n    }\n\n    // Most likely a plain Object\n    return true;\n  };\n\n  var toString$2 = {}.toString;\n\n  var isarray = Array.isArray || function (arr) {\n    return toString$2.call(arr) == '[object Array]';\n  };\n\n  var isobject = function isObject(val) {\n    return val != null && typeof val === 'object' && isarray(val) === false;\n  };\n\n  /*!\n   * has-values <https://github.com/jonschlinkert/has-values>\n   *\n   * Copyright (c) 2014-2015, Jon Schlinkert.\n   * Licensed under the MIT License.\n   */\n\n  var hasValues = function hasValue(o, noZero) {\n    if (o === null || o === undefined) {\n      return false;\n    }\n\n    if (typeof o === 'boolean') {\n      return true;\n    }\n\n    if (typeof o === 'number') {\n      if (o === 0 && noZero === true) {\n        return false;\n      }\n      return true;\n    }\n\n    if (o.length !== undefined) {\n      return o.length !== 0;\n    }\n\n    for (var key in o) {\n      if (o.hasOwnProperty(key)) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  /*!\n   * get-value <https://github.com/jonschlinkert/get-value>\n   *\n   * Copyright (c) 2014-2015, Jon Schlinkert.\n   * Licensed under the MIT License.\n   */\n\n  var getValue = function(obj, prop, a, b, c) {\n    if (!isObject(obj) || !prop) {\n      return obj;\n    }\n\n    prop = toString$1(prop);\n\n    // allowing for multiple properties to be passed as\n    // a string or array, but much faster (3-4x) than doing\n    // `[].slice.call(arguments)`\n    if (a) prop += '.' + toString$1(a);\n    if (b) prop += '.' + toString$1(b);\n    if (c) prop += '.' + toString$1(c);\n\n    if (prop in obj) {\n      return obj[prop];\n    }\n\n    var segs = prop.split('.');\n    var len = segs.length;\n    var i = -1;\n\n    while (obj && (++i < len)) {\n      var key = segs[i];\n      while (key[key.length - 1] === '\\\\') {\n        key = key.slice(0, -1) + '.' + segs[++i];\n      }\n      obj = obj[key];\n    }\n    return obj;\n  };\n\n  function isObject(val) {\n    return val !== null && (typeof val === 'object' || typeof val === 'function');\n  }\n\n  function toString$1(val) {\n    if (!val) return '';\n    if (Array.isArray(val)) {\n      return val.join('.');\n    }\n    return val;\n  }\n\n  var hasValue = function(obj, prop, noZero) {\n    if (isobject(obj)) {\n      return hasValues(getValue(obj, prop), noZero);\n    }\n    return hasValues(obj, prop);\n  };\n\n  var unsetValue = function unset(obj, prop) {\n    if (!isobject$1(obj)) {\n      throw new TypeError('expected an object.');\n    }\n    if (obj.hasOwnProperty(prop)) {\n      delete obj[prop];\n      return true;\n    }\n\n    if (hasValue(obj, prop)) {\n      var segs = prop.split('.');\n      var last = segs.pop();\n      while (segs.length && segs[segs.length - 1].slice(-1) === '\\\\') {\n        last = segs.pop().slice(0, -1) + '.' + last;\n      }\n      while (segs.length) obj = obj[prop = segs.shift()];\n      return (delete obj[last]);\n    }\n    return true;\n  };\n\n  var omitDeep = function omitDeep(value, keys) {\n    if (typeof value === 'undefined') {\n      return {};\n    }\n\n    if (Array.isArray(value)) {\n      for (var i = 0; i < value.length; i++) {\n        value[i] = omitDeep(value[i], keys);\n      }\n      return value;\n    }\n\n    if (!isPlainObject(value)) {\n      return value;\n    }\n\n    if (typeof keys === 'string') {\n      keys = [keys];\n    }\n\n    if (!Array.isArray(keys)) {\n      return value;\n    }\n\n    for (var j = 0; j < keys.length; j++) {\n      unsetValue(value, keys[j]);\n    }\n\n    for (var key in value) {\n      if (value.hasOwnProperty(key)) {\n        value[key] = omitDeep(value[key], keys);\n      }\n    }\n\n    return value;\n  };\n\n  /*!\n   * Determine if an object is a Buffer\n   *\n   * @author   Feross Aboukhadijeh <https://feross.org>\n   * @license  MIT\n   */\n\n  // The _isBuffer check is for Safari 5-7 support, because it's missing\n  // Object.prototype.constructor. Remove this eventually\n  var isBuffer_1 = function (obj) {\n    return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n  };\n\n  function isBuffer (obj) {\n    return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n  }\n\n  // For Node v0.10 support. Remove this eventually.\n  function isSlowBuffer (obj) {\n    return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n  }\n\n  var toString = Object.prototype.toString;\n\n  /**\n   * Get the native `typeof` a value.\n   *\n   * @param  {*} `val`\n   * @return {*} Native javascript type\n   */\n\n  var kindOf = function kindOf(val) {\n    // primitivies\n    if (typeof val === 'undefined') {\n      return 'undefined';\n    }\n    if (val === null) {\n      return 'null';\n    }\n    if (val === true || val === false || val instanceof Boolean) {\n      return 'boolean';\n    }\n    if (typeof val === 'string' || val instanceof String) {\n      return 'string';\n    }\n    if (typeof val === 'number' || val instanceof Number) {\n      return 'number';\n    }\n\n    // functions\n    if (typeof val === 'function' || val instanceof Function) {\n      return 'function';\n    }\n\n    // array\n    if (typeof Array.isArray !== 'undefined' && Array.isArray(val)) {\n      return 'array';\n    }\n\n    // check for instances of RegExp and Date before calling `toString`\n    if (val instanceof RegExp) {\n      return 'regexp';\n    }\n    if (val instanceof Date) {\n      return 'date';\n    }\n\n    // other objects\n    var type = toString.call(val);\n\n    if (type === '[object RegExp]') {\n      return 'regexp';\n    }\n    if (type === '[object Date]') {\n      return 'date';\n    }\n    if (type === '[object Arguments]') {\n      return 'arguments';\n    }\n    if (type === '[object Error]') {\n      return 'error';\n    }\n\n    // buffer\n    if (isBuffer_1(val)) {\n      return 'buffer';\n    }\n\n    // es6: Map, WeakMap, Set, WeakSet\n    if (type === '[object Set]') {\n      return 'set';\n    }\n    if (type === '[object WeakSet]') {\n      return 'weakset';\n    }\n    if (type === '[object Map]') {\n      return 'map';\n    }\n    if (type === '[object WeakMap]') {\n      return 'weakmap';\n    }\n    if (type === '[object Symbol]') {\n      return 'symbol';\n    }\n\n    // typed arrays\n    if (type === '[object Int8Array]') {\n      return 'int8array';\n    }\n    if (type === '[object Uint8Array]') {\n      return 'uint8array';\n    }\n    if (type === '[object Uint8ClampedArray]') {\n      return 'uint8clampedarray';\n    }\n    if (type === '[object Int16Array]') {\n      return 'int16array';\n    }\n    if (type === '[object Uint16Array]') {\n      return 'uint16array';\n    }\n    if (type === '[object Int32Array]') {\n      return 'int32array';\n    }\n    if (type === '[object Uint32Array]') {\n      return 'uint32array';\n    }\n    if (type === '[object Float32Array]') {\n      return 'float32array';\n    }\n    if (type === '[object Float64Array]') {\n      return 'float64array';\n    }\n\n    // must be a plain object\n    return 'object';\n  };\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var renameKeys = createCommonjsModule(function (module) {\n  (function() {\n\n    function rename(obj, fn) {\n      if (typeof fn !== 'function') {\n        return obj;\n      }\n\n      var res = {};\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          res[fn(key, obj[key]) || key] = obj[key];\n        }\n      }\n      return res;\n    }\n\n    if (module.exports) {\n      module.exports = rename;\n    } else {\n      {\n        window.rename = rename;\n      }\n    }\n  })();\n  });\n\n  /**\n   * Expose `renameDeep`\n   */\n\n  var deepRenameKeys = function renameDeep(obj, cb) {\n    var type = kindOf(obj);\n\n    if (type !== 'object' && type !== 'array') {\n      throw new Error('expected an object');\n    }\n\n    var res = [];\n    if (type === 'object') {\n      obj = renameKeys(obj, cb);\n      res = {};\n    }\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        var val = obj[key];\n        if (kindOf(val) === 'object' || kindOf(val) === 'array') {\n          res[key] = renameDeep(val, cb);\n        } else {\n          res[key] = val;\n        }\n      }\n    }\n    return res;\n  };\n\n  var eventemitter3 = createCommonjsModule(function (module) {\n\n  var has = Object.prototype.hasOwnProperty\n    , prefix = '~';\n\n  /**\n   * Constructor to create a storage for our `EE` objects.\n   * An `Events` instance is a plain object whose properties are event names.\n   *\n   * @constructor\n   * @api private\n   */\n  function Events() {}\n\n  //\n  // We try to not inherit from `Object.prototype`. In some engines creating an\n  // instance in this way is faster than calling `Object.create(null)` directly.\n  // If `Object.create(null)` is not supported we prefix the event names with a\n  // character to make sure that the built-in object properties are not\n  // overridden or used as an attack vector.\n  //\n  if (Object.create) {\n    Events.prototype = Object.create(null);\n\n    //\n    // This hack is needed because the `__proto__` property is still inherited in\n    // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n    //\n    if (!new Events().__proto__) prefix = false;\n  }\n\n  /**\n   * Representation of a single event listener.\n   *\n   * @param {Function} fn The listener function.\n   * @param {Mixed} context The context to invoke the listener with.\n   * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n   * @constructor\n   * @api private\n   */\n  function EE(fn, context, once) {\n    this.fn = fn;\n    this.context = context;\n    this.once = once || false;\n  }\n\n  /**\n   * Minimal `EventEmitter` interface that is molded against the Node.js\n   * `EventEmitter` interface.\n   *\n   * @constructor\n   * @api public\n   */\n  function EventEmitter() {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  /**\n   * Return an array listing the events for which the emitter has registered\n   * listeners.\n   *\n   * @returns {Array}\n   * @api public\n   */\n  EventEmitter.prototype.eventNames = function eventNames() {\n    var names = []\n      , events\n      , name;\n\n    if (this._eventsCount === 0) return names;\n\n    for (name in (events = this._events)) {\n      if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      return names.concat(Object.getOwnPropertySymbols(events));\n    }\n\n    return names;\n  };\n\n  /**\n   * Return the listeners registered for a given event.\n   *\n   * @param {String|Symbol} event The event name.\n   * @param {Boolean} exists Only check if there are listeners.\n   * @returns {Array|Boolean}\n   * @api public\n   */\n  EventEmitter.prototype.listeners = function listeners(event, exists) {\n    var evt = prefix ? prefix + event : event\n      , available = this._events[evt];\n\n    if (exists) return !!available;\n    if (!available) return [];\n    if (available.fn) return [available.fn];\n\n    for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n      ee[i] = available[i].fn;\n    }\n\n    return ee;\n  };\n\n  /**\n   * Calls each of the listeners registered for a given event.\n   *\n   * @param {String|Symbol} event The event name.\n   * @returns {Boolean} `true` if the event had listeners, else `false`.\n   * @api public\n   */\n  EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n    var evt = prefix ? prefix + event : event;\n\n    if (!this._events[evt]) return false;\n\n    var listeners = this._events[evt]\n      , len = arguments.length\n      , args\n      , i;\n\n    if (listeners.fn) {\n      if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n      switch (len) {\n        case 1: return listeners.fn.call(listeners.context), true;\n        case 2: return listeners.fn.call(listeners.context, a1), true;\n        case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n        case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n        case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n        case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n      }\n\n      for (i = 1, args = new Array(len -1); i < len; i++) {\n        args[i - 1] = arguments[i];\n      }\n\n      listeners.fn.apply(listeners.context, args);\n    } else {\n      var length = listeners.length\n        , j;\n\n      for (i = 0; i < length; i++) {\n        if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n        switch (len) {\n          case 1: listeners[i].fn.call(listeners[i].context); break;\n          case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n          case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n          case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n          default:\n            if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n              args[j - 1] = arguments[j];\n            }\n\n            listeners[i].fn.apply(listeners[i].context, args);\n        }\n      }\n    }\n\n    return true;\n  };\n\n  /**\n   * Add a listener for a given event.\n   *\n   * @param {String|Symbol} event The event name.\n   * @param {Function} fn The listener function.\n   * @param {Mixed} [context=this] The context to invoke the listener with.\n   * @returns {EventEmitter} `this`.\n   * @api public\n   */\n  EventEmitter.prototype.on = function on(event, fn, context) {\n    var listener = new EE(fn, context || this)\n      , evt = prefix ? prefix + event : event;\n\n    if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n    else if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [this._events[evt], listener];\n\n    return this;\n  };\n\n  /**\n   * Add a one-time listener for a given event.\n   *\n   * @param {String|Symbol} event The event name.\n   * @param {Function} fn The listener function.\n   * @param {Mixed} [context=this] The context to invoke the listener with.\n   * @returns {EventEmitter} `this`.\n   * @api public\n   */\n  EventEmitter.prototype.once = function once(event, fn, context) {\n    var listener = new EE(fn, context || this, true)\n      , evt = prefix ? prefix + event : event;\n\n    if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n    else if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [this._events[evt], listener];\n\n    return this;\n  };\n\n  /**\n   * Remove the listeners of a given event.\n   *\n   * @param {String|Symbol} event The event name.\n   * @param {Function} fn Only remove the listeners that match this function.\n   * @param {Mixed} context Only remove the listeners that have this context.\n   * @param {Boolean} once Only remove one-time listeners.\n   * @returns {EventEmitter} `this`.\n   * @api public\n   */\n  EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n    var evt = prefix ? prefix + event : event;\n\n    if (!this._events[evt]) return this;\n    if (!fn) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n      return this;\n    }\n\n    var listeners = this._events[evt];\n\n    if (listeners.fn) {\n      if (\n           listeners.fn === fn\n        && (!once || listeners.once)\n        && (!context || listeners.context === context)\n      ) {\n        if (--this._eventsCount === 0) this._events = new Events();\n        else delete this._events[evt];\n      }\n    } else {\n      for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n        if (\n             listeners[i].fn !== fn\n          || (once && !listeners[i].once)\n          || (context && listeners[i].context !== context)\n        ) {\n          events.push(listeners[i]);\n        }\n      }\n\n      //\n      // Reset the array, or remove it completely if we have no more listeners.\n      //\n      if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n      else if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n\n    return this;\n  };\n\n  /**\n   * Remove all listeners, or those of the specified event.\n   *\n   * @param {String|Symbol} [event] The event name.\n   * @returns {EventEmitter} `this`.\n   * @api public\n   */\n  EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n    var evt;\n\n    if (event) {\n      evt = prefix ? prefix + event : event;\n      if (this._events[evt]) {\n        if (--this._eventsCount === 0) this._events = new Events();\n        else delete this._events[evt];\n      }\n    } else {\n      this._events = new Events();\n      this._eventsCount = 0;\n    }\n\n    return this;\n  };\n\n  //\n  // Alias methods names because people roll like that.\n  //\n  EventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n  EventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n  //\n  // This function doesn't apply anymore.\n  //\n  EventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n    return this;\n  };\n\n  //\n  // Expose the prefix.\n  //\n  EventEmitter.prefixed = prefix;\n\n  //\n  // Allow `EventEmitter` to be imported as module namespace.\n  //\n  EventEmitter.EventEmitter = EventEmitter;\n\n  //\n  // Expose the module.\n  //\n  {\n    module.exports = EventEmitter;\n  }\n  });\n\n  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n  var noop = function noop() {};\n\n  var State = {\n      data: 'state-data',\n      cdata: 'state-cdata',\n      tagBegin: 'state-tag-begin',\n      tagName: 'state-tag-name',\n      tagEnd: 'state-tag-end',\n      attributeNameStart: 'state-attribute-name-start',\n      attributeName: 'state-attribute-name',\n      attributeNameEnd: 'state-attribute-name-end',\n      attributeValueBegin: 'state-attribute-value-begin',\n      attributeValue: 'state-attribute-value'\n  };\n\n  var Action = {\n      lt: 'action-lt',\n      gt: 'action-gt',\n      space: 'action-space',\n      equal: 'action-equal',\n      quote: 'action-quote',\n      slash: 'action-slash',\n      char: 'action-char',\n      error: 'action-error'\n  };\n\n  var Type$1 = {\n      text: 'text',\n      openTag: 'open-tag',\n      closeTag: 'close-tag',\n      attributeName: 'attribute-name',\n      attributeValue: 'attribute-value'\n  };\n\n  var charToAction = {\n      ' ': Action.space,\n      '\\t': Action.space,\n      '\\n': Action.space,\n      '\\r': Action.space,\n      '<': Action.lt,\n      '>': Action.gt,\n      '\"': Action.quote,\n      \"'\": Action.quote,\n      '=': Action.equal,\n      '/': Action.slash\n  };\n\n  var getAction = function getAction(char) {\n      return charToAction[char] || Action.char;\n  };\n\n  /**\n   * @param  {Object} options\n   * @param  {Boolean} options.debug\n   * @return {Object}\n   */\n  var create$1 = function create(options) {\n      var _State$data, _State$tagBegin, _State$tagName, _State$tagEnd, _State$attributeNameS, _State$attributeName, _State$attributeNameE, _State$attributeValue, _State$attributeValue2, _lexer$stateMachine;\n\n      options = Object.assign({ debug: false }, options);\n      var lexer = new eventemitter3();\n      var state = State.data;\n      var data = '';\n      var tagName = '';\n      var attrName = '';\n      var attrValue = '';\n      var isClosing = '';\n      var openingQuote = '';\n\n      var emit = function emit(type, value) {\n          // for now, ignore tags like: '?xml', '!DOCTYPE' or comments\n          if (tagName[0] === '?' || tagName[0] === '!') {\n              return;\n          }\n          var event = { type: type, value: value };\n          if (options.debug) {\n              console.log('emit:', event);\n          }\n          lexer.emit('data', event);\n      };\n\n      lexer.stateMachine = (_lexer$stateMachine = {}, _defineProperty(_lexer$stateMachine, State.data, (_State$data = {}, _defineProperty(_State$data, Action.lt, function () {\n          if (data.trim()) {\n              emit(Type$1.text, data);\n          }\n          tagName = '';\n          isClosing = false;\n          state = State.tagBegin;\n      }), _defineProperty(_State$data, Action.char, function (char) {\n          data += char;\n      }), _State$data)), _defineProperty(_lexer$stateMachine, State.cdata, _defineProperty({}, Action.char, function (char) {\n          data += char;\n          if (data.substr(-3) === ']]>') {\n              emit(Type$1.text, data.slice(0, -3));\n              data = '';\n              state = State.data;\n          }\n      })), _defineProperty(_lexer$stateMachine, State.tagBegin, (_State$tagBegin = {}, _defineProperty(_State$tagBegin, Action.space, noop), _defineProperty(_State$tagBegin, Action.char, function (char) {\n          tagName = char;\n          state = State.tagName;\n      }), _defineProperty(_State$tagBegin, Action.slash, function () {\n          tagName = '';\n          isClosing = true;\n      }), _State$tagBegin)), _defineProperty(_lexer$stateMachine, State.tagName, (_State$tagName = {}, _defineProperty(_State$tagName, Action.space, function () {\n          if (isClosing) {\n              state = State.tagEnd;\n          } else {\n              state = State.attributeNameStart;\n              emit(Type$1.openTag, tagName);\n          }\n      }), _defineProperty(_State$tagName, Action.gt, function () {\n          if (isClosing) {\n              emit(Type$1.closeTag, tagName);\n          } else {\n              emit(Type$1.openTag, tagName);\n          }\n          data = '';\n          state = State.data;\n      }), _defineProperty(_State$tagName, Action.slash, function () {\n          state = State.tagEnd;\n          emit(Type$1.openTag, tagName);\n      }), _defineProperty(_State$tagName, Action.char, function (char) {\n          tagName += char;\n          if (tagName === '![CDATA[') {\n              state = State.cdata;\n              data = '';\n              tagName = '';\n          }\n      }), _State$tagName)), _defineProperty(_lexer$stateMachine, State.tagEnd, (_State$tagEnd = {}, _defineProperty(_State$tagEnd, Action.gt, function () {\n          emit(Type$1.closeTag, tagName);\n          data = '';\n          state = State.data;\n      }), _defineProperty(_State$tagEnd, Action.char, noop), _State$tagEnd)), _defineProperty(_lexer$stateMachine, State.attributeNameStart, (_State$attributeNameS = {}, _defineProperty(_State$attributeNameS, Action.char, function (char) {\n          attrName = char;\n          state = State.attributeName;\n      }), _defineProperty(_State$attributeNameS, Action.gt, function () {\n          data = '';\n          state = State.data;\n      }), _defineProperty(_State$attributeNameS, Action.space, noop), _defineProperty(_State$attributeNameS, Action.slash, function () {\n          isClosing = true;\n          state = State.tagEnd;\n      }), _State$attributeNameS)), _defineProperty(_lexer$stateMachine, State.attributeName, (_State$attributeName = {}, _defineProperty(_State$attributeName, Action.space, function () {\n          state = State.attributeNameEnd;\n      }), _defineProperty(_State$attributeName, Action.equal, function () {\n          emit(Type$1.attributeName, attrName);\n          state = State.attributeValueBegin;\n      }), _defineProperty(_State$attributeName, Action.gt, function () {\n          attrValue = '';\n          emit(Type$1.attributeName, attrName);\n          emit(Type$1.attributeValue, attrValue);\n          data = '';\n          state = State.data;\n      }), _defineProperty(_State$attributeName, Action.slash, function () {\n          isClosing = true;\n          attrValue = '';\n          emit(Type$1.attributeName, attrName);\n          emit(Type$1.attributeValue, attrValue);\n          state = State.tagEnd;\n      }), _defineProperty(_State$attributeName, Action.char, function (char) {\n          attrName += char;\n      }), _State$attributeName)), _defineProperty(_lexer$stateMachine, State.attributeNameEnd, (_State$attributeNameE = {}, _defineProperty(_State$attributeNameE, Action.space, noop), _defineProperty(_State$attributeNameE, Action.equal, function () {\n          emit(Type$1.attributeName, attrName);\n          state = State.attributeValueBegin;\n      }), _defineProperty(_State$attributeNameE, Action.gt, function () {\n          attrValue = '';\n          emit(Type$1.attributeName, attrName);\n          emit(Type$1.attributeValue, attrValue);\n          data = '';\n          state = State.data;\n      }), _defineProperty(_State$attributeNameE, Action.char, function (char) {\n          attrValue = '';\n          emit(Type$1.attributeName, attrName);\n          emit(Type$1.attributeValue, attrValue);\n          attrName = char;\n          state = State.attributeName;\n      }), _State$attributeNameE)), _defineProperty(_lexer$stateMachine, State.attributeValueBegin, (_State$attributeValue = {}, _defineProperty(_State$attributeValue, Action.space, noop), _defineProperty(_State$attributeValue, Action.quote, function (char) {\n          openingQuote = char;\n          attrValue = '';\n          state = State.attributeValue;\n      }), _defineProperty(_State$attributeValue, Action.gt, function () {\n          attrValue = '';\n          emit(Type$1.attributeValue, attrValue);\n          data = '';\n          state = State.data;\n      }), _defineProperty(_State$attributeValue, Action.char, function (char) {\n          openingQuote = '';\n          attrValue = char;\n          state = State.attributeValue;\n      }), _State$attributeValue)), _defineProperty(_lexer$stateMachine, State.attributeValue, (_State$attributeValue2 = {}, _defineProperty(_State$attributeValue2, Action.space, function (char) {\n          if (openingQuote) {\n              attrValue += char;\n          } else {\n              emit(Type$1.attributeValue, attrValue);\n              state = State.attributeNameStart;\n          }\n      }), _defineProperty(_State$attributeValue2, Action.quote, function (char) {\n          if (openingQuote === char) {\n              emit(Type$1.attributeValue, attrValue);\n              state = State.attributeNameStart;\n          } else {\n              attrValue += char;\n          }\n      }), _defineProperty(_State$attributeValue2, Action.gt, function (char) {\n          if (openingQuote) {\n              attrValue += char;\n          } else {\n              emit(Type$1.attributeValue, attrValue);\n              data = '';\n              state = State.data;\n          }\n      }), _defineProperty(_State$attributeValue2, Action.slash, function (char) {\n          if (openingQuote) {\n              attrValue += char;\n          } else {\n              emit(Type$1.attributeValue, attrValue);\n              isClosing = true;\n              state = State.tagEnd;\n          }\n      }), _defineProperty(_State$attributeValue2, Action.char, function (char) {\n          attrValue += char;\n      }), _State$attributeValue2)), _lexer$stateMachine);\n\n      var step = function step(char) {\n          if (options.debug) {\n              console.log(state, char);\n          }\n          var actions = lexer.stateMachine[state];\n          var action = actions[getAction(char)] || actions[Action.error] || actions[Action.char];\n          action(char);\n      };\n\n      lexer.write = function (str) {\n          var len = str.length;\n          for (var i = 0; i < len; i++) {\n              step(str[i]);\n          }\n      };\n\n      return lexer;\n  };\n\n  var lexer = {\n      State: State,\n      Action: Action,\n      Type: Type$1,\n      create: create$1\n  };\n\n  var Type = lexer.Type;\n\n  var NodeType = {\n      element: 'element',\n      text: 'text'\n  };\n\n  var createNode = function createNode(params) {\n      return Object.assign({\n          name: '',\n          type: NodeType.element,\n          value: '',\n          parent: null,\n          attributes: {},\n          children: []\n      }, params);\n  };\n\n  var create = function create(options) {\n      options = Object.assign({\n          stream: false,\n          parentNodes: true,\n          doneEvent: 'done',\n          tagPrefix: 'tag:',\n          emitTopLevelOnly: false,\n          debug: false\n      }, options);\n\n      var lexer$1 = void 0,\n          rootNode = void 0,\n          current = void 0,\n          attrName = void 0;\n\n      var reader = new eventemitter3();\n\n      var handleLexerData = function handleLexerData(data) {\n          switch (data.type) {\n\n              case Type.openTag:\n                  if (current === null) {\n                      current = rootNode;\n                      current.name = data.value;\n                  } else {\n                      var node = createNode({\n                          name: data.value,\n                          parent: current\n                      });\n                      current.children.push(node);\n                      current = node;\n                  }\n                  break;\n\n              case Type.closeTag:\n                  var parent = current.parent;\n                  if (!options.parentNodes) {\n                      current.parent = null;\n                  }\n                  if (current.name !== data.value) {\n                      // ignore unexpected closing tag\n                      break;\n                  }\n                  if (options.stream && parent === rootNode) {\n                      rootNode.children = [];\n                      // do not expose parent node in top level nodes\n                      current.parent = null;\n                  }\n                  if (!options.emitTopLevelOnly || parent === rootNode) {\n                      reader.emit(options.tagPrefix + current.name, current);\n                      reader.emit('tag', current.name, current);\n                  }\n                  if (current === rootNode) {\n                      // end of document, stop listening\n                      lexer$1.removeAllListeners('data');\n                      reader.emit(options.doneEvent, current);\n                      rootNode = null;\n                  }\n                  current = parent;\n                  break;\n\n              case Type.text:\n                  if (current) {\n                      current.children.push(createNode({\n                          type: NodeType.text,\n                          value: data.value,\n                          parent: options.parentNodes ? current : null\n                      }));\n                  }\n                  break;\n\n              case Type.attributeName:\n                  attrName = data.value;\n                  current.attributes[attrName] = '';\n                  break;\n\n              case Type.attributeValue:\n                  current.attributes[attrName] = data.value;\n                  break;\n          }\n      };\n\n      reader.reset = function () {\n          lexer$1 = lexer.create({ debug: options.debug });\n          lexer$1.on('data', handleLexerData);\n          rootNode = createNode();\n          current = null;\n          attrName = '';\n          reader.parse = lexer$1.write;\n      };\n\n      reader.reset();\n      return reader;\n  };\n\n  var parseSync = function parseSync(xml, options) {\n      options = Object.assign({}, options, { stream: false, tagPrefix: ':' });\n      var reader = create(options);\n      var res = void 0;\n      reader.on('done', function (ast) {\n          res = ast;\n      });\n      reader.parse(xml);\n      return res;\n  };\n\n  var reader = {\n      parseSync: parseSync,\n      create: create,\n      NodeType: NodeType\n  };\n  var reader_1 = reader.parseSync;\n\n  var parseInput = function parseInput(input) {\n    var parsed = reader_1(\"<root>\".concat(input, \"</root>\"), {\n      parentNodes: false\n    });\n    var isValid = parsed.children && parsed.children.length > 0 && parsed.children.every(function (node) {\n      return node.name === 'svg';\n    });\n\n    if (isValid) {\n      return parsed.children.length === 1 ? parsed.children[0] : parsed.children;\n    } else {\n      throw Error('nothing to parse');\n    }\n  };\n  var removeAttrs = function removeAttrs(obj) {\n    return omitDeep(obj, ['parent']);\n  };\n  var camelize = function camelize(node) {\n    return deepRenameKeys(node, function (key) {\n      if (!notCamelcase(key)) {\n        return toCamelCase(key);\n      }\n\n      return key;\n    });\n  };\n  var toCamelCase = function toCamelCase(prop) {\n    return prop.replace(/[-|:]([a-z])/gi, function (all, letter) {\n      return letter.toUpperCase();\n    });\n  };\n\n  var notCamelcase = function notCamelcase(prop) {\n    return /^(data|aria)(-\\w+)/.test(prop);\n  };\n\n  var escapeText = function escapeText(text) {\n    if (text) {\n      var str = String(text);\n      return /[&<>]/.test(str) ? \"<![CDATA[\".concat(str.replace(/]]>/, ']]]]><![CDATA[>'), \"]]>\") : str;\n    }\n\n    return '';\n  };\n  var escapeAttr = function escapeAttr(attr) {\n    return String(attr).replace(/&/g, '&amp;').replace(/'/g, '&apos;').replace(/\"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n  };\n\n  var svgsonSync = function svgsonSync(input) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$transformNode = _ref.transformNode,\n        transformNode = _ref$transformNode === void 0 ? function (node) {\n      return node;\n    } : _ref$transformNode,\n        _ref$camelcase = _ref.camelcase,\n        camelcase = _ref$camelcase === void 0 ? false : _ref$camelcase;\n\n    var applyFilters = function applyFilters(input) {\n      var n;\n      n = removeAttrs(input);\n      n = transformNode(n);\n\n      if (camelcase) {\n        n = camelize(n);\n      }\n\n      return n;\n    };\n\n    return applyFilters(parseInput(input));\n  };\n  function svgson() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return new Promise(function (resolve, reject) {\n      try {\n        var res = svgsonSync.apply(void 0, args);\n        resolve(res);\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }\n\n  var stringify = function stringify(_ast) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$transformAttr = _ref.transformAttr,\n        transformAttr = _ref$transformAttr === void 0 ? function (key, value, escape) {\n      return \"\".concat(key, \"=\\\"\").concat(escape(value), \"\\\"\");\n    } : _ref$transformAttr,\n        _ref$transformNode = _ref.transformNode,\n        transformNode = _ref$transformNode === void 0 ? function (node) {\n      return node;\n    } : _ref$transformNode,\n        _ref$selfClose = _ref.selfClose,\n        selfClose = _ref$selfClose === void 0 ? true : _ref$selfClose;\n\n    if (Array.isArray(_ast)) {\n      return _ast.map(function (ast) {\n        return stringify(ast, {\n          transformAttr: transformAttr,\n          selfClose: selfClose,\n          transformNode: transformNode\n        });\n      }).join('');\n    }\n\n    var ast = transformNode(_ast);\n\n    if (ast.type === 'text') {\n      return escapeText(ast.value);\n    }\n\n    var attributes = '';\n\n    for (var attr in ast.attributes) {\n      var attrStr = transformAttr(attr, ast.attributes[attr], escapeAttr, ast.name);\n      attributes += attrStr ? \" \".concat(attrStr) : '';\n    }\n\n    return ast.children && ast.children.length > 0 || !selfClose ? \"<\".concat(ast.name).concat(attributes, \">\").concat(stringify(ast.children, {\n      transformAttr: transformAttr,\n      transformNode: transformNode,\n      selfClose: selfClose\n    }), \"</\").concat(ast.name, \">\") : \"<\".concat(ast.name).concat(attributes, \"/>\");\n  };\n\n  var indexUmd = Object.assign({}, {\n    parse: svgson,\n    parseSync: svgsonSync,\n    stringify: stringify\n  });\n\n  return indexUmd;\n\n})));\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"efa73fe6\" + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"easythread:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkeasythread\"] = self[\"webpackChunkeasythread\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module doesn't tell about it's top-level declarations so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(296);\n"],"names":["module","exports","arr","len","length","i","arr2","Array","__esModule","isArray","arrayLikeToArray","iter","Symbol","iterator","from","_i","_s","_e","_arr","_n","_d","call","next","done","push","value","err","TypeError","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arrayWithoutHoles","iterableToArray","nonIterableSpread","o","minLen","n","Object","prototype","toString","slice","constructor","name","test","_arrayLikeToArray","_unsupportedIterableToArray","_slicedToArray","getWindow","node","window","ownerDocument","defaultView","isElement","Element","isHTMLElement","HTMLElement","isShadowRoot","ShadowRoot","max","Math","min","round","getBoundingClientRect","element","includeScale","rect","scaleX","scaleY","offsetHeight","offsetWidth","width","height","top","right","bottom","left","x","y","getWindowScroll","win","scrollLeft","pageXOffset","scrollTop","pageYOffset","getNodeName","nodeName","toLowerCase","getDocumentElement","document","documentElement","getWindowScrollBarX","getComputedStyle","isScrollParent","_getComputedStyle","overflow","overflowX","overflowY","getCompositeRect","elementOrVirtualElement","offsetParent","isFixed","isOffsetParentAnElement","offsetParentIsScaled","isElementScaled","scroll","offsets","getNodeScroll","clientLeft","clientTop","getLayoutRect","clientRect","abs","offsetLeft","offsetTop","getParentNode","assignedSlot","parentNode","host","getScrollParent","indexOf","body","listScrollParents","list","_element$ownerDocumen","scrollParent","isBody","target","concat","visualViewport","updatedList","isTableElement","getTrueOffsetParent","position","getOffsetParent","isFirefox","navigator","userAgent","currentNode","css","transform","perspective","contain","willChange","filter","getContainingBlock","auto","basePlacements","start","end","viewport","popper","variationPlacements","reduce","acc","placement","placements","modifierPhases","order","modifiers","map","Map","visited","Set","result","sort","modifier","add","requires","requiresIfExists","forEach","dep","has","depModifier","get","set","debounce","fn","pending","Promise","resolve","then","undefined","DEFAULT_OPTIONS","strategy","areValidElements","_len","arguments","args","_key","some","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","reference","options","state","orderedModifiers","assign","modifiersData","elements","attributes","styles","effectCleanupFns","isDestroyed","instance","setOptions","setOptionsAction","cleanupModifierEffects","scrollParents","contextElement","phase","orderModifiers","merged","current","existing","data","keys","key","mergeByName","m","enabled","_ref3","_ref3$options","effect","cleanupFn","noopFn","update","forceUpdate","_state$elements","rects","reset","index","_state$orderedModifie","_state$orderedModifie2","_options","destroy","onFirstUpdate","passive","_ref","_options$scroll","_options$resize","resize","addEventListener","removeEventListener","getBasePlacement","split","getVariation","getMainAxisFromPlacement","computeOffsets","basePlacement","variation","commonX","commonY","mainAxis","unsetSides","mapToStyles","_ref2","_Object$assign2","popperRect","gpuAcceleration","adaptive","roundOffsets","_offsets$x","_offsets$y","hasX","hasOwnProperty","hasY","sideX","sideY","heightProp","widthProp","_Object$assign","commonStyles","_ref4","dpr","devicePixelRatio","roundOffsetsByDPR","_ref5","_options$gpuAccelerat","_options$adaptive","_options$roundOffsets","popperOffsets","arrow","style","removeAttribute","setAttribute","initialStyles","margin","property","attribute","_options$offset","offset","invertDistance","skidding","distance","distanceAndSkiddingToXY","_data$state$placement","hash","getOppositePlacement","replace","matched","getOppositeVariationPlacement","contains","parent","child","rootNode","getRootNode","isSameNode","rectToClientRect","getClientRectFromMixedType","clippingParent","html","clientWidth","clientHeight","getViewportRect","getInnerBoundingClientRect","winScroll","scrollWidth","scrollHeight","direction","getDocumentRect","getClippingRect","boundary","rootBoundary","mainClippingParents","clippingParents","clipperElement","getClippingParents","firstClippingParent","clippingRect","accRect","mergePaddingObject","paddingObject","expandToHashMap","hashMap","detectOverflow","_options$placement","_options$boundary","_options$rootBoundary","_options$elementConte","elementContext","_options$altBoundary","altBoundary","_options$padding","padding","altContext","clippingClientRect","referenceClientRect","popperClientRect","elementClientRect","overflowOffsets","offsetData","multiply","axis","_skip","_options$mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","_options$flipVariatio","flipVariations","allowedAutoPlacements","preferredPlacement","oppositePlacement","getExpandedFallbackPlacements","_options$allowedAutoP","allPlacements","allowedPlacements","overflows","a","b","computeAutoPlacement","referenceRect","checksMap","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","isVertical","mainVariationSide","altVariationSide","checks","every","check","_loop","fittingPlacement","find","within","mathMax","mathMin","_options$tether","tether","_options$tetherOffset","tetherOffset","isBasePlacement","tetherOffsetValue","normalizedTetherOffsetValue","offsetModifierState","_offsetModifierState$","mainSide","altSide","additive","maxLen","arrowElement","arrowRect","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","arrowOffsetParent","clientOffset","offsetModifierValue","tetherMax","preventedOffset","_offsetModifierState$2","_mainSide","_altSide","_offset","_min","_max","isOriginSide","_offsetModifierValue","_tetherMin","_tetherMax","_preventedOffset","v","withinMaxClamp","_state$modifiersData$","toPaddingObject","minProp","maxProp","endDiff","startDiff","clientSize","centerToReference","center","axisProp","centerOffset","_options$element","querySelector","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","preventOverflow","referenceOverflow","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","createPopper","eventListeners","computeStyles","applyStyles","flip","hide","fromEntries","entries","useIsomorphicLayoutEffect","createElement","React","EMPTY_MODIFIERS","usePopper","referenceElement","popperElement","prevOptions","optionsWithDefaults","_React$useState","setState","updateStateModifier","popperOptions","newOptions","isEqual","popperInstanceRef","popperInstance","defaultCreatePopper","_defineProperty","obj","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","apply","_objectSpread2","source","getOwnPropertyDescriptors","defineProperties","props","useState","isShown","setShown","useEffect","setTimeout","hoverRef","isHover","className","ref","setPopperElement","popperStyles","popperAttributes","label","setReferenceElement","setHover","onClick","disabled","filled","toggled","onMouseEnter","onMouseLeave","children","tooltip","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","Features","RenderStrategy","Keys","onChange","e","setValue","placeholder","type","match","lookup","returnValue","error","Error","render","slot","defaultTag","features","visible","_render","featureFlags","isStatic","rest","unmount","hidden","display","omit","as","Component","tag","refName","passThroughProps","refRelatedProps","resolvedChildren","isValidElement","line","cloneElement","clone","func","existingProps","event","mergeEventFunctions","compact","forwardRefWithAs","component","forwardRef","displayName","keysToOmit","useSyncRefs","refs","cache","useRef","useCallback","isDisabledReactIssue7711","legend","isParentDisabled","previous","isFirstLegend","useIsoMorphicEffect","serverHandoffComplete","useServerHandoffComplete","setServerHandoffComplete","id","generateId","useId","ready","setId","DescriptionContext","createContext","useDescriptionContext","context","useContext","useDescriptions","descriptionIds","setDescriptionIds","useMemo","register","idx","contextBag","Description","propsWeControl","resolveType","useResolveButtonType","setType","LabelContext","useLabelContext","GroupContext","DEFAULT_GROUP_TAG","Switch","checked","groupContext","internalSwitchRef","switchRef","toggle","handleClick","handleKeyUp","Tab","Space","handleKeyPress","role","tabIndex","onKeyUp","onKeyPress","switchElement","setSwitchElement","labelIds","setLabelIds","useLabels","labelledby","LabelProvider","describedby","DescriptionProvider","switch","setSwitch","preventScroll","allProps","Focus","FocusResult","FocusableMode","active","setActive","focusableSelector","selector","focusElement","focusIn","container","focus","Node","getFocusableElements","Direction","startIndex","focusOptions","total","nextIdx","useWindowEvent","listener","listenerRef","State","Context","useOpenClosed","OpenClosedProvider","disposables","api","requestAnimationFrame","raf","cancelAnimationFrame","nextFrame","timer","clearTimeout","dispose","useDisposables","calculateActiveIndex","action","resolvers","items","currentActiveIndex","activeIndex","nextActiveIndex","item","all","assertNever","MenuStates","ActionTypes","reducers","activeItemIndex","menuState","Closed","Open","resolveItems","resolveActiveIndex","resolveId","resolveDisabled","searchQuery","dataRef","nextItems","currentActiveItem","MenuContext","useMenuContext","Menu","stateReducer","DEFAULT_MENU_TAG","reducerBag","useReducer","buttonRef","createRef","itemsRef","dispatch","CloseMenu","mode","Strict","isFocusableElement","Loose","open","Reason","Button","handleKeyDown","Enter","ArrowDown","OpenMenu","ArrowUp","onKeyDown","ItemsRenderFeatures","Static","Items","searchDisposables","usesOpenClosedState","useTreeWalker","accept","walk","acceptRef","walkRef","acceptNode","walker","NodeFilter","Home","PageUp","End","PageDown","Escape","ClearSearch","DEFAULT_ITEM_TAG","useIsMounted","mounted","addClasses","classes","removeClasses","transition","base","to","entered","_done","cb","called","once","transitionDuration","transitionDelay","parseFloat","z","resolvedValue","durationMs","delaysMs","waitForTransition","reason","useSplitClasses","Item","passthroughProps","block","bag","handleFocus","handleMove","handleLeave","onFocus","onPointerMove","onMouseMove","onPointerLeave","TransitionContext","TreeStates","NestingContext","hasChildren","useNesting","doneRef","transitionableChildren","unregister","Hidden","Unmount","Visible","childId","noop","eventNames","ensureEventHooksExist","events","TransitionChildRenderFeatures","TransitionChild","beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","useTransitionContext","show","appear","initial","useParentNesting","isTransitioning","nesting","enterClasses","enterFromClasses","enterToClasses","enteredClasses","leaveClasses","leaveFromClasses","leaveToClasses","eventsRef","useEvents","skip","Finished","Transition","includes","nestingBag","useIsInitialRender","transitionBag","sharedProps","hasTransitionContext","hasOpenClosedContext","buttonStyle","button","Fragment","align","contentStyle","preventDefault","useStorageState","localStorage","stitchLength","setStitchLength","spaceBetweenNormals","setSpaceBetweenNormals","satinStitchLength","setSatinStitchLength","fillGutterSpacing","setFillGutterSpacing","setItem","isConvertToEmbroidery","setConvertToEmbroidery","isRemoveOverlap","setRemoveOverlap","isAverageOutColours","setAverageOutColours","icon","on","callback","detail","dispatchEvent","CustomEvent","remove","_classCallCheck","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","UndoRedoTool","Paper","undoStack","insert","redoStack","checkSize","dispatchAvailability","eventBus","pop","asyncGeneratorStep","gen","reject","_next","_throw","arg","info","_asyncToGenerator","self","this","copyStyles","reciever","giver","strokeCap","strokeColor","strokeJoin","strokeScaling","fillColor","fillRule","hasParent","hasFill","hasStroke","layer","getItems","copyStyling","toPath","require","isValidShape","temp","svg","exportSVG","parse","outerHTML","json","path","pItem","tagName","itemToPathItem","removeOverlaps","array","getLeafItems","newArray","j","isInside","bounds","intersects","subtract","l","addChildren","useFocusTrap","All","initialFocus","containers","restoreElement","previousActiveElement","featuresRestoreFocus","Boolean","featuresInitialFocus","activeElement","First","console","Previous","Next","WrapAround","Success","allContainers","toElement","interactables","originals","inert","restore","original","ForcePortalRootContext","ForcePortalRoot","force","usePortalTarget","forceInRoot","groupTarget","existingRoot","root","setTarget","DEFAULT_PORTAL_TAG","Portal","createPortal","PortalGroupContext","StackMessage","StackContext","StackProvider","onUpdate","parentUpdate","notify","DialogStates","titleId","DialogContext","useDialogContext","Dialog","DialogRenderFeatures","DialogRoot","onClose","nestedDialogCount","setNestedDialogCount","internalDialogRef","dialogRef","hasOpen","hasOnClose","dialogState","descriptionId","close","setTitleId","hasNestedDialogs","hasParentDialog","FocusTrapFeatures","leaf","interactable","useInertOthers","paddingRight","scrollbarWidth","observer","IntersectionObserver","entry","message","Add","count","Remove","Group","Overlay","overlayRef","Title","isOpen","preventAutoClose","setOpen","description","title","filename","setFilename","setWidth","setHeight","isOutlineShown","setOutlineShown","isUndo","setUndo","isRedo","setRedo","areItemsSelected","setItemsSelected","setStroke","isModalOpen","setModalOpen","saveFileSvg","markup","asString","FileSaver","Blob","onEnterDimensions","initWidth","initHeight","widthMultiple","Number","toFixed","heightMultiple","newWidth","newHeight","rectBounds","selected","convertToEmbroidery","removeOverlap","averageColours","src","Logo","alt","extractSize","boxProp","sizeType","contentRect","useResizeObserver","opts","onResize","onResizeRef","resizeObserverRef","_useState","size","setSize","didUnmount","refCallback","subscriber","refOrElement","callbackRefElement","lastReportRef","cleanupRef","callSubscriber","reporter","useResolvedElement","box","ResizeObserver","reportedWidth","reportedHeight","newSize","observe","unobserve","background","hex","getClosestColour","c","smallestValue","closestColour","DMCColours","brightnessMultiple","brightness","c1","Color","dHue","hue","dSaturation","saturation","dBrightness","sqrt","pow","getValueHSB","elem","defaultDMC","DMC","currPage","setCurrPage","coloursPerPage","setColoursPerPage","ceil","maxPerPage","setMaxPerPage","softColour","setSoftColour","hardColour","setHardColour","floor","Red","Blue","Green","normaliseColours","UNDEFINED","DEFAULT_UNIT_PRESETS","pos","convertUnitSize","_a","text","matches","exec","prefix","unit","NaN","splitUnit","isObject","sizeFunction","isFunction","_this","scrollPos","tslib_1","componentDidMount","canvas","componentDidUpdate","draw","zoom","backgroundColor","lineColor","textColor","_b","_c","textFormat","isHorizontal","isDirectionStart","isNegative","negativeRuler","font","textAlign","textOffset","containerSize","mainLineSize","longLineSize","shortLineSize","zoomUnit","minRange","alignOffset","startValue","startPos","value_1","range","lineSize","x1","y1","_f","x2","y2","_g","startX","startY","Ruler","segment","_createForOfIteratorHelper","allowArrayLike","it","F","s","f","normalCompletion","didErr","step","_e2","embroideryTypes","Block","points","colour","stitches","buffer","totalDistance","anchorDistances","segments","getOffsetOf","point","curDistance","getPointAt","shift","unshift","getPointDistanceAway","getDistance","omitLast","percentOffset","preBuffer","vector","getNormalAt","lastOffset","straightSubdivision","p","_toConsumableArray","spacing","normal","bounding","hypotenuse","lower","sin","angleInRadians","upper","lines","pStart","bottomLeft","bottomCenter","pEnd","bottomRight","tempLine","rotate","angle","gutterLines","intersectPoints","getIntersections","initialPoint","Graph","curveLocations","referenceTable","adjacencyList","cl1","cl2","index1","findIndex","index2","isConnected","numOdd","recursionCheck","adj","startingVertex","curVertex","isEulorian","cPath","ePath","u","removeEdge","splice","fillPath","tempPath","tempItem","tempPathItem","pathData","directionVector","getDirectionVector","rows","rowGutter","flattenedCL","graph","row","addEdge","clByOutline","cl","curve","getNearestPoint","e1","e2","pointBlocks","visitedIndexed","counter","curVisited","availableVertices","getEulorianPath","divisons","halfDistance","totalX","totalY","Container","sequence","leafItems","getItem","strokeFlag","pathItem","section","log","pathDatas","strokeToBlock","convertToSVG","satinPath","runningPath","commands","command","S","dashArray","opacity","addChild","exp","convertToExp","preBytes","cP","prevColour","newSequence","stitch","red","green","blue","jumpPoints","nP","dX","trunc","dY","bytes","Int8Array","canvasRef","horizontalRulerRef","verticalRulerRef","preventSelect","setPreventSelect","refPreventSelect","setTimer","fileInputRef","topLeftPos","setTopLeftPos","viewZoom","setViewZoom","onClickItemEvent","stopPropagation","control","el","updateRulerDimensions","setCenter","convertSvg","convertToBlocks","checkIfHasSequence","mousedrag","pan_offset","downPoint","userEditable","click","newLayer","strokeBounds","layerToConvert","newZoom","scale","onWheel","beta","deltaY","mousePosition","clientX","clientY","mpos","ctr","pc","reader","FileReader","files","onload","expandShapes","addSvg","readAsText","ev","ctrlKey","shiftKey","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","getElementById","reportWebVitals","reservedWords","strict","strictBind","ecma5AndLessKeywords","keywords$1","keywordRelationalOperator","nonASCIIidentifierStartChars","nonASCIIidentifierChars","nonASCIIidentifierStart","RegExp","nonASCIIidentifier","astralIdentifierStartCodes","astralIdentifierCodes","isInAstralSet","code","isIdentifierStart","astral","String","fromCharCode","isIdentifierChar","TokenType","conf","keyword","beforeExpr","startsExpr","isLoop","isAssign","postfix","binop","updateContext","prec","keywords","kw","types$1","num","regexp","string","privateId","eof","bracketL","bracketR","braceL","braceR","parenL","parenR","comma","semi","colon","dot","question","questionDot","template","invalidTemplate","ellipsis","backQuote","dollarBraceL","eq","incDec","logicalOR","logicalAND","bitwiseOR","bitwiseXOR","bitwiseAND","equality","relational","bitShift","plusMin","modulo","star","slash","starstar","coalesce","_break","_case","_catch","_continue","_debugger","_default","_do","_else","_finally","_for","_function","_if","_return","_switch","_try","_var","_const","_while","_with","_new","_super","_class","_extends","_export","_import","_null","_true","_false","_in","_instanceof","_typeof","_void","_delete","lineBreak","lineBreakG","isNewLine","nextLineBreak","charCodeAt","nonASCIIwhitespace","skipWhiteSpace","hasOwn","propName","wordsRegexp","words","loneSurrogate","Position","col","column","SourceLocation","sourceFile","getLineInfo","input","cur","nextBreak","ecmaVersion","sourceType","onInsertedSemicolon","onTrailingComma","allowReserved","allowReturnOutsideFunction","allowImportExportEverywhere","allowAwaitOutsideFunction","allowSuperOutsideMethod","allowHashBang","locations","onToken","onComment","ranges","program","directSourceFile","preserveParens","warnedAboutEcmaVersion","getOptions","opt","warn","tokens","token","pushComment","startLoc","endLoc","comment","loc","SCOPE_TOP","SCOPE_FUNCTION","SCOPE_ASYNC","SCOPE_GENERATOR","SCOPE_ARROW","SCOPE_SIMPLE_CATCH","SCOPE_SUPER","SCOPE_DIRECT_SUPER","SCOPE_CLASS_STATIC_BLOCK","SCOPE_VAR","functionFlags","async","generator","BIND_NONE","BIND_VAR","BIND_LEXICAL","BIND_FUNCTION","BIND_SIMPLE_CATCH","BIND_OUTSIDE","Parser","reserved","reservedStrict","reservedWordsStrict","reservedWordsStrictBind","containsEsc","lineStart","lastIndexOf","curLine","curPosition","lastTokEndLoc","lastTokStartLoc","lastTokStart","lastTokEnd","initialContext","exprAllowed","inModule","strictDirective","potentialArrowAt","potentialArrowInForAwait","yieldPos","awaitPos","awaitIdentPos","labels","undefinedExports","create","skipLineComment","scopeStack","enterScope","regexpState","privateNameStack","prototypeAccessors","inFunction","inGenerator","inAsync","canAwait","allowSuper","allowDirectSuper","treatFunctionsAsVar","allowNewDotTarget","inClassStaticBlock","startNode","nextToken","parseTopLevel","currentVarScope","flags","inClassFieldInit","scope","currentThisScope","treatFunctionsAsVarInScope","currentScope","extend","plugins","cls","parseExpressionAt","parser","parseExpression","tokenizer","pp$9","literal","DestructuringErrors","shorthandAssign","trailingComma","parenthesizedAssign","parenthesizedBind","doubleProto","lastIndex","spaceAfter","charAt","eat","isContextual","eatContextual","expectContextual","unexpected","canInsertSemicolon","insertSemicolon","semicolon","afterTrailingComma","tokType","notNext","expect","raise","checkPatternErrors","refDestructuringErrors","raiseRecoverable","parens","checkExpressionErrors","andThrow","checkYieldAwaitInDefaultParams","isSimpleAssignTarget","expr","expression","pp$8","stmt","parseStatement","adaptDirectivePrologue","finishNode","loopLabel","kind","switchLabel","isLet","nextCh","ident","isAsyncFunction","after","topLevel","starttype","parseBreakContinueStatement","parseDebuggerStatement","parseDoStatement","parseForStatement","parseFunctionStatement","parseClass","parseIfStatement","parseReturnStatement","parseSwitchStatement","parseThrowStatement","parseTryStatement","parseVarStatement","parseWhileStatement","parseWithStatement","parseBlock","parseEmptyStatement","parseExpressionStatement","parseImport","parseExport","maybeName","parseLabeledStatement","isBreak","parseIdent","lab","parseParenExpression","awaitAt","parseFor","init$1","parseVar","declarations","await","parseForIn","startsWithLet","isForOf","init","toAssignable","checkLValPattern","isAsync","declarationPosition","parseFunction","FUNC_STATEMENT","FUNC_HANGING_STATEMENT","consequent","alternate","argument","discriminant","cases","sawDefault","isCase","exitScope","empty$1","handler","clause","param","parseBindingAtom","simple","finalizer","i$1","label$1","statementStart","createNewLexicalScope","exitStrict","isForIn","parseMaybeAssign","isFor","decl","parseVarId","FUNC_NULLABLE_ID","isPrivateNameConflicted","privateNameMap","curr","static","checkKeyName","computed","statement","allowExpressionBody","forInit","initFunction","checkLValSimple","oldYieldPos","oldAwaitPos","oldAwaitIdentPos","parseFunctionParams","parseFunctionBody","params","parseBindingList","isStatement","oldStrict","parseClassId","parseClassSuper","enterClassBody","classBody","hadConstructor","parseClassElement","superClass","exitClassBody","constructorAllowsSuper","keyName","isGenerator","parseClassStaticBlock","isClassElementNameStart","lastValue","startNodeAt","parseClassElementName","isConstructor","allowsDirectSuper","parseClassMethod","parseClassField","parsePrivateIdent","parsePropertyName","method","parseMethod","field","oldLabels","parseExprSubscripts","declared","used","exported","parseModuleExportName","checkExport","parseExprAtom","fNode","declaration","cNode","shouldParseExportStatement","checkVariableExport","specifiers","parseExportSpecifiers","spec","checkUnreserved","local","checkLocalExport","checkPatternExport","pat","properties","prop","list$1","elt","decls","nodes","first","parseImportSpecifiers","node$1","node$2","imported","stringLiteral","parseLiteral","statements","isDirectiveCandidate","directive","raw","pp$7","isBinding","toAssignableList","operator","exprList","last","parseSpread","parseRestBinding","parseObj","allowEmpty","allowTrailingComma","elts","parseBindingListItem","parseMaybeDefault","bindingType","checkClashes","isBind","declareName","checkLValInnerPattern","TokContext","isExpr","preserveSpace","override","types","b_stat","b_expr","b_tmpl","p_stat","p_expr","q_tmpl","tryReadTemplateToken","f_stat","f_expr","f_expr_gen","f_gen","pp$6","curContext","braceIsBlock","prevType","inGeneratorContext","overrideContext","tokenCtx","out","statementParens","allowed","pp$5","isPrivateFieldAccess","checkPropClash","propHash","shorthand","proto","other","expressions","afterLeftParse","parseYield","ownDestructuringErrors","oldParenAssign","oldTrailingComma","oldDoubleProto","parseMaybeConditional","parseExprOps","parseMaybeUnary","parseExprOp","leftStartPos","leftStartLoc","minPrec","logical","op","buildBinary","sawUnary","parseAwait","parseSubscripts","noCalls","maybeAsyncArrow","optionalChained","parseSubscript","optional","chainNode","optionalSupported","parseExprList","parseArrowExpression","callee","quasi","parseTemplate","isTagged","readRegexp","canBeArrow","regex","pattern","parseParenAndDistinguishExpression","parseNew","parseExprImport","meta","parseDynamicImport","parseImportMeta","errorPos","bigint","val","spreadStart","innerStartPos","innerStartLoc","lastIsComma","parseParenItem","innerEndPos","innerEndLoc","parseParenArrowList","finishNodeAt","par","empty","isImport","parseTemplateElement","cooked","tail","curElt","quasis","isAsyncProp","isPattern","parseProperty","parsePropertyValue","copyNode","paramCount","isArrowFunction","isMethod","isExpression","useStrict","checkParams","nonSimple","isSimpleParamList","allowDuplicates","nameHash","liberal","delegate","pp$4","SyntaxError","raisedAt","pp$3","Scope","var","lexical","functions","redeclared","scope$2","scope$3","pp$2","newNode","ecma9BinaryProperties","ecma10BinaryProperties","ecma12BinaryProperties","unicodeBinaryProperties","unicodeGeneralCategoryValues","ecma9ScriptValues","ecma10ScriptValues","ecma11ScriptValues","ecma12ScriptValues","unicodeScriptValues","buildUnicodeData","binary","nonBinary","General_Category","Script","Script_Extensions","gc","sc","scx","pp$1","RegExpValidationState","validFlags","unicodeProperties","switchU","switchN","lastIntValue","lastStringValue","lastAssertionIsQuantifiable","numCapturingParens","maxBackReference","groupNames","backReferenceNames","codePointToString$1","ch","isSyntaxCharacter","isRegExpIdentifierStart","isRegExpIdentifierPart","isControlLetter","isValidUnicode","isCharacterClassEscape","isUnicodePropertyNameCharacter","isUnicodePropertyValueCharacter","isDecimalDigit","isHexDigit","hexToInt","isOctalDigit","unicode","at","forceU","nextIndex","lookahead","advance","validateRegExpFlags","flag","validateRegExpPattern","regexp_pattern","regexp_disjunction","regexp_alternative","regexp_eatQuantifier","regexp_eatTerm","regexp_eatAssertion","regexp_eatAtom","regexp_eatExtendedAtom","lookbehind","noError","regexp_eatQuantifierPrefix","regexp_eatBracedQuantifier","regexp_eatDecimalDigits","regexp_eatPatternCharacters","regexp_eatReverseSolidusAtomEscape","regexp_eatCharacterClass","regexp_eatUncapturingGroup","regexp_eatCapturingGroup","regexp_eatAtomEscape","regexp_groupSpecifier","regexp_eatInvalidBracedQuantifier","regexp_eatExtendedPatternCharacter","regexp_eatSyntaxCharacter","regexp_eatGroupName","regexp_eatRegExpIdentifierName","regexp_eatRegExpIdentifierStart","regexp_eatRegExpIdentifierPart","regexp_eatRegExpUnicodeEscapeSequence","regexp_eatBackReference","regexp_eatCharacterClassEscape","regexp_eatCharacterEscape","regexp_eatKGroupName","regexp_eatDecimalEscape","regexp_eatControlEscape","regexp_eatCControlLetter","regexp_eatZero","regexp_eatHexEscapeSequence","regexp_eatLegacyOctalEscapeSequence","regexp_eatIdentityEscape","regexp_eatControlLetter","regexp_eatFixedHexDigits","lead","leadSurrogateEnd","trail","regexp_eatHexDigits","regexp_eatUnicodePropertyValueExpression","regexp_eatUnicodePropertyName","regexp_eatUnicodePropertyValue","regexp_validateUnicodePropertyNameAndValue","regexp_eatLoneUnicodePropertyNameOrValue","nameOrValue","regexp_validateUnicodePropertyNameOrValue","regexp_classRanges","regexp_eatClassAtom","regexp_eatClassEscape","ch$1","regexp_eatClassControlLetter","regexp_eatOctalDigit","n1","n2","Token","pp","stringToNumber","str","isLegacyOctalNumericLiteral","parseInt","stringToBigInt","BigInt","codePointToString","ignoreEscapeSequenceInKeyword","getToken","this$1$1","skipSpace","finishToken","readToken","fullCharCodeAtPos","readWord","getTokenFromCode","skipBlockComment","startSkip","loop","readToken_dot","readNumber","next2","readToken_slash","finishOp","readToken_mult_modulo_exp","tokentype","readToken_pipe_amp","readToken_caret","readToken_plus_min","readToken_lt_gt","readToken_eq_excl","readToken_question","readToken_numberSign","readWord1","readRadixNumber","readString","escaped","inClass","flagsStart","readInt","radix","maybeLegacyOctalNumericLiteral","allowSeparators","lastCode","Infinity","startsWithDot","octal","val$1","readCodePoint","codePos","readHexChar","invalidStringToken","quote","chunkStart","readEscapedChar","INVALID_TEMPLATE_ESCAPE_ERROR","inTemplateElement","readTmplToken","readInvalidTemplateToken","inTemplate","octalStr","substr","word","escStart","esc","version","acorn","tokTypes","keywordTypes","tokContexts","factory","chunkArray","results","calcValue","attrs","w","h","rx","ry","hasCurves","ellipse","cx","cy","r","poly","pointsArray","trim","toPathString","join","elementToPath","nodeAttrs","autoBom","status","MouseEvent","g","global","HTMLAnchorElement","location","saveAs","propIsEnumerable","propertyIsEnumerable","toObject","test1","getOwnPropertyNames","test2","test3","letter","shouldUseNative","Base","describe","define","bind","forIn","dst","each","desc","inject","dest","beans","preserve","beansNames","substring","bean","isFunc","res","prev","isPlainObject","part","statics","ctor","initialize","pick","begin","_id","_name","Formatter","number","getClassName","importJSON","exportJSON","toJSON","serialize","exclude","_prioritize","equals","obj1","obj2","read","amount","peek","__index","readIndex","_readIndex","readNull","__read","filtered","__filtered","remain","readList","readNamed","getNamed","hasValue","getSource","__unfiltered","readSupported","that","__source","hasNamed","prioritize","processed","handleKey","isPlainValue","dictionary","isRoot","formatter","precision","definitions","references","_serialize","_compactSerialize","deserialize","_data","_setDictionary","_isRoot","isFirst","hasDictionary","isDictionary","JSON","stringify","useTarget","Layer","itemsLength","startLength","append","_index","removed","capitalize","toUpperCase","camelize","chr","hyphenate","Emitter","_eventTypes","handlers","_callbacks","install","off","uninstall","emit","currentTarget","stop","responds","attach","detach","fire","_installEvents","_events","isString","PaperScope","paper","settings","applyMatrix","insertItems","handleSize","hitTolerance","project","projects","tools","_scopes","support","ctx","CanvasProvider","getContext","nativeDash","nativeBlendModes","BlendMode","nativeModes","release","agent","user","os","platform","browser","v1","v2","rv","chrome","versionNumber","trident","jsdom","webkit","atom","getView","_view","getPaper","execute","setup","Project","createCanvas","getCanvas","activate","clear","handleAttribute","attr","getAttribute","hasAttribute","PaperScopeItem","_scope","_list","_reference","isActive","CollisionDetection","findItemBoundsCollisions","items1","items2","tolerance","getBounds","bounds1","bounds2","findBoundsCollisions","findCurveBoundsCollisions","curves1","curves2","bothAxis","curves","hor","ver","boundsA","boundsB","sweepVertical","onlySweepAxisCollisions","allBounds","lengthA","lengthAll","binarySearch","indices","coord","lo","hi","mid","pri0","pri1","sec0","sec1","allIndicesByPri0","i1","i2","activeIndicesByPri1","allCollisions","curIndex","curBounds","origIndex","isCurrentA","isCurrentB","curCollisions","pruneCount","curSec1","curSec0","activeBounds","isActiveA","isActiveB","collisions","multiplier","pair","val1","val2","separator","rectangle","Numerical","abscissas","weights","log2","LOG2E","EPSILON","MACHINE_EPSILON","clamp","getDiscriminant","D","E","ad","bd","cd","q","getNormalizationFactor","norm","CURVETIME_EPSILON","GEOMETRIC_EPSILON","TRIGONOMETRIC_EPSILON","KAPPA","isZero","isMachineZero","integrate","A","B","sum","Ax","findRoot","df","fx","dx","nx","solveQuadratic","roots","Q","R","boundless","minB","maxB","isFinite","solveCubic","b1","c2","qd","evaluate","x0","tmp","t","td","rd","UID","_pools","pool","Point","arg0","arg1","reading","_set","setAngle","getLength","setLength","_angle","cos","getAngle","getAngleInRadians","PI","setAngleInRadians","getAngleInDegrees","setAngleInDegrees","div","acos","atan2","getQuadrant","getDirectedAngle","cross","squared","normalize","matrix","_transformPoint","divide","negate","Rectangle","isClose","isCollinear","isColinear","isOrthogonal","isNaN","isInQuadrant","point1","point2","random","LinkedPoint","owner","setter","_x","_y","_owner","_setter","_dontNotify","getX","setX","getY","setY","isSelected","_selection","_getSelection","setSelected","_changeSelection","Size","hasHeight","size1","size2","LinkedSize","_width","_height","getWidth","getHeight","arg2","arg3","frm","rt","getPoint","_dontLink","setPoint","getSize","_fw","_fh","sx","_sx","sy","_sy","getLeft","setLeft","getTop","setTop","getRight","setRight","getBottom","setBottom","getCenterX","setCenterX","getCenterY","setCenterY","getCenter","getArea","isEmpty","_containsRectangle","_containsPoint","epsilon","intersect","unite","include","expand","parts","xFirst","LinkedRectangle","internal","Matrix","ok","_tx","_ty","tx","ty","_changed","getValues","_applyMatrix","mx","recursively","_setApplyMatrix","isIdentity","translate","shear","skew","toRadians","tan","a1","d1","a2","b2","d2","tx2","ty2","prepend","tx1","ty1","appended","prepended","invert","det","inverted","concatenate","preConcatenate","chain","_shiftless","_orNullIfIdentity","isInvertible","isSingular","_transformCoordinates","_transformCorners","coords","_transformBounds","inverseTransform","_inverseTransform","decompose","degrees","asin","translation","getTranslation","rotation","scaling","skewing","getScaling","getRotation","applyToContext","Line","arg4","asVector","_px","_py","_vx","_vy","getVector","isInfinite","getSide","getSignedDistance","p1x","p1y","v1x","v1y","p2x","p2y","v2x","v2y","dy","u1","u2","uMin","uMax","px","py","vx","vy","ccw","_children","_namedChildren","_activeLayer","_currentStyle","Style","View","_selectionItems","_selectionCount","_updateVersion","view","_needsUpdate","_requested","_autoUpdate","requestUpdate","changes","_changes","changesById","_changesById","getCurrentStyle","setCurrentStyle","getIndex","getLayers","getActiveLayer","getSymbolDefinitions","ids","class","SymbolItem","definition","_definition","getSymbols","getSelectedItems","selectionItems","selection","isInserted","_updateSelection","selectAll","setFullySelected","deselectAll","addLayer","insertLayer","_remove","_setProject","setName","_insertItem","_created","NO_INSERT","insertChild","_getItems","removeOn","sets","_removeSets","pixelRatio","save","viewMatrix","matrices","updateMatrix","_drawSelection","_serializeFields","_canApplyMatrix","_canScaleStroke","_pivot","_visible","_blendMode","_opacity","_locked","_guide","_clipMask","_selectBounds","_selectChildren","pivot","blendMode","locked","guide","clipMask","_countItemEvent","onFrame","_animateItem","onLoad","onError","_itemHandlers","_initialize","hasProps","_matrix","_parent","_style","fields","fontSize","_defaults","symbol","_symbol","cacheParent","_project","_bounds","_position","_decomposed","_globalMatrix","_clearBoundsCache","getId","getName","_removeNamed","_getOwner","namedChildren","getStyle","setStyle","getSelection","setSelection","isFullySelected","isClipMask","setClipMask","setFillColor","setStrokeColor","getData","setData","getPosition","_getPositionFromBounds","setPosition","getPivot","setPivot","getStrokeBounds","getHandleBounds","handle","getInternalBounds","hasMatrix","_boundsOptions","getStrokeScaling","cacheItem","_getCachedBounds","setBounds","_backup","_getBounds","_updateBoundsCache","_getBoundsCacheKey","noInternal","cacheKey","cached","nonscaling","_getStrokeMatrix","_item","getViewMatrix","_boundsCache","_decompose","decomposed","setRotation","setScaling","getMatrix","setMatrix","getGlobalMatrix","_dontClone","parents","getApplyMatrix","setApplyMatrix","getTransformContent","setTransformContent","getProject","installEvents","getLayer","getParent","setParent","getChildren","setChildren","removeChildren","getFirstChild","getLastChild","getNextSibling","getPreviousSibling","_equals","copy","deep","copyAttributes","copyContent","insertAbove","orig","excludeMatrix","rasterize","resolution","raster","Raster","getResolution","topLeft","getTopLeft","getBottomRight","boundsSize","rasterSize","_contains","_asPathItem","Path","hitTest","_hitTest","HitResult","hitTestAll","hitTestChildren","_exclude","_hitTestChildren","parentViewMatrix","guides","tolerancePadding","_tolerancePadding","_getStrokePadding","checkSelf","hit","checkPoint","pt","checkPosition","checkCenter","checkBounds","_hitTestSelf","compare","matchObject","firstOnly","overlapping","inside","recursive","childMatrix","insertChildren","inserted","notifySelf","_insertAt","insertBelow","sendToBack","bringToFront","appendTop","appendBottom","moveAbove","moveBelow","addTo","copyTo","namedArray","notifyParent","_dispose","replaceWith","reverseChildren","reverse","numChildren","isEditable","hasShadow","_getOrder","getList","list1","list2","isAbove","isBelow","isParent","isChild","isDescendant","isAncestor","isSibling","isGroupedWith","_applyRecursively","transformMatrix","getFillColor","getStrokeColor","_transformContent","decomp","applyRecursively","globalToLocal","localToGlobal","parentToLocal","localToParent","fitBounds","itemRatio","rectRatio","newBounds","_setStyles","fillStyle","toCanvasStyle","strokeStyle","lineWidth","getStrokeWidth","getStrokeJoin","getStrokeCap","miterLimit","getMiterLimit","lineJoin","lineCap","getDashArray","dashOffset","getDashOffset","setLineDash","lineDashOffset","mozDash","mozDashOffset","blur","getShadowBlur","getShadowOffset","shadowColor","getShadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","parentStrokeMatrix","globalMatrix","mainCtx","itemOffset","prevOffset","normalBlend","nativeBlend","direct","dontStart","clip","_canComposite","strokeMatrix","clipItem","globalAlpha","globalCompositeOperation","setTransform","_draw","dontFinish","getFillRule","process","_isUpdated","updateVersion","CompoundPath","updated","itemSelected","boundsSelected","positionSelected","_drawSelected","color","getSelectedColor","half","beginPath","arc","deltas","delta","moveTo","lineTo","closePath","fillRect","tween","easing","duration","Tween","_handleFrame","time","running","tweenTo","tweenFrom","_clipItem","_getClipItem","isClipped","setClipped","clipped","Shape","radius","_type","_size","_radius","setRadius","getType","getShape","setShape","getRadius","rad","toShape","dontPaint","untransformed","isCircle","kappa","bezierCurveTo","getCornerCenter","halfSize","dir","corner","quadrant","isOnEllipseStroke","hitStroke","hitFill","strokeRadius","strokePadding","outer","inner","createShape","Circle","Ellipse","_readEllipse","crossOrigin","_smoothing","image","naturalHeight","setImage","setSource","_loaded","_image","_canvas","_setImage","copyCanvas","drawImage","_crossOrigin","_clear","getElement","getLoaded","getPpi","getImage","Event","DomEvent","load","complete","naturalWidth","_context","setCanvas","_change","setContext","toDataURL","Image","getCrossOrigin","setCrossOrigin","getSmoothing","setSmoothing","smoothing","getSubCanvas","getSubRaster","getAverageColor","PathItem","_sampleContext","clearRect","sampleSize","pixels","getImageData","channels","alpha","getPixel","setPixel","components","_convert","_alpha","imageData","createImageData","putImageData","setImageData","DomElement","setPrefixed","setDefinition","SymbolDefinition","getDefinition","getSymbol","setSymbol","dontCenter","_dontCenter","place","values","handles","ends","Segment","arg5","handleIn","handleOut","SegmentPoint","_point","hasHandles","_handleIn","_handleOut","_path","_curves","_closed","getHandleIn","setHandleIn","getHandleOut","setHandleOut","isSmooth","clearHandles","oldSelection","getPath","getCurve","_segments","getCurves","getLocation","CurveLocation","_segment1","getNext","smooth","_first","_last","factor","getPrevious","p0","p1","p2","k","d1_a","d1_2a","d2_a","d2_2a","N","isLast","reversed","removeSegment","interpolate","handleIn1","handleIn2","handleOut2","handleOut1","change","Curve","arg6","arg7","seg1","seg2","handle1","handle2","segment1","segment2","_segment2","getPoint1","getHandle1","getHandle2","getPoint2","_length","classify","setPoint1","setPoint2","setHandle1","setHandle2","getSegment1","getSegment2","getPoints","getLine","getPart","getPartLength","divideAt","divideAtTime","getTimeAt","_setHandles","subdivide","setHandles","splitAt","splitAtTime","getLocationAtTime","isTime","straight","h1","h2","y0","x3","y3","x4","y4","x5","y5","x6","y6","x7","y7","x8","y8","x9","y9","getMonoCurves","io","o0","o1","o2","o3","isStraight","v0","v3","getTimeOf","p3","geomEpsilon","getNearestTime","minDist","minT","refine","dist","isFlatEnough","flatness","ux","uy","_addBounds","minPad","maxPad","s1","s2","isLinear","third","hasLength","getTangentAtTime","getLocationAt","_isTime","getParameterAt","getTimesWithTangent","tangent","getOffsetAtTime","getLocationOf","getOffset","getParameterOf","getNearestLocation","methods","_evaluateMethods","getLengthIntegrand","ax","bx","ay","by","getIterations","normalized","tMin","tMax","d3","serpentine","t1","t2","hasRoots","t1Ok","t2Ok","f1","f2","ds","forward","rangeLength","diff","guess","getTangent","getWeightedTangent","getNormal","getWeightedNormal","getCurvature","getPeaks","addLocation","overlap","excludeStart","excludeEnd","loc1","loc2","_intersection","addCurveIntersections","recursion","calls","tMinClip","tMaxClip","q0x","q0y","q3x","q3y","dMin","dMax","dp0","dp1","dp2","dp3","hull","dq0","dq1","dq2","dq3","dist1","dist2","distRatio","getConvexHull","clipConvexHull","tMinNew","tMaxNew","uDiff","hullTop","hullBottom","clipConvexHullPart","threshold","qx","qy","getCurveLineIntersections","addCurveLineIntersections","addLineIntersection","getCurveIntersections","overlaps","getOverlaps","straight1","straight2","before","getSelfIntersection","getSquaredLineLength","straightBoth","l1","l2","pairs","matrix1","matrix2","_returnFirst","length1","length2","values1","values2","boundsCollisions","curve1","collisions1","curve2","den","times","t0","_overlap","_distance","_setCurve","_time","getPointAtTime","_previous","_setPath","_version","_curve","_segment","_setSegment","getSegment","getTime","trySegment","_curveOffset","getParameter","getCurveOffset","getIntersection","getLastSegment","_ignoreOther","isTouching","inter","isCrossing","t1Inside","t2Inside","c4","c3","addOffsets","isInRange","v4","a3","a4","hasOverlap","merge","search","found","path1","path2","expanded","compound","isClockwise","setClockwise","clockwise","setPathData","relative","getCoord","move","cubicCurveTo","quadraticCurveTo","arcTo","winding","_getWinding","onPath","windingL","windingR","getCrossings","minLoc","isPath","itemsFrom","itemsTo","setClosed","paths1","paths2","boundsOverlaps","pathBoundsOverlaps","closed","setSegments","_segmentSelection","_area","getSegments","fullySelected","_add","getFirstSegment","_countCurves","getFirstCurve","getLastCurve","isClosed","getPathData","_precision","curX","curY","prevX","prevY","inX","inY","outX","outY","addSegment","skipLine","segs","_adjustCurves","insertSegment","addSegments","insertSegments","removeSegments","_includeCurves","area","_selectSegments","newSelection","last1","last2","first2","first1","simplify","flatten","PathFlattener","PathFitter","fit","asymmetric","paddingLeft","knots","n_1","rf","hx","hy","topCenter","seg3","seg4","isArc","pt1","pt2","shape","pos2","end2","pos1","end1","start2","cap","numSegments","hitCurves","isCloseEnough","checkSegmentPoint","seg","anchor","checkSegmentPoints","addToArea","checkSegmentStroke","isJoin","_addBevelJoin","_addSquareCap","getOffsetsWithTangent","curveStart","curveTimes","drawSegments","drawSegment","dashLength","flattener","drawPart","pX","pY","miniSize","miniHalf","drawHandle","hX","hY","drawHandles","getCurrentSegment","moveBy","curveTo","through","extent","middle","large","rxSq","rySq","xSq","ySq","throughSide","centerSide","ext","inc","lineBy","curveBy","parameter","cubicCurveBy","quadraticCurveBy","arcBy","prevCoords","processSegment","joinBounds","addPoint","addRound","addJoin","addCap","phi","isArea","normal1","getNormalAtTime","normal2","joinPadding","joinRadius","SQRT2","paddingX","paddingY","xn","xx","yn","yx","ellipseSegments","createPath","createEllipse","bl","getBottomLeft","tl","tr","getTopRight","br","RoundRectangle","Oval","Arc","RegularPolygon","sides","three","Star","radius1","radius2","paths","getCurrentPath","operators","getPaths","preparePath","resolveCrossings","reorient","createResult","filterIntersection","traceBoolean","operation","trace","splitBoolean","_path1","_path2","crossings","divideLocations","collectPaths","_overlapsOnly","curvesValues","curveCollisions","curveCollisionsMap","propagateWinding","_winding","tracePaths","reorientPaths","added","addPath","linkIntersections","clearCurveHandles","sorted","entry1","containerWinding","getInteriorPoint","entry2","clearLater","renormalizeLocs","prevCurve","prevTime","clearCurves","clearLookup","origTime","newCurve","getWinding","dontFlip","vPrev","vClose","curvesList","ia","pv","pa","po","qualityEpsilon","paL","paR","pathWindingL","pathWindingR","onAnyPath","quality","addWinding","a0","windingPrev","a3Prev","handleCurve","monoCurves","totalLength","curveLength","operand","SQRT1_2","wind","pathWinding","starts","isValid","_visited","isStart","visitPath","getCrossingSegments","collectStarts","collect","nextInter","inter1","inter2","over1","over2","branch","valid","finished","branches","hasOverlaps","hasCrossings","intersections","nonZero","intercepts","mv","mo0","mo3","maxRecursion","ignoreStraight","minSpan","addCurve","computeParts","halves","tMid","_get","fitCubic","tan1","tan2","uPrime","chordLengthParameterize","maxError","parametersInOrder","generateBezier","findMaxError","reparameterize","tanCenter","C","X","b0","b3","alpha1","alpha2","detC0C1","detC0X","c0","segLength","eps","degree","maxDist","TextItem","content","_content","_lines","setContent","getContent","getCharacterStyle","setCharacterStyle","getParagraphStyle","setParagraphStyle","PointText","leading","getLeading","getFontStyle","getJustification","fillText","strokeText","numLines","justification","getTextWidth","colorCtx","gray","rgb","hsb","hsl","gradient","componentParsers","namedColors","transparent","fromCSS","isHSL","turn","grad","hsbIndices","converters","achromatic","t3s","t3","_components","Gradient","_removeOwner","_addOwner","_properties","argType","converted","parsers","stops","radial","getComponents","_canvasStyle","converter","convert","getAlpha","setAlpha","hasAlpha","isGradient","toCSS","canvasGradient","_stops","origin","destination","highlight","inverse","_radial","createRadialGradient","createLinearGradient","addColorStop","_color","_types","_setOwner","components1","components2","setStops","setRadial","_owners","getStops","GradientStop","getRadial","stops1","stops2","rampPoint","setColor","setOffset","getRampPoint","setRampPoint","getColor","itemDefaults","shadowOffset","selectedColor","groupDefaults","fontFamily","fontWeight","textDefaults","_values","isColor","isPoint","applyToChildren","old","_dontMerge","childValue","Font","WindingRule","isStyle","style1","style2","secondary","defaults2","value1","value2","getFontSize","getFontWeight","getFontFamily","getFont","setFont","getPixelSize","handlePrefix","prefixes","suffix","getStyles","doc","nodeType","getViewportBounds","innerWidth","innerHeight","isInvisible","isInView","getPrefixed","targetTouches","changedTouches","pageX","pageY","getTarget","srcElement","getRelatedTarget","relatedTarget","nativeRequest","requested","callbacks","handleCallbacks","setInterval","getCanvasSize","_viewEvents","none","userDrag","userSelect","touchCallout","contentZooming","tapHighlightColor","_windowEvents","setViewSize","Stats","_stats","stats","domElement","appendChild","_element","_pixelRatio","_setElementSize","_viewSize","_views","_viewsById","_focused","_frameItems","_frameItemCount","_itemEvents","native","virtual","_animate","play","pause","_count","getAutoUpdate","setAutoUpdate","autoUpdate","now","Date","animate","_handleFrameItems","getPixelRatio","getViewSize","isVisible","removeChild","getZoom","setZoom","scrollBy","projectToView","viewToProject","getEventPoint","CanvasView","prevFocus","tempFocus","mousedown","mousemove","mouseup","dragging","mouseDown","pointerEnabled","msPointerEnabled","viewEvents","docEvents","mouseout","handleMouseMove","updateFocus","_handleMouseEvent","lastPoint","downItem","overItem","dragItem","clickItem","clickTime","dblClick","prevented","fallbacks","doubleclick","wasInView","itemEventsMap","mouseenter","mouseleave","itemEvents","hitItems","nativeMove","tool","inView","hitItem","mouse","emitMouseEvent","drag","emitMouseEvents","down","up","cancelable","_handleKeyEvent","character","keyEvent","KeyEvent","sign","_resetState","prevPoint","stopItem","mouseEvent","stopped","fallback","HTMLCanvasElement","deviceRatio","backingStoreRatio","firefox","prevFont","measureText","getTimeStamp","timeStamp","getModifiers","Key","metaFixMap","downKey","keyLookup","charLookup","keyMap","charMap","capsLock","space","option","mac","getKey","keyIdentifier","keyCode","keydown","altKey","metaKey","keypress","charCode","keyup","isDown","ToolEvent","_choosePoint","toolPoint","getLastPoint","_lastPoint","setLastPoint","getDownPoint","_downPoint","setDownPoint","getMiddlePoint","_middlePoint","setMiddlePoint","middlePoint","getDelta","_delta","setDelta","getCount","setCount","_moveCount","_downCount","getMinDistance","_minDistance","setMinDistance","minDistance","_maxDistance","getMaxDistance","setMaxDistance","maxDistance","getFixedDistance","setFixedDistance","easings","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","_then","_startTime","_keys","_parsedKeys","_parseKeys","_from","_getState","_to","progress","getValue","__add","__subtract","__multiply","_setProperty","startTime","_getProperty","resolved","_resolveValue","_calculate","parsed","PaperScript","calculateBinary","Http","xhr","XMLHttpRequest","url","mimeType","overrideMimeType","responseText","onerror","send","canvases","sr","sg","sb","sa","bg","bb","ba","dr","dg","db","getLum","setLum","mn","lmn","ln","mxl","getSat","setSat","md","modes","screen","overlay","darken","lighten","difference","exclusion","luminosity","average","negation","srcContext","dstContext","srcCanvas","dstData","SvgElement","xlink","attributeNamespace","href","namespace","setAttributeNS","createElementNS","getAttributeNS","SvgStyles","true","false","toSVG","fromSVG","exportFilter","getTransform","coordinates","trans","exportGroup","childNode","exportShape","exporters","embedImages","matchShapes","definitionItem","textContent","applyStyle","gradientNode","getGradient","getOrigin","getDestination","getHighlight","fy","gradientUnits","stopColor","exportGradient","visibility","svgs","__id","typeId","exportDefinitions","defs","insertBefore","firstChild","XMLSerializer","serializeToString","exporter","onExport","rootSize","allowNull","allowPercent","defaultValue","defaultX","defaultY","convertValue","importGroup","childNodes","isClip","isDefs","currentStyle","applyAttributes","querySelectorAll","importNode","importPoly","importGradient","scaleToBounds","_scaleToBounds","importers","clippath","polygon","polyline","lineargradient","radialgradient","use","circle","applyTransform","transforms","applyOpacity","gradientTransform","setVisible","percent","group","nextSibling","importer","onImport","importSVG","DOMParser","parseFromString","File","PlacedSymbol","Tool","mod","inputLen","inpt","initTokenState","lastStart","lastEnd","tokPos","lastEndLoc","line_loc_t","_eof","isUseStrict","setStrict","strictSemicolons","allowTrailingCommas","forbidReserved","tokStart","tokEnd","tokStartLoc","tokEndLoc","tokVal","tokRegexpAllowed","tokCurLine","tokLineStart","tokenize","forceRegexp","jumpTo","reAllowed","_num","_regexp","_string","atomValue","_bracketL","_bracketR","_braceL","_braceR","_parenL","_parenR","_comma","_semi","_colon","_dot","_question","_slash","_eq","_assign","_incDec","isUpdate","_prefix","_logicalOR","_logicalAND","_bitwiseOR","_bitwiseXOR","_bitwiseAND","_equality","_relational","_bitShift","_plusMin","_multiplyModulo","makePredicate","cats","compareTo","cat","isReservedWord3","isReservedWord5","isStrictReservedWord","isStrictBadIdWord","isKeyword","newline","readHexNumber","tok","mods","isFloat","escStr","strct","node_t","node_loc_t","startNodeFrom","checkLVal","guard","guardedHandlers","allowStrict","noIn","noComma","tokStartLoc1","tokStart1","sawGetSet","isGetSet","conflict","oldInFunc","binaryOperators","unaryOperators","__self","__$__","$__","compile","insertions","insertion","getCode","replaceCode","handleOverloading","between","getBetween","parentType","sourceMaps","paperFeatures","offsetCode","lineBreaks","getElementsByTagName","innerHTML","mappings","encodeVLQ","safari","file","names","sourceRoot","sources","sourcesContent","operatorOverloading","moduleExports","walkAST","dec","specifier","handleExports","btoa","unescape","encodeURIComponent","toolHandlers","compiled","expose","script","head","createTextNode","__paperscript__","setOnResize","setOnFrame","loadScript","canvasId","scopeAttribute","baseURI","loadAll","readyState","calculateUnary","aa","ca","da","ea","fa","ha","ja","ka","acceptsBooleans","attributeName","mustUseProperty","propertyName","sanitizeURL","removeEmptyString","oa","qa","ma","na","la","xlinkHref","ra","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ta","ua","wa","xa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","for","Ma","Ka","La","Na","stack","Oa","Pa","prepareStackTrace","Reflect","construct","Qa","Ra","$$typeof","_payload","_init","Sa","Ta","Va","_valueTracker","stopTracking","Ua","Wa","Xa","Ya","defaultChecked","_wrapperState","initialChecked","Za","initialValue","controlled","$a","ab","eb","Children","fb","defaultSelected","gb","dangerouslySetInnerHTML","hb","ib","jb","kb","lb","mb","nb","ob","namespaceURI","valueOf","MSApp","execUnsafeLocalFunction","pb","lastChild","nodeValue","qb","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","lineClamp","lineHeight","orphans","tabSize","widows","zIndex","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","rb","tb","setProperty","ub","menuitem","embed","hr","img","keygen","link","track","wbr","vb","wb","is","xb","correspondingUseElement","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","Ob","Pb","Qb","Rb","Sb","Tb","Ub","Vb","Wb","Xb","Zb","return","$b","memoizedState","dehydrated","ac","cc","sibling","bc","dc","ec","fc","hc","ic","jc","kc","lc","mc","nc","oc","qc","rc","blockedOn","domEventName","eventSystemFlags","nativeEvent","targetContainers","delete","pointerId","tc","vc","wc","lanePriority","unstable_runWithPriority","priority","hydrate","containerInfo","xc","yc","zc","Ac","Bc","unstable_scheduleCallback","unstable_NormalPriority","Cc","Dc","Ec","animationend","animationiteration","animationstart","transitionend","Fc","Gc","Hc","animation","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Pc","Qc","unstable_now","Rc","Uc","pendingLanes","expiredLanes","suspendedLanes","pingedLanes","Vc","entangledLanes","entanglements","Wc","Xc","Yc","Zc","$c","eventTimes","clz32","LN2","dd","unstable_UserBlockingPriority","ed","fd","gd","hd","uc","jd","kd","ld","nd","od","pd","_reactName","_targetInst","isDefaultPrevented","defaultPrevented","isPropagationStopped","cancelBubble","persist","isPersistent","wd","xd","yd","sd","eventPhase","bubbles","isTrusted","ud","vd","Ad","screenX","screenY","getModifierState","zd","buttons","fromElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","Id","clipboardData","Jd","Ld","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Apps","Scroll","MozPrintableKey","Nd","Od","Alt","Control","Meta","Shift","Pd","Qd","repeat","locale","which","Rd","Td","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","Vd","touches","Xd","Yd","deltaX","wheelDeltaX","wheelDeltaY","wheelDelta","deltaZ","deltaMode","Zd","$d","ae","be","documentMode","ce","de","ee","fe","ge","he","ie","le","date","datetime","email","month","password","tel","week","me","ne","oe","listeners","pe","qe","re","se","te","ue","ve","we","xe","ye","ze","oninput","Ae","detachEvent","Be","Ce","attachEvent","De","Ee","Fe","He","Ie","Je","Ke","Le","Me","compareDocumentPosition","Ne","HTMLIFrameElement","contentWindow","Oe","contentEditable","Pe","Qe","Re","Se","Te","Ue","selectionStart","selectionEnd","anchorNode","anchorOffset","focusNode","focusOffset","Ve","We","Xe","Ye","Ze","Yb","G","$e","af","bf","cf","capture","Nb","ef","ff","parentWindow","gf","hf","J","K","L","je","char","ke","jf","kf","lf","mf","autoFocus","nf","__html","of","pf","qf","sf","previousSibling","tf","vf","wf","xf","yf","zf","Af","Bf","H","I","Cf","M","Df","Ef","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Ff","childContextTypes","Gf","Hf","If","getChildContext","Jf","__reactInternalMemoizedMergedChildContext","Kf","Lf","Mf","Nf","Of","Pf","unstable_cancelCallback","Qf","unstable_shouldYield","Rf","unstable_requestPaint","Sf","Tf","unstable_getCurrentPriorityLevel","Uf","unstable_ImmediatePriority","Vf","Wf","Xf","unstable_LowPriority","Yf","unstable_IdlePriority","Zf","$f","ag","cg","O","eg","fg","gg","hg","ig","jg","kg","ReactCurrentBatchConfig","lg","defaultProps","mg","ng","og","pg","qg","rg","_currentValue","childLanes","tg","dependencies","firstContext","lanes","ug","vg","observedBits","responders","wg","xg","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","shared","effects","yg","zg","eventTime","lane","payload","Ag","Bg","Cg","Dg","Eg","Fg","Gg","Kg","isMounted","_reactInternals","enqueueSetState","Hg","Ig","Jg","enqueueReplaceState","enqueueForceUpdate","Lg","shouldComponentUpdate","isPureReactComponent","Mg","contextType","updater","Ng","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Og","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","Pg","Qg","_stringRef","Rg","Sg","lastEffect","nextEffect","firstEffect","Tg","Ug","elementType","Vg","implementation","Wg","Xg","Yg","Zg","$g","ah","bh","dh","eh","fh","gh","hh","P","ih","memoizedProps","revealOrder","jh","kh","lh","mh","nh","oh","pendingProps","ph","qh","rh","sh","th","uh","_workInProgressVersionPrimary","vh","ReactCurrentDispatcher","wh","xh","T","yh","zh","Ah","Bh","Ch","Dh","Eh","Fh","Gh","Hh","baseQueue","queue","Ih","Jh","Kh","lastRenderedReducer","eagerReducer","eagerState","lastRenderedState","Lh","Mh","_getVersion","_source","mutableReadLanes","Nh","U","getSnapshot","subscribe","setSnapshot","Oh","Ph","Qh","Rh","deps","Sh","Th","Uh","Vh","Wh","Xh","Yh","Zh","$h","ai","bi","ci","di","readContext","useImperativeHandle","useLayoutEffect","useDebugValue","useDeferredValue","useTransition","useMutableSource","useOpaqueIdentifier","unstable_isNewReconciler","uf","ei","ReactCurrentOwner","fi","gi","ii","ji","ki","li","mi","baseLanes","ni","oi","pi","UNSAFE_componentWillUpdate","componentWillUpdate","qi","getDerivedStateFromError","ri","pendingContext","Bi","Di","Ei","si","retryLane","ti","unstable_avoidThisFallback","ui","unstable_expectedLoadTime","vi","wi","xi","yi","zi","isBackwards","rendering","renderingStartTime","tailMode","Ai","Fi","Gi","wasMultiple","multiple","onclick","V","Hi","Ii","W","Ji","Ki","Li","Mi","Ni","Oi","WeakMap","Pi","Qi","Ri","Si","componentDidCatch","Ti","componentStack","Ui","WeakSet","Vi","Wi","Xi","__reactInternalSnapshotBeforeUpdate","Yi","Zi","$i","aj","bj","onCommitFiberUnmount","componentWillUnmount","cj","dj","ej","fj","gj","hj","_reactRootContainer","ij","jj","kj","lj","mj","nj","oj","pj","Y","qj","rj","sj","tj","uj","vj","wj","ck","Z","xj","yj","zj","Aj","Bj","Cj","Dj","Ej","Fj","Gj","Hj","Ij","Jj","Sc","Kj","Lj","Mj","callbackNode","expirationTimes","callbackPriority","Tc","Nj","Oj","Pj","Qj","Rj","Sj","Tj","finishedWork","finishedLanes","Uj","timeoutHandle","Wj","Xj","pingCache","Yj","Zj","va","ak","bk","dk","rangeCount","focusedElem","selectionRange","ek","createRange","setStart","removeAllRanges","addRange","setEnd","onCommitFiberRoot","fk","gk","ik","isReactComponent","pendingChildren","jk","mutableSourceEagerHydrationData","kk","lk","mk","nk","qk","hydrationOptions","mutableSources","_internalRoot","rk","tk","sk","uk","hk","_calculateChangedBits","unstable_observedBits","form","Vj","vk","Events","wk","findFiberByHostInstance","bundleType","rendererPackageName","xk","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","__REACT_DEVTOOLS_GLOBAL_HOOK__","yk","isDisabled","supportsFiber","findDOMNode","flushSync","unmountComponentAtNode","unstable_batchedUpdates","unstable_createPortal","unstable_renderSubtreeIntoContainer","checkDCE","hasElementType","hasMap","hasSet","hasArrayBuffer","ArrayBuffer","isView","equal","storage","react_1","initialState","setStateAction","jsx","jsxs","StrictMode","Profiler","Suspense","escape","_status","_result","default","IsSomeRendererActing","toArray","only","PureComponent","_currentValue2","_threadCount","Provider","Consumer","createFactory","lazy","memo","runtime","Op","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","_invoke","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isGeneratorFunction","genFun","mark","setPrototypeOf","__proto__","awrap","skipTempReset","rootRecord","rval","exception","caught","hasCatch","hasFinally","finallyEntry","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","performance","MessageChannel","unstable_forceFrameRate","port2","port1","onmessage","postMessage","sortIndex","expirationTime","priorityLevel","unstable_Profiling","unstable_continueExecution","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","delay","unstable_wrapCallback","isobject$1","isObjectObject","prot","toString$2","isarray","isobject","hasValues","noZero","toString$1","unsetValue","omitDeep","isBuffer_1","isBuffer","isSlowBuffer","_isBuffer","readFloatLE","kindOf","createCommonjsModule","renameKeys","rename","deepRenameKeys","renameDeep","eventemitter3","EE","EventEmitter","_eventsCount","exists","evt","available","a5","removeListener","removeAllListeners","addListener","setMaxListeners","prefixed","cdata","tagBegin","tagEnd","attributeNameStart","attributeNameEnd","attributeValueBegin","attributeValue","Action","lt","gt","Type$1","openTag","closeTag","charToAction","getAction","create$1","_State$data","_State$tagBegin","_State$tagName","_State$tagEnd","_State$attributeNameS","_State$attributeName","_State$attributeNameE","_State$attributeValue","_State$attributeValue2","_lexer$stateMachine","debug","lexer","attrName","attrValue","isClosing","openingQuote","stateMachine","actions","write","Type","NodeType","createNode","stream","parentNodes","doneEvent","tagPrefix","emitTopLevelOnly","lexer$1","handleLexerData","parseSync","xml","ast","reader_1","parseInput","removeAttrs","notCamelcase","toCamelCase","escapeText","escapeAttr","svgsonSync","_ref$transformNode","transformNode","_ref$camelcase","camelcase","applyFilters","svgson","_ast","_ref$transformAttr","transformAttr","_ref$selfClose","selfClose","attrStr","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","chunkId","promises","miniCssF","inProgress","dataWebpackPrefix","needAttach","scripts","charset","timeout","onScriptComplete","doneFns","installedChunks","installedChunkData","promise","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","chunkLoadingGlobal"],"sourceRoot":""}